import{S as Ue,b as Ke,a as Je,G as pe,H as he,q as re,k as J,u as m,f as be,I as ue,n as _e,m as we,w as rr,p as Te,x as nr,J as p1,c as nt,d as ut,N as h1,O as m1,P as D1,j as $e,g as Ie,Q as ct,C as Et,D as St,E as yt,F as vt,M as Ct,r as fs,L as xu,V as R3,v as hr,z as au,h as cu,B as E1,W as VC,X as UC,Y as KC,y as du,Z as lu,e as Wt,_ as Em,R as fo,A as Xs,$ as q3,a0 as y1,a1 as BT,a2 as IT}from"../chunks/index.a8e850eb.mjs";import{e as Wr,s as ds,d as cr,r as pu,p as k0,f as _2,g as v1,h as PT,b as JC,n as Ws,u as ym,i as HC,l as kT,j as Dl,k as w2,m as T2,o as Hl,q as is,t as OT,v as NT,w as x3,a as RT}from"../chunks/view.3ea5bfc7.mjs";import{b as vm}from"../chunks/paths.75a8223a.mjs";import{T as yc}from"../chunks/TabsMenu.47612653.mjs";import{S as qT}from"../chunks/SearchIcon.131321e7.mjs";import{S as xT}from"../chunks/ScrolledContent.44de2948.mjs";import{N as MT}from"../chunks/Navbar.78102b83.mjs";import{T as WC}from"../chunks/TextAppearanceIcon.e8ae5cde.mjs";function jT(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","m12 15-5-5h10Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function LT(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class zC extends Ue{constructor(e){super(),Ke(this,e,LT,jT,Je,{color:0})}}function GT(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M2.5 18V6l9 6Zm10 0V6l9 6Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function VT(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class UT extends Ue{constructor(e){super(),Ke(this,e,VT,GT,Je,{color:0})}}function KT(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M7 15V9h4l5-5v16l-5-5Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function JT(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class HT extends Ue{constructor(e){super(),Ke(this,e,JT,KT,Je,{color:0})}}function WT(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M13 19V5h6v14Zm-8 0V5h6v14Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function zT(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class QT extends Ue{constructor(e){super(),Ke(this,e,zT,WT,Je,{color:0,size:1})}}function YT(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","m380 756 280-180-280-180v360Zm100 220q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height",t[1]),m(e,"viewBox","0 96 960 960"),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function XT(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class ZT extends Ue{constructor(e){super(),Ke(this,e,XT,YT,Je,{color:0,size:1})}}function e$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M8 19V5l11 7Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function t$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class r$ extends Ue{constructor(e){super(),Ke(this,e,t$,e$,Je,{color:0,size:1})}}function n$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,viewBox:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","m380 756 280-180-280-180v360Zm100 220q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height",t[1]),m(e,"viewBox","0 96 960 960"),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function u$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class s$ extends Ue{constructor(e){super(),Ke(this,e,u$,n$,Je,{color:0,size:1})}}function i$(t){let e,r,n,u;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),u=pe("path"),this.h()},l(s){e=he(s,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var i=re(e);r=he(i,"path",{d:!0}),re(r).forEach(J),n=he(i,"path",{d:!0}),re(n).forEach(J),u=he(i,"path",{d:!0}),re(u).forEach(J),i.forEach(J),this.h()},h(){m(r,"d","M 77.88 1.38 L 92.26 15.51 A 1.31 1.29 44.7 0 1 92.28 17.35 L 77.74 32.01 Q 76.84 32.92 76.85 31.61 L 76.96 20.94 A 0.97 0.92 0.3 0 0 75.99 20.01 L 16.69 20.18 A 0.54 0.51 0.5 0 0 16.15 20.68 L 16.04 29.31 A 0.58 0.48 -89.4 0 1 15.56 29.88 L 9.68 29.87 A 0.56 0.51 -90.0 0 1 9.17 29.31 L 9.02 13.86 A 0.88 0.85 -0.3 0 1 9.90 13.00 L 76.34 13.00 A 0.66 0.66 87.7 0 0 77.00 12.34 L 77.00 1.74 Q 77.00 0.51 77.88 1.38 Z"),m(n,"d","M 39.78 31.49 Q 47.06 36.69 54.11 41.63 Q 58.66 44.82 63.83 48.52 A 0.62 0.62 -44.5 0 1 63.82 49.53 L 39.82 66.49 Q 39.00 67.07 39.00 66.07 L 39.00 31.89 Q 39.00 30.93 39.78 31.49 Z"),m(u,"d","M 19.09 64.10 L 19.00 74.67 A 1.32 1.32 -89.8 0 0 20.32 76.00 L 79.31 75.82 A 0.55 0.51 0.0 0 0 79.86 75.31 L 79.86 66.56 A 0.53 0.43 -89.5 0 1 80.30 66.03 L 86.32 66.14 A 0.55 0.52 -89.5 0 1 86.83 66.69 L 86.98 82.14 A 0.88 0.85 -0.3 0 1 86.10 83.00 L 20.15 83.06 A 1.18 1.15 -89.7 0 0 19.00 84.23 L 18.95 94.24 Q 18.94 95.27 18.21 94.55 L 3.49 79.99 A 0.81 0.78 -45.3 0 1 3.50 78.87 L 18.51 63.86 Q 19.09 63.27 19.09 64.10 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill",t[0]),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height","24"),m(e,"width","24")},m(s,i){be(s,e,i),ue(e,r),ue(e,n),ue(e,u)},p(s,[i]){i&1&&m(e,"fill",s[0])},i:_e,o:_e,d(s){s&&J(e)}}}function o$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class a$ extends Ue{constructor(e){super(),Ke(this,e,o$,i$,Je,{color:0})}}function c$(t){let e,r,n,u;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),u=pe("path"),this.h()},l(s){e=he(s,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var i=re(e);r=he(i,"path",{d:!0}),re(r).forEach(J),n=he(i,"path",{d:!0}),re(n).forEach(J),u=he(i,"path",{d:!0}),re(u).forEach(J),i.forEach(J),this.h()},h(){m(r,"d","M 68.59 8.58 L 83.27 23.15 A 1.11 1.11 42.4 0 1 83.28 24.72 Q 79.86 28.25 76.06 31.81 Q 72.46 35.67 68.67 39.34 Q 68.27 39.73 68.26 39.19 L 68.06 28.95 A 0.96 0.90 89.7 0 0 67.16 28.00 L 28.67 28.00 A 0.67 0.67 0.0 0 0 28.00 28.67 L 28.00 43.34 A 0.66 0.66 3.8 0 1 27.34 44.00 L 20.67 44.00 A 0.67 0.67 45.0 0 1 20.00 43.33 L 20.00 20.68 A 0.68 0.68 45.0 0 1 20.68 20.00 L 67.35 20.00 A 0.68 0.66 -89.6 0 0 68.01 19.33 L 68.06 8.80 Q 68.07 8.07 68.59 8.58 Z"),m(n,"d","M 50.12 35.93 A 1.53 1.52 -5.8 0 1 51.95 37.41 L 52.00 59.00 A 0.88 0.79 -89.7 0 1 51.20 59.88 L 46.73 59.85 A 0.61 0.52 89.9 0 1 46.22 59.25 L 46.04 45.40 A 1.39 1.35 1.1 0 0 44.73 44.07 L 40.94 43.87 A 0.83 0.83 -9.6 0 1 40.22 43.36 Q 39.67 42.05 40.11 40.78 Q 40.46 39.78 41.75 39.03 Q 45.52 36.83 50.12 35.93 Z"),m(u,"d","M 68.78 52.01 L 75.43 52.05 A 0.52 0.51 0.0 0 1 75.95 52.56 L 75.83 75.31 A 0.53 0.52 0.6 0 1 75.30 75.82 L 28.91 75.99 A 0.86 0.84 -0.0 0 0 28.05 76.83 L 28.00 86.65 Q 28.00 88.10 26.96 87.06 L 12.71 72.74 A 1.04 0.98 45.2 0 1 12.67 71.31 L 27.57 56.63 Q 28.00 56.21 28.00 56.82 L 28.00 67.33 A 0.67 0.67 0.0 0 0 28.67 68.00 L 67.33 68.00 A 0.67 0.67 0.0 0 0 68.00 67.33 L 68.00 52.80 A 0.79 0.78 90.0 0 1 68.78 52.01 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill",t[0]),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height","24"),m(e,"width","24")},m(s,i){be(s,e,i),ue(e,r),ue(e,n),ue(e,u)},p(s,[i]){i&1&&m(e,"fill",s[0])},i:_e,o:_e,d(s){s&&J(e)}}}function l$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class f$ extends Ue{constructor(e){super(),Ke(this,e,l$,c$,Je,{color:0})}}function d$(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{d:!0}),re(r).forEach(J),n=he(s,"path",{d:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"d","M 68.59 8.58 L 83.28 23.15 A 1.12 1.11 -45.2 0 1 83.28 24.72 Q 79.87 28.25 76.06 31.81 Q 72.47 35.68 68.67 39.34 Q 68.27 39.73 68.26 39.19 L 68.06 28.95 A 0.96 0.90 89.7 0 0 67.16 28.00 L 28.67 28.00 A 0.67 0.67 0.0 0 0 28.00 28.67 L 28.00 43.34 A 0.66 0.66 3.8 0 1 27.34 44.00 L 20.67 44.00 A 0.67 0.67 45.0 0 1 20.00 43.33 L 20.00 20.68 A 0.68 0.68 45.0 0 1 20.68 20.00 L 67.35 20.00 A 0.68 0.66 -89.6 0 0 68.01 19.33 L 68.06 8.80 Q 68.07 8.07 68.59 8.58 Z"),m(n,"d","M 68.78 52.01 L 75.43 52.05 A 0.52 0.51 0.0 0 1 75.95 52.56 L 75.83 75.31 A 0.53 0.52 0.6 0 1 75.30 75.82 L 28.91 75.99 A 0.86 0.84 -0.0 0 0 28.05 76.83 L 28.00 86.65 Q 28.00 88.10 26.96 87.06 L 12.71 72.74 A 1.04 0.98 45.2 0 1 12.67 71.31 L 27.57 56.63 Q 28.00 56.21 28.00 56.82 L 28.00 67.33 A 0.67 0.67 0.0 0 0 28.67 68.00 L 67.33 68.00 A 0.67 0.67 0.0 0 0 68.00 67.33 L 68.00 52.80 A 0.79 0.78 90.0 0 1 68.78 52.01 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill",t[0]),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height","24"),m(e,"width","24")},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(e,"fill",u[0])},i:_e,o:_e,d(u){u&&J(e)}}}function p$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class h$ extends Ue{constructor(e){super(),Ke(this,e,p$,d$,Je,{color:0})}}function m$(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{d:!0}),re(r).forEach(J),n=he(s,"path",{d:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"d","M 64.97 12.96 L 79.37 27.25 A 0.91 0.90 -46.4 0 1 79.39 28.51 Q 74.61 33.74 69.06 38.81 Q 66.94 41.14 64.68 43.34 Q 64.30 43.70 64.28 43.20 L 63.82 32.68 A 0.52 0.52 88.9 0 0 63.30 32.18 L 16.93 32.01 A 0.90 0.82 0.6 0 1 16.03 31.17 L 16.14 24.68 A 0.56 0.51 0.5 0 1 16.70 24.18 L 63.09 24.01 A 0.86 0.84 -0.0 0 0 63.95 23.17 L 64.00 13.38 Q 64.00 12.00 64.97 12.96 Z"),m(n,"d","M 66.99 55.07 Q 73.46 61.07 79.51 67.51 A 0.72 0.71 46.2 0 1 79.50 68.50 L 64.67 83.34 Q 64.28 83.73 64.26 83.19 L 64.00 72.92 A 0.94 0.88 89.3 0 0 63.12 72.00 L 16.81 71.94 A 0.60 0.60 -5.2 0 1 16.22 71.45 Q 15.62 68.00 16.22 64.55 A 0.63 0.59 3.8 0 1 16.82 64.06 L 63.31 63.82 A 0.55 0.54 -87.7 0 0 63.85 63.31 Q 64.26 58.31 64.00 56.00 Q 63.40 50.58 65.78 53.69 Q 66.45 54.56 66.99 55.07 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill",t[0]),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height","24"),m(e,"width","24")},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(e,"fill",u[0])},i:_e,o:_e,d(u){u&&J(e)}}}function D$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class E$ extends Ue{constructor(e){super(),Ke(this,e,D$,m$,Je,{color:0})}}function y$(t){let e,r,n,u;return{c(){e=pe("svg"),r=pe("rect"),n=pe("path"),u=pe("path"),this.h()},l(s){e=he(s,"svg",{xmlns:!0,fill:!0,version:!0,viewBox:!0,height:!0,width:!0});var i=re(e);r=he(i,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(i,"path",{d:!0}),re(n).forEach(J),u=he(i,"path",{d:!0}),re(u).forEach(J),i.forEach(J),this.h()},h(){m(r,"x","-4.00"),m(r,"y","-39.00"),m(r,"width","8.00"),m(r,"height","78.00"),m(r,"rx","0.50"),m(r,"transform","translate(84.00,48.00) rotate(0.0)"),m(n,"d","M 57.15 13.04 L 71.35 27.45 A 0.63 0.63 39.3 0 1 71.43 28.23 Q 70.08 30.31 68.06 31.81 Q 62.51 37.72 56.68 43.34 Q 56.30 43.70 56.28 43.20 L 55.82 32.68 A 0.52 0.52 88.9 0 0 55.30 32.18 L 8.93 32.01 A 0.90 0.82 0.6 0 1 8.03 31.17 L 8.14 24.68 A 0.56 0.51 0.5 0 1 8.70 24.18 L 55.09 24.01 A 0.86 0.85 0.3 0 0 55.95 23.17 L 56.00 13.53 Q 56.01 11.88 57.15 13.04 Z"),m(u,"d","M 56.76 52.95 L 71.31 67.19 A 1.07 1.05 -45.0 0 1 71.30 68.70 L 56.67 83.34 Q 56.27 83.74 56.26 83.19 L 56.06 73.04 A 1.06 0.99 89.4 0 0 55.07 72.00 L 8.68 72.00 A 0.67 0.66 0.4 0 1 8.01 71.33 L 8.05 64.73 A 0.77 0.74 -0.4 0 1 8.81 63.99 L 55.32 63.82 A 0.53 0.50 -88.8 0 0 55.82 63.31 L 56.21 53.17 Q 56.24 52.45 56.76 52.95 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill",t[0]),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height","24"),m(e,"width","24")},m(s,i){be(s,e,i),ue(e,r),ue(e,n),ue(e,u)},p(s,[i]){i&1&&m(e,"fill",s[0])},i:_e,o:_e,d(s){s&&J(e)}}}function v$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class g$ extends Ue{constructor(e){super(),Ke(this,e,v$,y$,Je,{color:0})}}function A$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","m21.5 18-9-6 9-6Zm-10 0-9-6 9-6Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function S$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class F$ extends Ue{constructor(e){super(),Ke(this,e,S$,A$,Je,{color:0})}}function b$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M16.5 18V6h2v12Zm-11 0V6l9 6Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function C$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class _$ extends Ue{constructor(e){super(),Ke(this,e,C$,b$,Je,{color:0})}}function w$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M5.5 18V6h2v12Zm13 0-9-6 9-6Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function T$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class $$ extends Ue{constructor(e){super(),Ke(this,e,T$,w$,Je,{color:0})}}function B$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M14 20.725v-2.05q2.25-.65 3.625-2.5t1.375-4.2q0-2.35-1.375-4.2T14 5.275v-2.05q3.1.7 5.05 3.137Q21 8.8 21 11.975q0 3.175-1.95 5.612-1.95 2.438-5.05 3.138ZM3 15V9h4l5-5v16l-5-5Zm11 1V7.95q1.175.55 1.838 1.65.662 1.1.662 2.4 0 1.275-.662 2.362Q15.175 15.45 14 16Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function I$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class P$ extends Ue{constructor(e){super(),Ke(this,e,I$,B$,Je,{color:0})}}function k$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{fill:!0,xmlns:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"d","M10.45 15.5q.6.6 1.55.587.95-.012 1.4-.687L19 7l-8.4 5.6q-.675.45-.712 1.375-.038.925.562 1.525ZM12 4q1.475 0 2.838.412Q16.2 4.825 17.4 5.65l-1.9 1.2q-.825-.425-1.712-.637Q12.9 6 12 6 8.675 6 6.338 8.337 4 10.675 4 14q0 1.05.287 2.075Q4.575 17.1 5.1 18h13.8q.575-.95.838-1.975Q20 15 20 13.9q0-.9-.212-1.75-.213-.85-.638-1.65l1.2-1.9q.75 1.175 1.188 2.5.437 1.325.462 2.75.025 1.425-.325 2.725-.35 1.3-1.025 2.475-.275.45-.75.7-.475.25-1 .25H5.1q-.525 0-1-.25t-.75-.7q-.65-1.125-1-2.387Q2 15.4 2 14q0-2.075.788-3.888.787-1.812 2.15-3.175Q6.3 5.575 8.125 4.787 9.95 4 12 4Zm.175 7.825Z"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"height","24"),m(e,"width","24")},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(e,"fill",n[0])},i:_e,o:_e,d(n){n&&J(e)}}}function O$(t,e,r){let{color:n="black"}=e;return t.$$set=u=>{"color"in u&&r(0,n=u.color)},[n]}class N$ extends Ue{constructor(e){super(),Ke(this,e,O$,k$,Je,{color:0})}}const xr={Mute:HT,Volume:P$,Pause:QT,PlayFillCircle:ZT,Play:r$,PlayOutlineCircle:s$,PlayRepeat:a$,FF:UT,RW:F$,Skip:_$,Prev:$$,RepeatOne:f$,Repeat:h$,RepeatOff:E$,RepeatOffStop:g$,Speed:N$};function R$(t){let e,r,n,u,s,i,o,a,c,l,f,d,p,h,v,S,D,g,F,I,k,B,O,M,y;return{c(){e=pe("svg"),r=pe("circle"),n=pe("circle"),u=pe("circle"),s=pe("circle"),i=pe("circle"),o=pe("circle"),a=pe("circle"),c=pe("circle"),l=pe("circle"),f=pe("circle"),d=pe("circle"),p=pe("circle"),h=pe("circle"),v=pe("circle"),S=pe("circle"),D=pe("circle"),g=pe("circle"),F=pe("circle"),I=pe("circle"),k=pe("circle"),B=pe("circle"),O=pe("circle"),M=pe("circle"),y=pe("circle"),this.h()},l(P){e=he(P,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var L=re(e);r=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(r).forEach(J),n=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(n).forEach(J),u=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(u).forEach(J),s=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(s).forEach(J),i=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(i).forEach(J),o=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(o).forEach(J),a=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(a).forEach(J),c=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(c).forEach(J),l=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(l).forEach(J),f=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(f).forEach(J),d=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(d).forEach(J),p=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(p).forEach(J),h=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(h).forEach(J),v=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(v).forEach(J),S=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(S).forEach(J),D=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(D).forEach(J),g=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(g).forEach(J),F=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(F).forEach(J),I=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(I).forEach(J),k=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(k).forEach(J),B=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(B).forEach(J),O=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(O).forEach(J),M=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(M).forEach(J),y=he(L,"circle",{fill:!0,cx:!0,cy:!0,r:!0}),re(y).forEach(J),L.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"cx","39.95"),m(r,"cy","12.08"),m(r,"r","1.88"),m(n,"fill",t[0]),m(n,"cx","55.95"),m(n,"cy","12.08"),m(n,"r","1.88"),m(u,"fill",t[0]),m(u,"cx","23.93"),m(u,"cy","24.07"),m(u,"r","3.92"),m(s,"fill",t[0]),m(s,"cx","39.93"),m(s,"cy","24.07"),m(s,"r","3.91"),m(i,"fill",t[0]),m(i,"cx","55.93"),m(i,"cy","24.08"),m(i,"r","3.91"),m(o,"fill",t[0]),m(o,"cx","71.93"),m(o,"cy","24.07"),m(o,"r","3.92"),m(a,"fill",t[0]),m(a,"cx","39.92"),m(a,"cy","40.07"),m(a,"r","5.90"),m(c,"fill",t[0]),m(c,"cx","55.92"),m(c,"cy","40.07"),m(c,"r","5.91"),m(l,"fill",t[0]),m(l,"cx","23.93"),m(l,"cy","40.08"),m(l,"r","3.91"),m(f,"fill",t[0]),m(f,"cx","71.94"),m(f,"cy","40.07"),m(f,"r","3.91"),m(d,"fill",t[0]),m(d,"cx","11.94"),m(d,"cy","40.08"),m(d,"r","1.87"),m(p,"fill",t[0]),m(p,"cx","83.94"),m(p,"cy","40.08"),m(p,"r","1.87"),m(h,"fill",t[0]),m(h,"cx","39.92"),m(h,"cy","56.07"),m(h,"r","5.90"),m(v,"fill",t[0]),m(v,"cx","55.92"),m(v,"cy","56.07"),m(v,"r","5.90"),m(S,"fill",t[0]),m(S,"cx","23.93"),m(S,"cy","56.08"),m(S,"r","3.91"),m(D,"fill",t[0]),m(D,"cx","71.94"),m(D,"cy","56.07"),m(D,"r","3.91"),m(g,"fill",t[0]),m(g,"cx","11.94"),m(g,"cy","56.08"),m(g,"r","1.87"),m(F,"fill",t[0]),m(F,"cx","83.95"),m(F,"cy","56.08"),m(F,"r","1.88"),m(I,"fill",t[0]),m(I,"cx","23.94"),m(I,"cy","72.07"),m(I,"r","3.91"),m(k,"fill",t[0]),m(k,"cx","39.93"),m(k,"cy","72.08"),m(k,"r","3.91"),m(B,"fill",t[0]),m(B,"cx","55.93"),m(B,"cy","72.08"),m(B,"r","3.92"),m(O,"fill",t[0]),m(O,"cx","71.93"),m(O,"cy","72.07"),m(O,"r","3.92"),m(M,"fill",t[0]),m(M,"cx","39.94"),m(M,"cy","84.08"),m(M,"r","1.87"),m(y,"fill",t[0]),m(y,"cx","55.95"),m(y,"cy","84.08"),m(y,"r","1.88"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(P,L){be(P,e,L),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i),ue(e,o),ue(e,a),ue(e,c),ue(e,l),ue(e,f),ue(e,d),ue(e,p),ue(e,h),ue(e,v),ue(e,S),ue(e,D),ue(e,g),ue(e,F),ue(e,I),ue(e,k),ue(e,B),ue(e,O),ue(e,M),ue(e,y)},p(P,[L]){L&1&&m(r,"fill",P[0]),L&1&&m(n,"fill",P[0]),L&1&&m(u,"fill",P[0]),L&1&&m(s,"fill",P[0]),L&1&&m(i,"fill",P[0]),L&1&&m(o,"fill",P[0]),L&1&&m(a,"fill",P[0]),L&1&&m(c,"fill",P[0]),L&1&&m(l,"fill",P[0]),L&1&&m(f,"fill",P[0]),L&1&&m(d,"fill",P[0]),L&1&&m(p,"fill",P[0]),L&1&&m(h,"fill",P[0]),L&1&&m(v,"fill",P[0]),L&1&&m(S,"fill",P[0]),L&1&&m(D,"fill",P[0]),L&1&&m(g,"fill",P[0]),L&1&&m(F,"fill",P[0]),L&1&&m(I,"fill",P[0]),L&1&&m(k,"fill",P[0]),L&1&&m(B,"fill",P[0]),L&1&&m(O,"fill",P[0]),L&1&&m(M,"fill",P[0]),L&1&&m(y,"fill",P[0]),L&2&&m(e,"height",P[1]),L&2&&m(e,"width",P[1])},i:_e,o:_e,d(P){P&&J(e)}}}function q$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class x$ extends Ue{constructor(e){super(),Ke(this,e,q$,R$,Je,{color:0,size:1})}}function M$(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("circle"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(s,"circle",{fill:!0,"fill-opacity":!0,cx:!0,cy:!0,r:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 48.51 3.27 L 60.65 15.41 A 1.24 1.17 66.4 0 0 61.50 15.77 L 79.43 15.99 A 0.57 0.56 0.0 0 1 80.00 16.55 L 80.00 34.04 A 1.72 1.68 23.2 0 0 80.49 35.23 L 92.56 47.44 A 1.00 0.99 -44.8 0 1 92.55 48.84 L 80.59 60.66 A 2.01 1.97 68.2 0 0 80.00 62.08 L 80.00 79.34 A 0.66 0.66 -45.0 0 1 79.34 80.00 L 62.22 80.00 A 1.99 1.94 22.0 0 0 60.83 80.57 L 48.75 92.64 A 1.06 1.04 -44.8 0 1 47.27 92.65 L 35.22 80.59 A 2.03 2.01 -22.3 0 0 33.79 80.00 L 16.66 80.00 A 0.66 0.66 -3.8 0 1 16.00 79.34 L 16.00 62.45 A 3.50 3.15 24.4 0 0 14.96 60.08 L 3.23 48.57 A 0.83 0.81 -45.2 0 1 3.24 47.39 L 15.36 35.26 A 2.18 2.14 68.1 0 0 16.00 33.72 L 16.00 16.66 A 0.66 0.66 -45.0 0 1 16.66 16.00 L 33.81 16.00 A 2.39 2.30 -66.9 0 0 35.48 15.29 L 47.38 3.26 A 0.80 0.79 45.0 0 1 48.51 3.27 Z M 71.95 48.00 A 23.95 23.95 0 0 0 48.00 24.05 A 23.95 23.95 0 0 0 24.05 48.00 A 23.95 23.95 0 0 0 48.00 71.95 A 23.95 23.95 0 0 0 71.95 48.00 Z"),m(n,"fill",t[0]),m(n,"fill-opacity","0.000"),m(n,"cx","48.00"),m(n,"cy","48.00"),m(n,"r","23.95"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(r,"fill",u[0]),s&1&&m(n,"fill",u[0]),s&2&&m(e,"height",u[1]),s&2&&m(e,"width",u[1])},i:_e,o:_e,d(u){u&&J(e)}}}function j$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class L$ extends Ue{constructor(e){super(),Ke(this,e,j$,M$,Je,{color:0,size:1})}}function G$(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 65.95 36.00 A 29.95 29.95 0 0 1 36.00 65.95 A 29.95 29.95 0 0 1 6.05 36.00 A 29.95 29.95 0 0 1 36.00 6.05 A 29.95 29.95 0 0 1 65.95 36.00 Z M 44.02 13.54 Q 40.89 12.26 36.98 11.96 A 0.91 0.91 2.0 0 0 36.00 12.87 L 36.00 58.69 A 1.48 1.48 -5.3 0 0 37.75 60.14 Q 52.02 57.47 57.30 46.68 Q 61.76 37.58 58.55 28.06 Q 55.19 18.08 44.02 13.54 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 72 72"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function V$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class U$ extends Ue{constructor(e){super(),Ke(this,e,V$,G$,Je,{color:0,size:1})}}function K$(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(s,"path",{fill:!0,d:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 9.75 10.00 L 43.45 10.00 A 0.56 0.55 90.0 0 1 44.00 10.56 L 44.08 19.99 A 0.51 0.50 -90.0 0 1 43.58 20.50 L 22.80 20.56 A 0.53 0.52 0.6 0 0 22.27 21.07 L 22.03 35.26 A 1.05 0.98 0.6 0 0 23.07 36.25 L 42.07 36.42 A 0.54 0.53 0.0 0 1 42.60 36.94 L 42.71 46.27 A 0.75 0.72 -0.4 0 1 41.96 47.00 L 22.95 46.93 A 0.92 0.90 0.0 0 0 22.02 47.84 L 22.17 69.86 A 1.13 1.10 89.7 0 1 21.07 71.00 L 10.18 71.00 A 0.93 0.93 89.4 0 1 9.25 70.07 L 9.25 10.50 A 0.50 0.50 -45.0 0 1 9.75 10.00 Z"),m(n,"fill",t[0]),m(n,"d","M 84.76 23.75 Q 86.71 24.87 87.00 27.25 Q 87.25 29.28 85.85 30.46 Q 84.70 31.42 82.94 31.21 Q 79.04 30.73 81.00 26.25 Q 82.45 22.95 79.56 24.56 Q 78.51 25.15 77.52 25.85 Q 76.56 26.53 75.86 27.53 Q 72.22 32.70 70.91 38.94 A 0.55 0.43 -83.0 0 0 71.30 39.59 L 74.53 39.63 A 0.76 0.65 1.2 0 1 75.28 40.30 Q 75.12 44.56 71.40 43.73 Q 69.56 43.32 69.16 45.16 Q 66.02 59.74 60.94 74.19 Q 59.22 79.06 54.49 82.97 Q 49.84 86.82 43.76 86.19 Q 41.33 85.94 40.22 84.23 Q 39.12 82.57 40.24 80.79 Q 41.91 78.13 45.69 79.56 Q 48.08 80.47 46.19 83.69 Q 45.73 84.46 46.32 84.64 Q 46.63 84.73 47.02 84.50 Q 50.65 82.41 52.00 77.25 Q 56.11 61.53 60.29 44.58 A 0.68 0.68 -78.8 0 0 59.73 43.74 Q 58.45 43.55 56.91 43.96 A 0.56 0.51 -3.1 0 1 56.21 43.39 L 56.85 40.26 A 0.77 0.54 3.3 0 1 57.56 39.82 Q 61.39 39.77 63.19 35.94 Q 65.01 32.07 69.19 27.69 Q 73.80 22.85 81.00 22.95 Q 83.42 22.98 84.76 23.75 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(r,"fill",u[0]),s&1&&m(n,"fill",u[0]),s&2&&m(e,"height",u[1]),s&2&&m(e,"width",u[1])},i:_e,o:_e,d(u){u&&J(e)}}}function J$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class H$ extends Ue{constructor(e){super(),Ke(this,e,J$,K$,Je,{color:0,size:1})}}function W$(t){let e,r,n,u,s,i;return{c(){e=pe("svg"),r=pe("rect"),n=pe("rect"),u=pe("rect"),s=pe("rect"),i=pe("rect"),this.h()},l(o){e=he(o,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var a=re(e);r=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(i).forEach(J),a.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"x","-36.00"),m(r,"y","-4.00"),m(r,"width","72.00"),m(r,"height","8.00"),m(r,"rx","0.58"),m(r,"transform","translate(48.00,16.00) rotate(0.0)"),m(n,"fill",t[0]),m(n,"x","-20.00"),m(n,"y","-4.00"),m(n,"width","40.00"),m(n,"height","8.00"),m(n,"rx","0.75"),m(n,"transform","translate(47.99,32.00) rotate(0.0)"),m(u,"fill",t[0]),m(u,"x","-36.00"),m(u,"y","-4.00"),m(u,"width","72.00"),m(u,"height","8.00"),m(u,"rx","0.68"),m(u,"transform","translate(47.99,48.00) rotate(0.0)"),m(s,"fill",t[0]),m(s,"x","-20.00"),m(s,"y","-4.00"),m(s,"width","40.00"),m(s,"height","8.00"),m(s,"rx","0.70"),m(s,"transform","translate(47.99,64.00) rotate(0.0)"),m(i,"fill",t[0]),m(i,"x","-36.00"),m(i,"y","-4.00"),m(i,"width","72.00"),m(i,"height","8.00"),m(i,"rx","0.68"),m(i,"transform","translate(47.99,80.00) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(o,a){be(o,e,a),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i)},p(o,[a]){a&1&&m(r,"fill",o[0]),a&1&&m(n,"fill",o[0]),a&1&&m(u,"fill",o[0]),a&1&&m(s,"fill",o[0]),a&1&&m(i,"fill",o[0]),a&2&&m(e,"height",o[1]),a&2&&m(e,"width",o[1])},i:_e,o:_e,d(o){o&&J(e)}}}function z$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class Q$ extends Ue{constructor(e){super(),Ke(this,e,z$,W$,Je,{color:0,size:1})}}function Y$(t){let e,r,n,u,s,i;return{c(){e=pe("svg"),r=pe("rect"),n=pe("rect"),u=pe("rect"),s=pe("rect"),i=pe("rect"),this.h()},l(o){e=he(o,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var a=re(e);r=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(i).forEach(J),a.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"x","-36.00"),m(r,"y","-4.00"),m(r,"width","72.00"),m(r,"height","8.00"),m(r,"rx","0.50"),m(r,"transform","translate(48.00,16.00) rotate(0.0)"),m(n,"fill",t[0]),m(n,"x","-24.00"),m(n,"y","-4.00"),m(n,"width","48.00"),m(n,"height","8.00"),m(n,"rx","0.52"),m(n,"transform","translate(36.00,32.00) rotate(0.0)"),m(u,"fill",t[0]),m(u,"x","-36.00"),m(u,"y","-4.00"),m(u,"width","72.00"),m(u,"height","8.00"),m(u,"rx","0.58"),m(u,"transform","translate(48.00,48.00) rotate(0.0)"),m(s,"fill",t[0]),m(s,"x","-24.00"),m(s,"y","-4.00"),m(s,"width","48.00"),m(s,"height","8.00"),m(s,"rx","0.70"),m(s,"transform","translate(35.99,64.00) rotate(0.0)"),m(i,"fill",t[0]),m(i,"x","-36.00"),m(i,"y","-4.00"),m(i,"width","72.00"),m(i,"height","8.00"),m(i,"rx","0.68"),m(i,"transform","translate(47.99,80.00) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(o,a){be(o,e,a),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i)},p(o,[a]){a&1&&m(r,"fill",o[0]),a&1&&m(n,"fill",o[0]),a&1&&m(u,"fill",o[0]),a&1&&m(s,"fill",o[0]),a&1&&m(i,"fill",o[0]),a&2&&m(e,"height",o[1]),a&2&&m(e,"width",o[1])},i:_e,o:_e,d(o){o&&J(e)}}}function X$(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class Z$ extends Ue{constructor(e){super(),Ke(this,e,X$,Y$,Je,{color:0,size:1})}}function eB(t){let e,r,n,u,s,i;return{c(){e=pe("svg"),r=pe("rect"),n=pe("rect"),u=pe("rect"),s=pe("rect"),i=pe("rect"),this.h()},l(o){e=he(o,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var a=re(e);r=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(a,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(i).forEach(J),a.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"x","-36.00"),m(r,"y","-4.00"),m(r,"width","72.00"),m(r,"height","8.00"),m(r,"rx","0.50"),m(r,"transform","translate(48.00,16.00) rotate(0.0)"),m(n,"fill",t[0]),m(n,"x","-24.00"),m(n,"y","-4.00"),m(n,"width","48.00"),m(n,"height","8.00"),m(n,"rx","0.52"),m(n,"transform","translate(60.00,32.00) rotate(0.0)"),m(u,"fill",t[0]),m(u,"x","-36.00"),m(u,"y","-4.00"),m(u,"width","72.00"),m(u,"height","8.00"),m(u,"rx","0.58"),m(u,"transform","translate(48.00,48.00) rotate(0.0)"),m(s,"fill",t[0]),m(s,"x","-24.00"),m(s,"y","-4.00"),m(s,"width","48.00"),m(s,"height","8.00"),m(s,"rx","0.60"),m(s,"transform","translate(60.00,64.00) rotate(0.0)"),m(i,"fill",t[0]),m(i,"x","-36.00"),m(i,"y","-4.00"),m(i,"width","72.00"),m(i,"height","8.00"),m(i,"rx","0.50"),m(i,"transform","translate(48.00,80.00) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(o,a){be(o,e,a),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i)},p(o,[a]){a&1&&m(r,"fill",o[0]),a&1&&m(n,"fill",o[0]),a&1&&m(u,"fill",o[0]),a&1&&m(s,"fill",o[0]),a&1&&m(i,"fill",o[0]),a&2&&m(e,"height",o[1]),a&2&&m(e,"width",o[1])},i:_e,o:_e,d(o){o&&J(e)}}}function tB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class rB extends Ue{constructor(e){super(),Ke(this,e,tB,eB,Je,{color:0,size:1})}}function nB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 28.66 16.00 Q 40.37 16.00 51.75 15.95 Q 60.99 15.91 65.66 22.30 Q 69.13 27.04 68.88 32.41 Q 68.61 38.35 63.19 42.54 Q 61.97 43.49 63.48 43.84 Q 65.23 44.25 66.85 46.16 Q 70.32 50.22 70.84 55.19 Q 71.33 59.93 68.91 64.35 Q 65.66 70.30 59.04 71.65 Q 57.34 72.00 47.44 72.00 Q 38.15 72.00 28.66 72.00 A 0.66 0.66 -3.8 0 1 28.00 71.34 L 28.00 16.66 A 0.66 0.66 -45.0 0 1 28.66 16.00 Z M 54.96 26.87 Q 53.60 26.00 52.00 26.00 L 40.76 26.00 A 0.76 0.76 -89.0 0 0 40.00 26.76 L 40.00 37.19 A 0.81 0.81 45.0 0 0 40.81 38.00 Q 46.17 38.00 50.74 38.00 Q 53.33 38.00 54.64 37.33 Q 56.64 36.31 57.48 34.24 Q 58.31 32.20 57.67 30.23 Q 56.99 28.18 54.96 26.87 Z M 59.56 58.06 Q 61.01 53.75 57.97 51.50 Q 56.20 50.19 52.33 50.07 Q 46.97 49.89 40.99 50.02 A 1.02 1.01 89.4 0 0 40.00 51.04 L 40.00 61.13 A 0.87 0.87 0.0 0 0 40.87 62.00 Q 45.51 62.00 49.80 62.00 Q 54.91 62.00 55.19 61.95 Q 58.45 61.38 59.56 58.06 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function uB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class sB extends Ue{constructor(e){super(),Ke(this,e,uB,nB,Je,{color:0,size:1})}}function iB(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(s,"path",{fill:!0,d:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 30.96 0.46 Q 48.67 18.20 66.06 35.69 Q 68.79 38.43 67.76 41.53 Q 67.23 43.13 64.50 45.90 Q 44.04 66.67 42.94 67.19 Q 38.78 69.15 35.31 65.69 Q 14.56 44.94 14.56 44.94 Q 11.60 42.41 12.11 39.22 Q 12.43 37.20 15.07 34.56 Q 24.10 25.52 33.48 16.14 A 1.43 1.43 -48.8 0 0 33.34 13.99 Q 31.73 12.76 30.44 11.06 Q 27.52 8.81 25.29 5.89 A 0.58 0.55 -41.4 0 1 25.36 5.15 L 30.03 0.46 A 0.66 0.66 -44.7 0 1 30.96 0.46 Z M 58.54 39.42 L 40.68 21.56 A 0.98 0.97 -44.8 0 0 39.31 21.56 L 21.74 39.03 Q 20.75 40.00 22.13 40.00 L 58.33 39.94 Q 59.06 39.94 58.54 39.42 Z"),m(n,"fill",t[0]),m(n,"d","M 76.51 46.63 Q 79.96 50.55 82.40 55.08 Q 86.70 63.05 79.44 67.19 Q 75.83 69.24 71.79 66.42 Q 65.97 62.36 69.29 55.77 Q 71.82 50.75 75.51 46.62 A 0.67 0.66 45.3 0 1 76.51 46.63 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(r,"fill",u[0]),s&1&&m(n,"fill",u[0]),s&2&&m(e,"height",u[1]),s&2&&m(e,"width",u[1])},i:_e,o:_e,d(u){u&&J(e)}}}function oB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class aB extends Ue{constructor(e){super(),Ke(this,e,oB,iB,Je,{color:0,size:1})}}function cB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 40.67 16.00 L 71.43 16.06 A 0.53 0.51 -0.0 0 1 71.96 16.57 L 71.84 27.31 A 0.54 0.54 -0.5 0 1 71.31 27.85 L 61.79 27.96 A 1.43 1.33 10.2 0 0 60.51 28.78 L 47.51 59.22 A 0.39 0.35 -77.1 0 0 47.81 59.76 L 55.27 59.95 A 0.75 0.69 0.9 0 1 56.00 60.64 L 56.00 71.34 A 0.66 0.66 -45.0 0 1 55.34 72.00 L 24.67 72.00 A 0.67 0.67 45.0 0 1 24.00 71.33 L 24.00 60.66 A 0.66 0.66 3.8 0 1 24.66 60.00 L 34.25 60.00 A 1.26 1.23 11.3 0 0 35.40 59.25 L 48.50 28.52 A 0.34 0.34 -78.5 0 0 48.19 28.05 L 40.67 28.00 A 0.67 0.66 -0.0 0 1 40.00 27.34 L 40.00 16.67 A 0.67 0.67 -45.0 0 1 40.67 16.00 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function lB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class fB extends Ue{constructor(e){super(),Ke(this,e,lB,cB,Je,{color:0,size:1})}}function dB(t){let e,r,n,u,s;return{c(){e=pe("svg"),r=pe("path"),n=pe("rect"),u=pe("rect"),s=pe("rect"),this.h()},l(i){e=he(i,"svg",{fill:!0,xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var o=re(e);r=he(o,"path",{d:!0}),re(r).forEach(J),n=he(o,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(o,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(o,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),o.forEach(J),this.h()},h(){m(r,"d","M 20.51 14.62 L 33.11 27.13 Q 33.99 28.00 32.76 28.00 L 24.67 28.00 A 0.67 0.67 0.0 0 0 24.00 28.67 L 24.00 67.34 A 0.66 0.66 -2.3 0 0 24.66 68.00 L 32.61 68.00 Q 34.12 68.00 33.06 69.07 L 20.66 81.47 A 0.93 0.93 -90.0 0 1 19.34 81.47 L 7.06 69.19 Q 5.88 68.01 7.56 68.00 L 15.33 67.95 A 0.68 0.68 -0.4 0 0 16.00 67.27 L 15.94 28.81 A 0.57 0.51 -89.5 0 0 15.44 28.24 L 7.96 28.05 Q 6.05 28.00 7.36 26.68 L 19.35 14.63 A 0.83 0.82 -45.2 0 1 20.51 14.62 Z"),m(n,"x","-24.00"),m(n,"y","-4.00"),m(n,"width","48.00"),m(n,"height","8.00"),m(n,"rx","0.52"),m(n,"transform","translate(64.00,24.00) rotate(0.0)"),m(u,"x","-24.00"),m(u,"y","-4.00"),m(u,"width","48.00"),m(u,"height","8.00"),m(u,"rx","0.70"),m(u,"transform","translate(63.99,48.00) rotate(0.0)"),m(s,"x","-24.00"),m(s,"y","-4.00"),m(s,"width","48.00"),m(s,"height","8.00"),m(s,"rx","0.70"),m(s,"transform","translate(63.99,72.00) rotate(0.0)"),m(e,"fill",t[0]),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(i,o){be(i,e,o),ue(e,r),ue(e,n),ue(e,u),ue(e,s)},p(i,[o]){o&1&&m(e,"fill",i[0]),o&2&&m(e,"height",i[1]),o&2&&m(e,"width",i[1])},i:_e,o:_e,d(i){i&&J(e)}}}function pB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class hB extends Ue{constructor(e){super(),Ke(this,e,pB,dB,Je,{color:0,size:1})}}function mB(t){let e,r,n;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),this.h()},l(u){e=he(u,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var s=re(e);r=he(s,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(s,"path",{fill:!0,d:!0}),re(n).forEach(J),s.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 87.9583 63.9258 A 8.13 8.13 0 0 1 79.8141 72.0416 L 32.0742 71.9583 A 8.13 8.13 0 0 1 23.9584 63.8141 L 24.0417 16.0742 A 8.13 8.13 0 0 1 32.1859 7.9584 L 79.9258 8.0417 A 8.13 8.13 0 0 1 88.0416 16.1859 L 87.9583 63.9258 Z M 51.91 58.12 L 44.86 49.06 A 1.10 1.05 44.7 0 0 43.16 49.03 L 32.52 63.19 Q 31.91 64.00 32.92 64.00 L 79.02 64.00 Q 80.13 64.00 79.43 63.13 L 64.86 44.97 A 1.14 1.14 0.0 0 0 63.08 44.97 L 52.57 58.12 A 0.42 0.41 -44.3 0 1 51.91 58.12 Z"),m(n,"fill",t[0]),m(n,"d","M 8.67 24.01 L 15.44 24.05 A 0.51 0.50 90.0 0 1 15.94 24.56 L 16.00 79.23 A 0.71 0.71 -0.6 0 0 16.71 79.94 L 71.44 80.00 A 0.56 0.56 0.0 0 1 72.00 80.56 L 72.00 87.31 A 0.69 0.69 -45.0 0 1 71.31 88.00 Q 45.54 88.00 20.26 88.00 Q 14.42 88.00 12.37 87.08 Q 8.00 85.12 8.00 79.25 Q 8.00 52.00 8.00 24.68 A 0.67 0.66 -89.6 0 1 8.67 24.01 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(u,s){be(u,e,s),ue(e,r),ue(e,n)},p(u,[s]){s&1&&m(r,"fill",u[0]),s&1&&m(n,"fill",u[0]),s&2&&m(e,"height",u[1]),s&2&&m(e,"width",u[1])},i:_e,o:_e,d(u){u&&J(e)}}}function DB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class EB extends Ue{constructor(e){super(),Ke(this,e,DB,mB,Je,{color:0,size:1})}}function yB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 84.00 75.87 A 8.13 8.13 0 0 1 75.87 84.00 L 20.13 84.00 A 8.13 8.13 0 0 1 12.00 75.87 L 12.00 20.13 A 8.13 8.13 0 0 1 20.13 12.00 L 75.87 12.00 A 8.13 8.13 0 0 1 84.00 20.13 L 84.00 75.87 Z M 33.49 54.74 L 20.54 71.19 Q 19.91 72.00 20.94 72.00 L 75.11 72.00 Q 76.09 72.00 75.49 71.22 L 58.59 48.80 A 0.74 0.74 45.4 0 0 57.42 48.79 L 44.85 64.93 A 1.15 1.15 44.2 0 1 43.05 64.95 L 34.61 54.72 A 0.72 0.72 -45.9 0 0 33.49 54.74 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function vB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class gB extends Ue{constructor(e){super(),Ke(this,e,vB,yB,Je,{color:0,size:1})}}function AB(t){let e,r,n,u;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),u=pe("path"),this.h()},l(s){e=he(s,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var i=re(e);r=he(i,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(i,"path",{fill:!0,d:!0}),re(n).forEach(J),u=he(i,"path",{fill:!0,d:!0}),re(u).forEach(J),i.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 15.12 3.38 A 1.10 0.96 81.8 0 1 16.05 4.18 Q 18.99 14.85 22.53 25.53 Q 23.11 27.31 21.32 27.15 Q 20.41 27.06 19.68 27.13 Q 16.89 27.39 16.91 24.57 A 1.72 1.57 -62.8 0 0 16.66 23.65 L 15.94 22.49 A 0.85 0.84 -17.2 0 0 15.19 22.10 L 10.18 22.31 Q 8.07 22.40 8.06 24.42 Q 8.05 27.16 5.68 27.11 Q 4.58 27.08 3.82 27.14 Q 1.53 27.31 2.75 25.00 Q 6.10 14.36 9.66 3.78 A 0.77 0.63 -78.5 0 1 10.31 3.25 L 15.12 3.38 Z M 10.30 16.87 A 0.98 0.95 -78.5 0 0 11.09 18.11 Q 15.71 18.67 14.51 16.42 Q 14.26 15.96 14.26 15.50 Q 14.28 12.74 12.93 10.29 Q 12.44 9.40 12.15 10.39 L 10.30 16.87 Z"),m(n,"fill",t[0]),m(n,"d","M 25.94 3.24 L 29.95 3.17 A 0.85 0.58 78.1 0 1 30.59 3.79 L 34.75 18.26 Q 35.68 21.48 36.54 18.21 L 40.29 3.91 A 0.92 0.92 88.9 0 1 40.91 3.26 Q 42.53 2.77 45.12 3.17 A 0.62 0.61 -77.1 0 1 45.60 3.96 L 39.02 25.82 A 1.17 0.94 -79.1 0 1 38.02 26.67 L 33.16 26.47 A 0.89 0.61 78.9 0 1 32.53 25.85 L 25.50 3.94 A 0.54 0.49 79.9 0 1 25.94 3.24 Z"),m(u,"fill",t[0]),m(u,"d","M 14.01 31.32 L 14.10 34.32 A 0.60 0.53 0.1 0 0 14.69 34.84 L 33.31 34.84 A 0.59 0.53 0.5 0 0 33.90 34.32 L 33.97 31.44 Q 34.00 30.13 34.88 31.01 L 40.38 36.50 A 0.93 0.93 -41.5 0 1 40.29 37.89 Q 37.70 39.89 35.75 42.24 Q 34.79 43.39 34.39 43.27 Q 33.76 43.09 34.16 40.48 A 1.25 1.21 -85.7 0 0 32.96 39.04 L 14.68 39.17 A 0.57 0.54 1.6 0 0 14.11 39.68 L 13.95 42.50 Q 13.86 43.99 12.86 42.99 L 7.66 37.79 A 1.12 1.12 0.0 0 1 7.66 36.21 L 13.02 30.86 Q 13.97 29.90 14.01 31.32 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 48 48"),m(e,"height",t[1]),m(e,"width",t[1])},m(s,i){be(s,e,i),ue(e,r),ue(e,n),ue(e,u)},p(s,[i]){i&1&&m(r,"fill",s[0]),i&1&&m(n,"fill",s[0]),i&1&&m(u,"fill",s[0]),i&2&&m(e,"height",s[1]),i&2&&m(e,"width",s[1])},i:_e,o:_e,d(s){s&&J(e)}}}function SB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class FB extends Ue{constructor(e){super(),Ke(this,e,SB,AB,Je,{color:0,size:1})}}function bB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 48.68 10.17 Q 55.52 16.87 62.50 23.85 Q 72.63 33.98 74.25 36.34 Q 77.64 41.29 79.05 47.25 Q 80.41 52.97 79.61 58.94 Q 77.93 71.58 67.69 79.69 Q 61.54 84.55 53.88 85.95 Q 46.59 87.28 39.19 85.24 Q 29.64 82.60 23.55 75.08 Q 17.89 68.10 16.48 58.75 Q 14.10 42.95 26.57 30.56 Q 36.03 21.15 47.55 10.16 A 0.81 0.81 -44.5 0 1 48.68 10.17 Z M 39.94 29.44 Q 35.04 34.29 30.29 39.29 Q 24.47 45.42 24.15 55.18 A 0.79 0.79 -89.0 0 0 24.94 56.00 L 71.25 56.00 A 0.76 0.76 89.3 0 0 72.01 55.22 Q 71.82 48.17 68.37 42.75 Q 67.25 40.99 59.96 33.37 Q 54.36 27.51 48.65 21.64 A 0.91 0.91 -44.8 0 0 47.36 21.64 Q 43.63 25.39 39.94 29.44 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function CB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class _B extends Ue{constructor(e){super(),Ke(this,e,CB,bB,Je,{color:0,size:1})}}function wB(t){let e,r,n,u,s,i,o,a;return{c(){e=pe("svg"),r=pe("path"),n=pe("rect"),u=pe("path"),s=pe("rect"),i=pe("path"),o=pe("rect"),a=pe("rect"),this.h()},l(c){e=he(c,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var l=re(e);r=he(l,"path",{fill:!0,"fill-opacity":!0,d:!0}),re(r).forEach(J),n=he(l,"rect",{fill:!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(l,"path",{fill:!0,"fill-opacity":!0,d:!0}),re(u).forEach(J),s=he(l,"rect",{fill:!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(l,"path",{fill:!0,"fill-opacity":!0,d:!0}),re(i).forEach(J),o=he(l,"rect",{fill:!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(o).forEach(J),a=he(l,"rect",{fill:!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(a).forEach(J),l.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"fill-opacity","1.000"),m(r,"d","M 87.99 22.06 A 0.94 0.94 0 0 1 87.05 23.00 L 8.93 23.00 A 0.94 0.94 0 0 1 7.99 22.06 L 7.99 11.94 A 0.94 0.94 0 0 1 8.93 11.00 L 87.05 11.00 A 0.94 0.94 0 0 1 87.99 11.94 L 87.99 22.06 Z M 86.01 13.69 A 0.69 0.69 0 0 0 85.32 13.00 L 10.70 13.00 A 0.69 0.69 0 0 0 10.01 13.69 L 10.01 20.31 A 0.69 0.69 0 0 0 10.70 21.00 L 85.32 21.00 A 0.69 0.69 0 0 0 86.01 20.31 L 86.01 13.69 Z"),m(n,"fill",t[0]),m(n,"fill-opacity","0.000"),m(n,"x","-38.00"),m(n,"y","-4.00"),m(n,"width","76.00"),m(n,"height","8.00"),m(n,"rx","0.69"),m(n,"transform","translate(48.01,17.00) rotate(0.0)"),m(u,"fill",t[0]),m(u,"fill-opacity","1.000"),m(u,"d","M 87.99 44.07 A 0.84 0.84 0 0 1 87.15 44.91 L 8.85 44.91 A 0.84 0.84 0 0 1 8.01 44.07 L 8.01 33.85 A 0.84 0.84 0 0 1 8.85 33.01 L 87.15 33.01 A 0.84 0.84 0 0 1 87.99 33.85 L 87.99 44.07 Z M 86.01 35.89 A 0.89 0.89 0 0 0 85.12 35.00 L 10.90 35.00 A 0.89 0.89 0 0 0 10.01 35.89 L 10.01 42.11 A 0.89 0.89 0 0 0 10.90 43.00 L 85.12 43.00 A 0.89 0.89 0 0 0 86.01 42.11 L 86.01 35.89 Z"),m(s,"fill",t[0]),m(s,"fill-opacity","0.000"),m(s,"x","-38.00"),m(s,"y","-4.00"),m(s,"width","76.00"),m(s,"height","8.00"),m(s,"rx","0.89"),m(s,"transform","translate(48.01,39.00) rotate(0.0)"),m(i,"fill",t[0]),m(i,"fill-opacity","1.000"),m(i,"d","M 87.99 65.93 A 1.07 1.07 0 0 1 86.92 67.00 L 9.10 67.00 A 1.07 1.07 0 0 1 8.03 65.93 L 8.03 56.07 A 1.07 1.07 0 0 1 9.10 55.00 L 86.92 55.00 A 1.07 1.07 0 0 1 87.99 56.07 L 87.99 65.93 Z M 86.01 57.81 A 0.81 0.81 0 0 0 85.20 57.00 L 10.82 57.00 A 0.81 0.81 0 0 0 10.01 57.81 L 10.01 64.19 A 0.81 0.81 0 0 0 10.82 65.00 L 85.20 65.00 A 0.81 0.81 0 0 0 86.01 64.19 L 86.01 57.81 Z"),m(o,"fill",t[0]),m(o,"fill-opacity","0.000"),m(o,"x","-38.00"),m(o,"y","-4.00"),m(o,"width","76.00"),m(o,"height","8.00"),m(o,"rx","0.81"),m(o,"transform","translate(48.01,61.00) rotate(0.0)"),m(a,"fill",t[0]),m(a,"fill-opacity","1.000"),m(a,"x","-32.00"),m(a,"y","-5.00"),m(a,"width","64.00"),m(a,"height","10.00"),m(a,"rx","0.69"),m(a,"transform","translate(48.00,83.00) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(c,l){be(c,e,l),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i),ue(e,o),ue(e,a)},p(c,[l]){l&1&&m(r,"fill",c[0]),l&1&&m(n,"fill",c[0]),l&1&&m(u,"fill",c[0]),l&1&&m(s,"fill",c[0]),l&1&&m(i,"fill",c[0]),l&1&&m(o,"fill",c[0]),l&1&&m(a,"fill",c[0]),l&2&&m(e,"height",c[1]),l&2&&m(e,"width",c[1])},i:_e,o:_e,d(c){c&&J(e)}}}function TB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class $B extends Ue{constructor(e){super(),Ke(this,e,TB,wB,Je,{color:0,size:1})}}function BB(t){let e,r,n,u,s;return{c(){e=pe("svg"),r=pe("path"),n=pe("path"),u=pe("path"),s=pe("path"),this.h()},l(i){e=he(i,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var o=re(e);r=he(o,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(o,"path",{fill:!0,d:!0}),re(n).forEach(J),u=he(o,"path",{fill:!0,d:!0}),re(u).forEach(J),s=he(o,"path",{fill:!0,d:!0}),re(s).forEach(J),o.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 12.67 12.00 L 34.97 12.00 Q 36.27 12.00 35.34 12.92 L 27.31 20.81 A 0.84 0.80 45.0 0 0 27.34 21.98 L 37.72 32.09 A 0.94 0.92 -45.2 0 1 37.71 33.41 L 33.37 37.76 A 1.09 1.07 45.2 0 1 31.84 37.74 L 21.56 27.43 A 0.61 0.59 44.3 0 0 20.70 27.43 L 13.02 35.21 Q 12.00 36.25 12.00 34.81 L 12.00 12.67 A 0.67 0.67 -45.0 0 1 12.67 12.00 Z"),m(n,"fill",t[0]),m(n,"d","M 61.50 12.06 L 83.45 12.00 A 0.56 0.55 90.0 0 1 84.00 12.56 L 84.00 34.95 Q 84.00 36.12 83.17 35.30 L 75.19 27.31 A 0.83 0.80 -45.5 0 0 74.04 27.34 L 63.61 37.91 A 0.52 0.51 44.6 0 1 62.88 37.91 L 58.14 33.24 A 0.85 0.81 -45.0 0 1 58.17 32.07 L 68.59 21.68 A 0.53 0.52 -44.6 0 0 68.60 20.94 L 61.05 13.18 Q 59.96 12.06 61.50 12.06 Z"),m(u,"fill",t[0]),m(u,"d","M 33.20 58.32 L 37.61 62.73 A 0.91 0.90 45.4 0 1 37.61 64.01 L 27.27 74.23 A 1.04 1.00 45.0 0 0 27.30 75.68 L 34.83 83.03 Q 35.82 84.00 34.40 84.00 L 12.81 84.00 A 0.81 0.81 86.6 0 1 12.00 83.19 L 12.00 61.43 Q 12.00 60.05 13.00 61.04 L 20.91 68.88 A 0.54 0.51 -45.0 0 0 21.65 68.86 L 32.07 58.32 A 0.80 0.79 44.7 0 1 33.20 58.32 Z"),m(s,"fill",t[0]),m(s,"d","M 63.96 58.34 L 74.08 68.70 A 0.95 0.91 45.2 0 0 75.40 68.73 L 83.30 60.71 Q 84.00 60.00 84.00 60.99 L 84.00 83.34 A 0.66 0.66 -45.0 0 1 83.34 84.00 L 61.14 84.00 Q 59.87 84.00 60.80 83.07 L 68.61 75.31 A 0.53 0.51 45.4 0 0 68.60 74.57 L 58.33 64.24 A 1.20 1.16 45.0 0 1 58.30 62.57 L 62.53 58.34 A 1.02 1.00 -44.4 0 1 63.96 58.34 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(i,o){be(i,e,o),ue(e,r),ue(e,n),ue(e,u),ue(e,s)},p(i,[o]){o&1&&m(r,"fill",i[0]),o&1&&m(n,"fill",i[0]),o&1&&m(u,"fill",i[0]),o&1&&m(s,"fill",i[0]),o&2&&m(e,"height",i[1]),o&2&&m(e,"width",i[1])},i:_e,o:_e,d(i){i&&J(e)}}}function IB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class PB extends Ue{constructor(e){super(),Ke(this,e,IB,BB,Je,{color:0,size:1})}}function kB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 48.66 10.15 Q 57.10 18.44 65.68 27.03 Q 74.05 35.41 76.47 40.09 Q 80.52 47.92 79.79 56.82 Q 79.09 65.27 74.45 72.33 Q 69.42 80.00 61.05 83.64 Q 52.12 87.53 42.60 86.01 Q 32.67 84.43 25.25 77.00 Q 18.47 70.21 16.65 60.78 Q 15.45 54.52 16.74 48.23 Q 18.07 41.76 21.70 36.41 Q 23.50 33.76 34.30 23.04 Q 40.48 16.90 47.57 10.15 A 0.79 0.78 -44.7 0 1 48.66 10.15 Z M 27.69 66.25 Q 27.87 66.59 28.00 66.96 Q 28.26 67.66 28.58 68.07 Q 32.83 73.36 38.84 76.05 Q 43.69 78.22 48.54 78.05 Q 53.68 77.88 58.41 75.38 Q 66.81 70.93 70.56 62.64 Q 72.31 58.78 72.05 54.60 Q 71.80 50.32 70.21 46.43 Q 68.62 42.53 63.46 37.03 Q 56.29 29.39 48.54 21.66 A 0.86 0.86 -43.5 0 0 47.33 21.67 Q 40.34 28.90 33.24 36.24 Q 27.99 41.68 26.35 45.13 Q 23.86 50.36 23.91 56.41 Q 23.92 58.37 24.63 60.49 Q 25.30 62.48 26.09 64.43 Q 26.38 65.16 26.99 65.57 Q 27.52 65.93 27.69 66.25 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 96 96"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function OB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class NB extends Ue{constructor(e){super(),Ke(this,e,OB,kB,Je,{color:0,size:1})}}function RB(t){let e,r,n,u,s,i,o,a,c,l,f,d,p,h,v,S,D,g,F,I,k,B,O,M;return{c(){e=pe("svg"),r=pe("rect"),n=pe("rect"),u=pe("rect"),s=pe("rect"),i=pe("rect"),o=pe("rect"),a=pe("rect"),c=pe("path"),l=pe("rect"),f=pe("rect"),d=pe("rect"),p=pe("rect"),h=pe("rect"),v=pe("rect"),S=pe("rect"),D=pe("rect"),g=pe("rect"),F=pe("rect"),I=pe("rect"),k=pe("rect"),B=pe("rect"),O=pe("rect"),M=pe("rect"),this.h()},l(y){e=he(y,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var P=re(e);r=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(i).forEach(J),o=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(o).forEach(J),a=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(a).forEach(J),c=he(P,"path",{fill:!0,d:!0}),re(c).forEach(J),l=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(l).forEach(J),f=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(f).forEach(J),d=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(d).forEach(J),p=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(p).forEach(J),h=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(h).forEach(J),v=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(v).forEach(J),S=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(S).forEach(J),D=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(D).forEach(J),g=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(g).forEach(J),F=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(F).forEach(J),I=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(I).forEach(J),k=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(k).forEach(J),B=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(B).forEach(J),O=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(O).forEach(J),M=he(P,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(M).forEach(J),P.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"x","-2.50"),m(r,"y","-2.62"),m(r,"width","5.00"),m(r,"height","5.24"),m(r,"rx","1.28"),m(r,"transform","translate(18.50,7.52) rotate(0.0)"),m(n,"fill",t[0]),m(n,"x","-2.49"),m(n,"y","-2.59"),m(n,"width","4.98"),m(n,"height","5.18"),m(n,"rx","1.27"),m(n,"transform","translate(34.50,7.43) rotate(0.0)"),m(u,"fill",t[0]),m(u,"x","-2.50"),m(u,"y","-2.51"),m(u,"width","5.00"),m(u,"height","5.02"),m(u,"rx","1.15"),m(u,"transform","translate(26.50,7.49) rotate(0.0)"),m(s,"fill",t[0]),m(s,"x","-2.50"),m(s,"y","-2.50"),m(s,"width","5.00"),m(s,"height","5.00"),m(s,"rx","1.14"),m(s,"transform","translate(42.50,7.49) rotate(0.0)"),m(i,"fill",t[0]),m(i,"x","-2.50"),m(i,"y","-2.51"),m(i,"width","5.00"),m(i,"height","5.02"),m(i,"rx","1.11"),m(i,"transform","translate(50.51,7.49) rotate(0.0)"),m(o,"fill",t[0]),m(o,"x","-2.56"),m(o,"y","-2.58"),m(o,"width","5.12"),m(o,"height","5.16"),m(o,"rx","1.24"),m(o,"transform","translate(9.59,12.40) rotate(0.0)"),m(a,"fill",t[0]),m(a,"x","-2.50"),m(a,"y","-2.51"),m(a,"width","5.00"),m(a,"height","5.02"),m(a,"rx","1.07"),m(a,"transform","translate(59.50,12.51) rotate(0.0)"),m(c,"fill",t[0]),m(c,"d","M 16.02 13.00 L 52.41 13.06 A 1.60 1.59 90.0 0 1 54.00 14.66 L 54.00 21.03 A 0.97 0.97 -45.0 0 1 53.03 22.00 L 40.11 22.00 A 1.12 1.11 90.0 0 0 39.00 23.12 L 38.94 56.93 A 1.08 1.07 -0.0 0 1 37.86 58.00 L 31.75 58.00 A 1.75 1.75 45.0 0 1 30.00 56.25 L 30.00 22.77 A 0.71 0.70 90.0 0 0 29.30 22.06 L 16.00 22.00 A 1.01 0.99 0.3 0 1 15.00 21.01 L 15.00 14.02 A 1.02 1.02 -45.0 0 1 16.02 13.00 Z"),m(l,"fill",t[0]),m(l,"x","-2.50"),m(l,"y","-2.51"),m(l,"width","5.00"),m(l,"height","5.02"),m(l,"rx","1.04"),m(l,"transform","translate(9.52,20.50) rotate(0.0)"),m(f,"fill",t[0]),m(f,"x","-2.50"),m(f,"y","-2.48"),m(f,"width","5.00"),m(f,"height","4.96"),m(f,"rx","1.07"),m(f,"transform","translate(59.52,20.48) rotate(0.0)"),m(d,"fill",t[0]),m(d,"x","-2.50"),m(d,"y","-2.56"),m(d,"width","5.00"),m(d,"height","5.12"),m(d,"rx","1.21"),m(d,"transform","translate(16.50,27.44) rotate(0.0)"),m(p,"fill",t[0]),m(p,"x","-2.48"),m(p,"y","-2.55"),m(p,"width","4.96"),m(p,"height","5.10"),m(p,"rx","1.25"),m(p,"transform","translate(52.52,27.47) rotate(0.0)"),m(h,"fill",t[0]),m(h,"x","-2.44"),m(h,"y","-2.50"),m(h,"width","4.88"),m(h,"height","5.00"),m(h,"rx","0.79"),m(h,"transform","translate(24.58,27.50) rotate(0.0)"),m(v,"fill",t[0]),m(v,"x","-2.48"),m(v,"y","-2.56"),m(v,"width","4.96"),m(v,"height","5.12"),m(v,"rx","1.09"),m(v,"transform","translate(44.50,27.55) rotate(0.0)"),m(S,"fill",t[0]),m(S,"x","-2.50"),m(S,"y","-2.50"),m(S,"width","5.00"),m(S,"height","5.00"),m(S,"rx","0.88"),m(S,"transform","translate(24.53,35.50) rotate(0.0)"),m(D,"fill",t[0]),m(D,"x","-2.50"),m(D,"y","-2.50"),m(D,"width","5.00"),m(D,"height","5.00"),m(D,"rx","1.05"),m(D,"transform","translate(44.50,35.50) rotate(0.0)"),m(g,"fill",t[0]),m(g,"x","-2.50"),m(g,"y","-2.50"),m(g,"width","5.00"),m(g,"height","5.00"),m(g,"rx","0.89"),m(g,"transform","translate(24.52,43.50) rotate(0.0)"),m(F,"fill",t[0]),m(F,"x","-2.55"),m(F,"y","-2.55"),m(F,"width","5.10"),m(F,"height","5.10"),m(F,"rx","1.21"),m(F,"transform","translate(44.56,43.56) rotate(0.0)"),m(I,"fill",t[0]),m(I,"x","-2.49"),m(I,"y","-2.58"),m(I,"width","4.98"),m(I,"height","5.16"),m(I,"rx","1.13"),m(I,"transform","translate(24.51,51.56) rotate(0.0)"),m(k,"fill",t[0]),m(k,"x","-2.55"),m(k,"y","-2.56"),m(k,"width","5.10"),m(k,"height","5.12"),m(k,"rx","1.24"),m(k,"transform","translate(44.46,51.55) rotate(0.0)"),m(B,"fill",t[0]),m(B,"x","-2.50"),m(B,"y","-2.59"),m(B,"width","5.00"),m(B,"height","5.18"),m(B,"rx","1.21"),m(B,"transform","translate(25.49,59.40) rotate(0.0)"),m(O,"fill",t[0]),m(O,"x","-2.50"),m(O,"y","-2.49"),m(O,"width","5.00"),m(O,"height","4.98"),m(O,"rx","1.11"),m(O,"transform","translate(43.51,59.50) rotate(0.0)"),m(M,"fill",t[0]),m(M,"x","-2.56"),m(M,"y","-2.46"),m(M,"width","5.12"),m(M,"height","4.92"),m(M,"rx","1.11"),m(M,"transform","translate(34.41,62.49) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 72 72"),m(e,"height",t[1]),m(e,"width",t[1])},m(y,P){be(y,e,P),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i),ue(e,o),ue(e,a),ue(e,c),ue(e,l),ue(e,f),ue(e,d),ue(e,p),ue(e,h),ue(e,v),ue(e,S),ue(e,D),ue(e,g),ue(e,F),ue(e,I),ue(e,k),ue(e,B),ue(e,O),ue(e,M)},p(y,[P]){P&1&&m(r,"fill",y[0]),P&1&&m(n,"fill",y[0]),P&1&&m(u,"fill",y[0]),P&1&&m(s,"fill",y[0]),P&1&&m(i,"fill",y[0]),P&1&&m(o,"fill",y[0]),P&1&&m(a,"fill",y[0]),P&1&&m(c,"fill",y[0]),P&1&&m(l,"fill",y[0]),P&1&&m(f,"fill",y[0]),P&1&&m(d,"fill",y[0]),P&1&&m(p,"fill",y[0]),P&1&&m(h,"fill",y[0]),P&1&&m(v,"fill",y[0]),P&1&&m(S,"fill",y[0]),P&1&&m(D,"fill",y[0]),P&1&&m(g,"fill",y[0]),P&1&&m(F,"fill",y[0]),P&1&&m(I,"fill",y[0]),P&1&&m(k,"fill",y[0]),P&1&&m(B,"fill",y[0]),P&1&&m(O,"fill",y[0]),P&1&&m(M,"fill",y[0]),P&2&&m(e,"height",y[1]),P&2&&m(e,"width",y[1])},i:_e,o:_e,d(y){y&&J(e)}}}function qB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class xB extends Ue{constructor(e){super(),Ke(this,e,qB,RB,Je,{color:0,size:1})}}function MB(t){let e,r,n,u,s,i,o,a,c;return{c(){e=pe("svg"),r=pe("path"),n=pe("rect"),u=pe("rect"),s=pe("rect"),i=pe("rect"),o=pe("rect"),a=pe("rect"),c=pe("rect"),this.h()},l(l){e=he(l,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var f=re(e);r=he(f,"path",{fill:!0,d:!0}),re(r).forEach(J),n=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(u).forEach(J),s=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(s).forEach(J),i=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(i).forEach(J),o=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(o).forEach(J),a=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(a).forEach(J),c=he(f,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(c).forEach(J),f.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 9.66 9.00 L 46.68 9.00 A 1.32 1.32 45.0 0 1 48.00 10.32 L 48.00 17.01 A 0.99 0.99 -2.8 0 1 47.01 18.00 L 34.00 18.00 A 1.04 1.02 -89.7 0 0 32.98 19.03 L 32.70 53.18 A 0.57 0.51 89.5 0 1 32.20 53.75 L 24.71 53.97 A 0.77 0.69 89.3 0 1 24.00 53.20 L 23.94 18.57 A 0.52 0.52 0.6 0 0 23.43 18.05 L 9.78 18.01 A 0.78 0.77 0.0 0 1 9.00 17.24 L 9.00 9.66 A 0.66 0.66 -45.0 0 1 9.66 9.00 Z"),m(n,"fill",t[0]),m(n,"x","-2.98"),m(n,"y","-3.16"),m(n,"width","5.96"),m(n,"height","6.32"),m(n,"rx","1.38"),m(n,"transform","translate(47.99,23.97) rotate(0.0)"),m(u,"fill",t[0]),m(u,"x","-2.99"),m(u,"y","-3.17"),m(u,"width","5.98"),m(u,"height","6.34"),m(u,"rx","1.34"),m(u,"transform","translate(57.00,23.98) rotate(0.0)"),m(s,"fill",t[0]),m(s,"x","-3.00"),m(s,"y","-3.00"),m(s,"width","6.00"),m(s,"height","6.00"),m(s,"rx","1.11"),m(s,"transform","translate(38.99,24.00) rotate(0.0)"),m(i,"fill",t[0]),m(i,"x","-3.00"),m(i,"y","-3.00"),m(i,"width","6.00"),m(i,"height","6.00"),m(i,"rx","0.79"),m(i,"transform","translate(39.00,33.02) rotate(0.0)"),m(o,"fill",t[0]),m(o,"x","-2.99"),m(o,"y","-2.97"),m(o,"width","5.98"),m(o,"height","5.94"),m(o,"rx","0.92"),m(o,"transform","translate(38.99,41.97) rotate(0.0)"),m(a,"fill",t[0]),m(a,"x","-3.00"),m(a,"y","-3.00"),m(a,"width","6.00"),m(a,"height","6.00"),m(a,"rx","1.05"),m(a,"transform","translate(39.00,51.00) rotate(0.0)"),m(c,"fill",t[0]),m(c,"x","-2.97"),m(c,"y","-3.13"),m(c,"width","5.94"),m(c,"height","6.26"),m(c,"rx","1.21"),m(c,"transform","translate(39.00,59.98) rotate(0.0)"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 72 72"),m(e,"height",t[1]),m(e,"width",t[1])},m(l,f){be(l,e,f),ue(e,r),ue(e,n),ue(e,u),ue(e,s),ue(e,i),ue(e,o),ue(e,a),ue(e,c)},p(l,[f]){f&1&&m(r,"fill",l[0]),f&1&&m(n,"fill",l[0]),f&1&&m(u,"fill",l[0]),f&1&&m(s,"fill",l[0]),f&1&&m(i,"fill",l[0]),f&1&&m(o,"fill",l[0]),f&1&&m(a,"fill",l[0]),f&1&&m(c,"fill",l[0]),f&2&&m(e,"height",l[1]),f&2&&m(e,"width",l[1])},i:_e,o:_e,d(l){l&&J(e)}}}function jB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class LB extends Ue{constructor(e){super(),Ke(this,e,jB,MB,Je,{color:0,size:1})}}function GB(t){let e,r;return{c(){e=pe("svg"),r=pe("path"),this.h()},l(n){e=he(n,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var u=re(e);r=he(u,"path",{fill:!0,d:!0}),re(r).forEach(J),u.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"d","M 53.95 13.57 L 54.01 20.48 A 1.61 1.53 -0.6 0 1 52.42 22.02 L 39.69 22.16 A 0.53 0.52 89.4 0 0 39.18 22.69 L 39.01 57.08 A 0.87 0.85 89.7 0 1 38.17 57.95 L 31.00 58.01 A 1.02 1.00 90.0 0 1 30.00 56.99 L 30.00 22.77 A 0.73 0.71 0.8 0 0 29.29 22.06 L 15.70 21.83 A 0.58 0.52 0.6 0 1 15.13 21.31 L 15.14 13.68 A 0.55 0.50 -0.0 0 1 15.69 13.18 L 53.44 13.06 A 0.51 0.50 89.4 0 1 53.95 13.57 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 72 72"),m(e,"height",t[1]),m(e,"width",t[1])},m(n,u){be(n,e,u),ue(e,r)},p(n,[u]){u&1&&m(r,"fill",n[0]),u&2&&m(e,"height",n[1]),u&2&&m(e,"width",n[1])},i:_e,o:_e,d(n){n&&J(e)}}}function VB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class UB extends Ue{constructor(e){super(),Ke(this,e,VB,GB,Je,{color:0,size:1})}}function KB(t){let e,r,n,u;return{c(){e=pe("svg"),r=pe("rect"),n=pe("rect"),u=pe("path"),this.h()},l(s){e=he(s,"svg",{xmlns:!0,version:!0,viewBox:!0,height:!0,width:!0});var i=re(e);r=he(i,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(r).forEach(J),n=he(i,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,transform:!0}),re(n).forEach(J),u=he(i,"path",{fill:!0,d:!0}),re(u).forEach(J),i.forEach(J),this.h()},h(){m(r,"fill",t[0]),m(r,"x","-20.00"),m(r,"y","-2.00"),m(r,"width","40.00"),m(r,"height","4.00"),m(r,"rx","0.96"),m(r,"transform","translate(24.02,9.00) rotate(0.0)"),m(n,"fill",t[0]),m(n,"x","-20.00"),m(n,"y","-2.00"),m(n,"width","40.00"),m(n,"height","4.00"),m(n,"rx","0.52"),m(n,"transform","translate(24.01,22.00) rotate(0.0)"),m(u,"fill",t[0]),m(u,"d","M 13.76 35.62 A 1.13 1.11 -84.8 0 0 14.85 36.95 L 33.23 36.94 A 0.85 0.84 88.7 0 0 34.07 36.05 Q 33.89 31.71 35.06 33.09 Q 35.55 33.67 35.62 33.75 Q 37.86 35.99 40.37 38.49 A 0.90 0.90 48.0 0 1 40.30 39.83 Q 37.68 41.92 35.57 44.56 Q 33.74 46.85 34.08 42.45 A 1.30 1.29 -87.7 0 0 32.80 41.05 L 14.87 41.05 A 1.14 1.13 84.8 0 0 13.77 42.38 Q 14.47 46.46 12.85 44.90 Q 10.44 42.56 7.64 39.76 A 1.07 1.07 0.0 0 1 7.64 38.24 Q 10.50 35.37 13.02 33.02 Q 14.46 31.68 13.76 35.62 Z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"version","1.1"),m(e,"viewBox","0 0 48 48"),m(e,"height",t[1]),m(e,"width",t[1])},m(s,i){be(s,e,i),ue(e,r),ue(e,n),ue(e,u)},p(s,[i]){i&1&&m(r,"fill",s[0]),i&1&&m(n,"fill",s[0]),i&1&&m(u,"fill",s[0]),i&2&&m(e,"height",s[1]),i&2&&m(e,"width",s[1])},i:_e,o:_e,d(s){s&&J(e)}}}function JB(t,e,r){let{color:n="black"}=e,{size:u="24"}=e;return t.$$set=s=>{"color"in s&&r(0,n=s.color),"size"in s&&r(1,u=s.size)},[n,u]}class HB extends Ue{constructor(e){super(),Ke(this,e,JB,KB,Je,{color:0,size:1})}}const WB={Blur:x$,Brightness:L$,Contrast:U$,FontChoice:H$,FormatAlignCenter:Q$,FormatAlignLeft:Z$,FormatAlignRight:rB,FormatBold:sB,FormatColorFill:aB,FormatItalic:fB,FormatLineSpacing:hB,Images:EB,Image:gB,LetterSpacing:FB,Opacity:_B,Reference:$B,ResizeArrows:PB,Saturation:NB,TextGlow:xB,TextShadow:LB,TextShadowNone:UB,TextWidth:HB};function zB(t){let e,r;return{c(){e=we("pre"),r=rr("loading . . .")},l(n){e=Te(n,"PRE",{});var u=re(e);r=nr(u,"loading . . ."),u.forEach(J)},m(n,u){be(n,e,u),ue(e,r)},p:_e,i:_e,o:_e,d(n){n&&J(e)}}}class QB extends Ue{constructor(e){super(),Ke(this,e,null,zB,Je,{})}}const YB=t=>({}),M3=t=>({}),XB=t=>({}),j3=t=>({});function ZB(t){let e,r,n,u,s,i,o,a;const c=t[3].label,l=p1(c,t,t[2],j3),f=t[3].content,d=p1(f,t,t[2],M3);return{c(){e=we("label"),l&&l.c(),r=nt(),n=we("input"),u=nt(),s=we("label"),i=we("label"),d&&d.c(),this.h()},l(p){e=Te(p,"LABEL",{for:!0,class:!0});var h=re(e);l&&l.l(h),h.forEach(J),r=ut(p),n=Te(p,"INPUT",{type:!0,id:!0,class:!0}),u=ut(p),s=Te(p,"LABEL",{for:!0,class:!0});var v=re(s);i=Te(v,"LABEL",{style:!0,class:!0,for:!0});var S=re(i);d&&d.l(S),S.forEach(J),v.forEach(J),this.h()},h(){m(e,"for",t[0]),m(e,"class","dy-btn dy-btn-ghost p-0.5 dy-no-animation"),m(n,"type","checkbox"),m(n,"id",t[0]),m(n,"class","dy-modal-toggle"),m(i,"style",o=Wr(t[1]["ui.background"])),m(i,"class","dy-modal-box relative"),m(i,"for",""),m(s,"for",t[0]),m(s,"class","dy-modal cursor-pointer")},m(p,h){be(p,e,h),l&&l.m(e,null),be(p,r,h),be(p,n,h),be(p,u,h),be(p,s,h),ue(s,i),d&&d.m(i,null),a=!0},p(p,[h]){l&&l.p&&(!a||h&4)&&h1(l,c,p,p[2],a?D1(c,p[2],h,XB):m1(p[2]),j3),(!a||h&1)&&m(e,"for",p[0]),(!a||h&1)&&m(n,"id",p[0]),d&&d.p&&(!a||h&4)&&h1(d,f,p,p[2],a?D1(f,p[2],h,YB):m1(p[2]),M3),(!a||h&2&&o!==(o=Wr(p[1]["ui.background"])))&&m(i,"style",o),(!a||h&1)&&m(s,"for",p[0])},i(p){a||($e(l,p),$e(d,p),a=!0)},o(p){Ie(l,p),Ie(d,p),a=!1},d(p){p&&J(e),l&&l.d(p),p&&J(r),p&&J(n),p&&J(u),p&&J(s),d&&d.d(p)}}}function eI(t,e,r){let n;ct(t,ds,o=>r(1,n=o));let{$$slots:u={},$$scope:s}=e,{id:i}=e;return t.$$set=o=>{"id"in o&&r(0,i=o.id),"$$scope"in o&&r(2,s=o.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&console.log(n["ui.background"])},[i,n,s,u]}class tI extends Ue{constructor(e){super(),Ke(this,e,eI,ZB,Je,{id:0})}}function rI(t){let e,r;return e=new xr.Speed({props:{color:t[0]}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p(n,u){const s={};u&1&&(s.color=n[0]),e.$set(s)},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function nI(t){let e,r,n,u,s,i,o,a,c,l,f,d,p,h,v,S,D,g,F,I,k,B,O,M,y,P,L,U,Y,H,se,fe,K,z,te,V,N,A,C,E,_,R;return{c(){e=we("h1"),r=we("b"),n=rr("Playback Speed"),u=nt(),s=we("div"),i=we("label"),o=we("input"),a=rr(`
                0.4x`),c=nt(),l=we("label"),f=we("input"),d=rr(`
                0.6x`),p=nt(),h=we("label"),v=we("input"),S=rr(`
                0.7x`),D=nt(),g=we("label"),F=we("input"),I=rr(`
                0.8x`),k=nt(),B=we("label"),O=we("input"),M=rr(`
                Normal`),y=nt(),P=we("label"),L=we("input"),U=rr(`
                1.2x`),Y=nt(),H=we("label"),se=we("input"),fe=rr(`
                1.4x`),K=nt(),z=we("label"),te=we("input"),V=rr(`
                1.6x`),N=nt(),A=we("div"),C=we("label"),E=rr("Close"),this.h()},l(b){e=Te(b,"H1",{});var T=re(e);r=Te(T,"B",{style:!0});var j=re(r);n=nr(j,"Playback Speed"),j.forEach(J),T.forEach(J),u=ut(b),s=Te(b,"DIV",{class:!0});var q=re(s);i=Te(q,"LABEL",{class:!0});var X=re(i);o=Te(X,"INPUT",{type:!0,name:!0}),a=nr(X,`
                0.4x`),X.forEach(J),c=ut(q),l=Te(q,"LABEL",{class:!0});var ie=re(l);f=Te(ie,"INPUT",{type:!0,name:!0}),d=nr(ie,`
                0.6x`),ie.forEach(J),p=ut(q),h=Te(q,"LABEL",{class:!0});var Ee=re(h);v=Te(Ee,"INPUT",{type:!0,name:!0}),S=nr(Ee,`
                0.7x`),Ee.forEach(J),D=ut(q),g=Te(q,"LABEL",{class:!0});var Be=re(g);F=Te(Be,"INPUT",{type:!0,name:!0}),I=nr(Be,`
                0.8x`),Be.forEach(J),k=ut(q),B=Te(q,"LABEL",{class:!0});var Ve=re(B);O=Te(Ve,"INPUT",{type:!0,name:!0}),M=nr(Ve,`
                Normal`),Ve.forEach(J),y=ut(q),P=Te(q,"LABEL",{class:!0});var We=re(P);L=Te(We,"INPUT",{type:!0,name:!0}),U=nr(We,`
                1.2x`),We.forEach(J),Y=ut(q),H=Te(q,"LABEL",{class:!0});var He=re(H);se=Te(He,"INPUT",{type:!0,name:!0}),fe=nr(He,`
                1.4x`),He.forEach(J),K=ut(q),z=Te(q,"LABEL",{class:!0});var ke=re(z);te=Te(ke,"INPUT",{type:!0,name:!0}),V=nr(ke,`
                1.6x`),ke.forEach(J),N=ut(q),A=Te(q,"DIV",{class:!0});var ce=re(A);C=Te(ce,"LABEL",{for:!0,class:!0});var me=re(C);E=nr(me,"Close"),me.forEach(J),ce.forEach(J),q.forEach(J),this.h()},h(){m(r,"style",""),m(o,"type","radio"),m(o,"name","speed"),o.value="0.4",m(i,"class","svelte-1dgk2kw"),m(f,"type","radio"),m(f,"name","speed"),f.value="0.6",m(l,"class","svelte-1dgk2kw"),m(v,"type","radio"),m(v,"name","speed"),v.value="0.7",m(h,"class","svelte-1dgk2kw"),m(F,"type","radio"),m(F,"name","speed"),F.value="0.8",m(g,"class","svelte-1dgk2kw"),m(O,"type","radio"),m(O,"name","speed"),O.value="1",O.checked=!0,m(B,"class","svelte-1dgk2kw"),m(L,"type","radio"),m(L,"name","speed"),L.value="1.2",m(P,"class","svelte-1dgk2kw"),m(se,"type","radio"),m(se,"name","speed"),se.value="1.4",m(H,"class","svelte-1dgk2kw"),m(te,"type","radio"),m(te,"name","speed"),te.value="1.6",m(z,"class","svelte-1dgk2kw"),m(C,"for",QC),m(C,"class","dy-btn dy-btn-ghost svelte-1dgk2kw"),m(A,"class","dy-modal-action close-btn svelte-1dgk2kw"),m(s,"class","speed-controls svelte-1dgk2kw")},m(b,T){be(b,e,T),ue(e,r),ue(r,n),be(b,u,T),be(b,s,T),ue(s,i),ue(i,o),ue(i,a),ue(s,c),ue(s,l),ue(l,f),ue(l,d),ue(s,p),ue(s,h),ue(h,v),ue(h,S),ue(s,D),ue(s,g),ue(g,F),ue(g,I),ue(s,k),ue(s,B),ue(B,O),ue(B,M),ue(s,y),ue(s,P),ue(P,L),ue(P,U),ue(s,Y),ue(s,H),ue(H,se),ue(H,fe),ue(s,K),ue(s,z),ue(z,te),ue(z,V),ue(s,N),ue(s,A),ue(A,C),ue(C,E),_||(R=[Ct(o,"click",t[1]),Ct(f,"click",t[1]),Ct(v,"click",t[1]),Ct(F,"click",t[1]),Ct(O,"click",t[1]),Ct(L,"click",t[1]),Ct(se,"click",t[1]),Ct(te,"click",t[1])],_=!0)},p:_e,d(b){b&&J(e),b&&J(u),b&&J(s),_=!1,fs(R)}}}function uI(t){let e,r;return e=new tI({props:{id:QC,$$slots:{content:[nI],label:[rI]},$$scope:{ctx:t}}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p(n,[u]){const s={};u&17&&(s.$$scope={dirty:u,ctx:n}),e.$set(s)},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}let QC="playback";function sI(t,e,r){let n,u;ct(t,ds,o=>r(3,u=o));let{audio:s}=e;function i(o){const a=parseFloat(o.target.value);r(2,s.playbackRate=a,s)}return t.$$set=o=>{"audio"in o&&r(2,s=o.audio)},t.$$.update=()=>{t.$$.dirty&8&&r(0,n=u["ui.bar.audio.icon"].color)},[n,i,s,u]}class iI extends Ue{constructor(e){super(),Ke(this,e,sI,uI,Je,{audio:2})}}function oI(t){let e,r,n,u,s;var i=t[13][t[9]];function o(a){return{props:{color:a[8]}}}return i&&(r=E1(i,o(t))),{c(){e=we("button"),r&&Et(r.$$.fragment),this.h()},l(a){e=Te(a,"BUTTON",{class:!0});var c=re(e);r&&St(r.$$.fragment,c),c.forEach(J),this.h()},h(){m(e,"class","dy-btn-sm dy-btn-ghost")},m(a,c){be(a,e,c),r&&yt(r,e,null),n=!0,u||(s=Ct(e,"click",t[21]),u=!0)},p(a,c){const l={};if(c[0]&256&&(l.color=a[8]),i!==(i=a[13][a[9]])){if(r){au();const f=r;Ie(f.$$.fragment,1,0,()=>{vt(f,1)}),cu()}i?(r=E1(i,o(a)),Et(r.$$.fragment),$e(r.$$.fragment,1),yt(r,e,null)):r=null}else i&&r.$set(l)},i(a){n||(r&&$e(r.$$.fragment,a),n=!0)},o(a){r&&Ie(r.$$.fragment,a),n=!1},d(a){a&&J(e),r&&vt(r),u=!1,s()}}}function L3(t){let e,r,n,u,s;return r=new xr.RW({props:{color:t[8]}}),{c(){e=we("button"),Et(r.$$.fragment),this.h()},l(i){e=Te(i,"BUTTON",{class:!0});var o=re(e);St(r.$$.fragment,o),o.forEach(J),this.h()},h(){m(e,"class","dy-btn-sm dy-btn-ghost")},m(i,o){be(i,e,o),yt(r,e,null),n=!0,u||(s=[Ct(e,"pointerdown",t[23]),Ct(e,"pointerup",t[24]),Ct(e,"pointercancel",t[25])],u=!0)},p(i,o){const a={};o[0]&256&&(a.color=i[8]),r.$set(a)},i(i){n||($e(r.$$.fragment,i),n=!0)},o(i){Ie(r.$$.fragment,i),n=!1},d(i){i&&J(e),vt(r),u=!1,fs(s)}}}function aI(t){let e,r;return e=new xr.Pause({props:{color:t[8],size:t[16]}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p(n,u){const s={};u[0]&256&&(s.color=n[8]),e.$set(s)},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function cI(t){let e,r,n;var u=t[17];function s(i){return{props:{color:i[8],size:i[16]}}}return u&&(e=E1(u,s(t))),{c(){e&&Et(e.$$.fragment),r=Wt()},l(i){e&&St(e.$$.fragment,i),r=Wt()},m(i,o){e&&yt(e,i,o),be(i,r,o),n=!0},p(i,o){const a={};if(o[0]&256&&(a.color=i[8]),u!==(u=i[17])){if(e){au();const c=e;Ie(c.$$.fragment,1,0,()=>{vt(c,1)}),cu()}u?(e=E1(u,s(i)),Et(e.$$.fragment),$e(e.$$.fragment,1),yt(e,r.parentNode,r)):e=null}else u&&e.$set(a)},i(i){n||(e&&$e(e.$$.fragment,i),n=!0)},o(i){e&&Ie(e.$$.fragment,i),n=!1},d(i){i&&J(r),e&&vt(e,i)}}}function G3(t){let e,r,n,u,s;return r=new xr.FF({props:{color:t[8]}}),{c(){e=we("button"),Et(r.$$.fragment),this.h()},l(i){e=Te(i,"BUTTON",{class:!0});var o=re(e);St(r.$$.fragment,o),o.forEach(J),this.h()},h(){m(e,"class","dy-btn-sm dy-btn-ghost")},m(i,o){be(i,e,o),yt(r,e,null),n=!0,u||(s=[Ct(e,"pointerdown",t[26]),Ct(e,"pointerup",t[27]),Ct(e,"pointercancel",t[28])],u=!0)},p(i,o){const a={};o[0]&256&&(a.color=i[8]),r.$set(a)},i(i){n||($e(r.$$.fragment,i),n=!0)},o(i){Ie(r.$$.fragment,i),n=!1},d(i){i&&J(e),vt(r),u=!1,fs(s)}}}function lI(t){let e,r;const n=[t[5]];let u={};for(let s=0;s<n.length;s+=1)u=VC(u,n[s]);return e=new iI({props:u}),{c(){Et(e.$$.fragment)},l(s){St(e.$$.fragment,s)},m(s,i){yt(e,s,i),r=!0},p(s,i){const o=i[0]&32?UC(n,[KC(s[5])]):{};e.$set(o)},i(s){r||($e(e.$$.fragment,s),r=!0)},o(s){Ie(e.$$.fragment,s),r=!1},d(s){vt(e,s)}}}function V3(t){let e,r=(t[2]?El(t[3]):"")+"",n,u,s,i,o=(t[2]?El(t[2]):"")+"",a;function c(d,p){return d[4]?dI:fI}let l=c(t),f=l(t);return{c(){e=we("div"),n=rr(r),u=nt(),f.c(),s=nt(),i=we("div"),a=rr(o),this.h()},l(d){e=Te(d,"DIV",{class:!0});var p=re(e);n=nr(p,r),p.forEach(J),u=ut(d),f.l(d),s=ut(d),i=Te(d,"DIV",{class:!0});var h=re(i);a=nr(h,o),h.forEach(J),this.h()},h(){m(e,"class","audio-progress-value svelte-jrooo"),m(i,"class","audio-progress-duration svelte-jrooo")},m(d,p){be(d,e,p),ue(e,n),be(d,u,p),f.m(d,p),be(d,s,p),be(d,i,p),ue(i,a)},p(d,p){p[0]&12&&r!==(r=(d[2]?El(d[3]):"")+"")&&du(n,r),l===(l=c(d))&&f?f.p(d,p):(f.d(1),f=l(d),f&&(f.c(),f.m(s.parentNode,s))),p[0]&4&&o!==(o=(d[2]?El(d[2]):"")+"")&&du(a,o)},d(d){d&&J(e),d&&J(u),f.d(d),d&&J(s),d&&J(i)}}}function fI(t){let e;return{c(){e=we("progress"),this.h()},l(r){e=Te(r,"PROGRESS",{class:!0,max:!0}),re(e).forEach(J),this.h()},h(){m(e,"class","dy-progress audio-progress svelte-jrooo"),e.value="0",m(e,"max","1")},m(r,n){be(r,e,n)},p:_e,d(r){r&&J(e)}}}function dI(t){let e;return{c(){e=we("progress"),this.h()},l(r){e=Te(r,"PROGRESS",{class:!0,max:!0}),re(e).forEach(J),this.h()},h(){m(e,"class","dy-progress audio-progress svelte-jrooo"),e.value=t[3],m(e,"max",t[2])},m(r,n){be(r,e,n)},p(r,n){n[0]&8&&(e.value=r[3]),n[0]&4&&m(e,"max",r[2])},d(r){r&&J(e)}}}function pI(t){var se,fe;let e,r,n,u,s,i,o,a,c,l,f,d,p,h,v,S,D,g,F,I,k,B,O=t[15]&&oI(t);i=new xr.Prev({props:{color:t[8]}});let M=((se=t[1].hasAudio)==null?void 0:se.timingFile)&&L3(t);const y=[cI,aI],P=[];function L(K,z){return K[0]?1:0}l=L(t),f=P[l]=y[l](t);let U=((fe=t[1].hasAudio)==null?void 0:fe.timingFile)&&G3(t);v=new xr.Skip({props:{color:t[8]}});let Y=t[14]&&lI(t),H=!t[1].hasAudio.timingFile&&V3(t);return{c(){e=we("div"),r=we("div"),O&&O.c(),n=nt(),u=we("div"),s=we("button"),Et(i.$$.fragment),o=nt(),M&&M.c(),a=nt(),c=we("button"),f.c(),d=nt(),U&&U.c(),p=nt(),h=we("button"),Et(v.$$.fragment),S=nt(),D=we("div"),Y&&Y.c(),g=nt(),H&&H.c(),this.h()},l(K){e=Te(K,"DIV",{class:!0});var z=re(e);r=Te(z,"DIV",{class:!0});var te=re(r);O&&O.l(te),te.forEach(J),n=ut(z),u=Te(z,"DIV",{class:!0});var V=re(u);s=Te(V,"BUTTON",{class:!0});var N=re(s);St(i.$$.fragment,N),N.forEach(J),o=ut(V),M&&M.l(V),a=ut(V),c=Te(V,"BUTTON",{class:!0});var A=re(c);f.l(A),A.forEach(J),d=ut(V),U&&U.l(V),p=ut(V),h=Te(V,"BUTTON",{class:!0});var C=re(h);St(v.$$.fragment,C),C.forEach(J),V.forEach(J),S=ut(z),D=Te(z,"DIV",{class:!0});var E=re(D);Y&&Y.l(E),E.forEach(J),g=ut(z),H&&H.l(z),z.forEach(J),this.h()},h(){m(r,"class","dy-button-group audio-repeat svelte-jrooo"),m(s,"class","dy-btn-sm dy-btn-ghost"),m(c,"class","dy-btn-sm dy-btn-ghost"),xu(c,"dy-btn-lg",cr.mainFeatures["audio-play-button-size"]==="large"),m(h,"class","dy-btn-sm dy-btn-ghost"),m(u,"class","dy-btn-group audio-controls svelte-jrooo"),m(D,"class","dy-button-group audio-speed svelte-jrooo"),m(e,"class",F=R3(t[6])+" svelte-jrooo"),hr(e,"background-color",t[7])},m(K,z){be(K,e,z),ue(e,r),O&&O.m(r,null),ue(e,n),ue(e,u),ue(u,s),yt(i,s,null),ue(u,o),M&&M.m(u,null),ue(u,a),ue(u,c),P[l].m(c,null),ue(u,d),U&&U.m(u,null),ue(u,p),ue(u,h),yt(v,h,null),ue(e,S),ue(e,D),Y&&Y.m(D,null),ue(e,g),H&&H.m(e,null),I=!0,k||(B=[Ct(s,"click",t[22]),Ct(c,"click",t[10]),Ct(h,"click",t[29])],k=!0)},p(K,z){var A,C;K[15]&&O.p(K,z);const te={};z[0]&256&&(te.color=K[8]),i.$set(te),(A=K[1].hasAudio)!=null&&A.timingFile?M?(M.p(K,z),z[0]&2&&$e(M,1)):(M=L3(K),M.c(),$e(M,1),M.m(u,a)):M&&(au(),Ie(M,1,1,()=>{M=null}),cu());let V=l;l=L(K),l===V?P[l].p(K,z):(au(),Ie(P[V],1,1,()=>{P[V]=null}),cu(),f=P[l],f?f.p(K,z):(f=P[l]=y[l](K),f.c()),$e(f,1),f.m(c,null)),(C=K[1].hasAudio)!=null&&C.timingFile?U?(U.p(K,z),z[0]&2&&$e(U,1)):(U=G3(K),U.c(),$e(U,1),U.m(u,p)):U&&(au(),Ie(U,1,1,()=>{U=null}),cu());const N={};z[0]&256&&(N.color=K[8]),v.$set(N),K[14]&&Y.p(K,z),K[1].hasAudio.timingFile?H&&(H.d(1),H=null):H?H.p(K,z):(H=V3(K),H.c(),H.m(e,null)),(!I||z[0]&64&&F!==(F=R3(K[6])+" svelte-jrooo"))&&m(e,"class",F),z[0]&128&&hr(e,"background-color",K[7])},i(K){I||($e(O),$e(i.$$.fragment,K),$e(M),$e(f),$e(U),$e(v.$$.fragment,K),$e(Y),I=!0)},o(K){Ie(O),Ie(i.$$.fragment,K),Ie(M),Ie(f),Ie(U),Ie(v.$$.fragment,K),Ie(Y),I=!1},d(K){K&&J(e),O&&O.d(),vt(i),M&&M.d(),P[l].d(),U&&U.d(),vt(v),Y&&Y.d(),H&&H.d(),k=!1,fs(B)}}}function El(t){if(isNaN(t))return"...";const e=Math.floor(t/60);return t=Math.floor(t%60),t<10&&(t="0"+t),`${e}:${t}`}function hI(t,e,r){let n,u,s,i,o,a,c,l;ct(t,pu,R=>r(1,i=R)),ct(t,ds,R=>r(19,o=R)),ct(t,k0,R=>r(9,a=R)),ct(t,_2,R=>r(33,c=R)),ct(t,v1,R=>r(20,l=R));let f=NaN,d=0,p=!1,h=!1,v=!1,S=0,D=[],{audio:g}=e;const F=async(R,b,T)=>{p&&B(),r(4,h=!1),r(2,f=NaN),r(3,d=0);const j="POST",q=JSON.stringify({collection:R,book:b,chapter:T}),X={"content-type":"application/json",accept:"application/json"},Ee=await(await fetch(`${vm}/data/audio`,{method:j,body:q,headers:X})).json();if(Ee.error){console.error(Ee.error);return}const Be=new Audio(`${Ee.source}`);Be.onloadedmetadata=()=>{r(2,f=Be.duration),S=0,r(4,h=!0),r(18,g=Be),I(),v&&!p&&(B(),v=!1)},D=Ee.timing},I=()=>{h&&(r(3,d=g.currentTime),D&&(d>=D[S].time?S++:S>0&&d<D[S-1].time&&S--,lu(_2,c=[i.docSet,i.book,i.chapter,D[S].tag.match(/[0-9]+/)?D[S].tag.match(/[0-9]+/):"none",D[S].tag.match(/[0-9]+/)&&D[S].tag.match(/[a-z]/i)?D[S].tag.match(/[a-z]/i):"none"].join(),c)),g.ended&&k())},k=(()=>{let R;return()=>{g.ended?(r(0,p=!1),clearInterval(R)):R=setInterval(I,100)}})(),B=()=>{h&&(k(),p?(g==null||g.pause(),r(0,p=!1)):(g.play(),r(0,p=!0)))},O=(()=>{let R,b;return T=>{clearInterval(R),h&&(b&&r(18,g.muted=!1,g),T===0?r(18,g.playbackRate=g.defaultPlaybackRate,g):T>0?(b=!0,r(18,g.muted=!0,g),r(18,g.playbackRate=g.defaultPlaybackRate*T,g)):R=setInterval(()=>{b=!0,r(18,g.muted=!0,g),r(18,g.currentTime-=g.defaultPlaybackRate,g)},100))}})(),M=R=>{pu.skip(R)&&(v=p)};function y(R){!R&&a==="repeatSelection"&&k0.reset()}const P={arrow:xr.Play,"filled-circle":xr.PlayFillCircle,"outline-circle":xr.PlayOutlineCircle},L={continue:xr.RepeatOff,stop:xr.RepeatOffStop,repeatPage:xr.Repeat,repeatSelection:xr.RepeatOne},U=cr.mainFeatures["settings-audio-speed"],Y=cr.mainFeatures["audio-repeat-mode-button"],H="24",se=P[cr.mainFeatures["audio-play-button-style"]];let fe={};const K=()=>{var R;return k0.next((R=i.hasAudio)==null?void 0:R.timingFile)},z=()=>M(-1),te=()=>O(-1),V=()=>O(0),N=()=>O(0),A=()=>O(4),C=()=>O(0),E=()=>O(0),_=()=>M(1);return t.$$set=R=>{"audio"in R&&r(18,g=R.audio)},t.$$.update=()=>{var R,b;t.$$.dirty[0]&2&&F(i.collection,i.book,i.chapter),t.$$.dirty[0]&1048577&&!l&&p&&B(),t.$$.dirty[0]&524288&&r(8,n=o["ui.bar.audio.icon"].color),t.$$.dirty[0]&524288&&r(7,u=o["ui.bar.audio"]["background-color"]),t.$$.dirty[0]&2&&r(6,s=(R=i.hasAudio)!=null&&R.timingFile?"audio-bar":"audio-bar-progress"),t.$$.dirty[0]&2&&y((b=i.hasAudio)==null?void 0:b.timing),t.$$.dirty[0]&262144&&r(5,fe={audio:g})},[p,i,f,d,h,fe,s,u,n,a,B,O,M,L,U,Y,H,se,g,o,l,K,z,te,V,N,A,C,E,_]}class mI extends Ue{constructor(e){super(),Ke(this,e,hI,pI,Je,{audio:18},null,[-1,-1])}}const DI=t=>({}),U3=t=>({}),EI=t=>({}),K3=t=>({});function yI(t){let e,r,n,u,s,i,o,a;const c=t[3].label,l=p1(c,t,t[2],K3),f=t[3].content,d=p1(f,t,t[2],U3);return{c(){e=we("div"),r=we("label"),l&&l.c(),n=nt(),u=we("div"),d&&d.c(),this.h()},l(p){e=Te(p,"DIV",{class:!0});var h=re(e);r=Te(h,"LABEL",{tabindex:!0,class:!0});var v=re(r);l&&l.l(v),v.forEach(J),n=ut(h),u=Te(h,"DIV",{tabindex:!0,class:!0,style:!0});var S=re(u);d&&d.l(S),S.forEach(J),h.forEach(J),this.h()},h(){m(r,"tabindex","0"),m(r,"class","dy-btn dy-btn-ghost p-0.5 dy-no-animation"),m(u,"tabindex","0"),m(u,"class","dy-dropdown-content dy-menu drop-shadow-lg mt-2.5 bg-base-100 min-w-[21rem]"),m(u,"style",s=Wr(t[0]["ui.background"])),m(e,"class","dy-dropdown ")},m(p,h){be(p,e,h),ue(e,r),l&&l.m(r,null),ue(e,n),ue(e,u),d&&d.m(u,null),i=!0,o||(a=Ct(u,"blur",t[4]),o=!0)},p(p,[h]){l&&l.p&&(!i||h&4)&&h1(l,c,p,p[2],i?D1(c,p[2],h,EI):m1(p[2]),K3),d&&d.p&&(!i||h&4)&&h1(d,f,p,p[2],i?D1(f,p[2],h,DI):m1(p[2]),U3),(!i||h&1&&s!==(s=Wr(p[0]["ui.background"])))&&m(u,"style",s)},i(p){i||($e(l,p),$e(d,p),i=!0)},o(p){Ie(l,p),Ie(d,p),i=!1},d(p){p&&J(e),l&&l.d(p),d&&d.d(p),o=!1,a()}}}function vI(t,e,r){let n;ct(t,ds,a=>r(0,n=a));let{$$slots:u={},$$scope:s}=e;const i=Em(),o=()=>i("nav-end");return t.$$set=a=>{"$$scope"in a&&r(2,s=a.$$scope)},[n,i,s,u,o]}class gm extends Ue{constructor(e){super(),Ke(this,e,vI,yI,Je,{})}}function J3(t,e,r){const n=t.slice();return n[9]=e[r],n}function H3(t,e,r){const n=t.slice();return n[12]=e[r],n[14]=r,n}function W3(t,e,r){const n=t.slice();return n[12]=e[r],n[16]=r,n}function z3(t){let e,r=t[9].header+"",n,u;return{c(){e=we("div"),n=rr(r),this.h()},l(s){e=Te(s,"DIV",{style:!0,class:!0});var i=re(e);n=nr(i,r),i.forEach(J),this.h()},h(){m(e,"style",u=Wr(t[2]["ui.text.book-group-title"])),m(e,"class","svelte-1x9cbzg")},m(s,i){be(s,e,i),ue(e,n)},p(s,i){i&1&&r!==(r=s[9].header+"")&&du(n,r),i&4&&u!==(u=Wr(s[2]["ui.text.book-group-title"]))&&m(e,"style",u)},d(s){s&&J(e)}}}function Q3(t){let e,r,n=t[9].cells[t[14]*t[1]+t[16]].label+"",u,s,i,o;function a(){return t[7](t[9],t[14],t[16])}return{c(){e=we("td"),r=we("span"),u=rr(n),this.h()},l(c){e=Te(c,"TD",{class:!0});var l=re(e);r=Te(l,"SPAN",{class:!0,style:!0});var f=re(r);u=nr(f,n),f.forEach(J),l.forEach(J),this.h()},h(){m(r,"class","dy-btn dy-btn-square dy-btn-ghost p-0 normal-case truncate text-clip svelte-1x9cbzg"),m(r,"style",s=Wr(Object.fromEntries(Object.entries(t[2]["ui.button.book-grid"]).filter(ey)))),hr(r,"background-color",t[3](t[9].cells[t[14]*t[1]+t[16]].id)),m(e,"class","svelte-1x9cbzg")},m(c,l){be(c,e,l),ue(e,r),ue(r,u),i||(o=Ct(r,"click",a),i=!0)},p(c,l){t=c,l&3&&n!==(n=t[9].cells[t[14]*t[1]+t[16]].label+"")&&du(u,n),l&4&&s!==(s=Wr(Object.fromEntries(Object.entries(t[2]["ui.button.book-grid"]).filter(ey))))&&m(r,"style",s),l&11&&hr(r,"background-color",t[3](t[9].cells[t[14]*t[1]+t[16]].id))},d(c){c&&J(e),i=!1,o()}}}function Y3(t){let e,r=t[14]*t[1]+t[16]<t[9].cells.length&&Q3(t);return{c(){r&&r.c(),e=Wt()},l(n){r&&r.l(n),e=Wt()},m(n,u){r&&r.m(n,u),be(n,e,u)},p(n,u){n[14]*n[1]+n[16]<n[9].cells.length?r?r.p(n,u):(r=Q3(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&J(e)}}}function X3(t){let e,r=Array(t[1]),n=[];for(let u=0;u<r.length;u+=1)n[u]=Y3(W3(t,r,u));return{c(){e=we("tr");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=Te(u,"TR",{class:!0});var s=re(e);for(let i=0;i<n.length;i+=1)n[i].l(s);s.forEach(J),this.h()},h(){m(e,"class","svelte-1x9cbzg")},m(u,s){be(u,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(u,s){if(s&31){r=Array(u[1]);let i;for(i=0;i<r.length;i+=1){const o=W3(u,r,i);n[i]?n[i].p(o,s):(n[i]=Y3(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(u){u&&J(e),fo(n,u)}}}function Z3(t){let e,r,n,u=t[9].header&&z3(t),s=Array(Math.ceil(t[9].cells.length/t[1])),i=[];for(let o=0;o<s.length;o+=1)i[o]=X3(H3(t,s,o));return{c(){u&&u.c(),e=nt(),r=we("table");for(let o=0;o<i.length;o+=1)i[o].c();n=nt(),this.h()},l(o){u&&u.l(o),e=ut(o),r=Te(o,"TABLE",{class:!0});var a=re(r);for(let c=0;c<i.length;c+=1)i[c].l(a);n=ut(a),a.forEach(J),this.h()},h(){m(r,"class","svelte-1x9cbzg")},m(o,a){u&&u.m(o,a),be(o,e,a),be(o,r,a);for(let c=0;c<i.length;c+=1)i[c].m(r,null);ue(r,n)},p(o,a){if(o[9].header?u?u.p(o,a):(u=z3(o),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),a&31){s=Array(Math.ceil(o[9].cells.length/o[1]));let c;for(c=0;c<s.length;c+=1){const l=H3(o,s,c);i[c]?i[c].p(l,a):(i[c]=X3(l),i[c].c(),i[c].m(r,n))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(o){u&&u.d(o),o&&J(e),o&&J(r),fo(i,o)}}}function gI(t){let e,r=t[0],n=[];for(let u=0;u<r.length;u+=1)n[u]=Z3(J3(t,r,u));return{c(){for(let u=0;u<n.length;u+=1)n[u].c();e=Wt()},l(u){for(let s=0;s<n.length;s+=1)n[s].l(u);e=Wt()},m(u,s){for(let i=0;i<n.length;i+=1)n[i].m(u,s);be(u,e,s)},p(u,[s]){if(s&31){r=u[0];let i;for(i=0;i<r.length;i+=1){const o=J3(u,r,i);n[i]?n[i].p(o,s):(n[i]=Z3(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:_e,o:_e,d(u){fo(n,u),u&&J(e)}}}const ey=([t])=>t!="background-color";function AI(t,e,r){let n,u,s,i;ct(t,ds,d=>r(2,u=d)),ct(t,PT,d=>r(5,s=d)),ct(t,pu,d=>r(6,i=d));let{options:o=[]}=e,{cols:a=6}=e;const c=Em();function l(d){c("menuaction",{text:d})}const f=(d,p,h)=>l(d.cells[p*a+h].id);return t.$$set=d=>{"options"in d&&r(0,o=d.options),"cols"in d&&r(1,a=d.cols)},t.$$.update=()=>{t.$$.dirty&100&&r(3,n=d=>{var v;const p=(v=cr.bookCollections.find(S=>S.id===i.collection).books.find(S=>S.id===d))==null?void 0:v.section;return Object.keys(s).includes(p)?s[p]:u["ui.button.book-grid"]["background-color"]})},[o,a,u,n,l,s,i,f]}class xa extends Ue{constructor(e){super(),Ke(this,e,AI,gI,Je,{options:0,cols:1})}}function ty(t,e,r){const n=t.slice();return n[5]=e[r],n}function ry(t,e,r){const n=t.slice();return n[8]=e[r],n[10]=r,n}function ny(t,e,r){const n=t.slice();return n[8]=e[r],n[12]=r,n}function uy(t){let e,r=t[5].header+"",n,u;return{c(){e=we("div"),n=rr(r),this.h()},l(s){e=Te(s,"DIV",{style:!0,class:!0});var i=re(e);n=nr(i,r),i.forEach(J),this.h()},h(){m(e,"style",u=Wr(t[1]["ui.text.book-group-title"])),m(e,"class","svelte-wp4cqc")},m(s,i){be(s,e,i),ue(e,n)},p(s,i){i&1&&r!==(r=s[5].header+"")&&du(n,r),i&2&&u!==(u=Wr(s[1]["ui.text.book-group-title"]))&&m(e,"style",u)},d(s){s&&J(e)}}}function sy(t){let e,r,n=t[5].cells[t[10]*t[5].cells.length+t[12]].label+"",u,s,i;function o(){return t[3](t[5],t[10],t[12])}return{c(){e=we("tr"),r=we("span"),u=rr(n),this.h()},l(a){e=Te(a,"TR",{class:!0});var c=re(e);r=Te(c,"SPAN",{class:!0});var l=re(r);u=nr(l,n),l.forEach(J),c.forEach(J),this.h()},h(){m(r,"class","menu p-0 cursor-pointer hover:bg-base-100 min-w-[16rem] svelte-wp4cqc"),m(e,"class","svelte-wp4cqc")},m(a,c){be(a,e,c),ue(e,r),ue(r,u),s||(i=Ct(r,"click",o),s=!0)},p(a,c){t=a,c&1&&n!==(n=t[5].cells[t[10]*t[5].cells.length+t[12]].label+"")&&du(u,n)},d(a){a&&J(e),s=!1,i()}}}function iy(t){let e,r=t[10]*t[5].cells.length+t[12]<t[5].cells.length&&sy(t);return{c(){r&&r.c(),e=Wt()},l(n){r&&r.l(n),e=Wt()},m(n,u){r&&r.m(n,u),be(n,e,u)},p(n,u){n[10]*n[5].cells.length+n[12]<n[5].cells.length?r?r.p(n,u):(r=sy(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(n){r&&r.d(n),n&&J(e)}}}function oy(t){let e,r=Array(t[5].cells.length),n=[];for(let u=0;u<r.length;u+=1)n[u]=iy(ny(t,r,u));return{c(){e=we("td");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=Te(u,"TD",{class:!0});var s=re(e);for(let i=0;i<n.length;i+=1)n[i].l(s);s.forEach(J),this.h()},h(){m(e,"class","svelte-wp4cqc")},m(u,s){be(u,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(u,s){if(s&5){r=Array(u[5].cells.length);let i;for(i=0;i<r.length;i+=1){const o=ny(u,r,i);n[i]?n[i].p(o,s):(n[i]=iy(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(u){u&&J(e),fo(n,u)}}}function ay(t){let e,r,n,u=t[5].header&&uy(t),s=Array(t[5].cells.length),i=[];for(let o=0;o<s.length;o+=1)i[o]=oy(ry(t,s,o));return{c(){u&&u.c(),e=nt(),r=we("table");for(let o=0;o<i.length;o+=1)i[o].c();n=nt(),this.h()},l(o){u&&u.l(o),e=ut(o),r=Te(o,"TABLE",{class:!0});var a=re(r);for(let c=0;c<i.length;c+=1)i[c].l(a);n=ut(a),a.forEach(J),this.h()},h(){m(r,"class","svelte-wp4cqc")},m(o,a){u&&u.m(o,a),be(o,e,a),be(o,r,a);for(let c=0;c<i.length;c+=1)i[c].m(r,null);ue(r,n)},p(o,a){if(o[5].header?u?u.p(o,a):(u=uy(o),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),a&5){s=Array(o[5].cells.length);let c;for(c=0;c<s.length;c+=1){const l=ry(o,s,c);i[c]?i[c].p(l,a):(i[c]=oy(l),i[c].c(),i[c].m(r,n))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}},d(o){u&&u.d(o),o&&J(e),o&&J(r),fo(i,o)}}}function SI(t){let e,r=t[0],n=[];for(let u=0;u<r.length;u+=1)n[u]=ay(ty(t,r,u));return{c(){for(let u=0;u<n.length;u+=1)n[u].c();e=Wt()},l(u){for(let s=0;s<n.length;s+=1)n[s].l(u);e=Wt()},m(u,s){for(let i=0;i<n.length;i+=1)n[i].m(u,s);be(u,e,s)},p(u,[s]){if(s&7){r=u[0];let i;for(i=0;i<r.length;i+=1){const o=ty(u,r,i);n[i]?n[i].p(o,s):(n[i]=ay(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:_e,o:_e,d(u){fo(n,u),u&&J(e)}}}function FI(t,e,r){let n;ct(t,ds,a=>r(1,n=a));let{options:u=[]}=e;const s=Em();function i(a){s("menuaction",{text:a})}const o=(a,c,l)=>i(a.cells[c*a.cells.length+l].id);return t.$$set=a=>{"options"in a&&r(0,u=a.options)},[u,n,i,o]}class bI extends Ue{constructor(e){super(),Ke(this,e,FI,SI,Je,{options:0})}}function CI(t){let e,r,n,u,s,i;return s=new zC({props:{color:"white"}}),{c(){e=we("div"),r=rr(t[5]),u=nt(),Et(s.$$.fragment),this.h()},l(o){e=Te(o,"DIV",{class:!0,style:!0});var a=re(e);r=nr(a,t[5]),a.forEach(J),u=ut(o),St(s.$$.fragment,o),this.h()},h(){m(e,"class","normal-case"),m(e,"style",n=Wr(t[7]["ui.selector.book"]))},m(o,a){be(o,e,a),ue(e,r),be(o,u,a),yt(s,o,a),i=!0},p(o,a){(!i||a&32)&&du(r,o[5]),(!i||a&128&&n!==(n=Wr(o[7]["ui.selector.book"])))&&m(e,"style",n)},i(o){i||($e(s.$$.fragment,o),i=!0)},o(o){Ie(s.$$.fragment,o),i=!1},d(o){o&&J(e),o&&J(u),vt(s,o)}}}function _I(t){let e,r,n={options:{[t[2]]:t[12],[t[4]]:t[13](t[1])},active:t[2]};return e=new yc({props:n}),t[22](e),e.$on("menuaction",t[10]),{c(){Et(e.$$.fragment)},l(u){St(e.$$.fragment,u)},m(u,s){yt(e,u,s),r=!0},p(u,s){const i={};s&22&&(i.options={[u[2]]:u[12],[u[4]]:u[13](u[1])}),s&4&&(i.active=u[2]),e.$set(i)},i(u){r||($e(e.$$.fragment,u),r=!0)},o(u){Ie(e.$$.fragment,u),r=!1},d(u){t[22](null),vt(e,u)}}}function wI(t){let e,r,n={options:{[t[2]]:t[12],[t[4]]:t[13](t[1]),[t[3]]:t[14](t[1],t[6])},active:t[2]};return e=new yc({props:n}),t[21](e),e.$on("menuaction",t[10]),{c(){Et(e.$$.fragment)},l(u){St(e.$$.fragment,u)},m(u,s){yt(e,u,s),r=!0},p(u,s){const i={};s&94&&(i.options={[u[2]]:u[12],[u[4]]:u[13](u[1]),[u[3]]:u[14](u[1],u[6])}),s&4&&(i.active=u[2]),e.$set(i)},i(u){r||($e(e.$$.fragment,u),r=!0)},o(u){Ie(e.$$.fragment,u),r=!1},d(u){t[21](null),vt(e,u)}}}function TI(t){let e,r,n={options:{[t[2]]:t[12]},active:t[2]};return e=new yc({props:n}),t[20](e),e.$on("menuaction",t[10]),{c(){Et(e.$$.fragment)},l(u){St(e.$$.fragment,u)},m(u,s){yt(e,u,s),r=!0},p(u,s){const i={};s&4&&(i.options={[u[2]]:u[12]}),s&4&&(i.active=u[2]),e.$set(i)},i(u){r||($e(e.$$.fragment,u),r=!0)},o(u){Ie(e.$$.fragment,u),r=!1},d(u){t[20](null),vt(e,u)}}}function $I(t){let e,r,n,u;const s=[TI,wI,_I],i=[];function o(a,c){return a[8]?0:a[9]?1:2}return r=o(t),n=i[r]=s[r](t),{c(){e=we("div"),n.c()},l(a){e=Te(a,"DIV",{});var c=re(e);n.l(c),c.forEach(J)},m(a,c){be(a,e,c),i[r].m(e,null),u=!0},p(a,c){n.p(a,c)},i(a){u||($e(n),u=!0)},o(a){Ie(n),u=!1},d(a){a&&J(e),i[r].d()}}}function BI(t){let e,r;return e=new gm({props:{$$slots:{content:[$I],label:[CI]},$$scope:{ctx:t}}}),e.$on("nav-end",t[11]),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p(n,[u]){const s={};u&134217983&&(s.$$scope={dirty:u,ctx:n}),e.$set(s)},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function II(t,e,r){let n,u,s,i,o,a,c,l,f,d,p,h,v;ct(t,JC,H=>r(17,f=H)),ct(t,pu,H=>r(18,d=H)),ct(t,Ws,H=>r(19,p=H)),ct(t,ym,H=>r(23,h=H)),ct(t,ds,H=>r(7,v=H));const S=h["book-selection"]==="list",D=!cr.mainFeatures["show-chapter-selector-after-book"],g=h["verse-selection"];let F;function I(H){switch(H.detail.tab){case s:F.setActive(i),lu(Ws,p.book=H.detail.text,p);break;case i:lu(Ws,p.chapter=H.detail.text,p),g?F.setActive(o):k();break;case o:k();break;default:console.log("Book navigateReference: Default");break}}function k(){lu(pu,d={book:p.book,chapter:p.chapter},d),document.activeElement.blur()}function B(){F&&F.setActive(s),Ws.reset()}const M={component:S?bI:xa,props:{options:(({bookLabel:H="abbreviation"})=>{const se=d.collection;let fe=cr.bookCollections.find(K=>K.id===se).books.map(K=>K.testament).reduce((K,z)=>(K.includes(z)||K.push(z),K),[]);return fe.map((K,z)=>({header:f["Book_Group_"+fe[z]],cells:cr.bookCollections.find(te=>te.id===se).books.filter(te=>te.testament===fe[z]).map(te=>({label:te[H],id:te.id}))}))})({bookLabel:S?"name":"abbreviation"})}};function y(H){return{component:xa,props:{options:[{cells:Object.keys(H).map(se=>({label:se,id:se}))}]}}}function P(H,se){return{component:xa,props:{options:[{cells:Object.keys(H[se]).map(fe=>({label:fe,id:fe}))}]}}}function L(H){Xs[H?"unshift":"push"](()=>{F=H,r(0,F)})}function U(H){Xs[H?"unshift":"push"](()=>{F=H,r(0,F)})}function Y(H){Xs[H?"unshift":"push"](()=>{F=H,r(0,F)})}return t.$$.update=()=>{t.$$.dirty&786432&&r(15,n=p.book===""?d.book:p.book),t.$$.dirty&786432&&r(6,u=p.chapter===""?d.chapter:p.chapter),t.$$.dirty&131072&&r(2,s=f.Selector_Book),t.$$.dirty&131072&&r(4,i=f.Selector_Chapter),t.$$.dirty&131072&&r(3,o=f.Selector_Verse),t.$$.dirty&294912&&r(5,a=cr.bookCollections.find(H=>H.id===d.docSet.split("_")[1]).books.find(H=>H.id==n).name),t.$$.dirty&262144&&r(16,c=HC.find(H=>H.id===d.docSet).documents),t.$$.dirty&98304&&r(1,l=c.find(H=>H.bookCode===n).versesByChapters)},[F,l,s,o,i,a,u,v,D,g,I,B,M,y,P,n,c,f,d,p,L,U,Y]}class PI extends Ue{constructor(e){super(),Ke(this,e,II,BI,Je,{})}}function cy(t){let e,r;return e=new gm({props:{$$slots:{content:[xI],label:[OI]},$$scope:{ctx:t}}}),e.$on("nav-end",t[9]),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p(n,u){const s={};u&4194430&&(s.$$scope={dirty:u,ctx:n}),e.$set(s)},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function kI(t){let e,r;return e=new zC({props:{color:"white"}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function OI(t){let e,r,n,u,s,i,o=t[11]&&kI();return{c(){e=we("div"),r=rr(t[5]),u=nt(),o&&o.c(),s=Wt(),this.h()},l(a){e=Te(a,"DIV",{style:!0});var c=re(e);r=nr(c,t[5]),c.forEach(J),u=ut(a),o&&o.l(a),s=Wt(),this.h()},h(){m(e,"style",n=Wr(t[6]["ui.selector.chapter"]))},m(a,c){be(a,e,c),ue(e,r),be(a,u,c),o&&o.m(a,c),be(a,s,c),i=!0},p(a,c){(!i||c&32)&&du(r,a[5]),(!i||c&64&&n!==(n=Wr(a[6]["ui.selector.chapter"])))&&m(e,"style",n)},i(a){i||($e(o),i=!0)},o(a){Ie(o),i=!1},d(a){a&&J(e),a&&J(u),o&&o.d(a),a&&J(s)}}}function NI(t){let e,r,n,u;const s=[qI,RI],i=[];function o(a,c){return a[7]?0:1}return r=o(t),n=i[r]=s[r](t),{c(){e=we("div"),n.c()},l(a){e=Te(a,"DIV",{});var c=re(e);n.l(c),c.forEach(J)},m(a,c){be(a,e,c),i[r].m(e,null),u=!0},p(a,c){n.p(a,c)},i(a){u||($e(n),u=!0)},o(a){Ie(n),u=!1},d(a){a&&J(e),i[r].d()}}}function RI(t){let e,r,n={options:{[t[3]]:t[12](t[2])},active:t[3]};return e=new yc({props:n}),t[19](e),e.$on("menuaction",t[8]),{c(){Et(e.$$.fragment)},l(u){St(e.$$.fragment,u)},m(u,s){yt(e,u,s),r=!0},p(u,s){const i={};s&12&&(i.options={[u[3]]:u[12](u[2])}),s&8&&(i.active=u[3]),e.$set(i)},i(u){r||($e(e.$$.fragment,u),r=!0)},o(u){Ie(e.$$.fragment,u),r=!1},d(u){t[19](null),vt(e,u)}}}function qI(t){let e,r,n={options:{[t[3]]:t[12](t[2]),[t[4]]:t[13](t[2],t[5])},active:t[3]};return e=new yc({props:n}),t[18](e),e.$on("menuaction",t[8]),{c(){Et(e.$$.fragment)},l(u){St(e.$$.fragment,u)},m(u,s){yt(e,u,s),r=!0},p(u,s){const i={};s&60&&(i.options={[u[3]]:u[12](u[2]),[u[4]]:u[13](u[2],u[5])}),s&8&&(i.active=u[3]),e.$set(i)},i(u){r||($e(e.$$.fragment,u),r=!0)},o(u){Ie(e.$$.fragment,u),r=!1},d(u){t[18](null),vt(e,u)}}}function xI(t){let e,r,n=t[11]&&NI(t);return{c(){n&&n.c(),e=Wt()},l(u){n&&n.l(u),e=Wt()},m(u,s){n&&n.m(u,s),be(u,e,s),r=!0},p(u,s){u[11]&&n.p(u,s)},i(u){r||($e(n),r=!0)},o(u){Ie(n),r=!1},d(u){n&&n.d(u),u&&J(e)}}}function MI(t){let e,r,n=t[10]&&(t[0].book===""||t[0].chapter!=="")&&cy(t);return{c(){n&&n.c(),e=Wt()},l(u){n&&n.l(u),e=Wt()},m(u,s){n&&n.m(u,s),be(u,e,s),r=!0},p(u,[s]){u[10]&&(u[0].book===""||u[0].chapter!=="")?n?(n.p(u,s),s&1&&$e(n,1)):(n=cy(u),n.c(),$e(n,1),n.m(e.parentNode,e)):n&&(au(),Ie(n,1,1,()=>{n=null}),cu())},i(u){r||($e(n),r=!0)},o(u){Ie(n),r=!1},d(u){n&&n.d(u),u&&J(e)}}}function jI(t,e,r){let n,u,s,i,o,a,c,l,f,d,p;ct(t,pu,y=>r(16,c=y)),ct(t,Ws,y=>r(0,l=y)),ct(t,JC,y=>r(17,f=y)),ct(t,ym,y=>r(20,d=y)),ct(t,ds,y=>r(6,p=y));const h=d["verse-selection"];let v;function S(y){switch(y.detail.tab){case s:lu(Ws,l.chapter=y.detail.text,l),h?v.setActive(i):D();break;case i:D();break;default:console.log("Chapter navigateReference: Default");break}}function D(){lu(pu,c.chapter=l.chapter,c),document.activeElement.blur()}function g(){v.setActive(s),Ws.reset()}const F=cr.mainFeatures["show-chapter-number-on-app-bar"],I=cr.mainFeatures["show-chapter-selector"];function k(y){return{component:xa,props:{options:[{cells:Object.keys(y).map(P=>({label:P,id:P}))}]}}}function B(y,P){return{component:xa,props:{options:[{cells:Object.keys(y[P]).map(L=>({label:L,id:L}))}]}}}function O(y){Xs[y?"unshift":"push"](()=>{v=y,r(1,v)})}function M(y){Xs[y?"unshift":"push"](()=>{v=y,r(1,v)})}return t.$$.update=()=>{t.$$.dirty&65537&&r(14,n=l.book===""?c.book:l.book),t.$$.dirty&65537&&r(5,u=l.chapter===""?c.chapter:l.chapter),t.$$.dirty&131072&&r(3,s=f.Selector_Chapter),t.$$.dirty&131072&&r(4,i=f.Selector_Verse),t.$$.dirty&65536&&r(15,o=HC.find(y=>y.id===c.docSet).documents),t.$$.dirty&49152&&r(2,a=o.find(y=>y.bookCode===n).versesByChapters)},[l,v,a,s,i,u,p,h,S,g,F,I,k,B,n,o,c,f,O,M]}class LI extends Ue{constructor(e){super(),Ke(this,e,jI,MI,Je,{})}}function GI(t){let e,r,n;return r=new gm({props:{$$slots:{content:[WI],label:[VI]},$$scope:{ctx:t}}}),{c(){e=we("div"),Et(r.$$.fragment),this.h()},l(u){e=Te(u,"DIV",{class:!0});var s=re(e);St(r.$$.fragment,s),s.forEach(J),this.h()},h(){m(e,"class","dy-dropdown dy-dropdown-end")},m(u,s){be(u,e,s),yt(r,e,null),n=!0},p(u,s){const i={};s&1048583&&(i.$$scope={dirty:s,ctx:u}),r.$set(i)},i(u){n||($e(r.$$.fragment,u),n=!0)},o(u){Ie(r.$$.fragment,u),n=!1},d(u){u&&J(e),vt(r)}}}function VI(t){let e,r;return e=new WC({props:{color:"white"}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},p:_e,i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function UI(t){let e,r,n,u,s,i,o,a,c,l;return r=new WC({props:{color:t[0]==="Dark"?"white":"black",size:"1rem"}}),{c(){e=we("div"),Et(r.$$.fragment),n=nt(),u=we("input"),s=nt(),i=we("div"),o=rr(t[1]),this.h()},l(f){e=Te(f,"DIV",{class:!0});var d=re(e);St(r.$$.fragment,d),n=ut(d),u=Te(d,"INPUT",{type:!0,min:!0,max:!0,class:!0}),s=ut(d),i=Te(d,"DIV",{class:!0});var p=re(i);o=nr(p,t[1]),p.forEach(J),d.forEach(J),this.h()},h(){m(u,"type","range"),m(u,"min",cr.mainFeatures["text-size-min"]),m(u,"max",cr.mainFeatures["text-size-max"]),m(u,"class","dy-range dy-range-xs"),m(i,"class","text-sm place-self-end"),m(e,"class","grid gap-4 items-center range-row m-2  svelte-1wmkevk")},m(f,d){be(f,e,d),yt(r,e,null),ue(e,n),ue(e,u),y1(u,t[1]),ue(e,s),ue(e,i),ue(i,o),a=!0,c||(l=[Ct(u,"change",t[10]),Ct(u,"input",t[10])],c=!0)},p(f,d){const p={};d&1&&(p.color=f[0]==="Dark"?"white":"black"),r.$set(p),d&2&&y1(u,f[1]),(!a||d&2)&&du(o,f[1])},i(f){a||($e(r.$$.fragment,f),a=!0)},o(f){Ie(r.$$.fragment,f),a=!1},d(f){f&&J(e),vt(r),c=!1,fs(l)}}}function KI(t){let e,r,n,u,s,i,o=t[9](t[2])+"",a,c,l,f;return r=new WB.FormatLineSpacing({props:{color:t[0]==="Dark"?"white":"black",size:"1rem"}}),{c(){e=we("div"),Et(r.$$.fragment),n=nt(),u=we("input"),s=nt(),i=we("div"),a=rr(o),this.h()},l(d){e=Te(d,"DIV",{class:!0});var p=re(e);St(r.$$.fragment,p),n=ut(p),u=Te(p,"INPUT",{type:!0,min:!0,max:!0,class:!0}),s=ut(p),i=Te(p,"DIV",{class:!0});var h=re(i);a=nr(h,o),h.forEach(J),p.forEach(J),this.h()},h(){m(u,"type","range"),m(u,"min","100"),m(u,"max","250"),m(u,"class","dy-range dy-range-xs"),m(i,"class","text-sm place-self-end "),m(e,"class","grid gap-4 items-center range-row m-2  svelte-1wmkevk")},m(d,p){be(d,e,p),yt(r,e,null),ue(e,n),ue(e,u),y1(u,t[2]),ue(e,s),ue(e,i),ue(i,a),c=!0,l||(f=[Ct(u,"change",t[11]),Ct(u,"input",t[11])],l=!0)},p(d,p){const h={};p&1&&(h.color=d[0]==="Dark"?"white":"black"),r.$set(h),p&4&&y1(u,d[2]),(!c||p&4)&&o!==(o=d[9](d[2])+"")&&du(a,o)},i(d){c||($e(r.$$.fragment,d),c=!0)},o(d){Ie(r.$$.fragment,d),c=!1},d(d){d&&J(e),vt(r),l=!1,fs(f)}}}function JI(t){let e,r=Hl.includes("Normal"),n,u,s,i,o,a,c=r&&HI(t);return{c(){e=we("div"),c&&c.c(),n=nt(),u=we("button"),s=nt(),i=we("button"),this.h()},l(l){e=Te(l,"DIV",{class:!0});var f=re(e);c&&c.l(f),n=ut(f),u=Te(f,"BUTTON",{class:!0}),re(u).forEach(J),s=ut(f),i=Te(f,"BUTTON",{class:!0}),re(i).forEach(J),f.forEach(J),this.h()},h(){m(u,"class","dy-btn-sm"),hr(u,"background-color",t[7]("Sepia")),hr(u,"border",t[8]("Sepia",t[0])),m(i,"class","dy-btn-sm"),hr(i,"background-color",t[7]("Dark")),hr(i,"border",t[8]("Dark",t[0])),m(e,"class","grid gap-2 m-2"),xu(e,"grid-cols-2",Hl.length===2),xu(e,"grid-cols-3",Hl.length===3)},m(l,f){be(l,e,f),c&&c.m(e,null),ue(e,n),ue(e,u),ue(e,s),ue(e,i),o||(a=[Ct(u,"click",t[13]),Ct(i,"click",t[14])],o=!0)},p(l,f){r&&c.p(l,f),f&1&&hr(u,"border",l[8]("Sepia",l[0])),f&1&&hr(i,"border",l[8]("Dark",l[0]))},d(l){l&&J(e),c&&c.d(),o=!1,fs(a)}}}function HI(t){let e,r,n;return{c(){e=we("button"),this.h()},l(u){e=Te(u,"BUTTON",{class:!0}),re(e).forEach(J),this.h()},h(){m(e,"class","dy-btn-sm"),hr(e,"background-color",t[7]("Normal")),hr(e,"border",t[8]("Normal",t[0]))},m(u,s){be(u,e,s),r||(n=Ct(e,"click",t[12]),r=!0)},p(u,s){s&1&&hr(e,"border",u[8]("Normal",u[0]))},d(u){u&&J(e),r=!1,n()}}}function WI(t){let e,r,n,u,s=t[3]&&UI(t),i=t[4]&&KI(t),o=t[5]&&JI(t);return{c(){s&&s.c(),e=nt(),i&&i.c(),r=nt(),o&&o.c(),n=Wt()},l(a){s&&s.l(a),e=ut(a),i&&i.l(a),r=ut(a),o&&o.l(a),n=Wt()},m(a,c){s&&s.m(a,c),be(a,e,c),i&&i.m(a,c),be(a,r,c),o&&o.m(a,c),be(a,n,c),u=!0},p(a,c){a[3]&&s.p(a,c),a[4]&&i.p(a,c),a[5]&&o.p(a,c)},i(a){u||($e(s),$e(i),u=!0)},o(a){Ie(s),Ie(i),u=!1},d(a){s&&s.d(a),a&&J(e),i&&i.d(a),a&&J(r),o&&o.d(a),a&&J(n)}}}function zI(t){let e,r,n=t[6]&&GI(t);return{c(){n&&n.c(),e=Wt()},l(u){n&&n.l(u),e=Wt()},m(u,s){n&&n.m(u,s),be(u,e,s),r=!0},p(u,[s]){u[6]&&n.p(u,s)},i(u){r||($e(n),r=!0)},o(u){Ie(n),r=!1},d(u){n&&n.d(u),u&&J(e)}}}function QI(t,e,r){let n,u,s;ct(t,kT,g=>r(15,g)),ct(t,Dl,g=>r(0,n=g)),ct(t,w2,g=>r(1,u=g)),ct(t,T2,g=>r(2,s=g));const i=cr.mainFeatures["text-font-size-slider"],o=cr.mainFeatures["text-line-height-slider"],a=Hl.length>1,c=i||o||a,l=g=>{const F=cr.styles.find(I=>I.name==="ui.background").properties["background-color"];return F.startsWith("#")?F:cr.themes.find(I=>I.name===g).colorSets.find(I=>I.type==="main").colors[F]},f=(g,F)=>(g===F?"3px":"1px")+" solid "+(g==="Dark"?"#FFFFFF":"#888888"),d=g=>(g/100).toLocaleString(void 0,{minimumFractionDigits:2});function p(){u=q3(this.value),w2.set(u)}function h(){s=q3(this.value),T2.set(s)}return[n,u,s,i,o,a,c,l,f,d,p,h,()=>lu(Dl,n="Normal",n),()=>lu(Dl,n="Sepia",n),()=>lu(Dl,n="Dark",n)]}class YI extends Ue{constructor(e){super(),Ke(this,e,QI,zI,Je,{})}}var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Am(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var u=[null];u.push.apply(u,arguments);var s=Function.bind.apply(e,u);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var u=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,u.get?u:{enumerable:!0,get:function(){return t[n]}})}),r}var Bt={},XI={get exports(){return Bt},set exports(t){Bt=t}},hu={},ZI={get exports(){return hu},set exports(t){hu=t}},$2={},eP={get exports(){return $2},set exports(t){$2=t}},yl=function(t){return t&&t.Math==Math&&t},sn=yl(typeof globalThis=="object"&&globalThis)||yl(typeof window=="object"&&window)||yl(typeof self=="object"&&self)||yl(typeof qn=="object"&&qn)||function(){return this}()||Function("return this")(),yr=function(t){try{return!!t()}catch{return!0}},tP=yr,_f=!tP(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),rP=_f,YC=Function.prototype,ly=YC.apply,fy=YC.call,XC=typeof Reflect=="object"&&Reflect.apply||(rP?fy.bind(ly):function(){return fy.apply(ly,arguments)}),O0,dy;function vr(){if(dy)return O0;dy=1;var t=_f,e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return O0=t?n:function(u){return function(){return r.apply(u,arguments)}},O0}var N0,py;function po(){if(py)return N0;py=1;var t=vr(),e=t({}.toString),r=t("".slice);return N0=function(n){return r(e(n),8,-1)},N0}var nP=po(),uP=vr(),Sm=function(t){if(nP(t)==="Function")return uP(t)},B2=typeof document=="object"&&document.all,sP=typeof B2>"u"&&B2!==void 0,ZC={all:B2,IS_HTMLDDA:sP},e5=ZC,iP=e5.all,kr=e5.IS_HTMLDDA?function(t){return typeof t=="function"||t===iP}:function(t){return typeof t=="function"},Fm={},oP=yr,Ln=!oP(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),aP=_f,vl=Function.prototype.call,Gn=aP?vl.bind(vl):function(){return vl.apply(vl,arguments)},bm={},t5={}.propertyIsEnumerable,r5=Object.getOwnPropertyDescriptor,cP=r5&&!t5.call({1:2},1);bm.f=cP?function(e){var r=r5(this,e);return!!r&&r.enumerable}:t5;var vc=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},lP=vr(),fP=yr,dP=po(),R0=Object,pP=lP("".split),Cm=fP(function(){return!R0("z").propertyIsEnumerable(0)})?function(t){return dP(t)=="String"?pP(t,""):R0(t)}:R0,_m=function(t){return t==null},hP=_m,mP=TypeError,wf=function(t){if(hP(t))throw mP("Can't call method on "+t);return t},DP=Cm,EP=wf,ps=function(t){return DP(EP(t))},hy=kr,n5=ZC,yP=n5.all,Au=n5.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:hy(t)||t===yP}:function(t){return typeof t=="object"?t!==null:hy(t)},Su={},q0,my;function ci(){if(my)return q0;my=1;var t=Su,e=sn,r=kr,n=function(u){return r(u)?u:void 0};return q0=function(u,s){return arguments.length<2?n(t[u])||n(e[u]):t[u]&&t[u][s]||e[u]&&e[u][s]},q0}var x0,Dy;function Vn(){if(Dy)return x0;Dy=1;var t=vr();return x0=t({}.isPrototypeOf),x0}var M0,Ey;function Tf(){return Ey||(Ey=1,M0=typeof navigator<"u"&&String(navigator.userAgent)||""),M0}var j0,yy;function gc(){if(yy)return j0;yy=1;var t=sn,e=Tf(),r=t.process,n=t.Deno,u=r&&r.versions||n&&n.version,s=u&&u.v8,i,o;return s&&(i=s.split("."),o=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&e&&(i=e.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=e.match(/Chrome\/(\d+)/),i&&(o=+i[1]))),j0=o,j0}var L0,vy;function ho(){if(vy)return L0;vy=1;var t=gc(),e=yr;return L0=!!Object.getOwnPropertySymbols&&!e(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&t&&t<41}),L0}var G0,gy;function u5(){if(gy)return G0;gy=1;var t=ho();return G0=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",G0}var vP=ci(),gP=kr,AP=Vn(),SP=u5(),FP=Object,$f=SP?function(t){return typeof t=="symbol"}:function(t){var e=vP("Symbol");return gP(e)&&AP(e.prototype,FP(t))},bP=String,Bf=function(t){try{return bP(t)}catch{return"Object"}},CP=kr,_P=Bf,wP=TypeError,Ac=function(t){if(CP(t))return t;throw wP(_P(t)+" is not a function")},TP=Ac,$P=_m,wm=function(t,e){var r=t[e];return $P(r)?void 0:TP(r)},V0=Gn,U0=kr,K0=Au,BP=TypeError,IP=function(t,e){var r,n;if(e==="string"&&U0(r=t.toString)&&!K0(n=V0(r,t))||U0(r=t.valueOf)&&!K0(n=V0(r,t))||e!=="string"&&U0(r=t.toString)&&!K0(n=V0(r,t)))return n;throw BP("Can't convert object to primitive value")},g1={},PP={get exports(){return g1},set exports(t){g1=t}},J0,Ay;function Sc(){return Ay||(Ay=1,J0=!0),J0}var H0,Sy;function kP(){if(Sy)return H0;Sy=1;var t=sn,e=Object.defineProperty;return H0=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},H0}var W0,Fy;function Tm(){if(Fy)return W0;Fy=1;var t=sn,e=kP(),r="__core-js_shared__",n=t[r]||e(r,{});return W0=n,W0}var by;function Fc(){if(by)return g1;by=1;var t=Sc(),e=Tm();return(PP.exports=function(r,n){return e[r]||(e[r]=n!==void 0?n:{})})("versions",[]).push({version:"3.27.2",mode:t?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"}),g1}var z0,Cy;function hs(){if(Cy)return z0;Cy=1;var t=wf,e=Object;return z0=function(r){return e(t(r))},z0}var Q0,_y;function Qr(){if(_y)return Q0;_y=1;var t=vr(),e=hs(),r=t({}.hasOwnProperty);return Q0=Object.hasOwn||function(u,s){return r(e(u),s)},Q0}var Y0,wy;function $m(){if(wy)return Y0;wy=1;var t=vr(),e=0,r=Math.random(),n=t(1 .toString);return Y0=function(u){return"Symbol("+(u===void 0?"":u)+")_"+n(++e+r,36)},Y0}var X0,Ty;function Br(){if(Ty)return X0;Ty=1;var t=sn,e=Fc(),r=Qr(),n=$m(),u=ho(),s=u5(),i=t.Symbol,o=e("wks"),a=s?i.for||i:i&&i.withoutSetter||n;return X0=function(c){return r(o,c)||(o[c]=u&&r(i,c)?i[c]:a("Symbol."+c)),o[c]},X0}var OP=Gn,$y=Au,By=$f,NP=wm,RP=IP,qP=Br(),xP=TypeError,MP=qP("toPrimitive"),jP=function(t,e){if(!$y(t)||By(t))return t;var r=NP(t,MP),n;if(r){if(e===void 0&&(e="default"),n=OP(r,t,e),!$y(n)||By(n))return n;throw xP("Can't convert object to primitive value")}return e===void 0&&(e="number"),RP(t,e)},LP=jP,GP=$f,If=function(t){var e=LP(t,"string");return GP(e)?e:e+""},VP=sn,Iy=Au,I2=VP.document,UP=Iy(I2)&&Iy(I2.createElement),s5=function(t){return UP?I2.createElement(t):{}},KP=Ln,JP=yr,HP=s5,i5=!KP&&!JP(function(){return Object.defineProperty(HP("div"),"a",{get:function(){return 7}}).a!=7}),WP=Ln,zP=Gn,QP=bm,YP=vc,XP=ps,ZP=If,ek=Qr(),tk=i5,Py=Object.getOwnPropertyDescriptor;Fm.f=WP?Py:function(e,r){if(e=XP(e),r=ZP(r),tk)try{return Py(e,r)}catch{}if(ek(e,r))return YP(!zP(QP.f,e,r),e[r])};var rk=yr,nk=kr,uk=/#|\.prototype\./,bc=function(t,e){var r=ik[sk(t)];return r==ak?!0:r==ok?!1:nk(e)?rk(e):!!e},sk=bc.normalize=function(t){return String(t).replace(uk,".").toLowerCase()},ik=bc.data={},ok=bc.NATIVE="N",ak=bc.POLYFILL="P",ck=bc,ky=Sm,lk=Ac,fk=_f,dk=ky(ky.bind),Bm=function(t,e){return lk(t),e===void 0?t:fk?dk(t,e):function(){return t.apply(e,arguments)}},Gu={},pk=Ln,hk=yr,o5=pk&&hk(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),mk=Au,Dk=String,Ek=TypeError,Vu=function(t){if(mk(t))return t;throw Ek(Dk(t)+" is not an object")},yk=Ln,vk=i5,gk=o5,gl=Vu,Oy=If,Ak=TypeError,Z0=Object.defineProperty,Sk=Object.getOwnPropertyDescriptor,ed="enumerable",td="configurable",rd="writable";Gu.f=yk?gk?function(e,r,n){if(gl(e),r=Oy(r),gl(n),typeof e=="function"&&r==="prototype"&&"value"in n&&rd in n&&!n[rd]){var u=Sk(e,r);u&&u[rd]&&(e[r]=n.value,n={configurable:td in n?n[td]:u[td],enumerable:ed in n?n[ed]:u[ed],writable:!1})}return Z0(e,r,n)}:Z0:function(e,r,n){if(gl(e),r=Oy(r),gl(n),vk)try{return Z0(e,r,n)}catch{}if("get"in n||"set"in n)throw Ak("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Fk=Ln,bk=Gu,Ck=vc,mo=Fk?function(t,e,r){return bk.f(t,e,Ck(1,r))}:function(t,e,r){return t[e]=r,t},Al=sn,_k=XC,wk=Sm,Tk=kr,$k=Fm.f,Bk=ck,Ei=Su,Ik=Bm,yi=mo,Ny=Qr(),Pk=function(t){var e=function(r,n,u){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,u)}return _k(t,this,arguments)};return e.prototype=t.prototype,e},gr=function(t,e){var r=t.target,n=t.global,u=t.stat,s=t.proto,i=n?Al:u?Al[r]:(Al[r]||{}).prototype,o=n?Ei:Ei[r]||yi(Ei,r,{})[r],a=o.prototype,c,l,f,d,p,h,v,S,D;for(d in e)c=Bk(n?d:r+(u?".":"#")+d,t.forced),l=!c&&i&&Ny(i,d),h=o[d],l&&(t.dontCallGetSet?(D=$k(i,d),v=D&&D.value):v=i[d]),p=l&&v?v:e[d],!(l&&typeof h==typeof p)&&(t.bind&&l?S=Ik(p,Al):t.wrap&&l?S=Pk(p):s&&Tk(p)?S=wk(p):S=p,(t.sham||p&&p.sham||h&&h.sham)&&yi(S,"sham",!0),yi(o,d,S),s&&(f=r+"Prototype",Ny(Ei,f)||yi(Ei,f,{}),yi(Ei[f],d,p),t.real&&a&&(c||!a[d])&&yi(a,d,p)))},kk=gr,Ok=Ln,Ry=Gu.f;kk({target:"Object",stat:!0,forced:Object.defineProperty!==Ry,sham:!Ok},{defineProperty:Ry});var Nk=Su,a5=Nk.Object,Rk=eP.exports=function(e,r,n){return a5.defineProperty(e,r,n)};a5.defineProperty.sham&&(Rk.sham=!0);var qk=$2,xk=qk;(function(t){t.exports=xk})(ZI);var mu={},Mk={get exports(){return mu},set exports(t){mu=t}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Mk);var Ma={},jk={get exports(){return Ma},set exports(t){Ma=t}},A1={},Lk={get exports(){return A1},set exports(t){A1=t}},qy={},nd,xy;function Cc(){if(xy)return nd;xy=1;var t=po();return nd=Array.isArray||function(r){return t(r)=="Array"},nd}var ud,My;function Im(){if(My)return ud;My=1;var t=Br(),e=t("toStringTag"),r={};return r[e]="z",ud=String(r)==="[object z]",ud}var sd,jy;function Do(){if(jy)return sd;jy=1;var t=Im(),e=kr,r=po(),n=Br(),u=n("toStringTag"),s=Object,i=r(function(){return arguments}())=="Arguments",o=function(a,c){try{return a[c]}catch{}};return sd=t?r:function(a){var c,l,f;return a===void 0?"Undefined":a===null?"Null":typeof(l=o(c=s(a),u))=="string"?l:i?r(c):(f=r(c))=="Object"&&e(c.callee)?"Arguments":f},sd}var id,Ly;function Gk(){if(Ly)return id;Ly=1;var t=vr(),e=kr,r=Tm(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(u){return n(u)}),id=r.inspectSource,id}var od,Gy;function Pm(){if(Gy)return od;Gy=1;var t=vr(),e=yr,r=kr,n=Do(),u=ci(),s=Gk(),i=function(){},o=[],a=u("Reflect","construct"),c=/^\s*(?:class|function)\b/,l=t(c.exec),f=!c.exec(i),d=function(v){if(!r(v))return!1;try{return a(i,o,v),!0}catch{return!1}},p=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!l(c,s(v))}catch{return!0}};return p.sham=!0,od=!a||e(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?p:d,od}var ad,Vy;function Vk(){if(Vy)return ad;Vy=1;var t=Math.ceil,e=Math.floor;return ad=Math.trunc||function(n){var u=+n;return(u>0?e:t)(u)},ad}var cd,Uy;function km(){if(Uy)return cd;Uy=1;var t=Vk();return cd=function(e){var r=+e;return r!==r||r===0?0:t(r)},cd}var ld,Ky;function Om(){if(Ky)return ld;Ky=1;var t=km(),e=Math.max,r=Math.min;return ld=function(n,u){var s=t(n);return s<0?e(s+u,0):r(s,u)},ld}var fd,Jy;function Uk(){if(Jy)return fd;Jy=1;var t=km(),e=Math.min;return fd=function(r){return r>0?e(t(r),9007199254740991):0},fd}var dd,Hy;function ms(){if(Hy)return dd;Hy=1;var t=Uk();return dd=function(e){return t(e.length)},dd}var pd,Wy;function Pf(){if(Wy)return pd;Wy=1;var t=If,e=Gu,r=vc;return pd=function(n,u,s){var i=t(u);i in n?e.f(n,i,r(0,s)):n[i]=s},pd}var hd,zy;function Nm(){if(zy)return hd;zy=1;var t=yr,e=Br(),r=gc(),n=e("species");return hd=function(u){return r>=51||!t(function(){var s=[],i=s.constructor={};return i[n]=function(){return{foo:1}},s[u](Boolean).foo!==1})},hd}var md,Qy;function c5(){if(Qy)return md;Qy=1;var t=vr();return md=t([].slice),md}var Yy;function Kk(){if(Yy)return qy;Yy=1;var t=gr,e=Cc(),r=Pm(),n=Au,u=Om(),s=ms(),i=ps,o=Pf(),a=Br(),c=Nm(),l=c5(),f=c("slice"),d=a("species"),p=Array,h=Math.max;return t({target:"Array",proto:!0,forced:!f},{slice:function(S,D){var g=i(this),F=s(g),I=u(S,F),k=u(D===void 0?F:D,F),B,O,M;if(e(g)&&(B=g.constructor,r(B)&&(B===p||e(B.prototype))?B=void 0:n(B)&&(B=B[d],B===null&&(B=void 0)),B===p||B===void 0))return l(g,I,k);for(O=new(B===void 0?p:B)(h(k-I,0)),M=0;I<k;I++,M++)I in g&&o(O,M,g[I]);return O.length=M,O}}),qy}var Dd,Xy;function li(){if(Xy)return Dd;Xy=1;var t=Su;return Dd=function(e){return t[e+"Prototype"]},Dd}var Ed,Zy;function Jk(){if(Zy)return Ed;Zy=1,Kk();var t=li();return Ed=t("Array").slice,Ed}var yd,ev;function Hk(){if(ev)return yd;ev=1;var t=Vn(),e=Jk(),r=Array.prototype;return yd=function(n){var u=n.slice;return n===r||t(r,n)&&u===r.slice?e:u},yd}var vd,tv;function l5(){if(tv)return vd;tv=1;var t=Hk();return vd=t,vd}var rv;function S1(){return rv||(rv=1,function(t){t.exports=l5()}(Lk)),A1}var F1={},Wk={get exports(){return F1},set exports(t){F1=t}},nv={},gd,uv;function fi(){if(uv)return gd;uv=1;var t=Do(),e=String;return gd=function(r){if(t(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return e(r)},gd}var Ad,sv;function zk(){if(sv)return Ad;sv=1;var t=vr(),e=km(),r=fi(),n=wf,u=t("".charAt),s=t("".charCodeAt),i=t("".slice),o=function(a){return function(c,l){var f=r(n(c)),d=e(l),p=f.length,h,v;return d<0||d>=p?a?"":void 0:(h=s(f,d),h<55296||h>56319||d+1===p||(v=s(f,d+1))<56320||v>57343?a?u(f,d):h:a?i(f,d,d+2):(h-55296<<10)+(v-56320)+65536)}};return Ad={codeAt:o(!1),charAt:o(!0)},Ad}var Sd,iv;function Qk(){if(iv)return Sd;iv=1;var t=sn,e=kr,r=t.WeakMap;return Sd=e(r)&&/native code/.test(String(r)),Sd}var Fd,ov;function kf(){if(ov)return Fd;ov=1;var t=Fc(),e=$m(),r=t("keys");return Fd=function(n){return r[n]||(r[n]=e(n))},Fd}var bd,av;function Of(){return av||(av=1,bd={}),bd}var Cd,cv;function Rm(){if(cv)return Cd;cv=1;var t=Qk(),e=sn,r=Au,n=mo,u=Qr(),s=Tm(),i=kf(),o=Of(),a="Object already initialized",c=e.TypeError,l=e.WeakMap,f,d,p,h=function(g){return p(g)?d(g):f(g,{})},v=function(g){return function(F){var I;if(!r(F)||(I=d(F)).type!==g)throw c("Incompatible receiver, "+g+" required");return I}};if(t||s.state){var S=s.state||(s.state=new l);S.get=S.get,S.has=S.has,S.set=S.set,f=function(g,F){if(S.has(g))throw c(a);return F.facade=g,S.set(g,F),F},d=function(g){return S.get(g)||{}},p=function(g){return S.has(g)}}else{var D=i("state");o[D]=!0,f=function(g,F){if(u(g,D))throw c(a);return F.facade=g,n(g,D,F),F},d=function(g){return u(g,D)?g[D]:{}},p=function(g){return u(g,D)}}return Cd={set:f,get:d,has:p,enforce:h,getterFor:v},Cd}var _d,lv;function Yk(){if(lv)return _d;lv=1;var t=Ln,e=Qr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,u=e(r,"name"),s=u&&function(){}.name==="something",i=u&&(!t||t&&n(r,"name").configurable);return _d={EXISTS:u,PROPER:s,CONFIGURABLE:i},_d}var wd={},Td,fv;function f5(){if(fv)return Td;fv=1;var t=ps,e=Om(),r=ms(),n=function(u){return function(s,i,o){var a=t(s),c=r(a),l=e(o,c),f;if(u&&i!=i){for(;c>l;)if(f=a[l++],f!=f)return!0}else for(;c>l;l++)if((u||l in a)&&a[l]===i)return u||l||0;return!u&&-1}};return Td={includes:n(!0),indexOf:n(!1)},Td}var $d,dv;function d5(){if(dv)return $d;dv=1;var t=vr(),e=Qr(),r=ps,n=f5().indexOf,u=Of(),s=t([].push);return $d=function(i,o){var a=r(i),c=0,l=[],f;for(f in a)!e(u,f)&&e(a,f)&&s(l,f);for(;o.length>c;)e(a,f=o[c++])&&(~n(l,f)||s(l,f));return l},$d}var Bd,pv;function qm(){return pv||(pv=1,Bd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Bd}var Id,hv;function p5(){if(hv)return Id;hv=1;var t=d5(),e=qm();return Id=Object.keys||function(n){return t(n,e)},Id}var mv;function h5(){if(mv)return wd;mv=1;var t=Ln,e=o5,r=Gu,n=Vu,u=ps,s=p5();return wd.f=t&&!e?Object.defineProperties:function(o,a){n(o);for(var c=u(a),l=s(a),f=l.length,d=0,p;f>d;)r.f(o,p=l[d++],c[p]);return o},wd}var Pd,Dv;function Xk(){if(Dv)return Pd;Dv=1;var t=ci();return Pd=t("document","documentElement"),Pd}var kd,Ev;function Nf(){if(Ev)return kd;Ev=1;var t=Vu,e=h5(),r=qm(),n=Of(),u=Xk(),s=s5,i=kf(),o=">",a="<",c="prototype",l="script",f=i("IE_PROTO"),d=function(){},p=function(g){return a+l+o+g+a+"/"+l+o},h=function(g){g.write(p("")),g.close();var F=g.parentWindow.Object;return g=null,F},v=function(){var g=s("iframe"),F="java"+l+":",I;return g.style.display="none",u.appendChild(g),g.src=String(F),I=g.contentWindow.document,I.open(),I.write(p("document.F=Object")),I.close(),I.F},S,D=function(){try{S=new ActiveXObject("htmlfile")}catch{}D=typeof document<"u"?document.domain&&S?h(S):v():h(S);for(var g=r.length;g--;)delete D[c][r[g]];return D()};return n[f]=!0,kd=Object.create||function(F,I){var k;return F!==null?(d[c]=t(F),k=new d,d[c]=null,k[f]=F):k=D(),I===void 0?k:e.f(k,I)},kd}var Od,yv;function Zk(){if(yv)return Od;yv=1;var t=yr;return Od=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Od}var Nd,vv;function m5(){if(vv)return Nd;vv=1;var t=Qr(),e=kr,r=hs(),n=kf(),u=Zk(),s=n("IE_PROTO"),i=Object,o=i.prototype;return Nd=u?i.getPrototypeOf:function(a){var c=r(a);if(t(c,s))return c[s];var l=c.constructor;return e(l)&&c instanceof l?l.prototype:c instanceof i?o:null},Nd}var Rd,gv;function Rf(){if(gv)return Rd;gv=1;var t=mo;return Rd=function(e,r,n,u){return u&&u.enumerable?e[r]=n:t(e,r,n),e},Rd}var qd,Av;function D5(){if(Av)return qd;Av=1;var t=yr,e=kr,r=Au,n=Nf(),u=m5(),s=Rf(),i=Br(),o=Sc(),a=i("iterator"),c=!1,l,f,d;[].keys&&(d=[].keys(),"next"in d?(f=u(u(d)),f!==Object.prototype&&(l=f)):c=!0);var p=!r(l)||t(function(){var h={};return l[a].call(h)!==h});return p?l={}:o&&(l=n(l)),e(l[a])||s(l,a,function(){return this}),qd={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:c},qd}var xd,Sv;function eO(){if(Sv)return xd;Sv=1;var t=Im(),e=Do();return xd=t?{}.toString:function(){return"[object "+e(this)+"]"},xd}var Md,Fv;function _c(){if(Fv)return Md;Fv=1;var t=Im(),e=Gu.f,r=mo,n=Qr(),u=eO(),s=Br(),i=s("toStringTag");return Md=function(o,a,c,l){if(o){var f=c?o:o.prototype;n(f,i)||e(f,i,{configurable:!0,value:a}),l&&!t&&r(f,"toString",u)}},Md}var jd,bv;function Eo(){return bv||(bv=1,jd={}),jd}var Ld,Cv;function tO(){if(Cv)return Ld;Cv=1;var t=D5().IteratorPrototype,e=Nf(),r=vc,n=_c(),u=Eo(),s=function(){return this};return Ld=function(i,o,a,c){var l=o+" Iterator";return i.prototype=e(t,{next:r(+!c,a)}),n(i,l,!1,!0),u[l]=s,i},Ld}var Gd,_v;function rO(){if(_v)return Gd;_v=1;var t=kr,e=String,r=TypeError;return Gd=function(n){if(typeof n=="object"||t(n))return n;throw r("Can't set "+e(n)+" as a prototype")},Gd}var Vd,wv;function nO(){if(wv)return Vd;wv=1;var t=vr(),e=Vu,r=rO();return Vd=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,u={},s;try{s=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),s(u,[]),n=u instanceof Array}catch{}return function(o,a){return e(o),r(a),n?s(o,a):o.__proto__=a,o}}():void 0),Vd}var Ud,Tv;function E5(){if(Tv)return Ud;Tv=1;var t=gr,e=Gn,r=Sc(),n=Yk(),u=kr,s=tO(),i=m5(),o=nO(),a=_c(),c=mo,l=Rf(),f=Br(),d=Eo(),p=D5(),h=n.PROPER,v=n.CONFIGURABLE,S=p.IteratorPrototype,D=p.BUGGY_SAFARI_ITERATORS,g=f("iterator"),F="keys",I="values",k="entries",B=function(){return this};return Ud=function(O,M,y,P,L,U,Y){s(y,M,P);var H=function(E){if(E===L&&te)return te;if(!D&&E in K)return K[E];switch(E){case F:return function(){return new y(this,E)};case I:return function(){return new y(this,E)};case k:return function(){return new y(this,E)}}return function(){return new y(this)}},se=M+" Iterator",fe=!1,K=O.prototype,z=K[g]||K["@@iterator"]||L&&K[L],te=!D&&z||H(L),V=M=="Array"&&K.entries||z,N,A,C;if(V&&(N=i(V.call(new O)),N!==Object.prototype&&N.next&&(!r&&i(N)!==S&&(o?o(N,S):u(N[g])||l(N,g,B)),a(N,se,!0,!0),r&&(d[se]=B))),h&&L==I&&z&&z.name!==I&&(!r&&v?c(K,"name",I):(fe=!0,te=function(){return e(z,this)})),L)if(A={values:H(I),keys:U?te:H(F),entries:H(k)},Y)for(C in A)(D||fe||!(C in K))&&l(K,C,A[C]);else t({target:M,proto:!0,forced:D||fe},A);return(!r||Y)&&K[g]!==te&&l(K,g,te,{name:L}),d[M]=te,A},Ud}var Kd,$v;function y5(){return $v||($v=1,Kd=function(t,e){return{value:t,done:e}}),Kd}var Bv;function v5(){if(Bv)return nv;Bv=1;var t=zk().charAt,e=fi(),r=Rm(),n=E5(),u=y5(),s="String Iterator",i=r.set,o=r.getterFor(s);return n(String,"String",function(a){i(this,{type:s,string:e(a),index:0})},function(){var c=o(this),l=c.string,f=c.index,d;return f>=l.length?u(void 0,!0):(d=t(l,f),c.index+=d.length,u(d,!1))}),nv}var Iv={},Jd,Pv;function uO(){if(Pv)return Jd;Pv=1;var t=Gn,e=Vu,r=wm;return Jd=function(n,u,s){var i,o;e(n);try{if(i=r(n,"return"),!i){if(u==="throw")throw s;return s}i=t(i,n)}catch(a){o=!0,i=a}if(u==="throw")throw s;if(o)throw i;return e(i),s},Jd}var Hd,kv;function sO(){if(kv)return Hd;kv=1;var t=Vu,e=uO();return Hd=function(r,n,u,s){try{return s?n(t(u)[0],u[1]):n(u)}catch(i){e(r,"throw",i)}},Hd}var Wd,Ov;function iO(){if(Ov)return Wd;Ov=1;var t=Br(),e=Eo(),r=t("iterator"),n=Array.prototype;return Wd=function(u){return u!==void 0&&(e.Array===u||n[r]===u)},Wd}var zd,Nv;function xm(){if(Nv)return zd;Nv=1;var t=Do(),e=wm,r=_m,n=Eo(),u=Br(),s=u("iterator");return zd=function(i){if(!r(i))return e(i,s)||e(i,"@@iterator")||n[t(i)]},zd}var Qd,Rv;function oO(){if(Rv)return Qd;Rv=1;var t=Gn,e=Ac,r=Vu,n=Bf,u=xm(),s=TypeError;return Qd=function(i,o){var a=arguments.length<2?u(i):o;if(e(a))return r(t(a,i));throw s(n(i)+" is not iterable")},Qd}var Yd,qv;function aO(){if(qv)return Yd;qv=1;var t=Bm,e=Gn,r=hs(),n=sO(),u=iO(),s=Pm(),i=ms(),o=Pf(),a=oO(),c=xm(),l=Array;return Yd=function(d){var p=r(d),h=s(this),v=arguments.length,S=v>1?arguments[1]:void 0,D=S!==void 0;D&&(S=t(S,v>2?arguments[2]:void 0));var g=c(p),F=0,I,k,B,O,M,y;if(g&&!(this===l&&u(g)))for(O=a(p,g),M=O.next,k=h?new this:[];!(B=e(M,O)).done;F++)y=D?n(O,S,[B.value,F],!0):B.value,o(k,F,y);else for(I=i(p),k=h?new this(I):l(I);I>F;F++)y=D?S(p[F],F):p[F],o(k,F,y);return k.length=F,k},Yd}var Xd,xv;function cO(){if(xv)return Xd;xv=1;var t=Br(),e=t("iterator"),r=!1;try{var n=0,u={next:function(){return{done:!!n++}},return:function(){r=!0}};u[e]=function(){return this},Array.from(u,function(){throw 2})}catch{}return Xd=function(s,i){if(!i&&!r)return!1;var o=!1;try{var a={};a[e]=function(){return{next:function(){return{done:o=!0}}}},s(a)}catch{}return o},Xd}var Mv;function lO(){if(Mv)return Iv;Mv=1;var t=gr,e=aO(),r=cO(),n=!r(function(u){Array.from(u)});return t({target:"Array",stat:!0,forced:n},{from:e}),Iv}var Zd,jv;function fO(){if(jv)return Zd;jv=1,v5(),lO();var t=Su;return Zd=t.Array.from,Zd}var ep,Lv;function g5(){if(Lv)return ep;Lv=1;var t=fO();return ep=t,ep}var Gv;function A5(){return Gv||(Gv=1,function(t){t.exports=g5()}(Wk)),F1}var b1={},dO={get exports(){return b1},set exports(t){b1=t}},Vv={},tp,Uv;function pO(){if(Uv)return tp;Uv=1;var t=TypeError,e=9007199254740991;return tp=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},tp}var rp,Kv;function hO(){if(Kv)return rp;Kv=1;var t=Cc(),e=Pm(),r=Au,n=Br(),u=n("species"),s=Array;return rp=function(i){var o;return t(i)&&(o=i.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[u],o===null&&(o=void 0))),o===void 0?s:o},rp}var np,Jv;function S5(){if(Jv)return np;Jv=1;var t=hO();return np=function(e,r){return new(t(e))(r===0?0:r)},np}var Hv;function F5(){if(Hv)return Vv;Hv=1;var t=gr,e=yr,r=Cc(),n=Au,u=hs(),s=ms(),i=pO(),o=Pf(),a=S5(),c=Nm(),l=Br(),f=gc(),d=l("isConcatSpreadable"),p=f>=51||!e(function(){var S=[];return S[d]=!1,S.concat()[0]!==S}),h=function(S){if(!n(S))return!1;var D=S[d];return D!==void 0?!!D:r(S)},v=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:v},{concat:function(D){var g=u(this),F=a(g,0),I=0,k,B,O,M,y;for(k=-1,O=arguments.length;k<O;k++)if(y=k===-1?g:arguments[k],h(y))for(M=s(y),i(I+M),B=0;B<M;B++,I++)B in y&&o(F,I,y[B]);else i(I+1),o(F,I++,y);return F.length=I,F}}),Vv}var Wv={},zv={},up={},Qv;function b5(){if(Qv)return up;Qv=1;var t=d5(),e=qm(),r=e.concat("length","prototype");return up.f=Object.getOwnPropertyNames||function(u){return t(u,r)},up}var sp={},ip,Yv;function C5(){if(Yv)return ip;Yv=1;var t=Om(),e=ms(),r=Pf(),n=Array,u=Math.max;return ip=function(s,i,o){for(var a=e(s),c=t(i,a),l=t(o===void 0?a:o,a),f=n(u(l-c,0)),d=0;c<l;c++,d++)r(f,d,s[c]);return f.length=d,f},ip}var Xv;function mO(){if(Xv)return sp;Xv=1;var t=po(),e=ps,r=b5().f,n=C5(),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(i){try{return r(i)}catch{return n(u)}};return sp.f=function(o){return u&&t(o)=="Window"?s(o):r(e(o))},sp}var op={},Zv;function _5(){return Zv||(Zv=1,op.f=Object.getOwnPropertySymbols),op}var ap={},eg;function w5(){if(eg)return ap;eg=1;var t=Br();return ap.f=t,ap}var cp,tg;function zt(){if(tg)return cp;tg=1;var t=Su,e=Qr(),r=w5(),n=Gu.f;return cp=function(u){var s=t.Symbol||(t.Symbol={});e(s,u)||n(s,u,{value:r.f(u)})},cp}var lp,rg;function T5(){if(rg)return lp;rg=1;var t=Gn,e=ci(),r=Br(),n=Rf();return lp=function(){var u=e("Symbol"),s=u&&u.prototype,i=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(a){return t(i,this)},{arity:1})},lp}var fp,ng;function Mm(){if(ng)return fp;ng=1;var t=Bm,e=vr(),r=Cm,n=hs(),u=ms(),s=S5(),i=e([].push),o=function(a){var c=a==1,l=a==2,f=a==3,d=a==4,p=a==6,h=a==7,v=a==5||p;return function(S,D,g,F){for(var I=n(S),k=r(I),B=t(D,g),O=u(k),M=0,y=F||s,P=c?y(S,O):l||h?y(S,0):void 0,L,U;O>M;M++)if((v||M in k)&&(L=k[M],U=B(L,M,I),a))if(c)P[M]=U;else if(U)switch(a){case 3:return!0;case 5:return L;case 6:return M;case 2:i(P,L)}else switch(a){case 4:return!1;case 7:i(P,L)}return p?-1:f||d?d:P}};return fp={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},fp}var ug;function DO(){if(ug)return zv;ug=1;var t=gr,e=sn,r=Gn,n=vr(),u=Sc(),s=Ln,i=ho(),o=yr,a=Qr(),c=Vn(),l=Vu,f=ps,d=If,p=fi(),h=vc,v=Nf(),S=p5(),D=b5(),g=mO(),F=_5(),I=Fm,k=Gu,B=h5(),O=bm,M=Rf(),y=Fc(),P=kf(),L=Of(),U=$m(),Y=Br(),H=w5(),se=zt(),fe=T5(),K=_c(),z=Rm(),te=Mm().forEach,V=P("hidden"),N="Symbol",A="prototype",C=z.set,E=z.getterFor(N),_=Object[A],R=e.Symbol,b=R&&R[A],T=e.TypeError,j=e.QObject,q=I.f,X=k.f,ie=g.f,Ee=O.f,Be=n([].push),Ve=y("symbols"),We=y("op-symbols"),He=y("wks"),ke=!j||!j[A]||!j[A].findChild,ce=s&&o(function(){return v(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a!=7})?function(w,$,G){var W=q(_,$);W&&delete _[$],X(w,$,G),W&&w!==_&&X(_,$,W)}:X,me=function(w,$){var G=Ve[w]=v(b);return C(G,{type:N,tag:w,description:$}),s||(G.description=$),G},Ce=function($,G,W){$===_&&Ce(We,G,W),l($);var ne=d(G);return l(W),a(Ve,ne)?(W.enumerable?(a($,V)&&$[V][ne]&&($[V][ne]=!1),W=v(W,{enumerable:h(0,!1)})):(a($,V)||X($,V,h(1,{})),$[V][ne]=!0),ce($,ne,W)):X($,ne,W)},De=function($,G){l($);var W=f(G),ne=S(W).concat(x(W));return te(ne,function(de){(!s||r(Z,W,de))&&Ce($,de,W[de])}),$},xe=function($,G){return G===void 0?v($):De(v($),G)},Z=function($){var G=d($),W=r(Ee,this,G);return this===_&&a(Ve,G)&&!a(We,G)?!1:W||!a(this,G)||!a(Ve,G)||a(this,V)&&this[V][G]?W:!0},le=function($,G){var W=f($),ne=d(G);if(!(W===_&&a(Ve,ne)&&!a(We,ne))){var de=q(W,ne);return de&&a(Ve,ne)&&!(a(W,V)&&W[V][ne])&&(de.enumerable=!0),de}},ye=function($){var G=ie(f($)),W=[];return te(G,function(ne){!a(Ve,ne)&&!a(L,ne)&&Be(W,ne)}),W},x=function(w){var $=w===_,G=ie($?We:f(w)),W=[];return te(G,function(ne){a(Ve,ne)&&(!$||a(_,ne))&&Be(W,Ve[ne])}),W};return i||(R=function(){if(c(b,this))throw T("Symbol is not a constructor");var $=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),G=U($),W=function(ne){this===_&&r(W,We,ne),a(this,V)&&a(this[V],G)&&(this[V][G]=!1),ce(this,G,h(1,ne))};return s&&ke&&ce(_,G,{configurable:!0,set:W}),me(G,$)},b=R[A],M(b,"toString",function(){return E(this).tag}),M(R,"withoutSetter",function(w){return me(U(w),w)}),O.f=Z,k.f=Ce,B.f=De,I.f=le,D.f=g.f=ye,F.f=x,H.f=function(w){return me(Y(w),w)},s&&(X(b,"description",{configurable:!0,get:function(){return E(this).description}}),u||M(_,"propertyIsEnumerable",Z,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!i,sham:!i},{Symbol:R}),te(S(He),function(w){se(w)}),t({target:N,stat:!0,forced:!i},{useSetter:function(){ke=!0},useSimple:function(){ke=!1}}),t({target:"Object",stat:!0,forced:!i,sham:!s},{create:xe,defineProperty:Ce,defineProperties:De,getOwnPropertyDescriptor:le}),t({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:ye}),fe(),K(R,N),L[V]=!0,zv}var sg={},dp,ig;function $5(){if(ig)return dp;ig=1;var t=ho();return dp=t&&!!Symbol.for&&!!Symbol.keyFor,dp}var og;function EO(){if(og)return sg;og=1;var t=gr,e=ci(),r=Qr(),n=fi(),u=Fc(),s=$5(),i=u("string-to-symbol-registry"),o=u("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(a){var c=n(a);if(r(i,c))return i[c];var l=e("Symbol")(c);return i[c]=l,o[l]=c,l}}),sg}var ag={},cg;function yO(){if(cg)return ag;cg=1;var t=gr,e=Qr(),r=$f,n=Bf,u=Fc(),s=$5(),i=u("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(a){if(!r(a))throw TypeError(n(a)+" is not a symbol");if(e(i,a))return i[a]}}),ag}var lg={},fg;function vO(){if(fg)return lg;fg=1;var t=gr,e=ci(),r=XC,n=Gn,u=vr(),s=yr,i=Cc(),o=kr,a=Au,c=$f,l=c5(),f=ho(),d=e("JSON","stringify"),p=u(/./.exec),h=u("".charAt),v=u("".charCodeAt),S=u("".replace),D=u(1 .toString),g=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,k=!f||s(function(){var y=e("Symbol")();return d([y])!="[null]"||d({a:y})!="{}"||d(Object(y))!="{}"}),B=s(function(){return d("\uDF06\uD834")!=='"\\udf06\\ud834"'||d("\uDEAD")!=='"\\udead"'}),O=function(y,P){var L=l(arguments),U=P;if(!(!a(P)&&y===void 0||c(y)))return i(P)||(P=function(Y,H){if(o(U)&&(H=n(U,this,Y,H)),!c(H))return H}),L[1]=P,r(d,null,L)},M=function(y,P,L){var U=h(L,P-1),Y=h(L,P+1);return p(F,y)&&!p(I,Y)||p(I,y)&&!p(F,U)?"\\u"+D(v(y,0),16):y};return d&&t({target:"JSON",stat:!0,arity:3,forced:k||B},{stringify:function(P,L,U){var Y=l(arguments),H=r(k?O:d,null,Y);return B&&typeof H=="string"?S(H,g,M):H}}),lg}var dg={},pg;function gO(){if(pg)return dg;pg=1;var t=gr,e=ho(),r=yr,n=_5(),u=hs(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var a=n.f;return a?a(u(o)):[]}}),dg}var hg;function AO(){return hg||(hg=1,DO(),EO(),yO(),vO(),gO()),Wv}var mg={},Dg;function SO(){if(Dg)return mg;Dg=1;var t=zt();return t("asyncIterator"),mg}var Eg={},yg;function FO(){if(yg)return Eg;yg=1;var t=zt();return t("hasInstance"),Eg}var vg={},gg;function bO(){if(gg)return vg;gg=1;var t=zt();return t("isConcatSpreadable"),vg}var Ag={},Sg;function CO(){if(Sg)return Ag;Sg=1;var t=zt();return t("iterator"),Ag}var Fg={},bg;function _O(){if(bg)return Fg;bg=1;var t=zt();return t("match"),Fg}var Cg={},_g;function wO(){if(_g)return Cg;_g=1;var t=zt();return t("matchAll"),Cg}var wg={},Tg;function TO(){if(Tg)return wg;Tg=1;var t=zt();return t("replace"),wg}var $g={},Bg;function $O(){if(Bg)return $g;Bg=1;var t=zt();return t("search"),$g}var Ig={},Pg;function BO(){if(Pg)return Ig;Pg=1;var t=zt();return t("species"),Ig}var kg={},Og;function IO(){if(Og)return kg;Og=1;var t=zt();return t("split"),kg}var Ng={},Rg;function PO(){if(Rg)return Ng;Rg=1;var t=zt(),e=T5();return t("toPrimitive"),e(),Ng}var qg={},xg;function kO(){if(xg)return qg;xg=1;var t=ci(),e=zt(),r=_c();return e("toStringTag"),r(t("Symbol"),"Symbol"),qg}var Mg={},jg;function OO(){if(jg)return Mg;jg=1;var t=zt();return t("unscopables"),Mg}var Lg={},Gg;function NO(){if(Gg)return Lg;Gg=1;var t=sn,e=_c();return e(t.JSON,"JSON",!0),Lg}var pp,Vg;function RO(){if(Vg)return pp;Vg=1,F5(),AO(),SO(),FO(),bO(),CO(),_O(),wO(),TO(),$O(),BO(),IO(),PO(),kO(),OO(),NO();var t=Su;return pp=t.Symbol,pp}var Ug={},hp,Kg;function qO(){return Kg||(Kg=1,hp=function(){}),hp}var mp,Jg;function B5(){if(Jg)return mp;Jg=1;var t=ps,e=qO(),r=Eo(),n=Rm(),u=Gu.f,s=E5(),i=y5(),o=Sc(),a=Ln,c="Array Iterator",l=n.set,f=n.getterFor(c);mp=s(Array,"Array",function(p,h){l(this,{type:c,target:t(p),index:0,kind:h})},function(){var p=f(this),h=p.target,v=p.kind,S=p.index++;return!h||S>=h.length?(p.target=void 0,i(void 0,!0)):v=="keys"?i(S,!1):v=="values"?i(h[S],!1):i([S,h[S]],!1)},"values");var d=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&a&&d.name!=="values")try{u(d,"name",{value:"values"})}catch{}return mp}var Dp,Hg;function xO(){return Hg||(Hg=1,Dp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Dp}var Wg;function jm(){if(Wg)return Ug;Wg=1,B5();var t=xO(),e=sn,r=Do(),n=mo,u=Eo(),s=Br(),i=s("toStringTag");for(var o in t){var a=e[o],c=a&&a.prototype;c&&r(c)!==i&&n(c,i,o),u[o]=u.Array}return Ug}var Ep,zg;function I5(){if(zg)return Ep;zg=1;var t=RO();return jm(),Ep=t,Ep}var Qg;function P5(){return Qg||(Qg=1,function(t){t.exports=I5()}(dO)),b1}var C1={},MO={get exports(){return C1},set exports(t){C1=t}},_1={},jO={get exports(){return _1},set exports(t){_1=t}},yp,Yg;function LO(){if(Yg)return yp;Yg=1,B5(),v5();var t=xm();return yp=t,yp}var vp,Xg;function GO(){if(Xg)return vp;Xg=1;var t=LO();return jm(),vp=t,vp}var gp,Zg;function VO(){if(Zg)return gp;Zg=1;var t=GO();return gp=t,gp}var Ap,eA;function UO(){if(eA)return Ap;eA=1;var t=VO();return Ap=t,Ap}var tA;function KO(){return tA||(tA=1,function(t){t.exports=UO()}(jO)),_1}var rA;function Lm(){return rA||(rA=1,function(t){t.exports=KO()}(MO)),C1}var w1={},JO={get exports(){return w1},set exports(t){w1=t}},nA={},uA;function HO(){if(uA)return nA;uA=1;var t=gr,e=Cc();return t({target:"Array",stat:!0},{isArray:e}),nA}var Sp,sA;function WO(){if(sA)return Sp;sA=1,HO();var t=Su;return Sp=t.Array.isArray,Sp}var Fp,iA;function k5(){if(iA)return Fp;iA=1;var t=WO();return Fp=t,Fp}var oA;function O5(){return oA||(oA=1,function(t){t.exports=k5()}(JO)),w1}var T1={},zO={get exports(){return T1},set exports(t){T1=t}},$1={},QO={get exports(){return $1},set exports(t){$1=t}},B1={},YO={get exports(){return B1},set exports(t){B1=t}},I1={},XO={get exports(){return I1},set exports(t){I1=t}},bp,aA;function ZO(){if(aA)return bp;aA=1;var t=k5();return bp=t,bp}var Cp,cA;function eN(){if(cA)return Cp;cA=1;var t=ZO();return Cp=t,Cp}var lA;function tN(){return lA||(lA=1,function(t){t.exports=eN()}(XO)),I1}var fA;function rN(){return fA||(fA=1,function(t){t.exports=tN()}(YO)),B1}var dA;function nN(){return dA||(dA=1,function(t){var e=rN();function r(n){if(e(n))return n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(QO)),$1}var P1={},uN={get exports(){return P1},set exports(t){P1=t}},k1={},sN={get exports(){return k1},set exports(t){k1=t}},O1={},iN={get exports(){return O1},set exports(t){O1=t}},pA={},hA;function oN(){if(hA)return pA;hA=1;var t=zt();return t("dispose"),pA}var _p,mA;function aN(){if(mA)return _p;mA=1;var t=I5();return oN(),_p=t,_p}var DA={},EA;function cN(){if(EA)return DA;EA=1;var t=zt();return t("asyncDispose"),DA}var yA={},vA;function lN(){if(vA)return yA;vA=1;var t=zt();return t("matcher"),yA}var gA={},AA;function fN(){if(AA)return gA;AA=1;var t=zt();return t("metadataKey"),gA}var SA={},FA;function dN(){if(FA)return SA;FA=1;var t=zt();return t("observable"),SA}var bA={},CA;function pN(){if(CA)return bA;CA=1;var t=zt();return t("metadata"),bA}var _A={},wA;function hN(){if(wA)return _A;wA=1;var t=zt();return t("patternMatch"),_A}var TA={},$A;function mN(){if($A)return TA;$A=1;var t=zt();return t("replaceAll"),TA}var wp,BA;function DN(){if(BA)return wp;BA=1;var t=aN();return cN(),lN(),fN(),dN(),pN(),hN(),mN(),wp=t,wp}var IA;function EN(){return IA||(IA=1,function(t){t.exports=DN()}(iN)),O1}var PA;function yN(){return PA||(PA=1,function(t){t.exports=EN()}(sN)),k1}var kA;function vN(){return kA||(kA=1,function(t){var e=yN(),r=Lm();function n(u,s){var i=u==null?null:typeof e<"u"&&r(u)||u["@@iterator"];if(i!=null){var o,a,c,l,f=[],d=!0,p=!1;try{if(c=(i=i.call(u)).next,s===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(o=c.call(i)).done)&&(f.push(o.value),f.length!==s);d=!0);}catch(h){p=!0,a=h}finally{try{if(!d&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(p)throw a}}return f}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(uN)),P1}var N1={},gN={get exports(){return N1},set exports(t){N1=t}},R1={},AN={get exports(){return R1},set exports(t){R1=t}},q1={},SN={get exports(){return q1},set exports(t){q1=t}},Tp,OA;function FN(){if(OA)return Tp;OA=1;var t=l5();return Tp=t,Tp}var $p,NA;function bN(){if(NA)return $p;NA=1;var t=FN();return $p=t,$p}var RA;function CN(){return RA||(RA=1,function(t){t.exports=bN()}(SN)),q1}var qA;function _N(){return qA||(qA=1,function(t){t.exports=CN()}(AN)),R1}var x1={},wN={get exports(){return x1},set exports(t){x1=t}},M1={},TN={get exports(){return M1},set exports(t){M1=t}},Bp,xA;function $N(){if(xA)return Bp;xA=1;var t=g5();return Bp=t,Bp}var Ip,MA;function BN(){if(MA)return Ip;MA=1;var t=$N();return Ip=t,Ip}var jA;function IN(){return jA||(jA=1,function(t){t.exports=BN()}(TN)),M1}var LA;function PN(){return LA||(LA=1,function(t){t.exports=IN()}(wN)),x1}var j1={},kN={get exports(){return j1},set exports(t){j1=t}},GA;function ON(){return GA||(GA=1,function(t){function e(r,n){(n==null||n>r.length)&&(n=r.length);for(var u=0,s=new Array(n);u<n;u++)s[u]=r[u];return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(kN)),j1}var VA;function NN(){return VA||(VA=1,function(t){var e=_N(),r=PN(),n=ON();function u(s,i){var o;if(s){if(typeof s=="string")return n(s,i);var a=e(o=Object.prototype.toString.call(s)).call(o,8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return r(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(s,i)}}t.exports=u,t.exports.__esModule=!0,t.exports.default=t.exports}(gN)),N1}var L1={},RN={get exports(){return L1},set exports(t){L1=t}},UA;function qN(){return UA||(UA=1,function(t){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(RN)),L1}var KA;function N5(){return KA||(KA=1,function(t){var e=nN(),r=vN(),n=NN(),u=qN();function s(i,o){return e(i)||r(i,o)||n(i,o)||u()}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}(zO)),T1}var G1={},xN={get exports(){return G1},set exports(t){G1=t}},Pp,JA;function MN(){if(JA)return Pp;JA=1;var t=Vu;return Pp=function(){var e=t(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},Pp}var kp,HA;function jN(){if(HA)return kp;HA=1;var t=Gn,e=Qr(),r=Vn(),n=MN(),u=RegExp.prototype;return kp=function(s){var i=s.flags;return i===void 0&&!("flags"in u)&&!e(s,"flags")&&r(u,s)?t(n,s):i},kp}var Op,WA;function LN(){if(WA)return Op;WA=1;var t=jN();return Op=t,Op}var Np,zA;function GN(){if(zA)return Np;zA=1;var t=Vn(),e=LN(),r=RegExp.prototype;return Np=function(n){return n===r||t(r,n)?e(n):n.flags},Np}var Rp,QA;function VN(){if(QA)return Rp;QA=1;var t=GN();return Rp=t,Rp}var YA;function UN(){return YA||(YA=1,function(t){t.exports=VN()}(xN)),G1}var V1={},KN={get exports(){return V1},set exports(t){V1=t}},XA={},qp,ZA;function JN(){if(ZA)return qp;ZA=1;var t=Bf,e=TypeError;return qp=function(r,n){if(!delete r[n])throw e("Cannot delete property "+t(n)+" of "+t(r))},qp}var xp,eS;function HN(){if(eS)return xp;eS=1;var t=C5(),e=Math.floor,r=function(s,i){var o=s.length,a=e(o/2);return o<8?n(s,i):u(s,r(t(s,0,a),i),r(t(s,a),i),i)},n=function(s,i){for(var o=s.length,a=1,c,l;a<o;){for(l=a,c=s[a];l&&i(s[l-1],c)>0;)s[l]=s[--l];l!==a++&&(s[l]=c)}return s},u=function(s,i,o,a){for(var c=i.length,l=o.length,f=0,d=0;f<c||d<l;)s[f+d]=f<c&&d<l?a(i[f],o[d])<=0?i[f++]:o[d++]:f<c?i[f++]:o[d++];return s};return xp=r,xp}var Mp,tS;function qf(){if(tS)return Mp;tS=1;var t=yr;return Mp=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Mp}var jp,rS;function WN(){if(rS)return jp;rS=1;var t=Tf(),e=t.match(/firefox\/(\d+)/i);return jp=!!e&&+e[1],jp}var Lp,nS;function zN(){if(nS)return Lp;nS=1;var t=Tf();return Lp=/MSIE|Trident/.test(t),Lp}var Gp,uS;function QN(){if(uS)return Gp;uS=1;var t=Tf(),e=t.match(/AppleWebKit\/(\d+)\./);return Gp=!!e&&+e[1],Gp}var sS;function YN(){if(sS)return XA;sS=1;var t=gr,e=vr(),r=Ac,n=hs(),u=ms(),s=JN(),i=fi(),o=yr,a=HN(),c=qf(),l=WN(),f=zN(),d=gc(),p=QN(),h=[],v=e(h.sort),S=e(h.push),D=o(function(){h.sort(void 0)}),g=o(function(){h.sort(null)}),F=c("sort"),I=!o(function(){if(d)return d<70;if(!(l&&l>3)){if(f)return!0;if(p)return p<603;var O="",M,y,P,L;for(M=65;M<76;M++){switch(y=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(L=0;L<47;L++)h.push({k:y+L,v:P})}for(h.sort(function(U,Y){return Y.v-U.v}),L=0;L<h.length;L++)y=h[L].k.charAt(0),O.charAt(O.length-1)!==y&&(O+=y);return O!=="DGBEFHACIJK"}}),k=D||!g||!F||!I,B=function(O){return function(M,y){return y===void 0?-1:M===void 0?1:O!==void 0?+O(M,y)||0:i(M)>i(y)?1:-1}};return t({target:"Array",proto:!0,forced:k},{sort:function(M){M!==void 0&&r(M);var y=n(this);if(I)return M===void 0?v(y):v(y,M);var P=[],L=u(y),U,Y;for(Y=0;Y<L;Y++)Y in y&&S(P,y[Y]);for(a(P,B(M)),U=u(P),Y=0;Y<U;)y[Y]=P[Y++];for(;Y<L;)s(y,Y++);return y}}),XA}var Vp,iS;function XN(){if(iS)return Vp;iS=1,YN();var t=li();return Vp=t("Array").sort,Vp}var Up,oS;function ZN(){if(oS)return Up;oS=1;var t=Vn(),e=XN(),r=Array.prototype;return Up=function(n){var u=n.sort;return n===r||t(r,n)&&u===r.sort?e:u},Up}var Kp,aS;function eR(){if(aS)return Kp;aS=1;var t=ZN();return Kp=t,Kp}var cS;function tR(){return cS||(cS=1,function(t){t.exports=eR()}(KN)),V1}var U1={},rR={get exports(){return U1},set exports(t){U1=t}},lS={},Jp,fS;function R5(){return fS||(fS=1,Jp=`	
\v\f\r \u2028\u2029\uFEFF`),Jp}var Hp,dS;function nR(){if(dS)return Hp;dS=1;var t=vr(),e=wf,r=fi(),n=R5(),u=t("".replace),s="["+n+"]",i=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),a=function(c){return function(l){var f=r(e(l));return c&1&&(f=u(f,i,"")),c&2&&(f=u(f,o,"")),f}};return Hp={start:a(1),end:a(2),trim:a(3)},Hp}var Wp,pS;function uR(){if(pS)return Wp;pS=1;var t=sn,e=yr,r=vr(),n=fi(),u=nR().trim,s=R5(),i=t.parseInt,o=t.Symbol,a=o&&o.iterator,c=/^[+-]?0x/i,l=r(c.exec),f=i(s+"08")!==8||i(s+"0x16")!==22||a&&!e(function(){i(Object(a))});return Wp=f?function(p,h){var v=u(n(p));return i(v,h>>>0||(l(c,v)?16:10))}:i,Wp}var hS;function sR(){if(hS)return lS;hS=1;var t=gr,e=uR();return t({global:!0,forced:parseInt!=e},{parseInt:e}),lS}var zp,mS;function iR(){if(mS)return zp;mS=1,sR();var t=Su;return zp=t.parseInt,zp}var Qp,DS;function oR(){if(DS)return Qp;DS=1;var t=iR();return Qp=t,Qp}var ES;function aR(){return ES||(ES=1,function(t){t.exports=oR()}(rR)),U1}var K1={},cR={get exports(){return K1},set exports(t){K1=t}},yS={},vS;function lR(){if(vS)return yS;vS=1;var t=gr,e=Sm,r=f5().indexOf,n=qf(),u=e([].indexOf),s=!!u&&1/u([1],1,-0)<0,i=s||!n("indexOf");return t({target:"Array",proto:!0,forced:i},{indexOf:function(a){var c=arguments.length>1?arguments[1]:void 0;return s?u(this,a,c)||0:r(this,a,c)}}),yS}var Yp,gS;function fR(){if(gS)return Yp;gS=1,lR();var t=li();return Yp=t("Array").indexOf,Yp}var Xp,AS;function dR(){if(AS)return Xp;AS=1;var t=Vn(),e=fR(),r=Array.prototype;return Xp=function(n){var u=n.indexOf;return n===r||t(r,n)&&u===r.indexOf?e:u},Xp}var Zp,SS;function pR(){if(SS)return Zp;SS=1;var t=dR();return Zp=t,Zp}var FS;function xf(){return FS||(FS=1,function(t){t.exports=pR()}(cR)),K1}var J1={},hR={get exports(){return J1},set exports(t){J1=t}},bS={},eh,CS;function mR(){if(CS)return eh;CS=1;var t=Mm().forEach,e=qf(),r=e("forEach");return eh=r?[].forEach:function(u){return t(this,u,arguments.length>1?arguments[1]:void 0)},eh}var _S;function DR(){if(_S)return bS;_S=1;var t=gr,e=mR();return t({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e}),bS}var th,wS;function ER(){if(wS)return th;wS=1,DR();var t=li();return th=t("Array").forEach,th}var rh,TS;function yR(){if(TS)return rh;TS=1;var t=ER();return rh=t,rh}var nh,$S;function vR(){if($S)return nh;$S=1,jm();var t=Do(),e=Qr(),r=Vn(),n=yR(),u=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return nh=function(i){var o=i.forEach;return i===u||r(u,i)&&o===u.forEach||e(s,t(i))?n:o},nh}var BS;function q5(){return BS||(BS=1,function(t){t.exports=vR()}(hR)),J1}var H1={},gR={get exports(){return H1},set exports(t){H1=t}},IS={},PS;function AR(){if(PS)return IS;PS=1;var t=gr,e=Ln,r=Nf();return t({target:"Object",stat:!0,sham:!e},{create:r}),IS}var uh,kS;function SR(){if(kS)return uh;kS=1,AR();var t=Su,e=t.Object;return uh=function(n,u){return e.create(n,u)},uh}var sh,OS;function FR(){if(OS)return sh;OS=1;var t=SR();return sh=t,sh}var NS;function bR(){return NS||(NS=1,function(t){t.exports=FR()}(gR)),H1}var W1={},CR={get exports(){return W1},set exports(t){W1=t}},ih,RS;function _R(){if(RS)return ih;RS=1,F5();var t=li();return ih=t("Array").concat,ih}var oh,qS;function wR(){if(qS)return oh;qS=1;var t=Vn(),e=_R(),r=Array.prototype;return oh=function(n){var u=n.concat;return n===r||t(r,n)&&u===r.concat?e:u},oh}var ah,xS;function TR(){if(xS)return ah;xS=1;var t=wR();return ah=t,ah}var MS;function Mf(){return MS||(MS=1,function(t){t.exports=TR()}(CR)),W1}var jS;function $R(){return jS||(jS=1,function(t,e){var r=S1(),n=A5(),u=P5(),s=Lm(),i=O5(),o=hu,a=mu;o(e,"__esModule",{value:!0}),e.default=void 0;var c=a(N5()),l=a(UN()),f=a(tR()),d=a(S1()),p=a(aR()),h=a(xf()),v=a(q5()),S=a(bR()),D=a(Mf());function g(Z,le){var ye=typeof u<"u"&&s(Z)||Z["@@iterator"];if(!ye){if(i(Z)||(ye=F(Z))||le&&Z&&typeof Z.length=="number"){ye&&(Z=ye);var x=0,w=function(){};return{s:w,n:function(){return x>=Z.length?{done:!0}:{done:!1,value:Z[x++]}},e:function(de){throw de},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=!0,G=!1,W;return{s:function(){ye=ye.call(Z)},n:function(){var de=ye.next();return $=de.done,de},e:function(de){G=!0,W=de},f:function(){try{!$&&ye.return!=null&&ye.return()}finally{if(G)throw W}}}}function F(Z,le){var ye;if(Z){if(typeof Z=="string")return I(Z,le);var x=r(ye=Object.prototype.toString.call(Z)).call(ye,8,-1);if(x==="Object"&&Z.constructor&&(x=Z.constructor.name),x==="Map"||x==="Set")return n(Z);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return I(Z,le)}}function I(Z,le){(le==null||le>Z.length)&&(le=Z.length);for(var ye=0,x=new Array(le);ye<le;ye++)x[ye]=Z[ye];return x}/*!
 * XRegExp 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2007-present MIT License
 */var k="xregexp",B={astral:!1,namespacing:!0},O={},M={},y={},P=[],L="default",U="class",Y={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},H=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,se=/()??/.exec("")[1]===void 0,fe=(0,l.default)(/x/)!==void 0;function K(Z){var le=!0;try{if(new RegExp("",Z),Z==="y"){var ye=function(){return"gy"}(),x=".a".replace(new RegExp("a",ye),".")==="..";x&&(le=!1)}}catch{le=!1}return le}var z=K("d"),te=K("s"),V=K("u"),N=K("y"),A={d:z,g:!0,i:!0,m:!0,s:te,u:V,y:N},C=te?/[^dgimsuy]+/g:/[^dgimuy]+/g;function E(Z,le,ye,x,w){var $;if(Z[k]={captureNames:le},w)return Z;if(Z.__proto__)Z.__proto__=De.prototype;else for(var G in De.prototype)Z[G]=De.prototype[G];return Z[k].source=ye,Z[k].flags=x&&(0,f.default)($=x.split("")).call($).join(""),Z}function _(Z){return Z.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function R(Z,le){var ye;if(!De.isRegExp(Z))throw new TypeError("Type RegExp expected");var x=Z[k]||{},w=j(Z),$="",G="",W=null,ne=null;return le=le||{},le.removeG&&(G+="g"),le.removeY&&(G+="y"),G&&(w=w.replace(new RegExp("[".concat(G,"]+"),"g"),"")),le.addG&&($+="g"),le.addY&&($+="y"),$&&(w=_(w+$)),le.isInternalOnly||(x.source!==void 0&&(W=x.source),(0,l.default)(x)!=null&&(ne=$?_((0,l.default)(x)+$):(0,l.default)(x))),Z=E(new RegExp(le.source||Z.source,w),q(Z)?(0,d.default)(ye=x.captureNames).call(ye,0):null,W,ne,le.isInternalOnly),Z}function b(Z){return(0,p.default)(Z,16)}function T(Z,le,ye){var x=Z.index+Z[0].length,w=Z.input[Z.index-1],$=Z.input[x];return/^[()|]$/.test(w)||/^[()|]$/.test($)||Z.index===0||x===Z.input.length||/\(\?(?:[:=!]|<[=!])$/.test(Z.input.substring(Z.index-4,Z.index))||ie(Z.input,x,ye)?"":"(?:)"}function j(Z){return fe?(0,l.default)(Z):/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(Z))[1]}function q(Z){return!!(Z[k]&&Z[k].captureNames)}function X(Z){return(0,p.default)(Z,10).toString(16)}function ie(Z,le,ye){var x=(0,h.default)(ye).call(ye,"x")!==-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/;return x.test((0,d.default)(Z).call(Z,le))}function Ee(Z,le){return Object.prototype.toString.call(Z)==="[object ".concat(le,"]")}function Be(Z){if(Z==null)throw new TypeError("Cannot convert null or undefined to object");return Z}function Ve(Z){for(;Z.length<4;)Z="0".concat(Z);return Z}function We(Z,le){if(_(le)!==le)throw new SyntaxError("Invalid duplicate regex flag ".concat(le));Z=Z.replace(/^\(\?([\w$]+)\)/,function($,G){if(/[dgy]/.test(G))throw new SyntaxError("Cannot use flags dgy in mode modifier ".concat($));return le=_(le+G),""});var ye=g(le),x;try{for(ye.s();!(x=ye.n()).done;){var w=x.value;if(!A[w])throw new SyntaxError("Unknown regex flag ".concat(w))}}catch($){ye.e($)}finally{ye.f()}return{pattern:Z,flags:le}}function He(Z){var le={};return Ee(Z,"String")?((0,v.default)(De).call(De,Z,/[^\s,]+/,function(ye){le[ye]=!0}),le):Z}function ke(Z){if(!/^[\w$]$/.test(Z))throw new Error("Flag must be a single character A-Za-z0-9_$");A[Z]=!0}function ce(Z,le,ye,x,w){for(var $=P.length,G=Z[ye],W=null,ne,de;$--;)if(de=P[$],!(de.leadChar&&de.leadChar!==G||de.scope!==x&&de.scope!=="all"||de.flag&&(0,h.default)(le).call(le,de.flag)===-1)&&(ne=De.exec(Z,de.regex,ye,"sticky"),ne)){W={matchLength:ne[0].length,output:de.handler.call(w,ne,x,le),reparse:de.reparse};break}return W}function me(Z){B.astral=Z}function Ce(Z){B.namespacing=Z}function De(Z,le){if(De.isRegExp(Z)){if(le!==void 0)throw new TypeError("Cannot supply flags when copying a RegExp");return R(Z)}if(Z=Z===void 0?"":String(Z),le=le===void 0?"":String(le),De.isInstalled("astral")&&(0,h.default)(le).call(le,"A")===-1&&(le+="A"),y[Z]||(y[Z]={}),!y[Z][le]){for(var ye={hasNamedCapture:!1,captureNames:[]},x=L,w="",$=0,G,W=We(Z,le),ne=W.pattern,de=(0,l.default)(W);$<ne.length;){do G=ce(ne,de,$,x,ye),G&&G.reparse&&(ne=(0,d.default)(ne).call(ne,0,$)+G.output+(0,d.default)(ne).call(ne,$+G.matchLength));while(G&&G.reparse);if(G)w+=G.output,$+=G.matchLength||1;else{var Oe=De.exec(ne,Y[x],$,"sticky"),Ye=(0,c.default)(Oe,1),tt=Ye[0];w+=tt,$+=tt.length,tt==="["&&x===L?x=U:tt==="]"&&x===U&&(x=L)}}y[Z][le]={pattern:w.replace(/(?:\(\?:\))+/g,"(?:)"),flags:de.replace(C,""),captures:ye.hasNamedCapture?ye.captureNames:null}}var Me=y[Z][le];return E(new RegExp(Me.pattern,(0,l.default)(Me)),Me.captures,Z,le)}De.prototype=/(?:)/,De.version="5.1.1",De._clipDuplicates=_,De._hasNativeFlag=K,De._dec=b,De._hex=X,De._pad4=Ve,De.addToken=function(Z,le,ye){ye=ye||{};var x=ye,w=x.optionalFlags;if(ye.flag&&ke(ye.flag),w){w=w.split("");var $=g(w),G;try{for($.s();!(G=$.n()).done;){var W=G.value;ke(W)}}catch(ne){$.e(ne)}finally{$.f()}}P.push({regex:R(Z,{addG:!0,addY:N,isInternalOnly:!0}),handler:le,scope:ye.scope||L,flag:ye.flag,reparse:ye.reparse,leadChar:ye.leadChar}),De.cache.flush("patterns")},De.cache=function(Z,le){return M[Z]||(M[Z]={}),M[Z][le]||(M[Z][le]=De(Z,le))},De.cache.flush=function(Z){Z==="patterns"?y={}:M={}},De.escape=function(Z){return String(Be(Z)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,function(le){return"\\u".concat(Ve(X(le.charCodeAt(0))))})},De.exec=function(Z,le,ye,x){var w="g",$=!1,G=!1,W;$=N&&!!(x||le.sticky&&x!==!1),$?w+="y":x&&(G=!0,w+="FakeY"),le[k]=le[k]||{};var ne=le[k][w]||(le[k][w]=R(le,{addG:!0,addY:$,source:G?"".concat(le.source,"|()"):void 0,removeY:x===!1,isInternalOnly:!0}));return ye=ye||0,ne.lastIndex=ye,W=O.exec.call(ne,Z),G&&W&&W.pop()===""&&(W=null),le.global&&(le.lastIndex=W?ne.lastIndex:0),W},De.forEach=function(Z,le,ye){for(var x=0,w=-1,$;$=De.exec(Z,le,x);)ye($,++w,Z,le),x=$.index+($[0].length||1)},De.globalize=function(Z){return R(Z,{addG:!0})},De.install=function(Z){Z=He(Z),!B.astral&&Z.astral&&me(!0),!B.namespacing&&Z.namespacing&&Ce(!0)},De.isInstalled=function(Z){return!!B[Z]},De.isRegExp=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},De.match=function(Z,le,ye){var x=le.global&&ye!=="one"||ye==="all",w=(x?"g":"")+(le.sticky?"y":"")||"noGY";le[k]=le[k]||{};var $=le[k][w]||(le[k][w]=R(le,{addG:!!x,removeG:ye==="one",isInternalOnly:!0})),G=String(Be(Z)).match($);return le.global&&(le.lastIndex=ye==="one"&&G?G.index+G[0].length:0),x?G||[]:G&&G[0]},De.matchChain=function(Z,le){return function ye(x,w){var $=le[w].regex?le[w]:{regex:le[w]},G=[];function W(Ye){if($.backref){var tt="Backreference to undefined group: ".concat($.backref),Me=isNaN($.backref);if(Me&&De.isInstalled("namespacing")){if(!(Ye.groups&&$.backref in Ye.groups))throw new ReferenceError(tt)}else if(!Ye.hasOwnProperty($.backref))throw new ReferenceError(tt);var dt=Me&&De.isInstalled("namespacing")?Ye.groups[$.backref]:Ye[$.backref];G.push(dt||"")}else G.push(Ye[0])}var ne=g(x),de;try{for(ne.s();!(de=ne.n()).done;){var Oe=de.value;(0,v.default)(De).call(De,Oe,$.regex,W)}}catch(Ye){ne.e(Ye)}finally{ne.f()}return w===le.length-1||!G.length?G:ye(G,w+1)}([Z],0)},De.replace=function(Z,le,ye,x){var w=De.isRegExp(le),$=le.global&&x!=="one"||x==="all",G=($?"g":"")+(le.sticky?"y":"")||"noGY",W=le;w?(le[k]=le[k]||{},W=le[k][G]||(le[k][G]=R(le,{addG:!!$,removeG:x==="one",isInternalOnly:!0}))):$&&(W=new RegExp(De.escape(String(le)),"g"));var ne=O.replace.call(Be(Z),W,ye);return w&&le.global&&(le.lastIndex=0),ne},De.replaceEach=function(Z,le){var ye=g(le),x;try{for(ye.s();!(x=ye.n()).done;){var w=x.value;Z=De.replace(Z,w[0],w[1],w[2])}}catch($){ye.e($)}finally{ye.f()}return Z},De.split=function(Z,le,ye){return O.split.call(Be(Z),le,ye)},De.test=function(Z,le,ye,x){return!!De.exec(Z,le,ye,x)},De.uninstall=function(Z){Z=He(Z),B.astral&&Z.astral&&me(!1),B.namespacing&&Z.namespacing&&Ce(!1)},De.union=function(Z,le,ye){ye=ye||{};var x=ye.conjunction||"or",w=0,$,G;function W(dt,hi,gs){var As=G[w-$];if(hi){if(++w,As)return"(?<".concat(As,">")}else if(gs)return"\\".concat(+gs+$);return dt}if(!(Ee(Z,"Array")&&Z.length))throw new TypeError("Must provide a nonempty array of patterns to merge");var ne=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,de=[],Oe=g(Z),Ye;try{for(Oe.s();!(Ye=Oe.n()).done;){var tt=Ye.value;De.isRegExp(tt)?($=w,G=tt[k]&&tt[k].captureNames||[],de.push(De(tt.source).source.replace(ne,W))):de.push(De.escape(tt))}}catch(dt){Oe.e(dt)}finally{Oe.f()}var Me=x==="none"?"":"|";return De(de.join(Me),le)},O.exec=function(Z){var le=this.lastIndex,ye=RegExp.prototype.exec.apply(this,arguments);if(ye){if(!se&&ye.length>1&&(0,h.default)(ye).call(ye,"")!==-1){var x,w=R(this,{removeG:!0,isInternalOnly:!0});(0,d.default)(x=String(Z)).call(x,ye.index).replace(w,function(){for(var ne=arguments.length,de=1;de<ne-2;++de)(de<0||arguments.length<=de?void 0:arguments[de])===void 0&&(ye[de]=void 0)})}if(this[k]&&this[k].captureNames){var $=ye;De.isInstalled("namespacing")&&(ye.groups=(0,S.default)(null),$=ye.groups);for(var G=1;G<ye.length;++G){var W=this[k].captureNames[G-1];W&&($[W]=ye[G])}}else!ye.groups&&De.isInstalled("namespacing")&&(ye.groups=void 0);this.global&&!ye[0].length&&this.lastIndex>ye.index&&(this.lastIndex=ye.index)}return this.global||(this.lastIndex=le),ye},O.test=function(Z){return!!O.exec.call(this,Z)},O.match=function(Z){if(!De.isRegExp(Z))Z=new RegExp(Z);else if(Z.global){var le=String.prototype.match.apply(this,arguments);return Z.lastIndex=0,le}return O.exec.call(Z,Be(this))},O.replace=function(Z,le){var ye=De.isRegExp(Z),x,w,$;return ye?(Z[k]&&(w=Z[k].captureNames),x=Z.lastIndex):Z+="",Ee(le,"Function")?$=String(this).replace(Z,function(){for(var G=arguments.length,W=new Array(G),ne=0;ne<G;ne++)W[ne]=arguments[ne];if(w){var de;De.isInstalled("namespacing")?(de=(0,S.default)(null),W.push(de)):(W[0]=new String(W[0]),de=W[0]);for(var Oe=0;Oe<w.length;++Oe)w[Oe]&&(de[w[Oe]]=W[Oe+1])}return le.apply(void 0,W)}):$=String(Be(this)).replace(Z,function(){for(var G=arguments.length,W=new Array(G),ne=0;ne<G;ne++)W[ne]=arguments[ne];return String(le).replace(H,de);function de(Oe,Ye,tt,Me){Ye=Ye||tt;var dt=Ee(W[W.length-1],"Object")?4:3,hi=W.length-dt;if(Ye){if(/^\d+$/.test(Ye)){var gs=+Ye;if(gs<=hi)return W[gs]||""}var As=w?(0,h.default)(w).call(w,Ye):-1;if(As<0)throw new SyntaxError("Backreference to undefined group ".concat(Oe));return W[As+1]||""}if(Me===""||Me===" ")throw new SyntaxError("Invalid token ".concat(Oe));if(Me==="&"||+Me==0)return W[0];if(Me==="$")return"$";if(Me==="`"){var fl;return(0,d.default)(fl=W[W.length-1]).call(fl,0,W[W.length-2])}if(Me==="'"){var dl;return(0,d.default)(dl=W[W.length-1]).call(dl,W[W.length-2]+W[0].length)}if(Me=+Me,!isNaN(Me)){if(Me>hi)throw new SyntaxError("Backreference to undefined group ".concat(Oe));return W[Me]||""}throw new SyntaxError("Invalid token ".concat(Oe))}}),ye&&(Z.global?Z.lastIndex=0:Z.lastIndex=x),$},O.split=function(Z,le){if(!De.isRegExp(Z))return String.prototype.split.apply(this,arguments);var ye=String(this),x=[],w=Z.lastIndex,$=0,G;return le=(le===void 0?-1:le)>>>0,(0,v.default)(De).call(De,ye,Z,function(W){W.index+W[0].length>$&&(x.push((0,d.default)(ye).call(ye,$,W.index)),W.length>1&&W.index<ye.length&&Array.prototype.push.apply(x,(0,d.default)(W).call(W,1)),G=W[0].length,$=W.index+G)}),$===ye.length?(!Z.test("")||G)&&x.push(""):x.push((0,d.default)(ye).call(ye,$)),Z.lastIndex=w,x.length>le?(0,d.default)(x).call(x,0,le):x},De.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(Z,le){if(Z[1]==="B"&&le===L)return Z[0];throw new SyntaxError("Invalid escape ".concat(Z[0]))},{scope:"all",leadChar:"\\"}),De.addToken(/\\u{([\dA-Fa-f]+)}/,function(Z,le,ye){var x=b(Z[1]);if(x>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(Z[0]));if(x<=65535)return"\\u".concat(Ve(X(x)));if(V&&(0,h.default)(ye).call(ye,"u")!==-1)return Z[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),De.addToken(/\(\?#[^)]*\)/,T,{leadChar:"("}),De.addToken(/\s+|#[^\n]*\n?/,T,{flag:"x"}),te||De.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),De.addToken(/\\k<([^>]+)>/,function(Z){var le,ye,x=isNaN(Z[1])?(0,h.default)(le=this.captureNames).call(le,Z[1])+1:+Z[1],w=Z.index+Z[0].length;if(!x||x>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(Z[0]));return(0,D.default)(ye="\\".concat(x)).call(ye,w===Z.input.length||isNaN(Z.input[w])?"":"(?:)")},{leadChar:"\\"}),De.addToken(/\\(\d+)/,function(Z,le){if(!(le===L&&/^[1-9]/.test(Z[1])&&+Z[1]<=this.captureNames.length)&&Z[1]!=="0")throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(Z[0]));return Z[0]},{scope:"all",leadChar:"\\"}),De.addToken(/\(\?P?<((?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*)>/,function(Z){var le;if(!De.isInstalled("namespacing")&&(Z[1]==="length"||Z[1]==="__proto__"))throw new SyntaxError("Cannot use reserved word as capture name ".concat(Z[0]));if((0,h.default)(le=this.captureNames).call(le,Z[1])!==-1)throw new SyntaxError("Cannot use same name for multiple groups ".concat(Z[0]));return this.captureNames.push(Z[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),De.addToken(/\((?!\?)/,function(Z,le,ye){return(0,h.default)(ye).call(ye,"n")!==-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});var xe=De;e.default=xe,t.exports=e.default}(jk,Ma)),Ma}var ja={},BR={get exports(){return ja},set exports(t){ja=t}},z1={},IR={get exports(){return z1},set exports(t){z1=t}},LS={},ch,GS;function PR(){if(GS)return ch;GS=1;var t=Ac,e=hs(),r=Cm,n=ms(),u=TypeError,s=function(i){return function(o,a,c,l){t(a);var f=e(o),d=r(f),p=n(f),h=i?p-1:0,v=i?-1:1;if(c<2)for(;;){if(h in d){l=d[h],h+=v;break}if(h+=v,i?h<0:p<=h)throw u("Reduce of empty array with no initial value")}for(;i?h>=0:p>h;h+=v)h in d&&(l=a(l,d[h],h,f));return l}};return ch={left:s(!1),right:s(!0)},ch}var Vt={},kR={get exports(){return Vt},set exports(t){Vt=t}},ir=kR.exports={},Zn,eu;function P2(){throw new Error("setTimeout has not been defined")}function k2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Zn=setTimeout:Zn=P2}catch{Zn=P2}try{typeof clearTimeout=="function"?eu=clearTimeout:eu=k2}catch{eu=k2}})();function x5(t){if(Zn===setTimeout)return setTimeout(t,0);if((Zn===P2||!Zn)&&setTimeout)return Zn=setTimeout,setTimeout(t,0);try{return Zn(t,0)}catch{try{return Zn.call(null,t,0)}catch{return Zn.call(this,t,0)}}}function OR(t){if(eu===clearTimeout)return clearTimeout(t);if((eu===k2||!eu)&&clearTimeout)return eu=clearTimeout,clearTimeout(t);try{return eu(t)}catch{try{return eu.call(null,t)}catch{return eu.call(this,t)}}}var ku=[],Hi=!1,zs,Wl=-1;function NR(){!Hi||!zs||(Hi=!1,zs.length?ku=zs.concat(ku):Wl=-1,ku.length&&M5())}function M5(){if(!Hi){var t=x5(NR);Hi=!0;for(var e=ku.length;e;){for(zs=ku,ku=[];++Wl<e;)zs&&zs[Wl].run();Wl=-1,e=ku.length}zs=null,Hi=!1,OR(t)}}ir.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ku.push(new j5(t,e)),ku.length===1&&!Hi&&x5(M5)};function j5(t,e){this.fun=t,this.array=e}j5.prototype.run=function(){this.fun.apply(null,this.array)};ir.title="browser";ir.browser=!0;ir.env={};ir.argv=[];ir.version="";ir.versions={};function Uu(){}ir.on=Uu;ir.addListener=Uu;ir.once=Uu;ir.off=Uu;ir.removeListener=Uu;ir.removeAllListeners=Uu;ir.emit=Uu;ir.prependListener=Uu;ir.prependOnceListener=Uu;ir.listeners=function(t){return[]};ir.binding=function(t){throw new Error("process.binding is not supported")};ir.cwd=function(){return"/"};ir.chdir=function(t){throw new Error("process.chdir is not supported")};ir.umask=function(){return 0};var lh,VS;function RR(){if(VS)return lh;VS=1;var t=po();return lh=typeof Vt<"u"&&t(Vt)=="process",lh}var US;function qR(){if(US)return LS;US=1;var t=gr,e=PR().left,r=qf(),n=gc(),u=RR(),s=!u&&n>79&&n<83,i=s||!r("reduce");return t({target:"Array",proto:!0,forced:i},{reduce:function(a){var c=arguments.length;return e(this,a,c,c>1?arguments[1]:void 0)}}),LS}var fh,KS;function xR(){if(KS)return fh;KS=1,qR();var t=li();return fh=t("Array").reduce,fh}var dh,JS;function MR(){if(JS)return dh;JS=1;var t=Vn(),e=xR(),r=Array.prototype;return dh=function(n){var u=n.reduce;return n===r||t(r,n)&&u===r.reduce?e:u},dh}var ph,HS;function jR(){if(HS)return ph;HS=1;var t=MR();return ph=t,ph}var WS;function LR(){return WS||(WS=1,function(t){t.exports=jR()}(IR)),z1}var Q1={},GR={get exports(){return Q1},set exports(t){Q1=t}},zS={},QS;function VR(){if(QS)return zS;QS=1;var t=gr,e=Mm().map,r=Nm(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),zS}var hh,YS;function UR(){if(YS)return hh;YS=1,VR();var t=li();return hh=t("Array").map,hh}var mh,XS;function KR(){if(XS)return mh;XS=1;var t=Vn(),e=UR(),r=Array.prototype;return mh=function(n){var u=n.map;return n===r||t(r,n)&&u===r.map?e:u},mh}var Dh,ZS;function JR(){if(ZS)return Dh;ZS=1;var t=KR();return Dh=t,Dh}var e4;function HR(){return e4||(e4=1,function(t){t.exports=JR()}(GR)),Q1}var t4;function WR(){return t4||(t4=1,function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n(LR()),s=n(HR()),i=n(xf()),o=n(Mf());/*!
 * XRegExp.build 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 */var a=function(l){var f="xregexp",d=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,p=l.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,d],"g",{conjunction:"or"});function h(F){var I=/^(?:\(\?:\))*\^/,k=/\$(?:\(\?:\))*$/;return I.test(F)&&k.test(F)&&k.test(F.replace(/\\[\s\S]/g,""))?F.replace(I,"").replace(k,""):F}function v(F,I){var k=I?"x":"";return l.isRegExp(F)?F[f]&&F[f].captureNames?F:l(F.source,k):l(F,k)}function S(F){return F instanceof RegExp?F:l.escape(F)}function D(F,I,k){return F["subpattern".concat(k)]=I,F}function g(F,I,k){var B=I<k.length-1;return F+(B?"{{subpattern".concat(I,"}}"):"")}l.tag=function(F){return function(I){for(var k,B,O=arguments.length,M=new Array(O>1?O-1:0),y=1;y<O;y++)M[y-1]=arguments[y];var P=(0,u.default)(k=(0,s.default)(M).call(M,S)).call(k,D,{}),L=(0,s.default)(B=I.raw).call(B,g).join("");return l.build(L,P,F)}},l.build=function(F,I,k){k=k||"";var B=(0,i.default)(k).call(k,"x")!==-1,O=/^\(\?([\w$]+)\)/.exec(F);O&&(k=l._clipDuplicates(k+O[1]));var M={};for(var y in I)if(I.hasOwnProperty(y)){var P=v(I[y],B);M[y]={pattern:h(P.source),names:P[f].captureNames||[]}}var L=v(F,B),U=0,Y,H=0,se=[0],fe=L[f].captureNames||[],K=L.source.replace(p,function(z,te,V,N,A){var C=te||V,E,_,R;if(C){var b;if(!M.hasOwnProperty(C))throw new ReferenceError("Undefined property ".concat(z));te?(E=fe[H],se[++H]=++U,_="(?<".concat(E||C,">")):_="(?:",Y=U;var T=M[C].pattern.replace(d,function(j,q,X){if(q){if(E=M[C].names[U-Y],++U,E)return"(?<".concat(E,">")}else if(X)return R=+X-1,M[C].names[R]?"\\k<".concat(M[C].names[R],">"):"\\".concat(+X+Y);return j});return(0,o.default)(b="".concat(_)).call(b,T,")")}if(N){if(E=fe[H],se[++H]=++U,E)return"(?<".concat(E,">")}else if(A)return R=+A-1,fe[R]?"\\k<".concat(fe[R],">"):"\\".concat(se[+A]);return z});return l(K,k)}};e.default=a,t.exports=e.default}(BR,ja)),ja}var La={},zR={get exports(){return La},set exports(t){La=t}},r4;function QR(){return r4||(r4=1,function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n(xf()),s=n(Mf()),i=n(S1());/*!
 * XRegExp.matchRecursive 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2009-present MIT License
 */var o=function(c){function l(f,d,p,h){return{name:f,value:d,start:p,end:h}}c.matchRecursive=function(f,d,p,h,v){h=h||"",v=v||{};var S=(0,u.default)(h).call(h,"g")!==-1,D=(0,u.default)(h).call(h,"y")!==-1,g=h.replace(/y/g,"");d=c(d,g),p=c(p,g);var F,I=v,k=I.escapeChar;if(k){var B,O;if(k.length>1)throw new Error("Cannot use more than one escape character");k=c.escape(k),F=new RegExp((0,s.default)(B=(0,s.default)(O="(?:".concat(k,"[\\S\\s]|(?:(?!")).call(O,c.union([d,p],"",{conjunction:"or"}).source,")[^")).call(B,k,"])+)+"),h.replace(c._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}for(var M=0,y=0,P=0,L=0,U,Y,H,se,fe=v.valueNames,K=[];;){if(k&&(P+=(c.exec(f,F,P,"sticky")||[""])[0].length),H=c.exec(f,d,P),se=c.exec(f,p,P),H&&se&&(H.index<=se.index?se=null:H=null),H||se)y=(H||se).index,P=y+(H||se)[0].length;else if(!M)break;if(D&&!M&&y>L)break;if(H)M||(U=y,Y=P),M+=1;else if(se&&M){if(M-=1,!M&&(fe?(fe[0]&&U>L&&K.push(l(fe[0],(0,i.default)(f).call(f,L,U),L,U)),fe[1]&&K.push(l(fe[1],(0,i.default)(f).call(f,U,Y),U,Y)),fe[2]&&K.push(l(fe[2],(0,i.default)(f).call(f,Y,y),Y,y)),fe[3]&&K.push(l(fe[3],(0,i.default)(f).call(f,y,P),y,P))):K.push((0,i.default)(f).call(f,Y,y)),L=P,!S))break}else{var z=v.unbalanced||"error";if(z==="skip"||z==="skip-lazy")if(se)se=null;else{if(z==="skip"){var te=c.exec(f,d,U,"sticky")[0].length;P=U+(te||1)}else P=U+1;M=0}else if(z==="error"){var V,N=se?"right":"left",A=se?y:U;throw new Error((0,s.default)(V="Unbalanced ".concat(N," delimiter found in string at position ")).call(V,A))}else throw new Error("Unsupported value for unbalanced: ".concat(z))}y===P&&(P+=1)}return S&&K.length>0&&!D&&fe&&fe[0]&&f.length>L&&K.push(l(fe[0],(0,i.default)(f).call(f,L),L,f.length)),K}};e.default=o,t.exports=e.default}(zR,La)),La}var Ga={},YR={get exports(){return Ga},set exports(t){Ga=t}},n4;function XR(){return n4||(n4=1,function(t,e){var r=S1(),n=A5(),u=P5(),s=Lm(),i=O5(),o=hu,a=mu;o(e,"__esModule",{value:!0}),e.default=void 0;var c=a(N5()),l=a(q5()),f=a(Mf()),d=a(xf());function p(D,g){var F=typeof u<"u"&&s(D)||D["@@iterator"];if(!F){if(i(D)||(F=h(D))||g&&D&&typeof D.length=="number"){F&&(D=F);var I=0,k=function(){};return{s:k,n:function(){return I>=D.length?{done:!0}:{done:!1,value:D[I++]}},e:function(P){throw P},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=!0,O=!1,M;return{s:function(){F=F.call(D)},n:function(){var P=F.next();return B=P.done,P},e:function(P){O=!0,M=P},f:function(){try{!B&&F.return!=null&&F.return()}finally{if(O)throw M}}}}function h(D,g){var F;if(D){if(typeof D=="string")return v(D,g);var I=r(F=Object.prototype.toString.call(D)).call(F,8,-1);if(I==="Object"&&D.constructor&&(I=D.constructor.name),I==="Map"||I==="Set")return n(D);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return v(D,g)}}function v(D,g){(g==null||g>D.length)&&(g=D.length);for(var F=0,I=new Array(g);F<g;F++)I[F]=D[F];return I}/*!
 * XRegExp Unicode Base 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2008-present MIT License
 */var S=function(g){var F={},I={},k=g._dec,B=g._hex,O=g._pad4;function M(H){return H.replace(/[- _]+/g,"").toLowerCase()}function y(H){var se=/^\\[xu](.+)/.exec(H);return se?k(se[1]):H.charCodeAt(H[0]==="\\"?1:0)}function P(H){var se="",fe=-1;return(0,l.default)(g).call(g,H,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(K){var z=y(K[1]);z>fe+1&&(se+="\\u".concat(O(B(fe+1))),z>fe+2&&(se+="-\\u".concat(O(B(z-1))))),fe=y(K[2]||K[1])}),fe<65535&&(se+="\\u".concat(O(B(fe+1))),fe<65534&&(se+="-\\uFFFF")),se}function L(H){var se="b!";return F[H][se]||(F[H][se]=P(F[H].bmp))}function U(H,se){var fe=F[H],K="";if(fe.bmp&&!fe.isBmpLast){var z;K=(0,f.default)(z="[".concat(fe.bmp,"]")).call(z,fe.astral?"|":"")}if(fe.astral&&(K+=fe.astral),fe.isBmpLast&&fe.bmp){var te;K+=(0,f.default)(te="".concat(fe.astral?"|":"","[")).call(te,fe.bmp,"]")}return se?"(?:(?!".concat(K,")(?:[\uD800-\uDBFF][\uDC00-\uDFFF]|[\0-]))"):"(?:".concat(K,")")}function Y(H,se){var fe=se?"a!":"a=";return F[H][fe]||(F[H][fe]=U(H,se))}g.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,function(H,se,fe){var K="Invalid double negation ",z="Unknown Unicode token ",te="Unicode token missing data ",V="Astral mode required for Unicode token ",N="Astral mode does not support Unicode tokens within character classes",A=(0,c.default)(H,6),C=A[0],E=A[1],_=A[2],R=A[3],b=A[4],T=A[5],j=E==="P"||!!_,q=(0,d.default)(fe).call(fe,"A")!==-1,X=M(T||b),ie=F[X];if(E==="P"&&_)throw new SyntaxError(K+C);if(!F.hasOwnProperty(X))throw new SyntaxError(z+C);if(R&&!(I[R]&&I[R][X]))throw new SyntaxError(z+C);if(ie.inverseOf){if(X=M(ie.inverseOf),!F.hasOwnProperty(X)){var Ee;throw new ReferenceError((0,f.default)(Ee="".concat(te+C," -> ")).call(Ee,ie.inverseOf))}ie=F[X],j=!j}if(!(ie.bmp||q))throw new SyntaxError(V+C);if(q){if(se==="class")throw new SyntaxError(N);return Y(X,j)}return se==="class"?j?L(X):ie.bmp:"".concat((j?"[^":"[")+ie.bmp,"]")},{scope:"all",optionalFlags:"A",leadChar:"\\"}),g.addUnicodeData=function(H,se){var fe="Unicode token requires name",K="Unicode token has no character data ";se&&(I[se]={});var z=p(H),te;try{for(z.s();!(te=z.n()).done;){var V=te.value;if(!V.name)throw new Error(fe);if(!(V.inverseOf||V.bmp||V.astral))throw new Error(K+V.name);var N=M(V.name);if(F[N]=V,se&&(I[se][N]=!0),V.alias){var A=M(V.alias);F[A]=V,se&&(I[se][A]=!0)}}}catch(C){z.e(C)}finally{z.f()}g.cache.flush("patterns")},g._getUnicodeProperty=function(H){var se=M(H);return F[se]}};e.default=S,t.exports=e.default}(YR,Ga)),Ga}var Va={},ZR={get exports(){return Va},set exports(t){Va=t}},Eh,u4;function eq(){return u4||(u4=1,Eh=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0----------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"-----\uFEFF-",astral:"\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Cn",alias:"Unassigned",bmp:"----------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD40-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEFF\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCC3-\uDCCC\uDCCE\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF9-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDB7F][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC2F\uDC39-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE9B-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA4-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDDEB-\uDDFF\uDE46-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED8-\uDEDC\uDEED-\uDEEF\uDEFD-\uDEFF\uDF74-\uDF7F\uDFD9-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCB2-\uDCFF\uDE54-\uDE5F\uDE6E\uDE6F\uDE75-\uDE77\uDE7D-\uDE7F\uDE87-\uDE8F\uDEAD-\uDEAF\uDEBB-\uDEBF\uDEC6-\uDECF\uDEDA-\uDEDF\uDEE8-\uDEEF\uDEF7-\uDEFF\uDF93\uDFCB-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF39-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00\uDC02-\uDC1F\uDC80-\uDCFF\uDDF0-\uDFFF]|[\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uDBBF\uDBFF][\uDC00-\uDFFD]"},{name:"Cs",alias:"Surrogate",bmp:"\uD800-\uDFFF"},{name:"L",alias:"Letter",bmp:"A-Za-z----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-z-----------------------------------------------------------------",astral:"\uD801[\uDC00-\uDC4F\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD806[\uDCA0-\uDCDF]|\uD81B[\uDE40-\uDE7F]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD00-\uDD43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-z---------------------------------------------------",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"-------------",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD81A[\uDF40-\uDF43]|\uD81B[\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD838[\uDD37-\uDD3D]|"},{name:"Lo",alias:"Other_Letter",bmp:"--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC50-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF4A\uDF50]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]||\uD838[\uDD00-\uDD2C\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"---"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-Z------------------------------------------",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]"},{name:"M",alias:"Mark",bmp:"----------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"Mc",alias:"Spacing_Mark",bmp:"-----------------------------",astral:"\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3E\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB0-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDDAF-\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF20\uDF21\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD30-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD65\uDD66\uDD6D-\uDD72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"---"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"---------------------------------------------------------------------------------",astral:"\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]"},{name:"N",alias:"Number",bmp:"0-9-------------------------------------------------------------",astral:"\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9------------------------------------",astral:"\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9]"},{name:"Nl",alias:"Letter_Number",bmp:"------",astral:"\uD800[\uDD40-\uDD74\uDF41\uDF4A\uDFD1-\uDFD5]|\uD809[\uDC00-\uDC6E]"},{name:"No",alias:"Other_Number",bmp:"-----------------------",astral:"\uD800[\uDD07-\uDD33\uDD75-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC65\uDDE1-\uDDF4]|\uD805[\uDF3A\uDF3B]|\uD806[\uDCEA-\uDCF2]|\uD807[\uDC5A-\uDC6C\uDFC0-\uDFD4]|\uD81A[\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD83A[\uDCC7-\uDCCF]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}---------------------------------------------------",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]||\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]||\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_-"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\--",astral:""},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}"},{name:"Pf",alias:"Final_Punctuation",bmp:""},{name:"Pi",alias:"Initial_Punctuation",bmp:""},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\-------------------------------------------------",astral:"\uD800[\uDD00-\uDD02\uDF9F\uDFD0]||\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]||\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~----------------------------------------------------------------------",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]||\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]||\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$--",astral:"\uD807[\uDFDD-\uDFE0]||"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`----------",astral:"\uD83C[\uDFFB-\uDFFF]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~---------------------",astral:"\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD83B[\uDEF0\uDEF1]"},{name:"So",alias:"Other_Symbol",bmp:"--------------------------------------------------------",astral:"\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]||\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]||\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]||\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA]"},{name:"Z",alias:"Separator",bmp:" -\u2028\u2029"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" -"}]),Eh}var s4;function tq(){return s4||(s4=1,function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n(eq());/*!
 * XRegExp Unicode Categories 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(o){if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");o.addUnicodeData(u.default)};e.default=s,t.exports=e.default}(ZR,Va)),Va}var Ua={},rq={get exports(){return Ua},set exports(t){Ua=t}},yh,i4;function nq(){return i4||(i4=1,yh=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC71-\uDC75\uDC82-\uDCB8\uDCC2\uDCD0-\uDCE8\uDD00-\uDD32\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE\uDDCF\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE80-\uDEB5\uDEB8\uDF00-\uDF1A\uDF1D-\uDF2A\uDF40-\uDF46]|\uD806[\uDC00-\uDC38\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD47\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Any",isBmpLast:!0,bmp:"\0-",astral:"[\uD800-\uDBFF][\uDC00-\uDFFF]"},{name:"Default_Ignorable_Code_Point",bmp:"-----\uFEFF-",astral:"\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|[\uDB40-\uDB43][\uDC00-\uDFFF]"},{name:"Lowercase",bmp:"a-z-------------------------------------------------------",astral:"\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDF80\uDF83-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E]|\uD83A[\uDD22-\uDD43]"},{name:"Noncharacter_Code_Point",bmp:"-",astral:"[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]"},{name:"Uppercase",bmp:"A-Z--------------------------------------------",astral:"\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]"},{name:"White_Space",bmp:"	-\r -\u2028\u2029"}]),yh}var o4;function uq(){return o4||(o4=1,function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n(nq());/*!
 * XRegExp Unicode Properties 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(o){if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var a=u.default;a.push({name:"Assigned",inverseOf:"Cn"}),o.addUnicodeData(a)};e.default=s,t.exports=e.default}(rq,Ua)),Ua}var Ka={},sq={get exports(){return Ka},set exports(t){Ka=t}},vh,a4;function iq(){return a4||(a4=1,vh=[{name:"Adlam",astral:"\uD83A[\uDD00-\uDD4B\uDD50-\uDD59\uDD5E\uDD5F]"},{name:"Ahom",astral:"\uD805[\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF46]"},{name:"Anatolian_Hieroglyphs",astral:"\uD811[\uDC00-\uDE46]"},{name:"Arabic",bmp:"--------------------",astral:"\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]"},{name:"Armenian",bmp:"----"},{name:"Avestan",astral:"\uD802[\uDF00-\uDF35\uDF39-\uDF3F]"},{name:"Balinese",bmp:"--"},{name:"Bamum",bmp:"-",astral:"\uD81A[\uDC00-\uDE38]"},{name:"Bassa_Vah",astral:"\uD81A[\uDED0-\uDEED\uDEF0-\uDEF5]"},{name:"Batak",bmp:"--"},{name:"Bengali",bmp:"---------"},{name:"Bhaiksuki",astral:"\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC45\uDC50-\uDC6C]"},{name:"Bopomofo",bmp:"--"},{name:"Brahmi",astral:"\uD804[\uDC00-\uDC4D\uDC52-\uDC75\uDC7F]"},{name:"Braille",bmp:"-"},{name:"Buginese",bmp:"-"},{name:"Buhid",bmp:"-"},{name:"Canadian_Aboriginal",bmp:"--",astral:"\uD806[\uDEB0-\uDEBF]"},{name:"Carian",astral:"\uD800[\uDEA0-\uDED0]"},{name:"Caucasian_Albanian",astral:"\uD801[\uDD30-\uDD63\uDD6F]"},{name:"Chakma",astral:"\uD804[\uDD00-\uDD34\uDD36-\uDD47]"},{name:"Cham",bmp:"----"},{name:"Cherokee",bmp:"---"},{name:"Chorasmian",astral:"\uD803[\uDFB0-\uDFCB]"},{name:"Common",bmp:"\0-@\\[-`\\{------------------------------------------------\uFEFF------",astral:"\uD800[\uDD00-\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD90-\uDD9C\uDDD0-\uDDFC\uDEE1-\uDEFB]|\uD82F[\uDCA0-\uDCA3]|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDEE0-\uDEF3\uDF00-\uDF56\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uD83B[\uDC71-\uDCB4\uDD01-\uDD3D]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDDAD\uDDE6-\uDDFF\uDE01\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDD-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6\uDF00-\uDF92\uDF94-\uDFCA\uDFF0-\uDFF9]|\uDB40[\uDC01\uDC20-\uDC7F]"},{name:"Coptic",bmp:"---"},{name:"Cuneiform",astral:"\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]"},{name:"Cypriot",astral:"\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F]"},{name:"Cypro_Minoan",astral:"\uD80B[\uDF90-\uDFF2]"},{name:"Cyrillic",bmp:"-----"},{name:"Deseret",astral:"\uD801[\uDC00-\uDC4F]"},{name:"Devanagari",bmp:"----"},{name:"Dives_Akuru",astral:"\uD806[\uDD00-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD46\uDD50-\uDD59]"},{name:"Dogra",astral:"\uD806[\uDC00-\uDC3B]"},{name:"Duployan",astral:"\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C-\uDC9F]"},{name:"Egyptian_Hieroglyphs",astral:"\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E\uDC30-\uDC38]"},{name:"Elbasan",astral:"\uD801[\uDD00-\uDD27]"},{name:"Elymaic",astral:"\uD803[\uDFE0-\uDFF6]"},{name:"Ethiopic",bmp:"------------------------------",astral:"\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]"},{name:"Georgian",bmp:"------"},{name:"Glagolitic",bmp:"-",astral:"\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]"},{name:"Gothic",astral:"\uD800[\uDF30-\uDF4A]"},{name:"Grantha",astral:"\uD804[\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]"},{name:"Greek",bmp:"-----------------------",astral:"\uD800[\uDD40-\uDD8E\uDDA0]|\uD834[\uDE00-\uDE45]"},{name:"Gujarati",bmp:"------------"},{name:"Gunjala_Gondi",astral:"\uD807[\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9]"},{name:"Gurmukhi",bmp:"--------"},{name:"Han",bmp:"---------",astral:"\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]"},{name:"Hangul",bmp:"-------------"},{name:"Hanifi_Rohingya",astral:"\uD803[\uDD00-\uDD27\uDD30-\uDD39]"},{name:"Hanunoo",bmp:"-"},{name:"Hatran",astral:"\uD802[\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDCFF]"},{name:"Hebrew",bmp:"------"},{name:"Hiragana",bmp:"--",astral:"\uD82C[\uDC01-\uDD1F\uDD50-\uDD52]|"},{name:"Imperial_Aramaic",astral:"\uD802[\uDC40-\uDC55\uDC57-\uDC5F]"},{name:"Inherited",bmp:"------------",astral:"\uD800[\uDDFD\uDEE0]||\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uDB40[\uDD00-\uDDEF]"},{name:"Inscriptional_Pahlavi",astral:"\uD802[\uDF60-\uDF72\uDF78-\uDF7F]"},{name:"Inscriptional_Parthian",astral:"\uD802[\uDF40-\uDF55\uDF58-\uDF5F]"},{name:"Javanese",bmp:"--"},{name:"Kaithi",astral:"\uD804[\uDC80-\uDCC2\uDCCD]"},{name:"Kannada",bmp:"----------"},{name:"Katakana",bmp:"-------",astral:"\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD64-\uDD67]"},{name:"Kayah_Li",bmp:"-"},{name:"Kharoshthi",astral:"\uD802[\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE50-\uDE58]"},{name:"Khitan_Small_Script",astral:"|\uD822[\uDF00-\uDFFF]|\uD823[\uDC00-\uDCD5]"},{name:"Khmer",bmp:"----"},{name:"Khojki",astral:"\uD804[\uDE00-\uDE11\uDE13-\uDE3E]"},{name:"Khudawadi",astral:"\uD804[\uDEB0-\uDEEA\uDEF0-\uDEF9]"},{name:"Lao",bmp:"-------"},{name:"Latin",bmp:"A-Za-z-----------------------",astral:"\uD801[\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD837[\uDF00-\uDF1E]"},{name:"Lepcha",bmp:"---"},{name:"Limbu",bmp:"----"},{name:"Linear_A",astral:"\uD801[\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]"},{name:"Linear_B",astral:"\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA]"},{name:"Lisu",bmp:"-",astral:""},{name:"Lycian",astral:"\uD800[\uDE80-\uDE9C]"},{name:"Lydian",astral:"\uD802[\uDD20-\uDD39\uDD3F]"},{name:"Mahajani",astral:"\uD804[\uDD50-\uDD76]"},{name:"Makasar",astral:"\uD807[\uDEE0-\uDEF8]"},{name:"Malayalam",bmp:"-------"},{name:"Mandaic",bmp:"-"},{name:"Manichaean",astral:"\uD802[\uDEC0-\uDEE6\uDEEB-\uDEF6]"},{name:"Marchen",astral:"\uD807[\uDC70-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]"},{name:"Masaram_Gondi",astral:"\uD807[\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]"},{name:"Medefaidrin",astral:"\uD81B[\uDE40-\uDE9A]"},{name:"Meetei_Mayek",bmp:"---"},{name:"Mende_Kikakui",astral:"\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6]"},{name:"Meroitic_Cursive",astral:"\uD802[\uDDA0-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDDFF]"},{name:"Meroitic_Hieroglyphs",astral:"\uD802[\uDD80-\uDD9F]"},{name:"Miao",astral:"\uD81B[\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F]"},{name:"Modi",astral:"\uD805[\uDE00-\uDE44\uDE50-\uDE59]"},{name:"Mongolian",bmp:"---",astral:"\uD805[\uDE60-\uDE6C]"},{name:"Mro",astral:"\uD81A[\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F]"},{name:"Multani",astral:"\uD804[\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9]"},{name:"Myanmar",bmp:"---"},{name:"Nabataean",astral:"\uD802[\uDC80-\uDC9E\uDCA7-\uDCAF]"},{name:"Nandinagari",astral:"\uD806[\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE4]"},{name:"New_Tai_Lue",bmp:"---"},{name:"Newa",astral:"\uD805[\uDC00-\uDC5B\uDC5D-\uDC61]"},{name:"Nko",bmp:"--"},{name:"Nushu",astral:"|\uD82C[\uDD70-\uDEFB]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\uD838[\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDD4F]"},{name:"Ogham",bmp:"-"},{name:"Ol_Chiki",bmp:"-"},{name:"Old_Hungarian",astral:"\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]"},{name:"Old_Italic",astral:"\uD800[\uDF00-\uDF23\uDF2D-\uDF2F]"},{name:"Old_North_Arabian",astral:"\uD802[\uDE80-\uDE9F]"},{name:"Old_Permic",astral:"\uD800[\uDF50-\uDF7A]"},{name:"Old_Persian",astral:"\uD800[\uDFA0-\uDFC3\uDFC8-\uDFD5]"},{name:"Old_Sogdian",astral:"\uD803[\uDF00-\uDF27]"},{name:"Old_South_Arabian",astral:"\uD802[\uDE60-\uDE7F]"},{name:"Old_Turkic",astral:"\uD803[\uDC00-\uDC48]"},{name:"Old_Uyghur",astral:"\uD803[\uDF70-\uDF89]"},{name:"Oriya",bmp:"----------"},{name:"Osage",astral:"\uD801[\uDCB0-\uDCD3\uDCD8-\uDCFB]"},{name:"Osmanya",astral:"\uD801[\uDC80-\uDC9D\uDCA0-\uDCA9]"},{name:"Pahawh_Hmong",astral:"\uD81A[\uDF00-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]"},{name:"Palmyrene",astral:"\uD802[\uDC60-\uDC7F]"},{name:"Pau_Cin_Hau",astral:"\uD806[\uDEC0-\uDEF8]"},{name:"Phags_Pa",bmp:"-"},{name:"Phoenician",astral:"\uD802[\uDD00-\uDD1B\uDD1F]"},{name:"Psalter_Pahlavi",astral:"\uD802[\uDF80-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]"},{name:"Rejang",bmp:"-"},{name:"Runic",bmp:"--"},{name:"Samaritan",bmp:"--"},{name:"Saurashtra",bmp:"--"},{name:"Sharada",astral:"\uD804[\uDD80-\uDDDF]"},{name:"Shavian",astral:"\uD801[\uDC50-\uDC7F]"},{name:"Siddham",astral:"\uD805[\uDD80-\uDDB5\uDDB8-\uDDDD]"},{name:"SignWriting",astral:"\uD836[\uDC00-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]"},{name:"Sinhala",bmp:"---------",astral:"\uD804[\uDDE1-\uDDF4]"},{name:"Sogdian",astral:"\uD803[\uDF30-\uDF59]"},{name:"Sora_Sompeng",astral:"\uD804[\uDCD0-\uDCE8\uDCF0-\uDCF9]"},{name:"Soyombo",astral:"\uD806[\uDE50-\uDEA2]"},{name:"Sundanese",bmp:"--"},{name:"Syloti_Nagri",bmp:"-"},{name:"Syriac",bmp:"----"},{name:"Tagalog",bmp:"-"},{name:"Tagbanwa",bmp:"--"},{name:"Tai_Le",bmp:"--"},{name:"Tai_Tham",bmp:"-----"},{name:"Tai_Viet",bmp:"--"},{name:"Takri",astral:"\uD805[\uDE80-\uDEB9\uDEC0-\uDEC9]"},{name:"Tamil",bmp:"---------",astral:"\uD807[\uDFC0-\uDFF1\uDFFF]"},{name:"Tangsa",astral:"\uD81A[\uDE70-\uDEBE\uDEC0-\uDEC9]"},{name:"Tangut",astral:"|[\uD81C-\uD820][\uDC00-\uDFFF]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEFF]|\uD823[\uDD00-\uDD08]"},{name:"Telugu",bmp:"-----------"},{name:"Thaana",bmp:"-"},{name:"Thai",bmp:"--"},{name:"Tibetan",bmp:"------"},{name:"Tifinagh",bmp:"-"},{name:"Tirhuta",astral:"\uD805[\uDC80-\uDCC7\uDCD0-\uDCD9]"},{name:"Toto",astral:"\uD838[\uDE90-\uDEAE]"},{name:"Ugaritic",astral:"\uD800[\uDF80-\uDF9D\uDF9F]"},{name:"Vai",bmp:"-"},{name:"Vithkuqi",astral:"\uD801[\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]"},{name:"Wancho",astral:"\uD838[\uDEC0-\uDEF9\uDEFF]"},{name:"Warang_Citi",astral:"\uD806[\uDCA0-\uDCF2\uDCFF]"},{name:"Yezidi",astral:"\uD803[\uDE80-\uDEA9\uDEAB-\uDEAD\uDEB0\uDEB1]"},{name:"Yi",bmp:"--"},{name:"Zanabazar_Square",astral:"\uD806[\uDE00-\uDE47]"}]),vh}var c4;function oq(){return c4||(c4=1,function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n(iq());/*!
 * XRegExp Unicode Scripts 5.1.1
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */var s=function(o){if(!o.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");o.addUnicodeData(u.default,"Script")};e.default=s,t.exports=e.default}(sq,Ka)),Ka}(function(t,e){var r=hu,n=mu;r(e,"__esModule",{value:!0}),e.default=void 0;var u=n($R()),s=n(WR()),i=n(QR()),o=n(XR()),a=n(tq()),c=n(uq()),l=n(oq());(0,s.default)(u.default),(0,i.default)(u.default),(0,o.default)(u.default),(0,a.default)(u.default),(0,c.default)(u.default),(0,l.default)(u.default);var f=u.default;e.default=f,t.exports=e.default})(XI,Bt);var L5={},Du={},aq={get exports(){return Du},set exports(t){Du=t}};(function(t){var e,r,n,u,s,i,o,a,c,l,f,d,p,h,v,S,D,g,F,I,k,B,O,M,y,P,L,U,Y;(function(H){var se=typeof qn=="object"?qn:typeof self=="object"?self:typeof this=="object"?this:{};H(fe(se,fe(t.exports)));function fe(K,z){return K!==se&&(typeof Object.create=="function"?Object.defineProperty(K,"__esModule",{value:!0}):K.__esModule=!0),function(te,V){return K[te]=z?z(te,V):V}}})(function(H){var se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,z){K.__proto__=z}||function(K,z){for(var te in z)Object.prototype.hasOwnProperty.call(z,te)&&(K[te]=z[te])};e=function(K,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");se(K,z);function te(){this.constructor=K}K.prototype=z===null?Object.create(z):(te.prototype=z.prototype,new te)},r=Object.assign||function(K){for(var z,te=1,V=arguments.length;te<V;te++){z=arguments[te];for(var N in z)Object.prototype.hasOwnProperty.call(z,N)&&(K[N]=z[N])}return K},n=function(K,z){var te={};for(var V in K)Object.prototype.hasOwnProperty.call(K,V)&&z.indexOf(V)<0&&(te[V]=K[V]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,V=Object.getOwnPropertySymbols(K);N<V.length;N++)z.indexOf(V[N])<0&&Object.prototype.propertyIsEnumerable.call(K,V[N])&&(te[V[N]]=K[V[N]]);return te},u=function(K,z,te,V){var N=arguments.length,A=N<3?z:V===null?V=Object.getOwnPropertyDescriptor(z,te):V,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(K,z,te,V);else for(var E=K.length-1;E>=0;E--)(C=K[E])&&(A=(N<3?C(A):N>3?C(z,te,A):C(z,te))||A);return N>3&&A&&Object.defineProperty(z,te,A),A},s=function(K,z){return function(te,V){z(te,V,K)}},i=function(K,z,te,V,N,A){function C(Be){if(Be!==void 0&&typeof Be!="function")throw new TypeError("Function expected");return Be}for(var E=V.kind,_=E==="getter"?"get":E==="setter"?"set":"value",R=!z&&K?V.static?K:K.prototype:null,b=z||(R?Object.getOwnPropertyDescriptor(R,V.name):{}),T,j=!1,q=te.length-1;q>=0;q--){var X={};for(var ie in V)X[ie]=ie==="access"?{}:V[ie];for(var ie in V.access)X.access[ie]=V.access[ie];X.addInitializer=function(Be){if(j)throw new TypeError("Cannot add initializers after decoration has completed");A.push(C(Be||null))};var Ee=(0,te[q])(E==="accessor"?{get:b.get,set:b.set}:b[_],X);if(E==="accessor"){if(Ee===void 0)continue;if(Ee===null||typeof Ee!="object")throw new TypeError("Object expected");(T=C(Ee.get))&&(b.get=T),(T=C(Ee.set))&&(b.set=T),(T=C(Ee.init))&&N.push(T)}else(T=C(Ee))&&(E==="field"?N.push(T):b[_]=T)}R&&Object.defineProperty(R,V.name,b),j=!0},o=function(K,z,te){for(var V=arguments.length>2,N=0;N<z.length;N++)te=V?z[N].call(K,te):z[N].call(K);return V?te:void 0},a=function(K){return typeof K=="symbol"?K:"".concat(K)},c=function(K,z,te){return typeof z=="symbol"&&(z=z.description?"[".concat(z.description,"]"):""),Object.defineProperty(K,"name",{configurable:!0,value:te?"".concat(te," ",z):z})},l=function(K,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(K,z)},f=function(K,z,te,V){function N(A){return A instanceof te?A:new te(function(C){C(A)})}return new(te||(te=Promise))(function(A,C){function E(b){try{R(V.next(b))}catch(T){C(T)}}function _(b){try{R(V.throw(b))}catch(T){C(T)}}function R(b){b.done?A(b.value):N(b.value).then(E,_)}R((V=V.apply(K,z||[])).next())})},d=function(K,z){var te={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},V,N,A,C;return C={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function E(R){return function(b){return _([R,b])}}function _(R){if(V)throw new TypeError("Generator is already executing.");for(;C&&(C=0,R[0]&&(te=0)),te;)try{if(V=1,N&&(A=R[0]&2?N.return:R[0]?N.throw||((A=N.return)&&A.call(N),0):N.next)&&!(A=A.call(N,R[1])).done)return A;switch(N=0,A&&(R=[R[0]&2,A.value]),R[0]){case 0:case 1:A=R;break;case 4:return te.label++,{value:R[1],done:!1};case 5:te.label++,N=R[1],R=[0];continue;case 7:R=te.ops.pop(),te.trys.pop();continue;default:if(A=te.trys,!(A=A.length>0&&A[A.length-1])&&(R[0]===6||R[0]===2)){te=0;continue}if(R[0]===3&&(!A||R[1]>A[0]&&R[1]<A[3])){te.label=R[1];break}if(R[0]===6&&te.label<A[1]){te.label=A[1],A=R;break}if(A&&te.label<A[2]){te.label=A[2],te.ops.push(R);break}A[2]&&te.ops.pop(),te.trys.pop();continue}R=z.call(K,te)}catch(b){R=[6,b],N=0}finally{V=A=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},p=function(K,z){for(var te in K)te!=="default"&&!Object.prototype.hasOwnProperty.call(z,te)&&Y(z,K,te)},Y=Object.create?function(K,z,te,V){V===void 0&&(V=te);var N=Object.getOwnPropertyDescriptor(z,te);(!N||("get"in N?!z.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return z[te]}}),Object.defineProperty(K,V,N)}:function(K,z,te,V){V===void 0&&(V=te),K[V]=z[te]},h=function(K){var z=typeof Symbol=="function"&&Symbol.iterator,te=z&&K[z],V=0;if(te)return te.call(K);if(K&&typeof K.length=="number")return{next:function(){return K&&V>=K.length&&(K=void 0),{value:K&&K[V++],done:!K}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(K,z){var te=typeof Symbol=="function"&&K[Symbol.iterator];if(!te)return K;var V=te.call(K),N,A=[],C;try{for(;(z===void 0||z-- >0)&&!(N=V.next()).done;)A.push(N.value)}catch(E){C={error:E}}finally{try{N&&!N.done&&(te=V.return)&&te.call(V)}finally{if(C)throw C.error}}return A},S=function(){for(var K=[],z=0;z<arguments.length;z++)K=K.concat(v(arguments[z]));return K},D=function(){for(var K=0,z=0,te=arguments.length;z<te;z++)K+=arguments[z].length;for(var V=Array(K),N=0,z=0;z<te;z++)for(var A=arguments[z],C=0,E=A.length;C<E;C++,N++)V[N]=A[C];return V},g=function(K,z,te){if(te||arguments.length===2)for(var V=0,N=z.length,A;V<N;V++)(A||!(V in z))&&(A||(A=Array.prototype.slice.call(z,0,V)),A[V]=z[V]);return K.concat(A||Array.prototype.slice.call(z))},F=function(K){return this instanceof F?(this.v=K,this):new F(K)},I=function(K,z,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=te.apply(K,z||[]),N,A=[];return N={},C("next"),C("throw"),C("return"),N[Symbol.asyncIterator]=function(){return this},N;function C(j){V[j]&&(N[j]=function(q){return new Promise(function(X,ie){A.push([j,q,X,ie])>1||E(j,q)})})}function E(j,q){try{_(V[j](q))}catch(X){T(A[0][3],X)}}function _(j){j.value instanceof F?Promise.resolve(j.value.v).then(R,b):T(A[0][2],j)}function R(j){E("next",j)}function b(j){E("throw",j)}function T(j,q){j(q),A.shift(),A.length&&E(A[0][0],A[0][1])}},k=function(K){var z,te;return z={},V("next"),V("throw",function(N){throw N}),V("return"),z[Symbol.iterator]=function(){return this},z;function V(N,A){z[N]=K[N]?function(C){return(te=!te)?{value:F(K[N](C)),done:!1}:A?A(C):C}:A}},B=function(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=K[Symbol.asyncIterator],te;return z?z.call(K):(K=typeof h=="function"?h(K):K[Symbol.iterator](),te={},V("next"),V("throw"),V("return"),te[Symbol.asyncIterator]=function(){return this},te);function V(A){te[A]=K[A]&&function(C){return new Promise(function(E,_){C=K[A](C),N(E,_,C.done,C.value)})}}function N(A,C,E,_){Promise.resolve(_).then(function(R){A({value:R,done:E})},C)}},O=function(K,z){return Object.defineProperty?Object.defineProperty(K,"raw",{value:z}):K.raw=z,K};var fe=Object.create?function(K,z){Object.defineProperty(K,"default",{enumerable:!0,value:z})}:function(K,z){K.default=z};M=function(K){if(K&&K.__esModule)return K;var z={};if(K!=null)for(var te in K)te!=="default"&&Object.prototype.hasOwnProperty.call(K,te)&&Y(z,K,te);return fe(z,K),z},y=function(K){return K&&K.__esModule?K:{default:K}},P=function(K,z,te,V){if(te==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?K!==z||!V:!z.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return te==="m"?V:te==="a"?V.call(K):V?V.value:z.get(K)},L=function(K,z,te,V,N){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?K!==z||!N:!z.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?N.call(K,te):N?N.value=te:z.set(K,te),te},U=function(K,z){if(z===null||typeof z!="object"&&typeof z!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof K=="function"?z===K:K.has(z)},H("__extends",e),H("__assign",r),H("__rest",n),H("__decorate",u),H("__param",s),H("__esDecorate",i),H("__runInitializers",o),H("__propKey",a),H("__setFunctionName",c),H("__metadata",l),H("__awaiter",f),H("__generator",d),H("__exportStar",p),H("__createBinding",Y),H("__values",h),H("__read",v),H("__spread",S),H("__spreadArrays",D),H("__spreadArray",g),H("__await",F),H("__asyncGenerator",I),H("__asyncDelegator",k),H("__asyncValues",B),H("__makeTemplateObject",O),H("__importStar",M),H("__importDefault",y),H("__classPrivateFieldGet",P),H("__classPrivateFieldSet",L),H("__classPrivateFieldIn",U)})})(aq);var wc={};const cq="16.6.0",lq=Object.freeze({major:16,minor:6,patch:0,preReleaseTag:null});function it(t,e){if(!Boolean(t))throw new Error(e)}function rn(t){return typeof(t==null?void 0:t.then)=="function"}function nn(t){return typeof t=="object"&&t!==null}function ur(t,e){if(!Boolean(t))throw new Error(e??"Unexpected invariant triggered.")}const fq=/\r\n|[\n\r]/g;function Y1(t,e){let r=0,n=1;for(const u of t.body.matchAll(fq)){if(typeof u.index=="number"||ur(!1),u.index>=e)break;r=u.index+u[0].length,n+=1}return{line:n,column:e+1-r}}function G5(t){return Gm(t.source,Y1(t.source,t.start))}function Gm(t,e){const r=t.locationOffset.column-1,n="".padStart(r)+t.body,u=e.line-1,s=t.locationOffset.line-1,i=e.line+s,o=e.line===1?r:0,a=e.column+o,c=`${t.name}:${i}:${a}
`,l=n.split(/\r\n|[\n\r]/g),f=l[u];if(f.length>120){const d=Math.floor(a/80),p=a%80,h=[];for(let v=0;v<f.length;v+=80)h.push(f.slice(v,v+80));return c+l4([[`${i} |`,h[0]],...h.slice(1,d+1).map(v=>["|",v]),["|","^".padStart(p)],["|",h[d+1]]])}return c+l4([[`${i-1} |`,l[u-1]],[`${i} |`,f],["|","^".padStart(a)],[`${i+1} |`,l[u+1]]])}function l4(t){const e=t.filter(([n,u])=>u!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,u])=>n.padStart(r)+(u?" "+u:"")).join(`
`)}function dq(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class Ae extends Error{constructor(e,...r){var n,u,s;const{nodes:i,source:o,positions:a,path:c,originalError:l,extensions:f}=dq(r);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=l??void 0,this.nodes=f4(Array.isArray(i)?i:i?[i]:void 0);const d=f4((n=this.nodes)===null||n===void 0?void 0:n.map(h=>h.loc).filter(h=>h!=null));this.source=o??(d==null||(u=d[0])===null||u===void 0?void 0:u.source),this.positions=a??(d==null?void 0:d.map(h=>h.start)),this.locations=a&&o?a.map(h=>Y1(o,h)):d==null?void 0:d.map(h=>Y1(h.source,h.start));const p=nn(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(s=f??p)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Ae):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(e+=`

`+G5(r.loc));else if(this.source&&this.locations)for(const r of this.locations)e+=`

`+Gm(this.source,r);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function f4(t){return t===void 0||t.length===0?void 0:t}function pq(t){return t.toString()}function hq(t){return t.toJSON()}function pr(t,e,r){return new Ae(`Syntax Error: ${r}`,{source:t,positions:[e]})}class V5{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Vm{constructor(e,r,n,u,s,i){this.kind=e,this.start=r,this.end=n,this.line=u,this.column=s,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const U5={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},mq=new Set(Object.keys(U5));function O2(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&mq.has(e)}var mr;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(mr||(mr={}));var Ge;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ge||(Ge={}));var ee;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ee||(ee={}));function N2(t){return t===9||t===32}function oc(t){return t>=48&&t<=57}function K5(t){return t>=97&&t<=122||t>=65&&t<=90}function Um(t){return K5(t)||t===95}function J5(t){return K5(t)||oc(t)||t===95}function Dq(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,u=-1;for(let i=0;i<t.length;++i){var s;const o=t[i],a=Eq(o);a!==o.length&&(n=(s=n)!==null&&s!==void 0?s:i,u=i,i!==0&&a<r&&(r=a))}return t.map((i,o)=>o===0?i:i.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,u+1)}function Eq(t){let e=0;for(;e<t.length&&N2(t.charCodeAt(e));)++e;return e}function yq(t){if(t==="")return!0;let e=!0,r=!1,n=!0,u=!1;for(let s=0;s<t.length;++s)switch(t.codePointAt(s)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(e&&!u)return!1;u=!0,e=!0,r=!1;break;case 9:case 32:r||(r=e);break;default:n&&(n=r),e=!1}return!(e||n&&u)}function H5(t,e){const r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),u=n.length===1,s=n.length>1&&n.slice(1).every(p=>p.length===0||N2(p.charCodeAt(0))),i=r.endsWith('\\"""'),o=t.endsWith('"')&&!i,a=t.endsWith("\\"),c=o||a,l=!(e!=null&&e.minimize)&&(!u||t.length>70||c||s||i);let f="";const d=u&&N2(t.charCodeAt(0));return(l&&!d||s)&&(f+=`
`),f+=r,(l||c)&&(f+=`
`),'"""'+f+'"""'}var Se;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(Se||(Se={}));class Km{constructor(e){const r=new Vm(Se.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Se.EOF)do if(e.next)e=e.next;else{const r=vq(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===Se.COMMENT);return e}}function W5(t){return t===Se.BANG||t===Se.DOLLAR||t===Se.AMP||t===Se.PAREN_L||t===Se.PAREN_R||t===Se.SPREAD||t===Se.COLON||t===Se.EQUALS||t===Se.AT||t===Se.BRACKET_L||t===Se.BRACKET_R||t===Se.BRACE_L||t===Se.PIPE||t===Se.BRACE_R}function yo(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function jf(t,e){return z5(t.charCodeAt(e))&&Q5(t.charCodeAt(e+1))}function z5(t){return t>=55296&&t<=56319}function Q5(t){return t>=56320&&t<=57343}function ni(t,e){const r=t.source.body.codePointAt(e);if(r===void 0)return Se.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function ar(t,e,r,n,u){const s=t.line,i=1+r-t.lineStart;return new Vm(e,r,n,s,i,u)}function vq(t,e){const r=t.source.body,n=r.length;let u=e;for(;u<n;){const s=r.charCodeAt(u);switch(s){case 65279:case 9:case 32:case 44:++u;continue;case 10:++u,++t.line,t.lineStart=u;continue;case 13:r.charCodeAt(u+1)===10?u+=2:++u,++t.line,t.lineStart=u;continue;case 35:return gq(t,u);case 33:return ar(t,Se.BANG,u,u+1);case 36:return ar(t,Se.DOLLAR,u,u+1);case 38:return ar(t,Se.AMP,u,u+1);case 40:return ar(t,Se.PAREN_L,u,u+1);case 41:return ar(t,Se.PAREN_R,u,u+1);case 46:if(r.charCodeAt(u+1)===46&&r.charCodeAt(u+2)===46)return ar(t,Se.SPREAD,u,u+3);break;case 58:return ar(t,Se.COLON,u,u+1);case 61:return ar(t,Se.EQUALS,u,u+1);case 64:return ar(t,Se.AT,u,u+1);case 91:return ar(t,Se.BRACKET_L,u,u+1);case 93:return ar(t,Se.BRACKET_R,u,u+1);case 123:return ar(t,Se.BRACE_L,u,u+1);case 124:return ar(t,Se.PIPE,u,u+1);case 125:return ar(t,Se.BRACE_R,u,u+1);case 34:return r.charCodeAt(u+1)===34&&r.charCodeAt(u+2)===34?_q(t,u):Sq(t,u)}if(oc(s)||s===45)return Aq(t,u,s);if(Um(s))return wq(t,u);throw pr(t.source,u,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:yo(s)||jf(r,u)?`Unexpected character: ${ni(t,u)}.`:`Invalid character: ${ni(t,u)}.`)}return ar(t,Se.EOF,n,n)}function gq(t,e){const r=t.source.body,n=r.length;let u=e+1;for(;u<n;){const s=r.charCodeAt(u);if(s===10||s===13)break;if(yo(s))++u;else if(jf(r,u))u+=2;else break}return ar(t,Se.COMMENT,e,u,r.slice(e+1,u))}function Aq(t,e,r){const n=t.source.body;let u=e,s=r,i=!1;if(s===45&&(s=n.charCodeAt(++u)),s===48){if(s=n.charCodeAt(++u),oc(s))throw pr(t.source,u,`Invalid number, unexpected digit after 0: ${ni(t,u)}.`)}else u=gh(t,u,s),s=n.charCodeAt(u);if(s===46&&(i=!0,s=n.charCodeAt(++u),u=gh(t,u,s),s=n.charCodeAt(u)),(s===69||s===101)&&(i=!0,s=n.charCodeAt(++u),(s===43||s===45)&&(s=n.charCodeAt(++u)),u=gh(t,u,s),s=n.charCodeAt(u)),s===46||Um(s))throw pr(t.source,u,`Invalid number, expected digit but got: ${ni(t,u)}.`);return ar(t,i?Se.FLOAT:Se.INT,e,u,n.slice(e,u))}function gh(t,e,r){if(!oc(r))throw pr(t.source,e,`Invalid number, expected digit but got: ${ni(t,e)}.`);const n=t.source.body;let u=e+1;for(;oc(n.charCodeAt(u));)++u;return u}function Sq(t,e){const r=t.source.body,n=r.length;let u=e+1,s=u,i="";for(;u<n;){const o=r.charCodeAt(u);if(o===34)return i+=r.slice(s,u),ar(t,Se.STRING,e,u+1,i);if(o===92){i+=r.slice(s,u);const a=r.charCodeAt(u+1)===117?r.charCodeAt(u+2)===123?Fq(t,u):bq(t,u):Cq(t,u);i+=a.value,u+=a.size,s=u;continue}if(o===10||o===13)break;if(yo(o))++u;else if(jf(r,u))u+=2;else throw pr(t.source,u,`Invalid character within String: ${ni(t,u)}.`)}throw pr(t.source,u,"Unterminated string.")}function Fq(t,e){const r=t.source.body;let n=0,u=3;for(;u<12;){const s=r.charCodeAt(e+u++);if(s===125){if(u<5||!yo(n))break;return{value:String.fromCodePoint(n),size:u}}if(n=n<<4|Ta(s),n<0)break}throw pr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+u)}".`)}function bq(t,e){const r=t.source.body,n=d4(r,e+2);if(yo(n))return{value:String.fromCodePoint(n),size:6};if(z5(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){const u=d4(r,e+8);if(Q5(u))return{value:String.fromCodePoint(n,u),size:12}}throw pr(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function d4(t,e){return Ta(t.charCodeAt(e))<<12|Ta(t.charCodeAt(e+1))<<8|Ta(t.charCodeAt(e+2))<<4|Ta(t.charCodeAt(e+3))}function Ta(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function Cq(t,e){const r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw pr(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function _q(t,e){const r=t.source.body,n=r.length;let u=t.lineStart,s=e+3,i=s,o="";const a=[];for(;s<n;){const c=r.charCodeAt(s);if(c===34&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34){o+=r.slice(i,s),a.push(o);const l=ar(t,Se.BLOCK_STRING,e,s+3,Dq(a).join(`
`));return t.line+=a.length-1,t.lineStart=u,l}if(c===92&&r.charCodeAt(s+1)===34&&r.charCodeAt(s+2)===34&&r.charCodeAt(s+3)===34){o+=r.slice(i,s),i=s+1,s+=4;continue}if(c===10||c===13){o+=r.slice(i,s),a.push(o),c===13&&r.charCodeAt(s+1)===10?s+=2:++s,o="",i=s,u=s;continue}if(yo(c))++s;else if(jf(r,s))s+=2;else throw pr(t.source,s,`Invalid character within String: ${ni(t,s)}.`)}throw pr(t.source,s,"Unterminated string.")}function wq(t,e){const r=t.source.body,n=r.length;let u=e+1;for(;u<n;){const s=r.charCodeAt(u);if(J5(s))++u;else break}return ar(t,Se.NAME,e,u,r.slice(e,u))}const Tq=10,Y5=2;function Fe(t){return Lf(t,[])}function Lf(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return $q(t,e);default:return String(t)}}function $q(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const r=[...e,t];if(Bq(t)){const n=t.toJSON();if(n!==t)return typeof n=="string"?n:Lf(n,r)}else if(Array.isArray(t))return Pq(t,r);return Iq(t,r)}function Bq(t){return typeof t.toJSON=="function"}function Iq(t,e){const r=Object.entries(t);return r.length===0?"{}":e.length>Y5?"["+kq(t)+"]":"{ "+r.map(([u,s])=>u+": "+Lf(s,e)).join(", ")+" }"}function Pq(t,e){if(t.length===0)return"[]";if(e.length>Y5)return"[Array]";const r=Math.min(Tq,t.length),n=t.length-r,u=[];for(let s=0;s<r;++s)u.push(Lf(t[s],e));return n===1?u.push("... 1 more item"):n>1&&u.push(`... ${n} more items`),"["+u.join(", ")+"]"}function kq(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}const Un=function(e,r){return e instanceof r};class Gf{constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||it(!1,`Body must be a string. Received: ${Fe(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||it(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||it(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function X5(t){return Un(t,Gf)}function Vf(t,e){return new Uf(t,e).parseDocument()}function Z5(t,e){const r=new Uf(t,e);r.expectToken(Se.SOF);const n=r.parseValueLiteral(!1);return r.expectToken(Se.EOF),n}function Oq(t,e){const r=new Uf(t,e);r.expectToken(Se.SOF);const n=r.parseConstValueLiteral();return r.expectToken(Se.EOF),n}function Nq(t,e){const r=new Uf(t,e);r.expectToken(Se.SOF);const n=r.parseTypeReference();return r.expectToken(Se.EOF),n}let Uf=class{constructor(e,r={}){const n=X5(e)?e:new Gf(e);this._lexer=new Km(n),this._options=r,this._tokenCounter=0}parseName(){const e=this.expectToken(Se.NAME);return this.node(e,{kind:ee.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ee.DOCUMENT,definitions:this.many(Se.SOF,this.parseDefinition,Se.EOF)})}parseDefinition(){if(this.peek(Se.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(r.kind===Se.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw pr(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Se.BRACE_L))return this.node(e,{kind:ee.OPERATION_DEFINITION,operation:mr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(Se.NAME)&&(n=this.parseName()),this.node(e,{kind:ee.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Se.NAME);switch(e.value){case"query":return mr.QUERY;case"mutation":return mr.MUTATION;case"subscription":return mr.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Se.PAREN_L,this.parseVariableDefinition,Se.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ee.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Se.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Se.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Se.DOLLAR),this.node(e,{kind:ee.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ee.SELECTION_SET,selections:this.many(Se.BRACE_L,this.parseSelection,Se.BRACE_R)})}parseSelection(){return this.peek(Se.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,r=this.parseName();let n,u;return this.expectOptionalToken(Se.COLON)?(n=r,u=this.parseName()):u=r,this.node(e,{kind:ee.FIELD,alias:n,name:u,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Se.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Se.PAREN_L,r,Se.PAREN_R)}parseArgument(e=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(Se.COLON),this.node(r,{kind:ee.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Se.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(Se.NAME)?this.node(e,{kind:ee.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ee.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:ee.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ee.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const r=this._lexer.token;switch(r.kind){case Se.BRACKET_L:return this.parseList(e);case Se.BRACE_L:return this.parseObject(e);case Se.INT:return this.advanceLexer(),this.node(r,{kind:ee.INT,value:r.value});case Se.FLOAT:return this.advanceLexer(),this.node(r,{kind:ee.FLOAT,value:r.value});case Se.STRING:case Se.BLOCK_STRING:return this.parseStringLiteral();case Se.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:ee.BOOLEAN,value:!0});case"false":return this.node(r,{kind:ee.BOOLEAN,value:!1});case"null":return this.node(r,{kind:ee.NULL});default:return this.node(r,{kind:ee.ENUM,value:r.value})}case Se.DOLLAR:if(e)if(this.expectToken(Se.DOLLAR),this._lexer.token.kind===Se.NAME){const n=this._lexer.token.value;throw pr(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ee.STRING,value:e.value,block:e.kind===Se.BLOCK_STRING})}parseList(e){const r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:ee.LIST,values:this.any(Se.BRACKET_L,r,Se.BRACKET_R)})}parseObject(e){const r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:ee.OBJECT,fields:this.any(Se.BRACE_L,r,Se.BRACE_R)})}parseObjectField(e){const r=this._lexer.token,n=this.parseName();return this.expectToken(Se.COLON),this.node(r,{kind:ee.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const r=[];for(;this.peek(Se.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const r=this._lexer.token;return this.expectToken(Se.AT),this.node(r,{kind:ee.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let r;if(this.expectOptionalToken(Se.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(Se.BRACKET_R),r=this.node(e,{kind:ee.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(Se.BANG)?this.node(e,{kind:ee.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:ee.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Se.STRING)||this.peek(Se.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),u=this.many(Se.BRACE_L,this.parseOperationTypeDefinition,Se.BRACE_R);return this.node(e,{kind:ee.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:u})}parseOperationTypeDefinition(){const e=this._lexer.token,r=this.parseOperationType();this.expectToken(Se.COLON);const n=this.parseNamedType();return this.node(e,{kind:ee.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),u=this.parseConstDirectives();return this.node(e,{kind:ee.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:u})}parseObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),u=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:ee.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:u,directives:s,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Se.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Se.BRACE_L,this.parseFieldDefinition,Se.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),u=this.parseArgumentDefs();this.expectToken(Se.COLON);const s=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:ee.FIELD_DEFINITION,description:r,name:n,arguments:u,type:s,directives:i})}parseArgumentDefs(){return this.optionalMany(Se.PAREN_L,this.parseInputValueDef,Se.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(Se.COLON);const u=this.parseTypeReference();let s;this.expectOptionalToken(Se.EQUALS)&&(s=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:ee.INPUT_VALUE_DEFINITION,description:r,name:n,type:u,defaultValue:s,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),u=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:ee.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:u,directives:s,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:ee.UNION_TYPE_DEFINITION,description:r,name:n,directives:u,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(Se.EQUALS)?this.delimitedMany(Se.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:ee.ENUM_TYPE_DEFINITION,description:r,name:n,directives:u,values:s})}parseEnumValuesDefinition(){return this.optionalMany(Se.BRACE_L,this.parseEnumValueDefinition,Se.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),u=this.parseConstDirectives();return this.node(e,{kind:ee.ENUM_VALUE_DEFINITION,description:r,name:n,directives:u})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw pr(this._lexer.source,this._lexer.token.start,`${Sl(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),u=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:ee.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:u,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(Se.BRACE_L,this.parseInputValueDef,Se.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Se.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(Se.BRACE_L,this.parseOperationTypeDefinition,Se.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:ee.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:ee.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&u.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ee.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:u,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(n.length===0&&u.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ee.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:u,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseUnionMemberTypes();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(e,{kind:ee.UNION_TYPE_EXTENSION,name:r,directives:n,types:u})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseEnumValuesDefinition();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(e,{kind:ee.ENUM_TYPE_EXTENSION,name:r,directives:n,values:u})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),u=this.parseInputFieldsDefinition();if(n.length===0&&u.length===0)throw this.unexpected();return this.node(e,{kind:ee.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:u})}parseDirectiveDefinition(){const e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Se.AT);const n=this.parseName(),u=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:ee.DIRECTIVE_DEFINITION,description:r,name:n,arguments:u,repeatable:s,locations:i})}parseDirectiveLocations(){return this.delimitedMany(Se.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(Ge,r.value))return r;throw this.unexpected(e)}node(e,r){return this._options.noLocation!==!0&&(r.loc=new V5(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){const r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw pr(this._lexer.source,r.start,`Expected ${e6(e)}, found ${Sl(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const r=this._lexer.token;if(r.kind===Se.NAME&&r.value===e)this.advanceLexer();else throw pr(this._lexer.source,r.start,`Expected "${e}", found ${Sl(r)}.`)}expectOptionalKeyword(e){const r=this._lexer.token;return r.kind===Se.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const r=e??this._lexer.token;return pr(this._lexer.source,r.start,`Unexpected ${Sl(r)}.`)}any(e,r,n){this.expectToken(e);const u=[];for(;!this.expectOptionalToken(n);)u.push(r.call(this));return u}optionalMany(e,r,n){if(this.expectOptionalToken(e)){const u=[];do u.push(r.call(this));while(!this.expectOptionalToken(n));return u}return[]}many(e,r,n){this.expectToken(e);const u=[];do u.push(r.call(this));while(!this.expectOptionalToken(n));return u}delimitedMany(e,r){this.expectOptionalToken(e);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,r=this._lexer.advance();if(e!==void 0&&r.kind!==Se.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw pr(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function Sl(t){const e=t.value;return e6(t.kind)+(e!=null?` "${e}"`:"")}function e6(t){return W5(t)?`"${t}"`:t}const Rq=5;function Mu(t,e){const[r,n]=e?[t,e]:[void 0,t];let u=" Did you mean ";r&&(u+=r+" ");const s=n.map(a=>`"${a}"`);switch(s.length){case 0:return"";case 1:return u+s[0]+"?";case 2:return u+s[0]+" or "+s[1]+"?"}const i=s.slice(0,Rq),o=i.pop();return u+i.join(", ")+", or "+o+"?"}function p4(t){return t}function ju(t,e){const r=Object.create(null);for(const n of t)r[e(n)]=n;return r}function rs(t,e,r){const n=Object.create(null);for(const u of t)n[e(u)]=r(u);return n}function Pu(t,e){const r=Object.create(null);for(const n of Object.keys(t))r[n]=e(t[n],n);return r}function Tc(t,e){let r=0,n=0;for(;r<t.length&&n<e.length;){let u=t.charCodeAt(r),s=e.charCodeAt(n);if(Fl(u)&&Fl(s)){let i=0;do++r,i=i*10+u-R2,u=t.charCodeAt(r);while(Fl(u)&&i>0);let o=0;do++n,o=o*10+s-R2,s=e.charCodeAt(n);while(Fl(s)&&o>0);if(i<o)return-1;if(i>o)return 1}else{if(u<s)return-1;if(u>s)return 1;++r,++n}}return t.length-e.length}const R2=48,qq=57;function Fl(t){return!isNaN(t)&&R2<=t&&t<=qq}function Ds(t,e){const r=Object.create(null),n=new xq(t),u=Math.floor(t.length*.4)+1;for(const s of e){const i=n.measure(s,u);i!==void 0&&(r[s]=i)}return Object.keys(r).sort((s,i)=>{const o=r[s]-r[i];return o!==0?o:Tc(s,i)})}class xq{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=h4(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,r){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let u=h4(n),s=this._inputArray;if(u.length<s.length){const l=u;u=s,s=l}const i=u.length,o=s.length;if(i-o>r)return;const a=this._rows;for(let l=0;l<=o;l++)a[0][l]=l;for(let l=1;l<=i;l++){const f=a[(l-1)%3],d=a[l%3];let p=d[0]=l;for(let h=1;h<=o;h++){const v=u[l-1]===s[h-1]?0:1;let S=Math.min(f[h]+1,d[h-1]+1,f[h-1]+v);if(l>1&&h>1&&u[l-1]===s[h-2]&&u[l-2]===s[h-1]){const D=a[(l-2)%3][h-2];S=Math.min(S,D+1)}S<p&&(p=S),d[h]=S}if(p>r)return}const c=a[i%3][o];return c<=r?c:void 0}}function h4(t){const e=t.length,r=new Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n);return r}function vn(t){if(t==null)return Object.create(null);if(Object.getPrototypeOf(t)===null)return t;const e=Object.create(null);for(const[r,n]of Object.entries(t))e[r]=n;return e}function Mq(t){return`"${t.replace(jq,Lq)}"`}const jq=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Lq(t){return Gq[t.charCodeAt(0)]}const Gq=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Ui=Object.freeze({});function vo(t,e,r=U5){const n=new Map;for(const D of Object.values(ee))n.set(D,Zi(e,D));let u,s=Array.isArray(t),i=[t],o=-1,a=[],c=t,l,f;const d=[],p=[];do{o++;const D=o===i.length,g=D&&a.length!==0;if(D){if(l=p.length===0?void 0:d[d.length-1],c=f,f=p.pop(),g)if(s){c=c.slice();let I=0;for(const[k,B]of a){const O=k-I;B===null?(c.splice(O,1),I++):c[O]=B}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[I,k]of a)c[I]=k}o=u.index,i=u.keys,a=u.edits,s=u.inArray,u=u.prev}else if(f){if(l=s?o:i[o],c=f[l],c==null)continue;d.push(l)}let F;if(!Array.isArray(c)){var h,v;O2(c)||it(!1,`Invalid AST Node: ${Fe(c)}.`);const I=D?(h=n.get(c.kind))===null||h===void 0?void 0:h.leave:(v=n.get(c.kind))===null||v===void 0?void 0:v.enter;if(F=I==null?void 0:I.call(e,c,l,f,d,p),F===Ui)break;if(F===!1){if(!D){d.pop();continue}}else if(F!==void 0&&(a.push([l,F]),!D))if(O2(F))c=F;else{d.pop();continue}}if(F===void 0&&g&&a.push([l,c]),D)d.pop();else{var S;u={inArray:s,index:o,keys:i,edits:a,prev:u},s=Array.isArray(c),i=s?c:(S=r[c.kind])!==null&&S!==void 0?S:[],o=-1,a=[],f&&p.push(f),f=c}}while(u!==void 0);return a.length!==0?a[a.length-1][1]:t}function Jm(t){const e=new Array(t.length).fill(null),r=Object.create(null);for(const n of Object.values(ee)){let u=!1;const s=new Array(t.length).fill(void 0),i=new Array(t.length).fill(void 0);for(let a=0;a<t.length;++a){const{enter:c,leave:l}=Zi(t[a],n);u||(u=c!=null||l!=null),s[a]=c,i[a]=l}if(!u)continue;const o={enter(...a){const c=a[0];for(let f=0;f<t.length;f++)if(e[f]===null){var l;const d=(l=s[f])===null||l===void 0?void 0:l.apply(t[f],a);if(d===!1)e[f]=c;else if(d===Ui)e[f]=Ui;else if(d!==void 0)return d}},leave(...a){const c=a[0];for(let f=0;f<t.length;f++)if(e[f]===null){var l;const d=(l=i[f])===null||l===void 0?void 0:l.apply(t[f],a);if(d===Ui)e[f]=Ui;else if(d!==void 0&&d!==!1)return d}else e[f]===c&&(e[f]=null)}};r[n]=o}return r}function Zi(t,e){const r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function Vq(t,e,r){const{enter:n,leave:u}=Zi(t,e);return r?u:n}function qt(t){return vo(t,Kq)}const Uq=80,Kq={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>Pe(t.definitions,`

`)},OperationDefinition:{leave(t){const e=ht("(",Pe(t.variableDefinitions,", "),")"),r=Pe([t.operation,Pe([t.name,e]),Pe(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+ht(" = ",r)+ht(" ",Pe(n," "))},SelectionSet:{leave:({selections:t})=>gn(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:u}){const s=ht("",t,": ")+e;let i=s+ht("(",Pe(r,", "),")");return i.length>Uq&&(i=s+ht(`(
`,zl(Pe(r,`
`)),`
)`)),Pe([i,Pe(n," "),u]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+ht(" ",Pe(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>Pe(["...",ht("on ",t),Pe(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:u})=>`fragment ${t}${ht("(",Pe(r,", "),")")} on ${e} ${ht("",Pe(n," ")," ")}`+u},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?H5(t):Mq(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+Pe(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+Pe(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+ht("(",Pe(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>ht("",t,`
`)+Pe(["schema",Pe(e," "),gn(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>ht("",t,`
`)+Pe(["scalar",e,Pe(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:u})=>ht("",t,`
`)+Pe(["type",e,ht("implements ",Pe(r," & ")),Pe(n," "),gn(u)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:u})=>ht("",t,`
`)+e+(m4(r)?ht(`(
`,zl(Pe(r,`
`)),`
)`):ht("(",Pe(r,", "),")"))+": "+n+ht(" ",Pe(u," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:u})=>ht("",t,`
`)+Pe([e+": "+r,ht("= ",n),Pe(u," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:u})=>ht("",t,`
`)+Pe(["interface",e,ht("implements ",Pe(r," & ")),Pe(n," "),gn(u)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>ht("",t,`
`)+Pe(["union",e,Pe(r," "),ht("= ",Pe(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>ht("",t,`
`)+Pe(["enum",e,Pe(r," "),gn(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>ht("",t,`
`)+Pe([e,Pe(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>ht("",t,`
`)+Pe(["input",e,Pe(r," "),gn(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:u})=>ht("",t,`
`)+"directive @"+e+(m4(r)?ht(`(
`,zl(Pe(r,`
`)),`
)`):ht("(",Pe(r,", "),")"))+(n?" repeatable":"")+" on "+Pe(u," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>Pe(["extend schema",Pe(t," "),gn(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>Pe(["extend scalar",t,Pe(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Pe(["extend type",t,ht("implements ",Pe(e," & ")),Pe(r," "),gn(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>Pe(["extend interface",t,ht("implements ",Pe(e," & ")),Pe(r," "),gn(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>Pe(["extend union",t,Pe(e," "),ht("= ",Pe(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>Pe(["extend enum",t,Pe(e," "),gn(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>Pe(["extend input",t,Pe(e," "),gn(r)]," ")}};function Pe(t,e=""){var r;return(r=t==null?void 0:t.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function gn(t){return ht(`{
`,zl(Pe(t,`
`)),`
}`)}function ht(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function zl(t){return ht("  ",t.replace(/\n/g,`
  `))}function m4(t){var e;return(e=t==null?void 0:t.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function X1(t,e){switch(t.kind){case ee.NULL:return null;case ee.INT:return parseInt(t.value,10);case ee.FLOAT:return parseFloat(t.value);case ee.STRING:case ee.ENUM:case ee.BOOLEAN:return t.value;case ee.LIST:return t.values.map(r=>X1(r,e));case ee.OBJECT:return rs(t.fields,r=>r.name.value,r=>X1(r.value,e));case ee.VARIABLE:return e==null?void 0:e[t.name.value]}}function on(t){if(t!=null||it(!1,"Must provide name."),typeof t=="string"||it(!1,"Expected name to be a string."),t.length===0)throw new Ae("Expected name to be a non-empty string.");for(let e=1;e<t.length;++e)if(!J5(t.charCodeAt(e)))throw new Ae(`Names must only contain [_a-zA-Z0-9] but "${t}" does not.`);if(!Um(t.charCodeAt(0)))throw new Ae(`Names must start with [_a-zA-Z] but "${t}" does not.`);return t}function t6(t){if(t==="true"||t==="false"||t==="null")throw new Ae(`Enum values cannot be named: ${t}`);return on(t)}function $c(t){return an(t)||At(t)||_t(t)||Dr(t)||lr(t)||Mt(t)||xt(t)||et(t)}function Jq(t){if(!$c(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL type.`);return t}function an(t){return Un(t,vu)}function Hq(t){if(!an(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Scalar type.`);return t}function At(t){return Un(t,En)}function r6(t){if(!At(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Object type.`);return t}function _t(t){return Un(t,eo)}function n6(t){if(!_t(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Interface type.`);return t}function Dr(t){return Un(t,to)}function Wq(t){if(!Dr(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Union type.`);return t}function lr(t){return Un(t,ls)}function zq(t){if(!lr(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Enum type.`);return t}function Mt(t){return Un(t,ro)}function Qq(t){if(!Mt(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Input Object type.`);return t}function xt(t){return Un(t,wr)}function Yq(t){if(!xt(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL List type.`);return t}function et(t){return Un(t,st)}function Xq(t){if(!et(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL Non-Null type.`);return t}function Kr(t){return an(t)||lr(t)||Mt(t)||Bc(t)&&Kr(t.ofType)}function Zq(t){if(!Kr(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL input type.`);return t}function os(t){return an(t)||At(t)||_t(t)||Dr(t)||lr(t)||Bc(t)&&os(t.ofType)}function ex(t){if(!os(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL output type.`);return t}function Eu(t){return an(t)||lr(t)}function tx(t){if(!Eu(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL leaf type.`);return t}function yu(t){return At(t)||_t(t)||Dr(t)}function rx(t){if(!yu(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL composite type.`);return t}function fu(t){return _t(t)||Dr(t)}function nx(t){if(!fu(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL abstract type.`);return t}class wr{constructor(e){$c(e)||it(!1,`Expected ${Fe(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class st{constructor(e){Hm(e)||it(!1,`Expected ${Fe(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Bc(t){return xt(t)||et(t)}function ux(t){if(!Bc(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL wrapping type.`);return t}function Hm(t){return $c(t)&&!et(t)}function u6(t){if(!Hm(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL nullable type.`);return t}function Wm(t){if(t)return et(t)?t.ofType:t}function Ic(t){return an(t)||At(t)||_t(t)||Dr(t)||lr(t)||Mt(t)}function sx(t){if(!Ic(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL named type.`);return t}function Mr(t){if(t){let e=t;for(;Bc(e);)e=e.ofType;return e}}function zm(t){return typeof t=="function"?t():t}function Qm(t){return typeof t=="function"?t():t}class vu{constructor(e){var r,n,u,s;const i=(r=e.parseValue)!==null&&r!==void 0?r:p4;this.name=on(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=(n=e.serialize)!==null&&n!==void 0?n:p4,this.parseValue=i,this.parseLiteral=(u=e.parseLiteral)!==null&&u!==void 0?u:(o,a)=>i(X1(o,a)),this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(s=e.extensionASTNodes)!==null&&s!==void 0?s:[],e.specifiedByURL==null||typeof e.specifiedByURL=="string"||it(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${Fe(e.specifiedByURL)}.`),e.serialize==null||typeof e.serialize=="function"||it(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&(typeof e.parseValue=="function"&&typeof e.parseLiteral=="function"||it(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class En{constructor(e){var r;this.name=on(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=()=>i6(e),this._interfaces=()=>s6(e),e.isTypeOf==null||typeof e.isTypeOf=="function"||it(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${Fe(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:a6(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function s6(t){var e;const r=zm((e=t.interfaces)!==null&&e!==void 0?e:[]);return Array.isArray(r)||it(!1,`${t.name} interfaces must be an Array or a function which returns an Array.`),r}function i6(t){const e=Qm(t.fields);return Wi(e)||it(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),Pu(e,(r,n)=>{var u;Wi(r)||it(!1,`${t.name}.${n} field config must be an object.`),r.resolve==null||typeof r.resolve=="function"||it(!1,`${t.name}.${n} field resolver must be a function if provided, but got: ${Fe(r.resolve)}.`);const s=(u=r.args)!==null&&u!==void 0?u:{};return Wi(s)||it(!1,`${t.name}.${n} args must be an object with argument names as keys.`),{name:on(n),description:r.description,type:r.type,args:o6(s),resolve:r.resolve,subscribe:r.subscribe,deprecationReason:r.deprecationReason,extensions:vn(r.extensions),astNode:r.astNode}})}function o6(t){return Object.entries(t).map(([e,r])=>({name:on(e),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:vn(r.extensions),astNode:r.astNode}))}function Wi(t){return nn(t)&&!Array.isArray(t)}function a6(t){return Pu(t,e=>({description:e.description,type:e.type,args:c6(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function c6(t){return rs(t,e=>e.name,e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode}))}function Es(t){return et(t.type)&&t.defaultValue===void 0}class eo{constructor(e){var r;this.name=on(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=i6.bind(void 0,e),this._interfaces=s6.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||it(!1,`${this.name} must provide "resolveType" as a function, but got: ${Fe(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:a6(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class to{constructor(e){var r;this.name=on(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._types=ix.bind(void 0,e),e.resolveType==null||typeof e.resolveType=="function"||it(!1,`${this.name} must provide "resolveType" as a function, but got: ${Fe(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ix(t){const e=zm(t.types);return Array.isArray(e)||it(!1,`Must provide Array of types or a function which returns such an array for Union ${t.name}.`),e}class ls{constructor(e){var r;this.name=on(e.name),this.description=e.description,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._values=ox(this.name,e.values),this._valueLookup=new Map(this._values.map(n=>[n.value,n])),this._nameLookup=ju(this._values,n=>n.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const r=this._valueLookup.get(e);if(r===void 0)throw new Ae(`Enum "${this.name}" cannot represent value: ${Fe(e)}`);return r.name}parseValue(e){if(typeof e!="string"){const n=Fe(e);throw new Ae(`Enum "${this.name}" cannot represent non-string value: ${n}.`+bl(this,n))}const r=this.getValue(e);if(r==null)throw new Ae(`Value "${e}" does not exist in "${this.name}" enum.`+bl(this,e));return r.value}parseLiteral(e,r){if(e.kind!==ee.ENUM){const u=qt(e);throw new Ae(`Enum "${this.name}" cannot represent non-enum value: ${u}.`+bl(this,u),{nodes:e})}const n=this.getValue(e.value);if(n==null){const u=qt(e);throw new Ae(`Value "${u}" does not exist in "${this.name}" enum.`+bl(this,u),{nodes:e})}return n.value}toConfig(){const e=rs(this.getValues(),r=>r.name,r=>({description:r.description,value:r.value,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function bl(t,e){const r=t.getValues().map(u=>u.name),n=Ds(e,r);return Mu("the enum value",n)}function ox(t,e){return Wi(e)||it(!1,`${t} values must be an object with value names as keys.`),Object.entries(e).map(([r,n])=>(Wi(n)||it(!1,`${t}.${r} must refer to an object with a "value" key representing an internal value but got: ${Fe(n)}.`),{name:t6(r),description:n.description,value:n.value!==void 0?n.value:r,deprecationReason:n.deprecationReason,extensions:vn(n.extensions),astNode:n.astNode}))}class ro{constructor(e){var r;this.name=on(e.name),this.description=e.description,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._fields=ax.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const e=Pu(this.getFields(),r=>({description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:r.extensions,astNode:r.astNode}));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ax(t){const e=Qm(t.fields);return Wi(e)||it(!1,`${t.name} fields must be an object with field names as keys or a function which returns such an object.`),Pu(e,(r,n)=>(!("resolve"in r)||it(!1,`${t.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:on(n),description:r.description,type:r.type,defaultValue:r.defaultValue,deprecationReason:r.deprecationReason,extensions:vn(r.extensions),astNode:r.astNode}))}function Kf(t){return et(t.type)&&t.defaultValue===void 0}function Z1(t,e){return t===e?!0:et(t)&&et(e)||xt(t)&&xt(e)?Z1(t.ofType,e.ofType):!1}function Zs(t,e,r){return e===r?!0:et(r)?et(e)?Zs(t,e.ofType,r.ofType):!1:et(e)?Zs(t,e.ofType,r):xt(r)?xt(e)?Zs(t,e.ofType,r.ofType):!1:xt(e)?!1:fu(r)&&(_t(e)||At(e))&&t.isSubType(r,e)}function q2(t,e,r){return e===r?!0:fu(e)?fu(r)?t.getPossibleTypes(e).some(n=>t.isSubType(r,n)):t.isSubType(e,r):fu(r)?t.isSubType(r,e):!1}const Ql=2147483647,Yl=-2147483648,l6=new vu({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(t){const e=kc(t);if(typeof e=="boolean")return e?1:0;let r=e;if(typeof e=="string"&&e!==""&&(r=Number(e)),typeof r!="number"||!Number.isInteger(r))throw new Ae(`Int cannot represent non-integer value: ${Fe(e)}`);if(r>Ql||r<Yl)throw new Ae("Int cannot represent non 32-bit signed integer value: "+Fe(e));return r},parseValue(t){if(typeof t!="number"||!Number.isInteger(t))throw new Ae(`Int cannot represent non-integer value: ${Fe(t)}`);if(t>Ql||t<Yl)throw new Ae(`Int cannot represent non 32-bit signed integer value: ${t}`);return t},parseLiteral(t){if(t.kind!==ee.INT)throw new Ae(`Int cannot represent non-integer value: ${qt(t)}`,{nodes:t});const e=parseInt(t.value,10);if(e>Ql||e<Yl)throw new Ae(`Int cannot represent non 32-bit signed integer value: ${t.value}`,{nodes:t});return e}}),f6=new vu({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(t){const e=kc(t);if(typeof e=="boolean")return e?1:0;let r=e;if(typeof e=="string"&&e!==""&&(r=Number(e)),typeof r!="number"||!Number.isFinite(r))throw new Ae(`Float cannot represent non numeric value: ${Fe(e)}`);return r},parseValue(t){if(typeof t!="number"||!Number.isFinite(t))throw new Ae(`Float cannot represent non numeric value: ${Fe(t)}`);return t},parseLiteral(t){if(t.kind!==ee.FLOAT&&t.kind!==ee.INT)throw new Ae(`Float cannot represent non numeric value: ${qt(t)}`,t);return parseFloat(t.value)}}),Ht=new vu({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(t){const e=kc(t);if(typeof e=="string")return e;if(typeof e=="boolean")return e?"true":"false";if(typeof e=="number"&&Number.isFinite(e))return e.toString();throw new Ae(`String cannot represent value: ${Fe(t)}`)},parseValue(t){if(typeof t!="string")throw new Ae(`String cannot represent a non string value: ${Fe(t)}`);return t},parseLiteral(t){if(t.kind!==ee.STRING)throw new Ae(`String cannot represent a non string value: ${qt(t)}`,{nodes:t});return t.value}}),tn=new vu({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(t){const e=kc(t);if(typeof e=="boolean")return e;if(Number.isFinite(e))return e!==0;throw new Ae(`Boolean cannot represent a non boolean value: ${Fe(e)}`)},parseValue(t){if(typeof t!="boolean")throw new Ae(`Boolean cannot represent a non boolean value: ${Fe(t)}`);return t},parseLiteral(t){if(t.kind!==ee.BOOLEAN)throw new Ae(`Boolean cannot represent a non boolean value: ${qt(t)}`,{nodes:t});return t.value}}),Ym=new vu({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(t){const e=kc(t);if(typeof e=="string")return e;if(Number.isInteger(e))return String(e);throw new Ae(`ID cannot represent value: ${Fe(t)}`)},parseValue(t){if(typeof t=="string")return t;if(typeof t=="number"&&Number.isInteger(t))return t.toString();throw new Ae(`ID cannot represent value: ${Fe(t)}`)},parseLiteral(t){if(t.kind!==ee.STRING&&t.kind!==ee.INT)throw new Ae("ID cannot represent a non-string and non-integer value: "+qt(t),{nodes:t});return t.value}}),Pc=Object.freeze([Ht,l6,f6,tn,Ym]);function Jf(t){return Pc.some(({name:e})=>t.name===e)}function kc(t){if(nn(t)){if(typeof t.valueOf=="function"){const e=t.valueOf();if(!nn(e))return e}if(typeof t.toJSON=="function")return t.toJSON()}return t}function Hf(t){return Un(t,gu)}function cx(t){if(!Hf(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL directive.`);return t}class gu{constructor(e){var r,n;this.name=on(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=(r=e.isRepeatable)!==null&&r!==void 0?r:!1,this.extensions=vn(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||it(!1,`@${e.name} locations must be an Array.`);const u=(n=e.args)!==null&&n!==void 0?n:{};nn(u)&&!Array.isArray(u)||it(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=o6(u)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:c6(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const Xm=new gu({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[Ge.FIELD,Ge.FRAGMENT_SPREAD,Ge.INLINE_FRAGMENT],args:{if:{type:new st(tn),description:"Included when true."}}}),Zm=new gu({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[Ge.FIELD,Ge.FRAGMENT_SPREAD,Ge.INLINE_FRAGMENT],args:{if:{type:new st(tn),description:"Skipped when true."}}}),eD="No longer supported",Wf=new gu({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[Ge.FIELD_DEFINITION,Ge.ARGUMENT_DEFINITION,Ge.INPUT_FIELD_DEFINITION,Ge.ENUM_VALUE],args:{reason:{type:Ht,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:eD}}}),tD=new gu({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[Ge.SCALAR],args:{url:{type:new st(Ht),description:"The URL that specifies the behavior of this scalar."}}}),ys=Object.freeze([Xm,Zm,Wf,tD]);function rD(t){return ys.some(({name:e})=>e===t.name)}function nD(t){return typeof t=="object"&&typeof(t==null?void 0:t[Symbol.iterator])=="function"}function ns(t,e){if(et(e)){const r=ns(t,e.ofType);return(r==null?void 0:r.kind)===ee.NULL?null:r}if(t===null)return{kind:ee.NULL};if(t===void 0)return null;if(xt(e)){const r=e.ofType;if(nD(t)){const n=[];for(const u of t){const s=ns(u,r);s!=null&&n.push(s)}return{kind:ee.LIST,values:n}}return ns(t,r)}if(Mt(e)){if(!nn(t))return null;const r=[];for(const n of Object.values(e.getFields())){const u=ns(t[n.name],n.type);u&&r.push({kind:ee.OBJECT_FIELD,name:{kind:ee.NAME,value:n.name},value:u})}return{kind:ee.OBJECT,fields:r}}if(Eu(e)){const r=e.serialize(t);if(r==null)return null;if(typeof r=="boolean")return{kind:ee.BOOLEAN,value:r};if(typeof r=="number"&&Number.isFinite(r)){const n=String(r);return D4.test(n)?{kind:ee.INT,value:n}:{kind:ee.FLOAT,value:n}}if(typeof r=="string")return lr(e)?{kind:ee.ENUM,value:r}:e===Ym&&D4.test(r)?{kind:ee.INT,value:r}:{kind:ee.STRING,value:r};throw new TypeError(`Cannot convert value to AST: ${Fe(r)}.`)}ur(!1,"Unexpected input type: "+Fe(e))}const D4=/^-?(?:0|[1-9][0-9]*)$/,zf=new En({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:Ht,resolve:t=>t.description},types:{description:"A list of all types supported by this server.",type:new st(new wr(new st(Dn))),resolve(t){return Object.values(t.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new st(Dn),resolve:t=>t.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Dn,resolve:t=>t.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Dn,resolve:t=>t.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new st(new wr(new st(uD))),resolve:t=>t.getDirectives()}})}),uD=new En({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new st(Ht),resolve:t=>t.name},description:{type:Ht,resolve:t=>t.description},isRepeatable:{type:new st(tn),resolve:t=>t.isRepeatable},locations:{type:new st(new wr(new st(sD))),resolve:t=>t.locations},args:{type:new st(new wr(new st(Oc))),args:{includeDeprecated:{type:tn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(r=>r.deprecationReason==null)}}})}),sD=new ls({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:Ge.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:Ge.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:Ge.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:Ge.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:Ge.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:Ge.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:Ge.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:Ge.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:Ge.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:Ge.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:Ge.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:Ge.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:Ge.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:Ge.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:Ge.UNION,description:"Location adjacent to a union definition."},ENUM:{value:Ge.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:Ge.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:Ge.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:Ge.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Dn=new En({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new st(aD),resolve(t){if(an(t))return $t.SCALAR;if(At(t))return $t.OBJECT;if(_t(t))return $t.INTERFACE;if(Dr(t))return $t.UNION;if(lr(t))return $t.ENUM;if(Mt(t))return $t.INPUT_OBJECT;if(xt(t))return $t.LIST;if(et(t))return $t.NON_NULL;ur(!1,`Unexpected type: "${Fe(t)}".`)}},name:{type:Ht,resolve:t=>"name"in t?t.name:void 0},description:{type:Ht,resolve:t=>"description"in t?t.description:void 0},specifiedByURL:{type:Ht,resolve:t=>"specifiedByURL"in t?t.specifiedByURL:void 0},fields:{type:new wr(new st(iD)),args:{includeDeprecated:{type:tn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(At(t)||_t(t)){const r=Object.values(t.getFields());return e?r:r.filter(n=>n.deprecationReason==null)}}},interfaces:{type:new wr(new st(Dn)),resolve(t){if(At(t)||_t(t))return t.getInterfaces()}},possibleTypes:{type:new wr(new st(Dn)),resolve(t,e,r,{schema:n}){if(fu(t))return n.getPossibleTypes(t)}},enumValues:{type:new wr(new st(oD)),args:{includeDeprecated:{type:tn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(lr(t)){const r=t.getValues();return e?r:r.filter(n=>n.deprecationReason==null)}}},inputFields:{type:new wr(new st(Oc)),args:{includeDeprecated:{type:tn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){if(Mt(t)){const r=Object.values(t.getFields());return e?r:r.filter(n=>n.deprecationReason==null)}}},ofType:{type:Dn,resolve:t=>"ofType"in t?t.ofType:void 0}})}),iD=new En({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new st(Ht),resolve:t=>t.name},description:{type:Ht,resolve:t=>t.description},args:{type:new st(new wr(new st(Oc))),args:{includeDeprecated:{type:tn,defaultValue:!1}},resolve(t,{includeDeprecated:e}){return e?t.args:t.args.filter(r=>r.deprecationReason==null)}},type:{type:new st(Dn),resolve:t=>t.type},isDeprecated:{type:new st(tn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Ht,resolve:t=>t.deprecationReason}})}),Oc=new En({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new st(Ht),resolve:t=>t.name},description:{type:Ht,resolve:t=>t.description},type:{type:new st(Dn),resolve:t=>t.type},defaultValue:{type:Ht,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(t){const{type:e,defaultValue:r}=t,n=ns(r,e);return n?qt(n):null}},isDeprecated:{type:new st(tn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Ht,resolve:t=>t.deprecationReason}})}),oD=new En({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new st(Ht),resolve:t=>t.name},description:{type:Ht,resolve:t=>t.description},isDeprecated:{type:new st(tn),resolve:t=>t.deprecationReason!=null},deprecationReason:{type:Ht,resolve:t=>t.deprecationReason}})});var $t;(function(t){t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.INPUT_OBJECT="INPUT_OBJECT",t.LIST="LIST",t.NON_NULL="NON_NULL"})($t||($t={}));const aD=new ls({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:$t.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:$t.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:$t.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:$t.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:$t.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:$t.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:$t.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:$t.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),ac={name:"__schema",type:new st(zf),description:"Access the current type schema of this server.",args:[],resolve:(t,e,r,{schema:n})=>n,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},cc={name:"__type",type:Dn,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new st(Ht),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(t,{name:e},r,{schema:n})=>n.getType(e),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},lc={name:"__typename",type:new st(Ht),description:"The name of the current Object type at runtime.",args:[],resolve:(t,e,r,{parentType:n})=>n.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Nc=Object.freeze([zf,uD,sD,Dn,iD,Oc,oD,aD]);function di(t){return Nc.some(({name:e})=>t.name===e)}function d6(t){return Un(t,go)}function cD(t){if(!d6(t))throw new Error(`Expected ${Fe(t)} to be a GraphQL schema.`);return t}class go{constructor(e){var r,n;this.__validationErrors=e.assumeValid===!0?[]:void 0,nn(e)||it(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||it(!1,`"types" must be Array if provided but got: ${Fe(e.types)}.`),!e.directives||Array.isArray(e.directives)||it(!1,`"directives" must be Array if provided but got: ${Fe(e.directives)}.`),this.description=e.description,this.extensions=vn(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=(r=e.extensionASTNodes)!==null&&r!==void 0?r:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=(n=e.directives)!==null&&n!==void 0?n:ys;const u=new Set(e.types);if(e.types!=null)for(const s of e.types)u.delete(s),Bn(s,u);this._queryType!=null&&Bn(this._queryType,u),this._mutationType!=null&&Bn(this._mutationType,u),this._subscriptionType!=null&&Bn(this._subscriptionType,u);for(const s of this._directives)if(Hf(s))for(const i of s.args)Bn(i.type,u);Bn(zf,u),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const s of u){if(s==null)continue;const i=s.name;if(i||it(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[i]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${i}".`);if(this._typeMap[i]=s,_t(s)){for(const o of s.getInterfaces())if(_t(o)){let a=this._implementationsMap[o.name];a===void 0&&(a=this._implementationsMap[o.name]={objects:[],interfaces:[]}),a.interfaces.push(s)}}else if(At(s)){for(const o of s.getInterfaces())if(_t(o)){let a=this._implementationsMap[o.name];a===void 0&&(a=this._implementationsMap[o.name]={objects:[],interfaces:[]}),a.objects.push(s)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case mr.QUERY:return this.getQueryType();case mr.MUTATION:return this.getMutationType();case mr.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return Dr(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const r=this._implementationsMap[e.name];return r??{objects:[],interfaces:[]}}isSubType(e,r){let n=this._subTypeMap[e.name];if(n===void 0){if(n=Object.create(null),Dr(e))for(const u of e.getTypes())n[u.name]=!0;else{const u=this.getImplementations(e);for(const s of u.objects)n[s.name]=!0;for(const s of u.interfaces)n[s.name]=!0}this._subTypeMap[e.name]=n}return n[r.name]!==void 0}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find(r=>r.name===e)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function Bn(t,e){const r=Mr(t);if(!e.has(r)){if(e.add(r),Dr(r))for(const n of r.getTypes())Bn(n,e);else if(At(r)||_t(r)){for(const n of r.getInterfaces())Bn(n,e);for(const n of Object.values(r.getFields())){Bn(n.type,e);for(const u of n.args)Bn(u.type,e)}}else if(Mt(r))for(const n of Object.values(r.getFields()))Bn(n.type,e)}return e}function lD(t){if(cD(t),t.__validationErrors)return t.__validationErrors;const e=new lx(t);fx(e),dx(e),px(e);const r=e.getErrors();return t.__validationErrors=r,r}function fD(t){const e=lD(t);if(e.length!==0)throw new Error(e.map(r=>r.message).join(`

`))}class lx{constructor(e){this._errors=[],this.schema=e}reportError(e,r){const n=Array.isArray(r)?r.filter(Boolean):r;this._errors.push(new Ae(e,{nodes:n}))}getErrors(){return this._errors}}function fx(t){const e=t.schema,r=e.getQueryType();if(!r)t.reportError("Query root type must be provided.",e.astNode);else if(!At(r)){var n;t.reportError(`Query root type must be Object type, it cannot be ${Fe(r)}.`,(n=Ah(e,mr.QUERY))!==null&&n!==void 0?n:r.astNode)}const u=e.getMutationType();if(u&&!At(u)){var s;t.reportError(`Mutation root type must be Object type if provided, it cannot be ${Fe(u)}.`,(s=Ah(e,mr.MUTATION))!==null&&s!==void 0?s:u.astNode)}const i=e.getSubscriptionType();if(i&&!At(i)){var o;t.reportError(`Subscription root type must be Object type if provided, it cannot be ${Fe(i)}.`,(o=Ah(e,mr.SUBSCRIPTION))!==null&&o!==void 0?o:i.astNode)}}function Ah(t,e){var r;return(r=[t.astNode,...t.extensionASTNodes].flatMap(n=>{var u;return(u=n==null?void 0:n.operationTypes)!==null&&u!==void 0?u:[]}).find(n=>n.operation===e))===null||r===void 0?void 0:r.type}function dx(t){for(const r of t.schema.getDirectives()){if(!Hf(r)){t.reportError(`Expected directive but got: ${Fe(r)}.`,r==null?void 0:r.astNode);continue}ui(t,r);for(const n of r.args)if(ui(t,n),Kr(n.type)||t.reportError(`The type of @${r.name}(${n.name}:) must be Input Type but got: ${Fe(n.type)}.`,n.astNode),Es(n)&&n.deprecationReason!=null){var e;t.reportError(`Required argument @${r.name}(${n.name}:) cannot be deprecated.`,[dD(n.astNode),(e=n.astNode)===null||e===void 0?void 0:e.type])}}}function ui(t,e){e.name.startsWith("__")&&t.reportError(`Name "${e.name}" must not begin with "__", which is reserved by GraphQL introspection.`,e.astNode)}function px(t){const e=vx(t),r=t.schema.getTypeMap();for(const n of Object.values(r)){if(!Ic(n)){t.reportError(`Expected GraphQL named type but got: ${Fe(n)}.`,n.astNode);continue}di(n)||ui(t,n),At(n)||_t(n)?(E4(t,n),y4(t,n)):Dr(n)?Dx(t,n):lr(n)?Ex(t,n):Mt(n)&&(yx(t,n),e(n))}}function E4(t,e){const r=Object.values(e.getFields());r.length===0&&t.reportError(`Type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const i of r){if(ui(t,i),!os(i.type)){var n;t.reportError(`The type of ${e.name}.${i.name} must be Output Type but got: ${Fe(i.type)}.`,(n=i.astNode)===null||n===void 0?void 0:n.type)}for(const o of i.args){const a=o.name;if(ui(t,o),!Kr(o.type)){var u;t.reportError(`The type of ${e.name}.${i.name}(${a}:) must be Input Type but got: ${Fe(o.type)}.`,(u=o.astNode)===null||u===void 0?void 0:u.type)}if(Es(o)&&o.deprecationReason!=null){var s;t.reportError(`Required argument ${e.name}.${i.name}(${a}:) cannot be deprecated.`,[dD(o.astNode),(s=o.astNode)===null||s===void 0?void 0:s.type])}}}}function y4(t,e){const r=Object.create(null);for(const n of e.getInterfaces()){if(!_t(n)){t.reportError(`Type ${Fe(e)} must only implement Interface types, it cannot implement ${Fe(n)}.`,Ja(e,n));continue}if(e===n){t.reportError(`Type ${e.name} cannot implement itself because it would create a circular reference.`,Ja(e,n));continue}if(r[n.name]){t.reportError(`Type ${e.name} can only implement ${n.name} once.`,Ja(e,n));continue}r[n.name]=!0,mx(t,e,n),hx(t,e,n)}}function hx(t,e,r){const n=e.getFields();for(const a of Object.values(r.getFields())){const c=a.name,l=n[c];if(!l){t.reportError(`Interface field ${r.name}.${c} expected but ${e.name} does not provide it.`,[a.astNode,e.astNode,...e.extensionASTNodes]);continue}if(!Zs(t.schema,l.type,a.type)){var u,s;t.reportError(`Interface field ${r.name}.${c} expects type ${Fe(a.type)} but ${e.name}.${c} is type ${Fe(l.type)}.`,[(u=a.astNode)===null||u===void 0?void 0:u.type,(s=l.astNode)===null||s===void 0?void 0:s.type])}for(const f of a.args){const d=f.name,p=l.args.find(h=>h.name===d);if(!p){t.reportError(`Interface field argument ${r.name}.${c}(${d}:) expected but ${e.name}.${c} does not provide it.`,[f.astNode,l.astNode]);continue}if(!Z1(f.type,p.type)){var i,o;t.reportError(`Interface field argument ${r.name}.${c}(${d}:) expects type ${Fe(f.type)} but ${e.name}.${c}(${d}:) is type ${Fe(p.type)}.`,[(i=f.astNode)===null||i===void 0?void 0:i.type,(o=p.astNode)===null||o===void 0?void 0:o.type])}}for(const f of l.args){const d=f.name;!a.args.find(h=>h.name===d)&&Es(f)&&t.reportError(`Object field ${e.name}.${c} includes required argument ${d} that is missing from the Interface field ${r.name}.${c}.`,[f.astNode,a.astNode])}}}function mx(t,e,r){const n=e.getInterfaces();for(const u of r.getInterfaces())n.includes(u)||t.reportError(u===e?`Type ${e.name} cannot implement ${r.name} because it would create a circular reference.`:`Type ${e.name} must implement ${u.name} because it is implemented by ${r.name}.`,[...Ja(r,u),...Ja(e,r)])}function Dx(t,e){const r=e.getTypes();r.length===0&&t.reportError(`Union type ${e.name} must define one or more member types.`,[e.astNode,...e.extensionASTNodes]);const n=Object.create(null);for(const u of r){if(n[u.name]){t.reportError(`Union type ${e.name} can only include type ${u.name} once.`,v4(e,u.name));continue}n[u.name]=!0,At(u)||t.reportError(`Union type ${e.name} can only include Object types, it cannot include ${Fe(u)}.`,v4(e,String(u)))}}function Ex(t,e){const r=e.getValues();r.length===0&&t.reportError(`Enum type ${e.name} must define one or more values.`,[e.astNode,...e.extensionASTNodes]);for(const n of r)ui(t,n)}function yx(t,e){const r=Object.values(e.getFields());r.length===0&&t.reportError(`Input Object type ${e.name} must define one or more fields.`,[e.astNode,...e.extensionASTNodes]);for(const s of r){if(ui(t,s),!Kr(s.type)){var n;t.reportError(`The type of ${e.name}.${s.name} must be Input Type but got: ${Fe(s.type)}.`,(n=s.astNode)===null||n===void 0?void 0:n.type)}if(Kf(s)&&s.deprecationReason!=null){var u;t.reportError(`Required input field ${e.name}.${s.name} cannot be deprecated.`,[dD(s.astNode),(u=s.astNode)===null||u===void 0?void 0:u.type])}}}function vx(t){const e=Object.create(null),r=[],n=Object.create(null);return u;function u(s){if(e[s.name])return;e[s.name]=!0,n[s.name]=r.length;const i=Object.values(s.getFields());for(const o of i)if(et(o.type)&&Mt(o.type.ofType)){const a=o.type.ofType,c=n[a.name];if(r.push(o),c===void 0)u(a);else{const l=r.slice(c),f=l.map(d=>d.name).join(".");t.reportError(`Cannot reference Input Object "${a.name}" within itself through a series of non-null fields: "${f}".`,l.map(d=>d.astNode))}r.pop()}n[s.name]=void 0}}function Ja(t,e){const{astNode:r,extensionASTNodes:n}=t;return(r!=null?[r,...n]:n).flatMap(s=>{var i;return(i=s.interfaces)!==null&&i!==void 0?i:[]}).filter(s=>s.name.value===e.name)}function v4(t,e){const{astNode:r,extensionASTNodes:n}=t;return(r!=null?[r,...n]:n).flatMap(s=>{var i;return(i=s.types)!==null&&i!==void 0?i:[]}).filter(s=>s.name.value===e)}function dD(t){var e;return t==null||(e=t.directives)===null||e===void 0?void 0:e.find(r=>r.name.value===Wf.name)}function zr(t,e){switch(e.kind){case ee.LIST_TYPE:{const r=zr(t,e.type);return r&&new wr(r)}case ee.NON_NULL_TYPE:{const r=zr(t,e.type);return r&&new st(r)}case ee.NAMED_TYPE:return t.getType(e.name.value)}}class pD{constructor(e,r,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n??gx,r&&(Kr(r)&&this._inputTypeStack.push(r),yu(r)&&this._parentTypeStack.push(r),os(r)&&this._typeStack.push(r))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const r=this._schema;switch(e.kind){case ee.SELECTION_SET:{const u=Mr(this.getType());this._parentTypeStack.push(yu(u)?u:void 0);break}case ee.FIELD:{const u=this.getParentType();let s,i;u&&(s=this._getFieldDef(r,u,e),s&&(i=s.type)),this._fieldDefStack.push(s),this._typeStack.push(os(i)?i:void 0);break}case ee.DIRECTIVE:this._directive=r.getDirective(e.name.value);break;case ee.OPERATION_DEFINITION:{const u=r.getRootType(e.operation);this._typeStack.push(At(u)?u:void 0);break}case ee.INLINE_FRAGMENT:case ee.FRAGMENT_DEFINITION:{const u=e.typeCondition,s=u?zr(r,u):Mr(this.getType());this._typeStack.push(os(s)?s:void 0);break}case ee.VARIABLE_DEFINITION:{const u=zr(r,e.type);this._inputTypeStack.push(Kr(u)?u:void 0);break}case ee.ARGUMENT:{var n;let u,s;const i=(n=this.getDirective())!==null&&n!==void 0?n:this.getFieldDef();i&&(u=i.args.find(o=>o.name===e.name.value),u&&(s=u.type)),this._argument=u,this._defaultValueStack.push(u?u.defaultValue:void 0),this._inputTypeStack.push(Kr(s)?s:void 0);break}case ee.LIST:{const u=Wm(this.getInputType()),s=xt(u)?u.ofType:u;this._defaultValueStack.push(void 0),this._inputTypeStack.push(Kr(s)?s:void 0);break}case ee.OBJECT_FIELD:{const u=Mr(this.getInputType());let s,i;Mt(u)&&(i=u.getFields()[e.name.value],i&&(s=i.type)),this._defaultValueStack.push(i?i.defaultValue:void 0),this._inputTypeStack.push(Kr(s)?s:void 0);break}case ee.ENUM:{const u=Mr(this.getInputType());let s;lr(u)&&(s=u.getValue(e.value)),this._enumValue=s;break}}}leave(e){switch(e.kind){case ee.SELECTION_SET:this._parentTypeStack.pop();break;case ee.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case ee.DIRECTIVE:this._directive=null;break;case ee.OPERATION_DEFINITION:case ee.INLINE_FRAGMENT:case ee.FRAGMENT_DEFINITION:this._typeStack.pop();break;case ee.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case ee.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case ee.LIST:case ee.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case ee.ENUM:this._enumValue=null;break}}}function gx(t,e,r){const n=r.name.value;if(n===ac.name&&t.getQueryType()===e)return ac;if(n===cc.name&&t.getQueryType()===e)return cc;if(n===lc.name&&yu(e))return lc;if(At(e)||_t(e))return e.getFields()[n]}function hD(t,e){return{enter(...r){const n=r[0];t.enter(n);const u=Zi(e,n.kind).enter;if(u){const s=u.apply(e,r);return s!==void 0&&(t.leave(n),O2(s)&&t.enter(s)),s}},leave(...r){const n=r[0],u=Zi(e,n.kind).leave;let s;return u&&(s=u.apply(e,r)),t.leave(n),s}}}function Ax(t){return mD(t)||DD(t)||ED(t)}function mD(t){return t.kind===ee.OPERATION_DEFINITION||t.kind===ee.FRAGMENT_DEFINITION}function Sx(t){return t.kind===ee.FIELD||t.kind===ee.FRAGMENT_SPREAD||t.kind===ee.INLINE_FRAGMENT}function p6(t){return t.kind===ee.VARIABLE||t.kind===ee.INT||t.kind===ee.FLOAT||t.kind===ee.STRING||t.kind===ee.BOOLEAN||t.kind===ee.NULL||t.kind===ee.ENUM||t.kind===ee.LIST||t.kind===ee.OBJECT}function x2(t){return p6(t)&&(t.kind===ee.LIST?t.values.some(x2):t.kind===ee.OBJECT?t.fields.some(e=>x2(e.value)):t.kind!==ee.VARIABLE)}function Fx(t){return t.kind===ee.NAMED_TYPE||t.kind===ee.LIST_TYPE||t.kind===ee.NON_NULL_TYPE}function DD(t){return t.kind===ee.SCHEMA_DEFINITION||Ao(t)||t.kind===ee.DIRECTIVE_DEFINITION}function Ao(t){return t.kind===ee.SCALAR_TYPE_DEFINITION||t.kind===ee.OBJECT_TYPE_DEFINITION||t.kind===ee.INTERFACE_TYPE_DEFINITION||t.kind===ee.UNION_TYPE_DEFINITION||t.kind===ee.ENUM_TYPE_DEFINITION||t.kind===ee.INPUT_OBJECT_TYPE_DEFINITION}function ED(t){return t.kind===ee.SCHEMA_EXTENSION||Qf(t)}function Qf(t){return t.kind===ee.SCALAR_TYPE_EXTENSION||t.kind===ee.OBJECT_TYPE_EXTENSION||t.kind===ee.INTERFACE_TYPE_EXTENSION||t.kind===ee.UNION_TYPE_EXTENSION||t.kind===ee.ENUM_TYPE_EXTENSION||t.kind===ee.INPUT_OBJECT_TYPE_EXTENSION}function h6(t){return{Document(e){for(const r of e.definitions)if(!mD(r)){const n=r.kind===ee.SCHEMA_DEFINITION||r.kind===ee.SCHEMA_EXTENSION?"schema":'"'+r.name.value+'"';t.reportError(new Ae(`The ${n} definition is not executable.`,{nodes:r}))}return!1}}}function m6(t){return{Field(e){const r=t.getParentType();if(r&&!t.getFieldDef()){const u=t.getSchema(),s=e.name.value;let i=Mu("to use an inline fragment on",bx(u,r,s));i===""&&(i=Mu(Cx(r,s))),t.reportError(new Ae(`Cannot query field "${s}" on type "${r.name}".`+i,{nodes:e}))}}}}function bx(t,e,r){if(!fu(e))return[];const n=new Set,u=Object.create(null);for(const i of t.getPossibleTypes(e))if(i.getFields()[r]){n.add(i),u[i.name]=1;for(const o of i.getInterfaces()){var s;o.getFields()[r]&&(n.add(o),u[o.name]=((s=u[o.name])!==null&&s!==void 0?s:0)+1)}}return[...n].sort((i,o)=>{const a=u[o.name]-u[i.name];return a!==0?a:_t(i)&&t.isSubType(i,o)?-1:_t(o)&&t.isSubType(o,i)?1:Tc(i.name,o.name)}).map(i=>i.name)}function Cx(t,e){if(At(t)||_t(t)){const r=Object.keys(t.getFields());return Ds(e,r)}return[]}function D6(t){return{InlineFragment(e){const r=e.typeCondition;if(r){const n=zr(t.getSchema(),r);if(n&&!yu(n)){const u=qt(r);t.reportError(new Ae(`Fragment cannot condition on non composite type "${u}".`,{nodes:r}))}}},FragmentDefinition(e){const r=zr(t.getSchema(),e.typeCondition);if(r&&!yu(r)){const n=qt(e.typeCondition);t.reportError(new Ae(`Fragment "${e.name.value}" cannot condition on non composite type "${n}".`,{nodes:e.typeCondition}))}}}}function E6(t){return{...y6(t),Argument(e){const r=t.getArgument(),n=t.getFieldDef(),u=t.getParentType();if(!r&&n&&u){const s=e.name.value,i=n.args.map(a=>a.name),o=Ds(s,i);t.reportError(new Ae(`Unknown argument "${s}" on field "${u.name}.${n.name}".`+Mu(o),{nodes:e}))}}}}function y6(t){const e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():ys;for(const i of n)e[i.name]=i.args.map(o=>o.name);const u=t.getDocument().definitions;for(const i of u)if(i.kind===ee.DIRECTIVE_DEFINITION){var s;const o=(s=i.arguments)!==null&&s!==void 0?s:[];e[i.name.value]=o.map(a=>a.name.value)}return{Directive(i){const o=i.name.value,a=e[o];if(i.arguments&&a)for(const c of i.arguments){const l=c.name.value;if(!a.includes(l)){const f=Ds(l,a);t.reportError(new Ae(`Unknown argument "${l}" on directive "@${o}".`+Mu(f),{nodes:c}))}}return!1}}}function yD(t){const e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():ys;for(const s of n)e[s.name]=s.locations;const u=t.getDocument().definitions;for(const s of u)s.kind===ee.DIRECTIVE_DEFINITION&&(e[s.name.value]=s.locations.map(i=>i.value));return{Directive(s,i,o,a,c){const l=s.name.value,f=e[l];if(!f){t.reportError(new Ae(`Unknown directive "@${l}".`,{nodes:s}));return}const d=_x(c);d&&!f.includes(d)&&t.reportError(new Ae(`Directive "@${l}" may not be used on ${d}.`,{nodes:s}))}}}function _x(t){const e=t[t.length-1];switch("kind"in e||ur(!1),e.kind){case ee.OPERATION_DEFINITION:return wx(e.operation);case ee.FIELD:return Ge.FIELD;case ee.FRAGMENT_SPREAD:return Ge.FRAGMENT_SPREAD;case ee.INLINE_FRAGMENT:return Ge.INLINE_FRAGMENT;case ee.FRAGMENT_DEFINITION:return Ge.FRAGMENT_DEFINITION;case ee.VARIABLE_DEFINITION:return Ge.VARIABLE_DEFINITION;case ee.SCHEMA_DEFINITION:case ee.SCHEMA_EXTENSION:return Ge.SCHEMA;case ee.SCALAR_TYPE_DEFINITION:case ee.SCALAR_TYPE_EXTENSION:return Ge.SCALAR;case ee.OBJECT_TYPE_DEFINITION:case ee.OBJECT_TYPE_EXTENSION:return Ge.OBJECT;case ee.FIELD_DEFINITION:return Ge.FIELD_DEFINITION;case ee.INTERFACE_TYPE_DEFINITION:case ee.INTERFACE_TYPE_EXTENSION:return Ge.INTERFACE;case ee.UNION_TYPE_DEFINITION:case ee.UNION_TYPE_EXTENSION:return Ge.UNION;case ee.ENUM_TYPE_DEFINITION:case ee.ENUM_TYPE_EXTENSION:return Ge.ENUM;case ee.ENUM_VALUE_DEFINITION:return Ge.ENUM_VALUE;case ee.INPUT_OBJECT_TYPE_DEFINITION:case ee.INPUT_OBJECT_TYPE_EXTENSION:return Ge.INPUT_OBJECT;case ee.INPUT_VALUE_DEFINITION:{const r=t[t.length-3];return"kind"in r||ur(!1),r.kind===ee.INPUT_OBJECT_TYPE_DEFINITION?Ge.INPUT_FIELD_DEFINITION:Ge.ARGUMENT_DEFINITION}default:ur(!1,"Unexpected kind: "+Fe(e.kind))}}function wx(t){switch(t){case mr.QUERY:return Ge.QUERY;case mr.MUTATION:return Ge.MUTATION;case mr.SUBSCRIPTION:return Ge.SUBSCRIPTION}}function v6(t){return{FragmentSpread(e){const r=e.name.value;t.getFragment(r)||t.reportError(new Ae(`Unknown fragment "${r}".`,{nodes:e.name}))}}}function vD(t){const e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);for(const s of t.getDocument().definitions)Ao(s)&&(n[s.name.value]=!0);const u=[...Object.keys(r),...Object.keys(n)];return{NamedType(s,i,o,a,c){const l=s.name.value;if(!r[l]&&!n[l]){var f;const d=(f=c[2])!==null&&f!==void 0?f:o,p=d!=null&&Tx(d);if(p&&g4.includes(l))return;const h=Ds(l,p?g4.concat(u):u);t.reportError(new Ae(`Unknown type "${l}".`+Mu(h),{nodes:s}))}}}}const g4=[...Pc,...Nc].map(t=>t.name);function Tx(t){return"kind"in t&&(DD(t)||ED(t))}function g6(t){let e=0;return{Document(r){e=r.definitions.filter(n=>n.kind===ee.OPERATION_DEFINITION).length},OperationDefinition(r){!r.name&&e>1&&t.reportError(new Ae("This anonymous operation must be the only defined operation.",{nodes:r}))}}}function A6(t){var e,r,n;const u=t.getSchema(),s=(e=(r=(n=u==null?void 0:u.astNode)!==null&&n!==void 0?n:u==null?void 0:u.getQueryType())!==null&&r!==void 0?r:u==null?void 0:u.getMutationType())!==null&&e!==void 0?e:u==null?void 0:u.getSubscriptionType();let i=0;return{SchemaDefinition(o){if(s){t.reportError(new Ae("Cannot define a new schema within a schema extension.",{nodes:o}));return}i>0&&t.reportError(new Ae("Must provide only one schema definition.",{nodes:o})),++i}}}function S6(t){const e=Object.create(null),r=[],n=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(s){return u(s),!1}};function u(s){if(e[s.name.value])return;const i=s.name.value;e[i]=!0;const o=t.getFragmentSpreads(s.selectionSet);if(o.length!==0){n[i]=r.length;for(const a of o){const c=a.name.value,l=n[c];if(r.push(a),l===void 0){const f=t.getFragment(c);f&&u(f)}else{const f=r.slice(l),d=f.slice(0,-1).map(p=>'"'+p.name.value+'"').join(", ");t.reportError(new Ae(`Cannot spread fragment "${c}" within itself`+(d!==""?` via ${d}.`:"."),{nodes:f}))}r.pop()}n[i]=void 0}}}function F6(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(r){const n=t.getRecursiveVariableUsages(r);for(const{node:u}of n){const s=u.name.value;e[s]!==!0&&t.reportError(new Ae(r.name?`Variable "$${s}" is not defined by operation "${r.name.value}".`:`Variable "$${s}" is not defined.`,{nodes:[u,r]}))}}},VariableDefinition(r){e[r.variable.name.value]=!0}}}function b6(t){const e=[],r=[];return{OperationDefinition(n){return e.push(n),!1},FragmentDefinition(n){return r.push(n),!1},Document:{leave(){const n=Object.create(null);for(const u of e)for(const s of t.getRecursivelyReferencedFragments(u))n[s.name.value]=!0;for(const u of r){const s=u.name.value;n[s]!==!0&&t.reportError(new Ae(`Fragment "${s}" is never used.`,{nodes:u}))}}}}}function C6(t){let e=[];return{OperationDefinition:{enter(){e=[]},leave(r){const n=Object.create(null),u=t.getRecursiveVariableUsages(r);for(const{node:s}of u)n[s.name.value]=!0;for(const s of e){const i=s.variable.name.value;n[i]!==!0&&t.reportError(new Ae(r.name?`Variable "$${i}" is never used in operation "${r.name.value}".`:`Variable "$${i}" is never used.`,{nodes:s}))}}},VariableDefinition(r){e.push(r)}}}function Yf(t){switch(t.kind){case ee.OBJECT:return{...t,fields:$x(t.fields)};case ee.LIST:return{...t,values:t.values.map(Yf)};case ee.INT:case ee.FLOAT:case ee.STRING:case ee.BOOLEAN:case ee.NULL:case ee.ENUM:case ee.VARIABLE:return t}}function $x(t){return t.map(e=>({...e,value:Yf(e.value)})).sort((e,r)=>Tc(e.name.value,r.name.value))}function _6(t){return Array.isArray(t)?t.map(([e,r])=>`subfields "${e}" conflict because `+_6(r)).join(" and "):t}function w6(t){const e=new Ox,r=new Map;return{SelectionSet(n){const u=Bx(t,r,e,t.getParentType(),n);for(const[[s,i],o,a]of u){const c=_6(i);t.reportError(new Ae(`Fields "${s}" conflict because ${c}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:o.concat(a)}))}}}}function Bx(t,e,r,n,u){const s=[],[i,o]=rf(t,e,n,u);if(Px(t,s,e,r,i),o.length!==0)for(let a=0;a<o.length;a++){ef(t,s,e,r,!1,i,o[a]);for(let c=a+1;c<o.length;c++)tf(t,s,e,r,!1,o[a],o[c])}return s}function ef(t,e,r,n,u,s,i){const o=t.getFragment(i);if(!o)return;const[a,c]=j2(t,r,o);if(s!==a){gD(t,e,r,n,u,s,a);for(const l of c)n.has(l,i,u)||(n.add(l,i,u),ef(t,e,r,n,u,s,l))}}function tf(t,e,r,n,u,s,i){if(s===i||n.has(s,i,u))return;n.add(s,i,u);const o=t.getFragment(s),a=t.getFragment(i);if(!o||!a)return;const[c,l]=j2(t,r,o),[f,d]=j2(t,r,a);gD(t,e,r,n,u,c,f);for(const p of d)tf(t,e,r,n,u,s,p);for(const p of l)tf(t,e,r,n,u,p,i)}function Ix(t,e,r,n,u,s,i,o){const a=[],[c,l]=rf(t,e,u,s),[f,d]=rf(t,e,i,o);gD(t,a,e,r,n,c,f);for(const p of d)ef(t,a,e,r,n,c,p);for(const p of l)ef(t,a,e,r,n,f,p);for(const p of l)for(const h of d)tf(t,a,e,r,n,p,h);return a}function Px(t,e,r,n,u){for(const[s,i]of Object.entries(u))if(i.length>1)for(let o=0;o<i.length;o++)for(let a=o+1;a<i.length;a++){const c=T6(t,r,n,!1,s,i[o],i[a]);c&&e.push(c)}}function gD(t,e,r,n,u,s,i){for(const[o,a]of Object.entries(s)){const c=i[o];if(c)for(const l of a)for(const f of c){const d=T6(t,r,n,u,o,l,f);d&&e.push(d)}}}function T6(t,e,r,n,u,s,i){const[o,a,c]=s,[l,f,d]=i,p=n||o!==l&&At(o)&&At(l);if(!p){const g=a.name.value,F=f.name.value;if(g!==F)return[[u,`"${g}" and "${F}" are different fields`],[a],[f]];if(A4(a)!==A4(f))return[[u,"they have differing arguments"],[a],[f]]}const h=c==null?void 0:c.type,v=d==null?void 0:d.type;if(h&&v&&M2(h,v))return[[u,`they return conflicting types "${Fe(h)}" and "${Fe(v)}"`],[a],[f]];const S=a.selectionSet,D=f.selectionSet;if(S&&D){const g=Ix(t,e,r,p,Mr(h),S,Mr(v),D);return kx(g,u,a,f)}}function A4(t){var e;const r=(e=t.arguments)!==null&&e!==void 0?e:[],n={kind:ee.OBJECT,fields:r.map(u=>({kind:ee.OBJECT_FIELD,name:u.name,value:u.value}))};return qt(Yf(n))}function M2(t,e){return xt(t)?xt(e)?M2(t.ofType,e.ofType):!0:xt(e)?!0:et(t)?et(e)?M2(t.ofType,e.ofType):!0:et(e)?!0:Eu(t)||Eu(e)?t!==e:!1}function rf(t,e,r,n){const u=e.get(n);if(u)return u;const s=Object.create(null),i=Object.create(null);$6(t,r,n,s,i);const o=[s,Object.keys(i)];return e.set(n,o),o}function j2(t,e,r){const n=e.get(r.selectionSet);if(n)return n;const u=zr(t.getSchema(),r.typeCondition);return rf(t,e,u,r.selectionSet)}function $6(t,e,r,n,u){for(const s of r.selections)switch(s.kind){case ee.FIELD:{const i=s.name.value;let o;(At(e)||_t(e))&&(o=e.getFields()[i]);const a=s.alias?s.alias.value:i;n[a]||(n[a]=[]),n[a].push([e,s,o]);break}case ee.FRAGMENT_SPREAD:u[s.name.value]=!0;break;case ee.INLINE_FRAGMENT:{const i=s.typeCondition,o=i?zr(t.getSchema(),i):e;$6(t,o,s.selectionSet,n,u);break}}}function kx(t,e,r,n){if(t.length>0)return[[e,t.map(([u])=>u)],[r,...t.map(([,u])=>u).flat()],[n,...t.map(([,,u])=>u).flat()]]}class Ox{constructor(){this._data=new Map}has(e,r,n){var u;const[s,i]=e<r?[e,r]:[r,e],o=(u=this._data.get(s))===null||u===void 0?void 0:u.get(i);return o===void 0?!1:n?!0:n===o}add(e,r,n){const[u,s]=e<r?[e,r]:[r,e],i=this._data.get(u);i===void 0?this._data.set(u,new Map([[s,n]])):i.set(s,n)}}function B6(t){return{InlineFragment(e){const r=t.getType(),n=t.getParentType();if(yu(r)&&yu(n)&&!q2(t.getSchema(),r,n)){const u=Fe(n),s=Fe(r);t.reportError(new Ae(`Fragment cannot be spread here as objects of type "${u}" can never be of type "${s}".`,{nodes:e}))}},FragmentSpread(e){const r=e.name.value,n=Nx(t,r),u=t.getParentType();if(n&&u&&!q2(t.getSchema(),n,u)){const s=Fe(u),i=Fe(n);t.reportError(new Ae(`Fragment "${r}" cannot be spread here as objects of type "${s}" can never be of type "${i}".`,{nodes:e}))}}}}function Nx(t,e){const r=t.getFragment(e);if(r){const n=zr(t.getSchema(),r.typeCondition);if(yu(n))return n}}function I6(t){const e=t.getSchema(),r=Object.create(null);for(const u of t.getDocument().definitions)Ao(u)&&(r[u.name.value]=u);return{ScalarTypeExtension:n,ObjectTypeExtension:n,InterfaceTypeExtension:n,UnionTypeExtension:n,EnumTypeExtension:n,InputObjectTypeExtension:n};function n(u){const s=u.name.value,i=r[s],o=e==null?void 0:e.getType(s);let a;if(i?a=Rx[i.kind]:o&&(a=qx(o)),a){if(a!==u.kind){const c=xx(u.kind);t.reportError(new Ae(`Cannot extend non-${c} type "${s}".`,{nodes:i?[i,u]:u}))}}else{const c=Object.keys({...r,...e==null?void 0:e.getTypeMap()}),l=Ds(s,c);t.reportError(new Ae(`Cannot extend type "${s}" because it is not defined.`+Mu(l),{nodes:u.name}))}}}const Rx={[ee.SCALAR_TYPE_DEFINITION]:ee.SCALAR_TYPE_EXTENSION,[ee.OBJECT_TYPE_DEFINITION]:ee.OBJECT_TYPE_EXTENSION,[ee.INTERFACE_TYPE_DEFINITION]:ee.INTERFACE_TYPE_EXTENSION,[ee.UNION_TYPE_DEFINITION]:ee.UNION_TYPE_EXTENSION,[ee.ENUM_TYPE_DEFINITION]:ee.ENUM_TYPE_EXTENSION,[ee.INPUT_OBJECT_TYPE_DEFINITION]:ee.INPUT_OBJECT_TYPE_EXTENSION};function qx(t){if(an(t))return ee.SCALAR_TYPE_EXTENSION;if(At(t))return ee.OBJECT_TYPE_EXTENSION;if(_t(t))return ee.INTERFACE_TYPE_EXTENSION;if(Dr(t))return ee.UNION_TYPE_EXTENSION;if(lr(t))return ee.ENUM_TYPE_EXTENSION;if(Mt(t))return ee.INPUT_OBJECT_TYPE_EXTENSION;ur(!1,"Unexpected type: "+Fe(t))}function xx(t){switch(t){case ee.SCALAR_TYPE_EXTENSION:return"scalar";case ee.OBJECT_TYPE_EXTENSION:return"object";case ee.INTERFACE_TYPE_EXTENSION:return"interface";case ee.UNION_TYPE_EXTENSION:return"union";case ee.ENUM_TYPE_EXTENSION:return"enum";case ee.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:ur(!1,"Unexpected kind: "+Fe(t))}}function P6(t){return{...k6(t),Field:{leave(e){var r;const n=t.getFieldDef();if(!n)return!1;const u=new Set((r=e.arguments)===null||r===void 0?void 0:r.map(s=>s.name.value));for(const s of n.args)if(!u.has(s.name)&&Es(s)){const i=Fe(s.type);t.reportError(new Ae(`Field "${n.name}" argument "${s.name}" of type "${i}" is required, but it was not provided.`,{nodes:e}))}}}}}function k6(t){var e;const r=Object.create(null),n=t.getSchema(),u=(e=n==null?void 0:n.getDirectives())!==null&&e!==void 0?e:ys;for(const o of u)r[o.name]=ju(o.args.filter(Es),a=>a.name);const s=t.getDocument().definitions;for(const o of s)if(o.kind===ee.DIRECTIVE_DEFINITION){var i;const a=(i=o.arguments)!==null&&i!==void 0?i:[];r[o.name.value]=ju(a.filter(Mx),c=>c.name.value)}return{Directive:{leave(o){const a=o.name.value,c=r[a];if(c){var l;const f=(l=o.arguments)!==null&&l!==void 0?l:[],d=new Set(f.map(p=>p.name.value));for(const[p,h]of Object.entries(c))if(!d.has(p)){const v=$c(h.type)?Fe(h.type):qt(h.type);t.reportError(new Ae(`Directive "@${a}" argument "${p}" of type "${v}" is required, but it was not provided.`,{nodes:o}))}}}}}}function Mx(t){return t.type.kind===ee.NON_NULL_TYPE&&t.defaultValue==null}function O6(t){return{Field(e){const r=t.getType(),n=e.selectionSet;if(r){if(Eu(Mr(r))){if(n){const u=e.name.value,s=Fe(r);t.reportError(new Ae(`Field "${u}" must not have a selection since type "${s}" has no subfields.`,{nodes:n}))}}else if(!n){const u=e.name.value,s=Fe(r);t.reportError(new Ae(`Field "${u}" of type "${s}" must have a selection of subfields. Did you mean "${u} { ... }"?`,{nodes:e}))}}}}}function N6(t){return t.map(e=>typeof e=="number"?"["+e.toString()+"]":"."+e).join("")}function no(t,e,r){return{prev:t,key:e,typename:r}}function Zr(t){const e=[];let r=t;for(;r;)e.push(r.key),r=r.prev;return e.reverse()}function R6(t,e,r=jx){return $a(t,e,r,void 0)}function jx(t,e,r){let n="Invalid value "+Fe(e);throw t.length>0&&(n+=` at "value${N6(t)}"`),r.message=n+": "+r.message,r}function $a(t,e,r,n){if(et(e)){if(t!=null)return $a(t,e.ofType,r,n);r(Zr(n),t,new Ae(`Expected non-nullable type "${Fe(e)}" not to be null.`));return}if(t==null)return null;if(xt(e)){const u=e.ofType;return nD(t)?Array.from(t,(s,i)=>{const o=no(n,i,void 0);return $a(s,u,r,o)}):[$a(t,u,r,n)]}if(Mt(e)){if(!nn(t)){r(Zr(n),t,new Ae(`Expected type "${e.name}" to be an object.`));return}const u={},s=e.getFields();for(const i of Object.values(s)){const o=t[i.name];if(o===void 0){if(i.defaultValue!==void 0)u[i.name]=i.defaultValue;else if(et(i.type)){const a=Fe(i.type);r(Zr(n),t,new Ae(`Field "${i.name}" of required type "${a}" was not provided.`))}continue}u[i.name]=$a(o,i.type,r,no(n,i.name,e.name))}for(const i of Object.keys(t))if(!s[i]){const o=Ds(i,Object.keys(e.getFields()));r(Zr(n),t,new Ae(`Field "${i}" is not defined by type "${e.name}".`+Mu(o)))}return u}if(Eu(e)){let u;try{u=e.parseValue(t)}catch(s){s instanceof Ae?r(Zr(n),t,s):r(Zr(n),t,new Ae(`Expected type "${e.name}". `+s.message,{originalError:s}));return}return u===void 0&&r(Zr(n),t,new Ae(`Expected type "${e.name}".`)),u}ur(!1,"Unexpected input type: "+Fe(e))}function su(t,e,r){if(t){if(t.kind===ee.VARIABLE){const n=t.name.value;if(r==null||r[n]===void 0)return;const u=r[n];return u===null&&et(e)?void 0:u}if(et(e))return t.kind===ee.NULL?void 0:su(t,e.ofType,r);if(t.kind===ee.NULL)return null;if(xt(e)){const n=e.ofType;if(t.kind===ee.LIST){const s=[];for(const i of t.values)if(S4(i,r)){if(et(n))return;s.push(null)}else{const o=su(i,n,r);if(o===void 0)return;s.push(o)}return s}const u=su(t,n,r);return u===void 0?void 0:[u]}if(Mt(e)){if(t.kind!==ee.OBJECT)return;const n=Object.create(null),u=ju(t.fields,s=>s.name.value);for(const s of Object.values(e.getFields())){const i=u[s.name];if(!i||S4(i.value,r)){if(s.defaultValue!==void 0)n[s.name]=s.defaultValue;else if(et(s.type))return;continue}const o=su(i.value,s.type,r);if(o===void 0)return;n[s.name]=o}return n}if(Eu(e)){let n;try{n=e.parseLiteral(t,r)}catch{return}return n===void 0?void 0:n}ur(!1,"Unexpected input type: "+Fe(e))}}function S4(t,e){return t.kind===ee.VARIABLE&&(e==null||e[t.name.value]===void 0)}function q6(t,e,r,n){const u=[],s=n==null?void 0:n.maxErrors;try{const i=Lx(t,e,r,o=>{if(s!=null&&u.length>=s)throw new Ae("Too many errors processing variables, error limit reached. Execution aborted.");u.push(o)});if(u.length===0)return{coerced:i}}catch(i){u.push(i)}return{errors:u}}function Lx(t,e,r,n){const u={};for(const s of e){const i=s.variable.name.value,o=zr(t,s.type);if(!Kr(o)){const c=qt(s.type);n(new Ae(`Variable "$${i}" expected value of type "${c}" which cannot be used as an input type.`,{nodes:s.type}));continue}if(!x6(r,i)){if(s.defaultValue)u[i]=su(s.defaultValue,o);else if(et(o)){const c=Fe(o);n(new Ae(`Variable "$${i}" of required type "${c}" was not provided.`,{nodes:s}))}continue}const a=r[i];if(a===null&&et(o)){const c=Fe(o);n(new Ae(`Variable "$${i}" of non-null type "${c}" must not be null.`,{nodes:s}));continue}u[i]=R6(a,o,(c,l,f)=>{let d=`Variable "$${i}" got invalid value `+Fe(l);c.length>0&&(d+=` at "${i}${N6(c)}"`),n(new Ae(d+"; "+f.message,{nodes:s,originalError:f.originalError}))})}return u}function Xf(t,e,r){var n;const u={},s=(n=e.arguments)!==null&&n!==void 0?n:[],i=ju(s,o=>o.name.value);for(const o of t.args){const a=o.name,c=o.type,l=i[a];if(!l){if(o.defaultValue!==void 0)u[a]=o.defaultValue;else if(et(c))throw new Ae(`Argument "${a}" of required type "${Fe(c)}" was not provided.`,{nodes:e});continue}const f=l.value;let d=f.kind===ee.NULL;if(f.kind===ee.VARIABLE){const h=f.name.value;if(r==null||!x6(r,h)){if(o.defaultValue!==void 0)u[a]=o.defaultValue;else if(et(c))throw new Ae(`Argument "${a}" of required type "${Fe(c)}" was provided the variable "$${h}" which was not provided a runtime value.`,{nodes:f});continue}d=r[h]==null}if(d&&et(c))throw new Ae(`Argument "${a}" of non-null type "${Fe(c)}" must not be null.`,{nodes:f});const p=su(f,c,r);if(p===void 0)throw new Ae(`Argument "${a}" has invalid value ${qt(f)}.`,{nodes:f});u[a]=p}return u}function fc(t,e,r){var n;const u=(n=e.directives)===null||n===void 0?void 0:n.find(s=>s.name.value===t.name);if(u)return Xf(t,u,r)}function x6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function AD(t,e,r,n,u){const s=new Map;return nf(t,e,r,n,u,s,new Set),s}function Gx(t,e,r,n,u){const s=new Map,i=new Set;for(const o of u)o.selectionSet&&nf(t,e,r,n,o.selectionSet,s,i);return s}function nf(t,e,r,n,u,s,i){for(const o of u.selections)switch(o.kind){case ee.FIELD:{if(!Sh(r,o))continue;const a=Vx(o),c=s.get(a);c!==void 0?c.push(o):s.set(a,[o]);break}case ee.INLINE_FRAGMENT:{if(!Sh(r,o)||!F4(t,o,n))continue;nf(t,e,r,n,o.selectionSet,s,i);break}case ee.FRAGMENT_SPREAD:{const a=o.name.value;if(i.has(a)||!Sh(r,o))continue;i.add(a);const c=e[a];if(!c||!F4(t,c,n))continue;nf(t,e,r,n,c.selectionSet,s,i);break}}}function Sh(t,e){const r=fc(Zm,e,t);if((r==null?void 0:r.if)===!0)return!1;const n=fc(Xm,e,t);return(n==null?void 0:n.if)!==!1}function F4(t,e,r){const n=e.typeCondition;if(!n)return!0;const u=zr(t,n);return u===r?!0:fu(u)?t.isSubType(u,r):!1}function Vx(t){return t.alias?t.alias.value:t.name.value}function M6(t){return{OperationDefinition(e){if(e.operation==="subscription"){const r=t.getSchema(),n=r.getSubscriptionType();if(n){const u=e.name?e.name.value:null,s=Object.create(null),i=t.getDocument(),o=Object.create(null);for(const c of i.definitions)c.kind===ee.FRAGMENT_DEFINITION&&(o[c.name.value]=c);const a=AD(r,o,s,n,e.selectionSet);if(a.size>1){const f=[...a.values()].slice(1).flat();t.reportError(new Ae(u!=null?`Subscription "${u}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:f}))}for(const c of a.values())c[0].name.value.startsWith("__")&&t.reportError(new Ae(u!=null?`Subscription "${u}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:c}))}}}}}function SD(t,e){const r=new Map;for(const n of t){const u=e(n),s=r.get(u);s===void 0?r.set(u,[n]):s.push(n)}return r}function j6(t){return{DirectiveDefinition(n){var u;const s=(u=n.arguments)!==null&&u!==void 0?u:[];return r(`@${n.name.value}`,s)},InterfaceTypeDefinition:e,InterfaceTypeExtension:e,ObjectTypeDefinition:e,ObjectTypeExtension:e};function e(n){var u;const s=n.name.value,i=(u=n.fields)!==null&&u!==void 0?u:[];for(const a of i){var o;const c=a.name.value,l=(o=a.arguments)!==null&&o!==void 0?o:[];r(`${s}.${c}`,l)}return!1}function r(n,u){const s=SD(u,i=>i.name.value);for(const[i,o]of s)o.length>1&&t.reportError(new Ae(`Argument "${n}(${i}:)" can only be defined once.`,{nodes:o.map(a=>a.name)}));return!1}}function FD(t){return{Field:e,Directive:e};function e(r){var n;const u=(n=r.arguments)!==null&&n!==void 0?n:[],s=SD(u,i=>i.name.value);for(const[i,o]of s)o.length>1&&t.reportError(new Ae(`There can be only one argument named "${i}".`,{nodes:o.map(a=>a.name)}))}}function L6(t){const e=Object.create(null),r=t.getSchema();return{DirectiveDefinition(n){const u=n.name.value;if(r!=null&&r.getDirective(u)){t.reportError(new Ae(`Directive "@${u}" already exists in the schema. It cannot be redefined.`,{nodes:n.name}));return}return e[u]?t.reportError(new Ae(`There can be only one directive named "@${u}".`,{nodes:[e[u],n.name]})):e[u]=n.name,!1}}}function bD(t){const e=Object.create(null),r=t.getSchema(),n=r?r.getDirectives():ys;for(const o of n)e[o.name]=!o.isRepeatable;const u=t.getDocument().definitions;for(const o of u)o.kind===ee.DIRECTIVE_DEFINITION&&(e[o.name.value]=!o.repeatable);const s=Object.create(null),i=Object.create(null);return{enter(o){if(!("directives"in o)||!o.directives)return;let a;if(o.kind===ee.SCHEMA_DEFINITION||o.kind===ee.SCHEMA_EXTENSION)a=s;else if(Ao(o)||Qf(o)){const c=o.name.value;a=i[c],a===void 0&&(i[c]=a=Object.create(null))}else a=Object.create(null);for(const c of o.directives){const l=c.name.value;e[l]&&(a[l]?t.reportError(new Ae(`The directive "@${l}" can only be used once at this location.`,{nodes:[a[l],c]})):a[l]=c)}}}}function G6(t){const e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);return{EnumTypeDefinition:u,EnumTypeExtension:u};function u(s){var i;const o=s.name.value;n[o]||(n[o]=Object.create(null));const a=(i=s.values)!==null&&i!==void 0?i:[],c=n[o];for(const l of a){const f=l.name.value,d=r[o];lr(d)&&d.getValue(f)?t.reportError(new Ae(`Enum value "${o}.${f}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):c[f]?t.reportError(new Ae(`Enum value "${o}.${f}" can only be defined once.`,{nodes:[c[f],l.name]})):c[f]=l.name}return!1}}function V6(t){const e=t.getSchema(),r=e?e.getTypeMap():Object.create(null),n=Object.create(null);return{InputObjectTypeDefinition:u,InputObjectTypeExtension:u,InterfaceTypeDefinition:u,InterfaceTypeExtension:u,ObjectTypeDefinition:u,ObjectTypeExtension:u};function u(s){var i;const o=s.name.value;n[o]||(n[o]=Object.create(null));const a=(i=s.fields)!==null&&i!==void 0?i:[],c=n[o];for(const l of a){const f=l.name.value;Ux(r[o],f)?t.reportError(new Ae(`Field "${o}.${f}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:l.name})):c[f]?t.reportError(new Ae(`Field "${o}.${f}" can only be defined once.`,{nodes:[c[f],l.name]})):c[f]=l.name}return!1}}function Ux(t,e){return At(t)||_t(t)||Mt(t)?t.getFields()[e]!=null:!1}function U6(t){const e=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(r){const n=r.name.value;return e[n]?t.reportError(new Ae(`There can be only one fragment named "${n}".`,{nodes:[e[n],r.name]})):e[n]=r.name,!1}}}function CD(t){const e=[];let r=Object.create(null);return{ObjectValue:{enter(){e.push(r),r=Object.create(null)},leave(){const n=e.pop();n||ur(!1),r=n}},ObjectField(n){const u=n.name.value;r[u]?t.reportError(new Ae(`There can be only one input field named "${u}".`,{nodes:[r[u],n.name]})):r[u]=n.name}}}function K6(t){const e=Object.create(null);return{OperationDefinition(r){const n=r.name;return n&&(e[n.value]?t.reportError(new Ae(`There can be only one operation named "${n.value}".`,{nodes:[e[n.value],n]})):e[n.value]=n),!1},FragmentDefinition:()=>!1}}function J6(t){const e=t.getSchema(),r=Object.create(null),n=e?{query:e.getQueryType(),mutation:e.getMutationType(),subscription:e.getSubscriptionType()}:{};return{SchemaDefinition:u,SchemaExtension:u};function u(s){var i;const o=(i=s.operationTypes)!==null&&i!==void 0?i:[];for(const a of o){const c=a.operation,l=r[c];n[c]?t.reportError(new Ae(`Type for ${c} already defined in the schema. It cannot be redefined.`,{nodes:a})):l?t.reportError(new Ae(`There can be only one ${c} type in schema.`,{nodes:[l,a]})):r[c]=a}return!1}}function H6(t){const e=Object.create(null),r=t.getSchema();return{ScalarTypeDefinition:n,ObjectTypeDefinition:n,InterfaceTypeDefinition:n,UnionTypeDefinition:n,EnumTypeDefinition:n,InputObjectTypeDefinition:n};function n(u){const s=u.name.value;if(r!=null&&r.getType(s)){t.reportError(new Ae(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:u.name}));return}return e[s]?t.reportError(new Ae(`There can be only one type named "${s}".`,{nodes:[e[s],u.name]})):e[s]=u.name,!1}}function W6(t){return{OperationDefinition(e){var r;const n=(r=e.variableDefinitions)!==null&&r!==void 0?r:[],u=SD(n,s=>s.variable.name.value);for(const[s,i]of u)i.length>1&&t.reportError(new Ae(`There can be only one variable named "$${s}".`,{nodes:i.map(o=>o.variable.name)}))}}}function z6(t){return{ListValue(e){const r=Wm(t.getParentInputType());if(!xt(r))return bs(t,e),!1},ObjectValue(e){const r=Mr(t.getInputType());if(!Mt(r))return bs(t,e),!1;const n=ju(e.fields,u=>u.name.value);for(const u of Object.values(r.getFields()))if(!n[u.name]&&Kf(u)){const i=Fe(u.type);t.reportError(new Ae(`Field "${r.name}.${u.name}" of required type "${i}" was not provided.`,{nodes:e}))}},ObjectField(e){const r=Mr(t.getParentInputType());if(!t.getInputType()&&Mt(r)){const u=Ds(e.name.value,Object.keys(r.getFields()));t.reportError(new Ae(`Field "${e.name.value}" is not defined by type "${r.name}".`+Mu(u),{nodes:e}))}},NullValue(e){const r=t.getInputType();et(r)&&t.reportError(new Ae(`Expected value of type "${Fe(r)}", found ${qt(e)}.`,{nodes:e}))},EnumValue:e=>bs(t,e),IntValue:e=>bs(t,e),FloatValue:e=>bs(t,e),StringValue:e=>bs(t,e),BooleanValue:e=>bs(t,e)}}function bs(t,e){const r=t.getInputType();if(!r)return;const n=Mr(r);if(!Eu(n)){const u=Fe(r);t.reportError(new Ae(`Expected value of type "${u}", found ${qt(e)}.`,{nodes:e}));return}try{if(n.parseLiteral(e,void 0)===void 0){const s=Fe(r);t.reportError(new Ae(`Expected value of type "${s}", found ${qt(e)}.`,{nodes:e}))}}catch(u){const s=Fe(r);u instanceof Ae?t.reportError(u):t.reportError(new Ae(`Expected value of type "${s}", found ${qt(e)}; `+u.message,{nodes:e,originalError:u}))}}function Q6(t){return{VariableDefinition(e){const r=zr(t.getSchema(),e.type);if(r!==void 0&&!Kr(r)){const n=e.variable.name.value,u=qt(e.type);t.reportError(new Ae(`Variable "$${n}" cannot be non-input type "${u}".`,{nodes:e.type}))}}}}function Y6(t){let e=Object.create(null);return{OperationDefinition:{enter(){e=Object.create(null)},leave(r){const n=t.getRecursiveVariableUsages(r);for(const{node:u,type:s,defaultValue:i}of n){const o=u.name.value,a=e[o];if(a&&s){const c=t.getSchema(),l=zr(c,a.type);if(l&&!Kx(c,l,a.defaultValue,s,i)){const f=Fe(l),d=Fe(s);t.reportError(new Ae(`Variable "$${o}" of type "${f}" used in position expecting type "${d}".`,{nodes:[a,u]}))}}}}},VariableDefinition(r){e[r.variable.name.value]=r}}}function Kx(t,e,r,n,u){if(et(n)&&!et(e)){if(!(r!=null&&r.kind!==ee.NULL)&&!(u!==void 0))return!1;const o=n.ofType;return Zs(t,e,o)}return Zs(t,e,n)}const X6=Object.freeze([h6,K6,g6,M6,vD,D6,Q6,O6,m6,U6,v6,b6,B6,S6,W6,F6,C6,yD,bD,E6,FD,z6,P6,Y6,w6,CD]),Jx=Object.freeze([A6,J6,H6,G6,V6,j6,L6,vD,yD,bD,I6,y6,FD,CD,k6]);class Z6{constructor(e,r){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=r}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let r;if(this._fragments)r=this._fragments;else{r=Object.create(null);for(const n of this.getDocument().definitions)n.kind===ee.FRAGMENT_DEFINITION&&(r[n.name.value]=n);this._fragments=r}return r[e]}getFragmentSpreads(e){let r=this._fragmentSpreads.get(e);if(!r){r=[];const n=[e];let u;for(;u=n.pop();)for(const s of u.selections)s.kind===ee.FRAGMENT_SPREAD?r.push(s):s.selectionSet&&n.push(s.selectionSet);this._fragmentSpreads.set(e,r)}return r}getRecursivelyReferencedFragments(e){let r=this._recursivelyReferencedFragments.get(e);if(!r){r=[];const n=Object.create(null),u=[e.selectionSet];let s;for(;s=u.pop();)for(const i of this.getFragmentSpreads(s)){const o=i.name.value;if(n[o]!==!0){n[o]=!0;const a=this.getFragment(o);a&&(r.push(a),u.push(a.selectionSet))}}this._recursivelyReferencedFragments.set(e,r)}return r}}class Hx extends Z6{constructor(e,r,n){super(e,n),this._schema=r}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class e7 extends Z6{constructor(e,r,n,u){super(r,u),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let r=this._variableUsages.get(e);if(!r){const n=[],u=new pD(this._schema);vo(e,hD(u,{VariableDefinition:()=>!1,Variable(s){n.push({node:s,type:u.getInputType(),defaultValue:u.getDefaultValue()})}})),r=n,this._variableUsages.set(e,r)}return r}getRecursiveVariableUsages(e){let r=this._recursiveVariableUsages.get(e);if(!r){r=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))r=r.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,r)}return r}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}function t7(t,e,r=X6,n,u=new pD(t)){var s;const i=(s=n==null?void 0:n.maxErrors)!==null&&s!==void 0?s:100;e||it(!1,"Must provide document."),fD(t);const o=Object.freeze({}),a=[],c=new e7(t,e,u,f=>{if(a.length>=i)throw a.push(new Ae("Too many validation errors, error limit reached. Validation aborted.")),o;a.push(f)}),l=Jm(r.map(f=>f(c)));try{vo(e,hD(u,l))}catch(f){if(f!==o)throw f}return a}function r7(t,e,r=Jx){const n=[],u=new Hx(t,e,i=>{n.push(i)}),s=r.map(i=>i(u));return vo(t,Jm(s)),n}function Wx(t){const e=r7(t);if(e.length!==0)throw new Error(e.map(r=>r.message).join(`

`))}function zx(t,e){const r=r7(t,e);if(r.length!==0)throw new Error(r.map(n=>n.message).join(`

`))}function Qx(t){let e;return function(n,u,s){e===void 0&&(e=new WeakMap);let i=e.get(n);i===void 0&&(i=new WeakMap,e.set(n,i));let o=i.get(u);o===void 0&&(o=new WeakMap,i.set(u,o));let a=o.get(s);return a===void 0&&(a=t(n,u,s),o.set(s,a)),a}}function Yx(t){return Promise.all(Object.values(t)).then(e=>{const r=Object.create(null);for(const[n,u]of Object.keys(t).entries())r[u]=e[n];return r})}function Xx(t,e,r){let n=r;for(const u of t)n=rn(n)?n.then(s=>e(s,u)):e(n,u);return n}function Zx(t){return t instanceof Error?t:new eM(t)}class eM extends Error{constructor(e){super("Unexpected error value: "+Fe(e)),this.name="NonErrorThrown",this.thrownValue=e}}function uo(t,e,r){var n;const u=Zx(t);return tM(u)?u:new Ae(u.message,{nodes:(n=u.nodes)!==null&&n!==void 0?n:e,source:u.source,positions:u.positions,path:r,originalError:u})}function tM(t){return Array.isArray(t.path)}const rM=Qx((t,e,r)=>Gx(t.schema,t.fragments,t.variableValues,e,r));function Zf(t){arguments.length<2||it(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:e,document:r,variableValues:n,rootValue:u}=t;u7(e,r,n);const s=s7(t);if(!("schema"in s))return{errors:s};try{const{operation:i}=s,o=nM(s,i,u);return rn(o)?o.then(a=>Cl(a,s.errors),a=>(s.errors.push(a),Cl(null,s.errors))):Cl(o,s.errors)}catch(i){return s.errors.push(i),Cl(null,s.errors)}}function n7(t){const e=Zf(t);if(rn(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function Cl(t,e){return e.length===0?{data:t}:{errors:e,data:t}}function u7(t,e,r){e||it(!1,"Must provide document."),fD(t),r==null||nn(r)||it(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function s7(t){var e,r;const{schema:n,document:u,rootValue:s,contextValue:i,variableValues:o,operationName:a,fieldResolver:c,typeResolver:l,subscribeFieldResolver:f}=t;let d;const p=Object.create(null);for(const S of u.definitions)switch(S.kind){case ee.OPERATION_DEFINITION:if(a==null){if(d!==void 0)return[new Ae("Must provide operation name if query contains multiple operations.")];d=S}else((e=S.name)===null||e===void 0?void 0:e.value)===a&&(d=S);break;case ee.FRAGMENT_DEFINITION:p[S.name.value]=S;break}if(!d)return a!=null?[new Ae(`Unknown operation named "${a}".`)]:[new Ae("Must provide an operation.")];const h=(r=d.variableDefinitions)!==null&&r!==void 0?r:[],v=q6(n,h,o??{},{maxErrors:50});return v.errors?v.errors:{schema:n,fragments:p,rootValue:s,contextValue:i,operation:d,variableValues:v.coerced,fieldResolver:c??G2,typeResolver:l??a7,subscribeFieldResolver:f??G2,errors:[]}}function nM(t,e,r){const n=t.schema.getRootType(e.operation);if(n==null)throw new Ae(`Schema is not configured to execute ${e.operation} operation.`,{nodes:e});const u=AD(t.schema,t.fragments,t.variableValues,n,e.selectionSet),s=void 0;switch(e.operation){case mr.QUERY:return uf(t,n,r,s,u);case mr.MUTATION:return uM(t,n,r,s,u);case mr.SUBSCRIPTION:return uf(t,n,r,s,u)}}function uM(t,e,r,n,u){return Xx(u.entries(),(s,[i,o])=>{const a=no(n,i,e.name),c=i7(t,e,r,o,a);return c===void 0?s:rn(c)?c.then(l=>(s[i]=l,s)):(s[i]=c,s)},Object.create(null))}function uf(t,e,r,n,u){const s=Object.create(null);let i=!1;for(const[o,a]of u.entries()){const c=no(n,o,e.name),l=i7(t,e,r,a,c);l!==void 0&&(s[o]=l,rn(l)&&(i=!0))}return i?Yx(s):s}function i7(t,e,r,n,u){var s;const i=c7(t.schema,e,n[0]);if(!i)return;const o=i.type,a=(s=i.resolve)!==null&&s!==void 0?s:t.fieldResolver,c=o7(t,i,n,e,u);try{const l=Xf(i,n[0],t.variableValues),f=t.contextValue,d=a(r,l,f,c);let p;return rn(d)?p=d.then(h=>dc(t,o,n,c,u,h)):p=dc(t,o,n,c,u,d),rn(p)?p.then(void 0,h=>{const v=uo(h,n,Zr(u));return sf(v,o,t)}):p}catch(l){const f=uo(l,n,Zr(u));return sf(f,o,t)}}function o7(t,e,r,n,u){return{fieldName:e.name,fieldNodes:r,returnType:e.type,parentType:n,path:u,schema:t.schema,fragments:t.fragments,rootValue:t.rootValue,operation:t.operation,variableValues:t.variableValues}}function sf(t,e,r){if(et(e))throw t;return r.errors.push(t),null}function dc(t,e,r,n,u,s){if(s instanceof Error)throw s;if(et(e)){const i=dc(t,e.ofType,r,n,u,s);if(i===null)throw new Error(`Cannot return null for non-nullable field ${n.parentType.name}.${n.fieldName}.`);return i}if(s==null)return null;if(xt(e))return sM(t,e,r,n,u,s);if(Eu(e))return iM(e,s);if(fu(e))return oM(t,e,r,n,u,s);if(At(e))return L2(t,e,r,n,u,s);ur(!1,"Cannot complete value of unexpected output type: "+Fe(e))}function sM(t,e,r,n,u,s){if(!nD(s))throw new Ae(`Expected Iterable, but did not find one for field "${n.parentType.name}.${n.fieldName}".`);const i=e.ofType;let o=!1;const a=Array.from(s,(c,l)=>{const f=no(u,l,void 0);try{let d;return rn(c)?d=c.then(p=>dc(t,i,r,n,f,p)):d=dc(t,i,r,n,f,c),rn(d)?(o=!0,d.then(void 0,p=>{const h=uo(p,r,Zr(f));return sf(h,i,t)})):d}catch(d){const p=uo(d,r,Zr(f));return sf(p,i,t)}});return o?Promise.all(a):a}function iM(t,e){const r=t.serialize(e);if(r==null)throw new Error(`Expected \`${Fe(t)}.serialize(${Fe(e)})\` to return non-nullable value, returned: ${Fe(r)}`);return r}function oM(t,e,r,n,u,s){var i;const o=(i=e.resolveType)!==null&&i!==void 0?i:t.typeResolver,a=t.contextValue,c=o(s,a,n,e);return rn(c)?c.then(l=>L2(t,b4(l,t,e,r,n,s),r,n,u,s)):L2(t,b4(c,t,e,r,n,s),r,n,u,s)}function b4(t,e,r,n,u,s){if(t==null)throw new Ae(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${u.parentType.name}.${u.fieldName}". Either the "${r.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,n);if(At(t))throw new Ae("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if(typeof t!="string")throw new Ae(`Abstract type "${r.name}" must resolve to an Object type at runtime for field "${u.parentType.name}.${u.fieldName}" with value ${Fe(s)}, received "${Fe(t)}".`);const i=e.schema.getType(t);if(i==null)throw new Ae(`Abstract type "${r.name}" was resolved to a type "${t}" that does not exist inside the schema.`,{nodes:n});if(!At(i))throw new Ae(`Abstract type "${r.name}" was resolved to a non-object type "${t}".`,{nodes:n});if(!e.schema.isSubType(r,i))throw new Ae(`Runtime Object type "${i.name}" is not a possible type for "${r.name}".`,{nodes:n});return i}function L2(t,e,r,n,u,s){const i=rM(t,e,r);if(e.isTypeOf){const o=e.isTypeOf(s,t.contextValue,n);if(rn(o))return o.then(a=>{if(!a)throw C4(e,s,r);return uf(t,e,s,u,i)});if(!o)throw C4(e,s,r)}return uf(t,e,s,u,i)}function C4(t,e,r){return new Ae(`Expected value of type "${t.name}" but got: ${Fe(e)}.`,{nodes:r})}const a7=function(t,e,r,n){if(nn(t)&&typeof t.__typename=="string")return t.__typename;const u=r.schema.getPossibleTypes(n),s=[];for(let i=0;i<u.length;i++){const o=u[i];if(o.isTypeOf){const a=o.isTypeOf(t,e,r);if(rn(a))s[i]=a;else if(a)return o.name}}if(s.length)return Promise.all(s).then(i=>{for(let o=0;o<i.length;o++)if(i[o])return u[o].name})},G2=function(t,e,r,n){if(nn(t)||typeof t=="function"){const u=t[n.fieldName];return typeof u=="function"?t[n.fieldName](e,r,n):u}};function c7(t,e,r){const n=r.name.value;return n===ac.name&&t.getQueryType()===e?ac:n===cc.name&&t.getQueryType()===e?cc:n===lc.name?lc:e.getFields()[n]}function aM(t){return new Promise(e=>e(l7(t)))}function cM(t){const e=l7(t);if(rn(e))throw new Error("GraphQL execution failed to complete synchronously.");return e}function l7(t){arguments.length<2||it(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:e,source:r,rootValue:n,contextValue:u,variableValues:s,operationName:i,fieldResolver:o,typeResolver:a}=t,c=lD(e);if(c.length>0)return{errors:c};let l;try{l=Vf(r)}catch(d){return{errors:[d]}}const f=t7(e,l);return f.length>0?{errors:f}:Zf({schema:e,document:l,rootValue:n,contextValue:u,variableValues:s,operationName:i,fieldResolver:o,typeResolver:a})}function f7(t){return typeof(t==null?void 0:t[Symbol.asyncIterator])=="function"}function lM(t,e){const r=t[Symbol.asyncIterator]();async function n(u){if(u.done)return u;try{return{value:await e(u.value),done:!1}}catch(s){if(typeof r.return=="function")try{await r.return()}catch{}throw s}}return{async next(){return n(await r.next())},async return(){return typeof r.return=="function"?n(await r.return()):{value:void 0,done:!0}},async throw(u){if(typeof r.throw=="function")return n(await r.throw(u));throw u},[Symbol.asyncIterator](){return this}}}async function fM(t){arguments.length<2||it(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const e=await d7(t);return f7(e)?lM(e,n=>Zf({...t,rootValue:n})):e}function dM(t){const e=t[0];return e&&"document"in e?e:{schema:e,document:t[1],rootValue:t[2],contextValue:t[3],variableValues:t[4],operationName:t[5],subscribeFieldResolver:t[6]}}async function d7(...t){const e=dM(t),{schema:r,document:n,variableValues:u}=e;u7(r,n,u);const s=s7(e);if(!("schema"in s))return{errors:s};try{const i=await pM(s);if(!f7(i))throw new Error(`Subscription field must return Async Iterable. Received: ${Fe(i)}.`);return i}catch(i){if(i instanceof Ae)return{errors:[i]};throw i}}async function pM(t){const{schema:e,fragments:r,operation:n,variableValues:u,rootValue:s}=t,i=e.getSubscriptionType();if(i==null)throw new Ae("Schema is not configured to execute subscription operation.",{nodes:n});const o=AD(e,r,u,i,n.selectionSet),[a,c]=[...o.entries()][0],l=c7(e,i,c[0]);if(!l){const h=c[0].name.value;throw new Ae(`The subscription field "${h}" is not defined.`,{nodes:c})}const f=no(void 0,a,i.name),d=o7(t,l,c,i,f);try{var p;const h=Xf(l,c[0],u),v=t.contextValue,D=await((p=l.subscribe)!==null&&p!==void 0?p:t.subscribeFieldResolver)(s,h,v,d);if(D instanceof Error)throw D;return D}catch(h){throw uo(h,c,Zr(f))}}function hM(t){return{Field(e){const r=t.getFieldDef(),n=r==null?void 0:r.deprecationReason;if(r&&n!=null){const u=t.getParentType();u!=null||ur(!1),t.reportError(new Ae(`The field ${u.name}.${r.name} is deprecated. ${n}`,{nodes:e}))}},Argument(e){const r=t.getArgument(),n=r==null?void 0:r.deprecationReason;if(r&&n!=null){const u=t.getDirective();if(u!=null)t.reportError(new Ae(`Directive "@${u.name}" argument "${r.name}" is deprecated. ${n}`,{nodes:e}));else{const s=t.getParentType(),i=t.getFieldDef();s!=null&&i!=null||ur(!1),t.reportError(new Ae(`Field "${s.name}.${i.name}" argument "${r.name}" is deprecated. ${n}`,{nodes:e}))}}},ObjectField(e){const r=Mr(t.getParentInputType());if(Mt(r)){const n=r.getFields()[e.name.value],u=n==null?void 0:n.deprecationReason;u!=null&&t.reportError(new Ae(`The input field ${r.name}.${n.name} is deprecated. ${u}`,{nodes:e}))}},EnumValue(e){const r=t.getEnumValue(),n=r==null?void 0:r.deprecationReason;if(r&&n!=null){const u=Mr(t.getInputType());u!=null||ur(!1),t.reportError(new Ae(`The enum value "${u.name}.${r.name}" is deprecated. ${n}`,{nodes:e}))}}}}function mM(t){return{Field(e){const r=Mr(t.getType());r&&di(r)&&t.reportError(new Ae(`GraphQL introspection has been disabled, but the requested query contained the field "${e.name.value}".`,{nodes:e}))}}}function p7(t){const e={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...t},r=e.descriptions?"description":"",n=e.specifiedByUrl?"specifiedByURL":"",u=e.directiveIsRepeatable?"isRepeatable":"",s=e.schemaDescription?r:"";function i(o){return e.inputValueDeprecation?o:""}return`
    query IntrospectionQuery {
      __schema {
        ${s}
        queryType { name }
        mutationType { name }
        subscriptionType { name }
        types {
          ...FullType
        }
        directives {
          name
          ${r}
          ${u}
          locations
          args${i("(includeDeprecated: true)")} {
            ...InputValue
          }
        }
      }
    }

    fragment FullType on __Type {
      kind
      name
      ${r}
      ${n}
      fields(includeDeprecated: true) {
        name
        ${r}
        args${i("(includeDeprecated: true)")} {
          ...InputValue
        }
        type {
          ...TypeRef
        }
        isDeprecated
        deprecationReason
      }
      inputFields${i("(includeDeprecated: true)")} {
        ...InputValue
      }
      interfaces {
        ...TypeRef
      }
      enumValues(includeDeprecated: true) {
        name
        ${r}
        isDeprecated
        deprecationReason
      }
      possibleTypes {
        ...TypeRef
      }
    }

    fragment InputValue on __InputValue {
      name
      ${r}
      type { ...TypeRef }
      defaultValue
      ${i("isDeprecated")}
      ${i("deprecationReason")}
    }

    fragment TypeRef on __Type {
      kind
      name
      ofType {
        kind
        name
        ofType {
          kind
          name
          ofType {
            kind
            name
            ofType {
              kind
              name
              ofType {
                kind
                name
                ofType {
                  kind
                  name
                  ofType {
                    kind
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  `}function DM(t,e){let r=null;for(const u of t.definitions)if(u.kind===ee.OPERATION_DEFINITION){var n;if(e==null){if(r)return null;r=u}else if(((n=u.name)===null||n===void 0?void 0:n.value)===e)return u}return r}function EM(t,e){if(e.operation==="query"){const r=t.getQueryType();if(!r)throw new Ae("Schema does not define the required query root type.",{nodes:e});return r}if(e.operation==="mutation"){const r=t.getMutationType();if(!r)throw new Ae("Schema is not configured for mutations.",{nodes:e});return r}if(e.operation==="subscription"){const r=t.getSubscriptionType();if(!r)throw new Ae("Schema is not configured for subscriptions.",{nodes:e});return r}throw new Ae("Can only have query, mutation and subscription operations.",{nodes:e})}function yM(t,e){const r={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,...e},n=Vf(p7(r)),u=n7({schema:t,document:n});return!u.errors&&u.data||ur(!1),u.data}function vM(t,e){nn(t)&&nn(t.__schema)||it(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${Fe(t)}.`);const r=t.__schema,n=rs(r.types,y=>y.name,y=>d(y));for(const y of[...Pc,...Nc])n[y.name]&&(n[y.name]=y);const u=r.queryType?l(r.queryType):null,s=r.mutationType?l(r.mutationType):null,i=r.subscriptionType?l(r.subscriptionType):null,o=r.directives?r.directives.map(M):[];return new go({description:r.description,query:u,mutation:s,subscription:i,types:Object.values(n),directives:o,assumeValid:e==null?void 0:e.assumeValid});function a(y){if(y.kind===$t.LIST){const P=y.ofType;if(!P)throw new Error("Decorated type deeper than introspection query.");return new wr(a(P))}if(y.kind===$t.NON_NULL){const P=y.ofType;if(!P)throw new Error("Decorated type deeper than introspection query.");const L=a(P);return new st(u6(L))}return c(y)}function c(y){const P=y.name;if(!P)throw new Error(`Unknown type reference: ${Fe(y)}.`);const L=n[P];if(!L)throw new Error(`Invalid or incomplete schema, unknown type: ${P}. Ensure that a full introspection query is used in order to build a client schema.`);return L}function l(y){return r6(c(y))}function f(y){return n6(c(y))}function d(y){if(y!=null&&y.name!=null&&y.kind!=null)switch(y.kind){case $t.SCALAR:return p(y);case $t.OBJECT:return v(y);case $t.INTERFACE:return S(y);case $t.UNION:return D(y);case $t.ENUM:return g(y);case $t.INPUT_OBJECT:return F(y)}const P=Fe(y);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${P}.`)}function p(y){return new vu({name:y.name,description:y.description,specifiedByURL:y.specifiedByURL})}function h(y){if(y.interfaces===null&&y.kind===$t.INTERFACE)return[];if(!y.interfaces){const P=Fe(y);throw new Error(`Introspection result missing interfaces: ${P}.`)}return y.interfaces.map(f)}function v(y){return new En({name:y.name,description:y.description,interfaces:()=>h(y),fields:()=>I(y)})}function S(y){return new eo({name:y.name,description:y.description,interfaces:()=>h(y),fields:()=>I(y)})}function D(y){if(!y.possibleTypes){const P=Fe(y);throw new Error(`Introspection result missing possibleTypes: ${P}.`)}return new to({name:y.name,description:y.description,types:()=>y.possibleTypes.map(l)})}function g(y){if(!y.enumValues){const P=Fe(y);throw new Error(`Introspection result missing enumValues: ${P}.`)}return new ls({name:y.name,description:y.description,values:rs(y.enumValues,P=>P.name,P=>({description:P.description,deprecationReason:P.deprecationReason}))})}function F(y){if(!y.inputFields){const P=Fe(y);throw new Error(`Introspection result missing inputFields: ${P}.`)}return new ro({name:y.name,description:y.description,fields:()=>B(y.inputFields)})}function I(y){if(!y.fields)throw new Error(`Introspection result missing fields: ${Fe(y)}.`);return rs(y.fields,P=>P.name,k)}function k(y){const P=a(y.type);if(!os(P)){const L=Fe(P);throw new Error(`Introspection must provide output type for fields, but received: ${L}.`)}if(!y.args){const L=Fe(y);throw new Error(`Introspection result missing field args: ${L}.`)}return{description:y.description,deprecationReason:y.deprecationReason,type:P,args:B(y.args)}}function B(y){return rs(y,P=>P.name,O)}function O(y){const P=a(y.type);if(!Kr(P)){const U=Fe(P);throw new Error(`Introspection must provide input type for arguments, but received: ${U}.`)}const L=y.defaultValue!=null?su(Z5(y.defaultValue),P):void 0;return{description:y.description,type:P,defaultValue:L,deprecationReason:y.deprecationReason}}function M(y){if(!y.args){const P=Fe(y);throw new Error(`Introspection result missing directive args: ${P}.`)}if(!y.locations){const P=Fe(y);throw new Error(`Introspection result missing directive locations: ${P}.`)}return new gu({name:y.name,description:y.description,isRepeatable:y.isRepeatable,locations:y.locations.slice(),args:B(y.args)})}}function gM(t,e,r){cD(t),e!=null&&e.kind===ee.DOCUMENT||it(!1,"Must provide valid Document AST."),(r==null?void 0:r.assumeValid)!==!0&&(r==null?void 0:r.assumeValidSDL)!==!0&&zx(e,t);const n=t.toConfig(),u=h7(n,e,r);return n===u?t:new go(u)}function h7(t,e,r){var n,u,s,i;const o=[],a=Object.create(null),c=[];let l;const f=[];for(const A of e.definitions)if(A.kind===ee.SCHEMA_DEFINITION)l=A;else if(A.kind===ee.SCHEMA_EXTENSION)f.push(A);else if(Ao(A))o.push(A);else if(Qf(A)){const C=A.name.value,E=a[C];a[C]=E?E.concat([A]):[A]}else A.kind===ee.DIRECTIVE_DEFINITION&&c.push(A);if(Object.keys(a).length===0&&o.length===0&&c.length===0&&f.length===0&&l==null)return t;const d=Object.create(null);for(const A of t.types)d[A.name]=g(A);for(const A of o){var p;const C=A.name.value;d[C]=(p=_4[C])!==null&&p!==void 0?p:N(A)}const h={query:t.query&&S(t.query),mutation:t.mutation&&S(t.mutation),subscription:t.subscription&&S(t.subscription),...l&&L([l]),...L(f)};return{description:(n=l)===null||n===void 0||(u=n.description)===null||u===void 0?void 0:u.value,...h,types:Object.values(d),directives:[...t.directives.map(D),...c.map(H)],extensions:Object.create(null),astNode:(s=l)!==null&&s!==void 0?s:t.astNode,extensionASTNodes:t.extensionASTNodes.concat(f),assumeValid:(i=r==null?void 0:r.assumeValid)!==null&&i!==void 0?i:!1};function v(A){return xt(A)?new wr(v(A.ofType)):et(A)?new st(v(A.ofType)):S(A)}function S(A){return d[A.name]}function D(A){const C=A.toConfig();return new gu({...C,args:Pu(C.args,P)})}function g(A){if(di(A)||Jf(A))return A;if(an(A))return k(A);if(At(A))return B(A);if(_t(A))return O(A);if(Dr(A))return M(A);if(lr(A))return I(A);if(Mt(A))return F(A);ur(!1,"Unexpected type: "+Fe(A))}function F(A){var C;const E=A.toConfig(),_=(C=a[E.name])!==null&&C!==void 0?C:[];return new ro({...E,fields:()=>({...Pu(E.fields,R=>({...R,type:v(R.type)})),...K(_)}),extensionASTNodes:E.extensionASTNodes.concat(_)})}function I(A){var C;const E=A.toConfig(),_=(C=a[A.name])!==null&&C!==void 0?C:[];return new ls({...E,values:{...E.values,...z(_)},extensionASTNodes:E.extensionASTNodes.concat(_)})}function k(A){var C;const E=A.toConfig(),_=(C=a[E.name])!==null&&C!==void 0?C:[];let R=E.specifiedByURL;for(const T of _){var b;R=(b=w4(T))!==null&&b!==void 0?b:R}return new vu({...E,specifiedByURL:R,extensionASTNodes:E.extensionASTNodes.concat(_)})}function B(A){var C;const E=A.toConfig(),_=(C=a[E.name])!==null&&C!==void 0?C:[];return new En({...E,interfaces:()=>[...A.getInterfaces().map(S),...te(_)],fields:()=>({...Pu(E.fields,y),...se(_)}),extensionASTNodes:E.extensionASTNodes.concat(_)})}function O(A){var C;const E=A.toConfig(),_=(C=a[E.name])!==null&&C!==void 0?C:[];return new eo({...E,interfaces:()=>[...A.getInterfaces().map(S),...te(_)],fields:()=>({...Pu(E.fields,y),...se(_)}),extensionASTNodes:E.extensionASTNodes.concat(_)})}function M(A){var C;const E=A.toConfig(),_=(C=a[E.name])!==null&&C!==void 0?C:[];return new to({...E,types:()=>[...A.getTypes().map(S),...V(_)],extensionASTNodes:E.extensionASTNodes.concat(_)})}function y(A){return{...A,type:v(A.type),args:A.args&&Pu(A.args,P)}}function P(A){return{...A,type:v(A.type)}}function L(A){const C={};for(const _ of A){var E;const R=(E=_.operationTypes)!==null&&E!==void 0?E:[];for(const b of R)C[b.operation]=U(b.type)}return C}function U(A){var C;const E=A.name.value,_=(C=_4[E])!==null&&C!==void 0?C:d[E];if(_===void 0)throw new Error(`Unknown type: "${E}".`);return _}function Y(A){return A.kind===ee.LIST_TYPE?new wr(Y(A.type)):A.kind===ee.NON_NULL_TYPE?new st(Y(A.type)):U(A)}function H(A){var C;return new gu({name:A.name.value,description:(C=A.description)===null||C===void 0?void 0:C.value,locations:A.locations.map(({value:E})=>E),isRepeatable:A.repeatable,args:fe(A.arguments),astNode:A})}function se(A){const C=Object.create(null);for(const R of A){var E;const b=(E=R.fields)!==null&&E!==void 0?E:[];for(const T of b){var _;C[T.name.value]={type:Y(T.type),description:(_=T.description)===null||_===void 0?void 0:_.value,args:fe(T.arguments),deprecationReason:_l(T),astNode:T}}}return C}function fe(A){const C=A??[],E=Object.create(null);for(const R of C){var _;const b=Y(R.type);E[R.name.value]={type:b,description:(_=R.description)===null||_===void 0?void 0:_.value,defaultValue:su(R.defaultValue,b),deprecationReason:_l(R),astNode:R}}return E}function K(A){const C=Object.create(null);for(const R of A){var E;const b=(E=R.fields)!==null&&E!==void 0?E:[];for(const T of b){var _;const j=Y(T.type);C[T.name.value]={type:j,description:(_=T.description)===null||_===void 0?void 0:_.value,defaultValue:su(T.defaultValue,j),deprecationReason:_l(T),astNode:T}}}return C}function z(A){const C=Object.create(null);for(const R of A){var E;const b=(E=R.values)!==null&&E!==void 0?E:[];for(const T of b){var _;C[T.name.value]={description:(_=T.description)===null||_===void 0?void 0:_.value,deprecationReason:_l(T),astNode:T}}}return C}function te(A){return A.flatMap(C=>{var E,_;return(E=(_=C.interfaces)===null||_===void 0?void 0:_.map(U))!==null&&E!==void 0?E:[]})}function V(A){return A.flatMap(C=>{var E,_;return(E=(_=C.types)===null||_===void 0?void 0:_.map(U))!==null&&E!==void 0?E:[]})}function N(A){var C;const E=A.name.value,_=(C=a[E])!==null&&C!==void 0?C:[];switch(A.kind){case ee.OBJECT_TYPE_DEFINITION:{var R;const ie=[A,..._];return new En({name:E,description:(R=A.description)===null||R===void 0?void 0:R.value,interfaces:()=>te(ie),fields:()=>se(ie),astNode:A,extensionASTNodes:_})}case ee.INTERFACE_TYPE_DEFINITION:{var b;const ie=[A,..._];return new eo({name:E,description:(b=A.description)===null||b===void 0?void 0:b.value,interfaces:()=>te(ie),fields:()=>se(ie),astNode:A,extensionASTNodes:_})}case ee.ENUM_TYPE_DEFINITION:{var T;const ie=[A,..._];return new ls({name:E,description:(T=A.description)===null||T===void 0?void 0:T.value,values:z(ie),astNode:A,extensionASTNodes:_})}case ee.UNION_TYPE_DEFINITION:{var j;const ie=[A,..._];return new to({name:E,description:(j=A.description)===null||j===void 0?void 0:j.value,types:()=>V(ie),astNode:A,extensionASTNodes:_})}case ee.SCALAR_TYPE_DEFINITION:{var q;return new vu({name:E,description:(q=A.description)===null||q===void 0?void 0:q.value,specifiedByURL:w4(A),astNode:A,extensionASTNodes:_})}case ee.INPUT_OBJECT_TYPE_DEFINITION:{var X;const ie=[A,..._];return new ro({name:E,description:(X=A.description)===null||X===void 0?void 0:X.value,fields:()=>K(ie),astNode:A,extensionASTNodes:_})}}}}const _4=ju([...Pc,...Nc],t=>t.name);function _l(t){const e=fc(Wf,t);return e==null?void 0:e.reason}function w4(t){const e=fc(tD,t);return e==null?void 0:e.url}function m7(t,e){t!=null&&t.kind===ee.DOCUMENT||it(!1,"Must provide valid Document AST."),(e==null?void 0:e.assumeValid)!==!0&&(e==null?void 0:e.assumeValidSDL)!==!0&&Wx(t);const n=h7({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},t,e);if(n.astNode==null)for(const s of n.types)switch(s.name){case"Query":n.query=s;break;case"Mutation":n.mutation=s;break;case"Subscription":n.subscription=s;break}const u=[...n.directives,...ys.filter(s=>n.directives.every(i=>i.name!==s.name))];return new go({...n,directives:u})}function AM(t,e){const r=Vf(t,{noLocation:e==null?void 0:e.noLocation,allowLegacyFragmentVariables:e==null?void 0:e.allowLegacyFragmentVariables});return m7(r,{assumeValidSDL:e==null?void 0:e.assumeValidSDL,assumeValid:e==null?void 0:e.assumeValid})}function SM(t){const e=t.toConfig(),r=rs(Fh(e.types),d=>d.name,f);return new go({...e,types:Object.values(r),directives:Fh(e.directives).map(i),query:s(e.query),mutation:s(e.mutation),subscription:s(e.subscription)});function n(d){return xt(d)?new wr(n(d.ofType)):et(d)?new st(n(d.ofType)):u(d)}function u(d){return r[d.name]}function s(d){return d&&u(d)}function i(d){const p=d.toConfig();return new gu({...p,locations:D7(p.locations,h=>h),args:o(p.args)})}function o(d){return wl(d,p=>({...p,type:n(p.type)}))}function a(d){return wl(d,p=>({...p,type:n(p.type),args:p.args&&o(p.args)}))}function c(d){return wl(d,p=>({...p,type:n(p.type)}))}function l(d){return Fh(d).map(u)}function f(d){if(an(d)||di(d))return d;if(At(d)){const p=d.toConfig();return new En({...p,interfaces:()=>l(p.interfaces),fields:()=>a(p.fields)})}if(_t(d)){const p=d.toConfig();return new eo({...p,interfaces:()=>l(p.interfaces),fields:()=>a(p.fields)})}if(Dr(d)){const p=d.toConfig();return new to({...p,types:()=>l(p.types)})}if(lr(d)){const p=d.toConfig();return new ls({...p,values:wl(p.values,h=>h)})}if(Mt(d)){const p=d.toConfig();return new ro({...p,fields:()=>c(p.fields)})}ur(!1,"Unexpected type: "+Fe(d))}}function wl(t,e){const r=Object.create(null);for(const n of Object.keys(t).sort(Tc))r[n]=e(t[n]);return r}function Fh(t){return D7(t,e=>e.name)}function D7(t,e){return t.slice().sort((r,n)=>{const u=e(r),s=e(n);return Tc(u,s)})}function FM(t){return E7(t,e=>!rD(e),CM)}function bM(t){return E7(t,rD,di)}function CM(t){return!Jf(t)&&!di(t)}function E7(t,e,r){const n=t.getDirectives().filter(e),u=Object.values(t.getTypeMap()).filter(r);return[_M(t),...n.map(s=>OM(s)),...u.map(s=>y7(s))].filter(Boolean).join(`

`)}function _M(t){if(t.description==null&&wM(t))return;const e=[],r=t.getQueryType();r&&e.push(`  query: ${r.name}`);const n=t.getMutationType();n&&e.push(`  mutation: ${n.name}`);const u=t.getSubscriptionType();return u&&e.push(`  subscription: ${u.name}`),yn(t)+`schema {
${e.join(`
`)}
}`}function wM(t){const e=t.getQueryType();if(e&&e.name!=="Query")return!1;const r=t.getMutationType();if(r&&r.name!=="Mutation")return!1;const n=t.getSubscriptionType();return!(n&&n.name!=="Subscription")}function y7(t){if(an(t))return TM(t);if(At(t))return $M(t);if(_t(t))return BM(t);if(Dr(t))return IM(t);if(lr(t))return PM(t);if(Mt(t))return kM(t);ur(!1,"Unexpected type: "+Fe(t))}function TM(t){return yn(t)+`scalar ${t.name}`+NM(t)}function v7(t){const e=t.getInterfaces();return e.length?" implements "+e.map(r=>r.name).join(" & "):""}function $M(t){return yn(t)+`type ${t.name}`+v7(t)+g7(t)}function BM(t){return yn(t)+`interface ${t.name}`+v7(t)+g7(t)}function IM(t){const e=t.getTypes(),r=e.length?" = "+e.join(" | "):"";return yn(t)+"union "+t.name+r}function PM(t){const e=t.getValues().map((r,n)=>yn(r,"  ",!n)+"  "+r.name+wD(r.deprecationReason));return yn(t)+`enum ${t.name}`+_D(e)}function kM(t){const e=Object.values(t.getFields()).map((r,n)=>yn(r,"  ",!n)+"  "+V2(r));return yn(t)+`input ${t.name}`+_D(e)}function g7(t){const e=Object.values(t.getFields()).map((r,n)=>yn(r,"  ",!n)+"  "+r.name+A7(r.args,"  ")+": "+String(r.type)+wD(r.deprecationReason));return _D(e)}function _D(t){return t.length!==0?` {
`+t.join(`
`)+`
}`:""}function A7(t,e=""){return t.length===0?"":t.every(r=>!r.description)?"("+t.map(V2).join(", ")+")":`(
`+t.map((r,n)=>yn(r,"  "+e,!n)+"  "+e+V2(r)).join(`
`)+`
`+e+")"}function V2(t){const e=ns(t.defaultValue,t.type);let r=t.name+": "+String(t.type);return e&&(r+=` = ${qt(e)}`),r+wD(t.deprecationReason)}function OM(t){return yn(t)+"directive @"+t.name+A7(t.args)+(t.isRepeatable?" repeatable":"")+" on "+t.locations.join(" | ")}function wD(t){return t==null?"":t!==eD?` @deprecated(reason: ${qt({kind:ee.STRING,value:t})})`:" @deprecated"}function NM(t){return t.specifiedByURL==null?"":` @specifiedBy(url: ${qt({kind:ee.STRING,value:t.specifiedByURL})})`}function yn(t,e="",r=!0){const{description:n}=t;if(n==null)return"";const u=qt({kind:ee.STRING,value:n,block:yq(n)});return(e&&!r?`
`+e:e)+u.replace(/\n/g,`
`+e)+`
`}function RM(t){const e=[];for(const r of t)e.push(...r.definitions);return{kind:ee.DOCUMENT,definitions:e}}function qM(t){const e=[],r=Object.create(null);for(const u of t.definitions)switch(u.kind){case ee.OPERATION_DEFINITION:e.push(u);break;case ee.FRAGMENT_DEFINITION:r[u.name.value]=T4(u.selectionSet);break}const n=Object.create(null);for(const u of e){const s=new Set;for(const o of T4(u.selectionSet))S7(s,r,o);const i=u.name?u.name.value:"";n[i]={kind:ee.DOCUMENT,definitions:t.definitions.filter(o=>o===u||o.kind===ee.FRAGMENT_DEFINITION&&s.has(o.name.value))}}return n}function S7(t,e,r){if(!t.has(r)){t.add(r);const n=e[r];if(n!==void 0)for(const u of n)S7(t,e,u)}}function T4(t){const e=[];return vo(t,{FragmentSpread(r){e.push(r.name.value)}}),e}function xM(t){const e=X5(t)?t:new Gf(t),r=e.body,n=new Km(e);let u="",s=!1;for(;n.advance().kind!==Se.EOF;){const i=n.token,o=i.kind,a=!W5(i.kind);s&&(a||i.kind===Se.SPREAD)&&(u+=" ");const c=r.slice(i.start,i.end);o===Se.BLOCK_STRING?u+=H5(i.value,{minimize:!0}):u+=c,s=a}return u}function MM(t){const e=F7(t);if(e)throw e;return t}function F7(t){if(typeof t=="string"||it(!1,"Expected name to be a string."),t.startsWith("__"))return new Ae(`Name "${t}" must not begin with "__", which is reserved by GraphQL introspection.`);try{on(t)}catch(e){return e}}var Jt;(function(t){t.TYPE_REMOVED="TYPE_REMOVED",t.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",t.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",t.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",t.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",t.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",t.FIELD_REMOVED="FIELD_REMOVED",t.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",t.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",t.ARG_REMOVED="ARG_REMOVED",t.ARG_CHANGED_KIND="ARG_CHANGED_KIND",t.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",t.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",t.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",t.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",t.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"})(Jt||(Jt={}));var kn;(function(t){t.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",t.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",t.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",t.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",t.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",t.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"})(kn||(kn={}));function jM(t,e){return b7(t,e).filter(r=>r.type in Jt)}function LM(t,e){return b7(t,e).filter(r=>r.type in kn)}function b7(t,e){return[...VM(t,e),...GM(t,e)]}function GM(t,e){const r=[],n=Lu(t.getDirectives(),e.getDirectives());for(const u of n.removed)r.push({type:Jt.DIRECTIVE_REMOVED,description:`${u.name} was removed.`});for(const[u,s]of n.persisted){const i=Lu(u.args,s.args);for(const o of i.added)Es(o)&&r.push({type:Jt.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${o.name} on directive ${u.name} was added.`});for(const o of i.removed)r.push({type:Jt.DIRECTIVE_ARG_REMOVED,description:`${o.name} was removed from ${u.name}.`});u.isRepeatable&&!s.isRepeatable&&r.push({type:Jt.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${u.name}.`});for(const o of u.locations)s.locations.includes(o)||r.push({type:Jt.DIRECTIVE_LOCATION_REMOVED,description:`${o} was removed from ${u.name}.`})}return r}function VM(t,e){const r=[],n=Lu(Object.values(t.getTypeMap()),Object.values(e.getTypeMap()));for(const u of n.removed)r.push({type:Jt.TYPE_REMOVED,description:Jf(u)?`Standard scalar ${u.name} was removed because it is not referenced anymore.`:`${u.name} was removed.`});for(const[u,s]of n.persisted)lr(u)&&lr(s)?r.push(...JM(u,s)):Dr(u)&&Dr(s)?r.push(...KM(u,s)):Mt(u)&&Mt(s)?r.push(...UM(u,s)):At(u)&&At(s)?r.push(...B4(u,s),...$4(u,s)):_t(u)&&_t(s)?r.push(...B4(u,s),...$4(u,s)):u.constructor!==s.constructor&&r.push({type:Jt.TYPE_CHANGED_KIND,description:`${u.name} changed from ${I4(u)} to ${I4(s)}.`});return r}function UM(t,e){const r=[],n=Lu(Object.values(t.getFields()),Object.values(e.getFields()));for(const u of n.added)Kf(u)?r.push({type:Jt.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${u.name} on input type ${t.name} was added.`}):r.push({type:kn.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${u.name} on input type ${t.name} was added.`});for(const u of n.removed)r.push({type:Jt.FIELD_REMOVED,description:`${t.name}.${u.name} was removed.`});for(const[u,s]of n.persisted)Ha(u.type,s.type)||r.push({type:Jt.FIELD_CHANGED_KIND,description:`${t.name}.${u.name} changed type from ${String(u.type)} to ${String(s.type)}.`});return r}function KM(t,e){const r=[],n=Lu(t.getTypes(),e.getTypes());for(const u of n.added)r.push({type:kn.TYPE_ADDED_TO_UNION,description:`${u.name} was added to union type ${t.name}.`});for(const u of n.removed)r.push({type:Jt.TYPE_REMOVED_FROM_UNION,description:`${u.name} was removed from union type ${t.name}.`});return r}function JM(t,e){const r=[],n=Lu(t.getValues(),e.getValues());for(const u of n.added)r.push({type:kn.VALUE_ADDED_TO_ENUM,description:`${u.name} was added to enum type ${t.name}.`});for(const u of n.removed)r.push({type:Jt.VALUE_REMOVED_FROM_ENUM,description:`${u.name} was removed from enum type ${t.name}.`});return r}function $4(t,e){const r=[],n=Lu(t.getInterfaces(),e.getInterfaces());for(const u of n.added)r.push({type:kn.IMPLEMENTED_INTERFACE_ADDED,description:`${u.name} added to interfaces implemented by ${t.name}.`});for(const u of n.removed)r.push({type:Jt.IMPLEMENTED_INTERFACE_REMOVED,description:`${t.name} no longer implements interface ${u.name}.`});return r}function B4(t,e){const r=[],n=Lu(Object.values(t.getFields()),Object.values(e.getFields()));for(const u of n.removed)r.push({type:Jt.FIELD_REMOVED,description:`${t.name}.${u.name} was removed.`});for(const[u,s]of n.persisted)r.push(...HM(t,u,s)),Ba(u.type,s.type)||r.push({type:Jt.FIELD_CHANGED_KIND,description:`${t.name}.${u.name} changed type from ${String(u.type)} to ${String(s.type)}.`});return r}function HM(t,e,r){const n=[],u=Lu(e.args,r.args);for(const s of u.removed)n.push({type:Jt.ARG_REMOVED,description:`${t.name}.${e.name} arg ${s.name} was removed.`});for(const[s,i]of u.persisted)if(!Ha(s.type,i.type))n.push({type:Jt.ARG_CHANGED_KIND,description:`${t.name}.${e.name} arg ${s.name} has changed type from ${String(s.type)} to ${String(i.type)}.`});else if(s.defaultValue!==void 0)if(i.defaultValue===void 0)n.push({type:kn.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${s.name} defaultValue was removed.`});else{const a=P4(s.defaultValue,s.type),c=P4(i.defaultValue,i.type);a!==c&&n.push({type:kn.ARG_DEFAULT_VALUE_CHANGE,description:`${t.name}.${e.name} arg ${s.name} has changed defaultValue from ${a} to ${c}.`})}for(const s of u.added)Es(s)?n.push({type:Jt.REQUIRED_ARG_ADDED,description:`A required arg ${s.name} on ${t.name}.${e.name} was added.`}):n.push({type:kn.OPTIONAL_ARG_ADDED,description:`An optional arg ${s.name} on ${t.name}.${e.name} was added.`});return n}function Ba(t,e){return xt(t)?xt(e)&&Ba(t.ofType,e.ofType)||et(e)&&Ba(t,e.ofType):et(t)?et(e)&&Ba(t.ofType,e.ofType):Ic(e)&&t.name===e.name||et(e)&&Ba(t,e.ofType)}function Ha(t,e){return xt(t)?xt(e)&&Ha(t.ofType,e.ofType):et(t)?et(e)&&Ha(t.ofType,e.ofType)||!et(e)&&Ha(t.ofType,e):Ic(e)&&t.name===e.name}function I4(t){if(an(t))return"a Scalar type";if(At(t))return"an Object type";if(_t(t))return"an Interface type";if(Dr(t))return"a Union type";if(lr(t))return"an Enum type";if(Mt(t))return"an Input type";ur(!1,"Unexpected type: "+Fe(t))}function P4(t,e){const r=ns(t,e);return r!=null||ur(!1),qt(Yf(r))}function Lu(t,e){const r=[],n=[],u=[],s=ju(t,({name:o})=>o),i=ju(e,({name:o})=>o);for(const o of t){const a=i[o.name];a===void 0?n.push(o):u.push([o,a])}for(const o of e)s[o.name]===void 0&&r.push(o);return{added:r,persisted:u,removed:n}}const WM=Object.freeze(Object.defineProperty({__proto__:null,BREAK:Ui,get BreakingChangeType(){return Jt},DEFAULT_DEPRECATION_REASON:eD,get DangerousChangeType(){return kn},get DirectiveLocation(){return Ge},ExecutableDefinitionsRule:h6,FieldsOnCorrectTypeRule:m6,FragmentsOnCompositeTypesRule:D6,GRAPHQL_MAX_INT:Ql,GRAPHQL_MIN_INT:Yl,GraphQLBoolean:tn,GraphQLDeprecatedDirective:Wf,GraphQLDirective:gu,GraphQLEnumType:ls,GraphQLError:Ae,GraphQLFloat:f6,GraphQLID:Ym,GraphQLIncludeDirective:Xm,GraphQLInputObjectType:ro,GraphQLInt:l6,GraphQLInterfaceType:eo,GraphQLList:wr,GraphQLNonNull:st,GraphQLObjectType:En,GraphQLScalarType:vu,GraphQLSchema:go,GraphQLSkipDirective:Zm,GraphQLSpecifiedByDirective:tD,GraphQLString:Ht,GraphQLUnionType:to,get Kind(){return ee},KnownArgumentNamesRule:E6,KnownDirectivesRule:yD,KnownFragmentNamesRule:v6,KnownTypeNamesRule:vD,Lexer:Km,Location:V5,LoneAnonymousOperationRule:g6,LoneSchemaDefinitionRule:A6,NoDeprecatedCustomRule:hM,NoFragmentCyclesRule:S6,NoSchemaIntrospectionCustomRule:mM,NoUndefinedVariablesRule:F6,NoUnusedFragmentsRule:b6,NoUnusedVariablesRule:C6,get OperationTypeNode(){return mr},OverlappingFieldsCanBeMergedRule:w6,PossibleFragmentSpreadsRule:B6,PossibleTypeExtensionsRule:I6,ProvidedRequiredArgumentsRule:P6,ScalarLeafsRule:O6,SchemaMetaFieldDef:ac,SingleFieldSubscriptionsRule:M6,Source:Gf,Token:Vm,get TokenKind(){return Se},TypeInfo:pD,get TypeKind(){return $t},TypeMetaFieldDef:cc,TypeNameMetaFieldDef:lc,UniqueArgumentDefinitionNamesRule:j6,UniqueArgumentNamesRule:FD,UniqueDirectiveNamesRule:L6,UniqueDirectivesPerLocationRule:bD,UniqueEnumValueNamesRule:G6,UniqueFieldDefinitionNamesRule:V6,UniqueFragmentNamesRule:U6,UniqueInputFieldNamesRule:CD,UniqueOperationNamesRule:K6,UniqueOperationTypesRule:J6,UniqueTypeNamesRule:H6,UniqueVariableNamesRule:W6,ValidationContext:e7,ValuesOfCorrectTypeRule:z6,VariablesAreInputTypesRule:Q6,VariablesInAllowedPositionRule:Y6,__Directive:uD,__DirectiveLocation:sD,__EnumValue:oD,__Field:iD,__InputValue:Oc,__Schema:zf,__Type:Dn,__TypeKind:aD,assertAbstractType:nx,assertCompositeType:rx,assertDirective:cx,assertEnumType:zq,assertEnumValueName:t6,assertInputObjectType:Qq,assertInputType:Zq,assertInterfaceType:n6,assertLeafType:tx,assertListType:Yq,assertName:on,assertNamedType:sx,assertNonNullType:Xq,assertNullableType:u6,assertObjectType:r6,assertOutputType:ex,assertScalarType:Hq,assertSchema:cD,assertType:Jq,assertUnionType:Wq,assertValidName:MM,assertValidSchema:fD,assertWrappingType:ux,astFromValue:ns,buildASTSchema:m7,buildClientSchema:vM,buildSchema:AM,coerceInputValue:R6,concatAST:RM,createSourceEventStream:d7,defaultFieldResolver:G2,defaultTypeResolver:a7,doTypesOverlap:q2,execute:Zf,executeSync:n7,extendSchema:gM,findBreakingChanges:jM,findDangerousChanges:LM,formatError:hq,getArgumentValues:Xf,getDirectiveValues:fc,getEnterLeaveForKind:Zi,getIntrospectionQuery:p7,getLocation:Y1,getNamedType:Mr,getNullableType:Wm,getOperationAST:DM,getOperationRootType:EM,getVariableValues:q6,getVisitFn:Vq,graphql:aM,graphqlSync:cM,introspectionFromSchema:yM,introspectionTypes:Nc,isAbstractType:fu,isCompositeType:yu,isConstValueNode:x2,isDefinitionNode:Ax,isDirective:Hf,isEnumType:lr,isEqualType:Z1,isExecutableDefinitionNode:mD,isInputObjectType:Mt,isInputType:Kr,isInterfaceType:_t,isIntrospectionType:di,isLeafType:Eu,isListType:xt,isNamedType:Ic,isNonNullType:et,isNullableType:Hm,isObjectType:At,isOutputType:os,isRequiredArgument:Es,isRequiredInputField:Kf,isScalarType:an,isSchema:d6,isSelectionNode:Sx,isSpecifiedDirective:rD,isSpecifiedScalarType:Jf,isType:$c,isTypeDefinitionNode:Ao,isTypeExtensionNode:Qf,isTypeNode:Fx,isTypeSubTypeOf:Zs,isTypeSystemDefinitionNode:DD,isTypeSystemExtensionNode:ED,isUnionType:Dr,isValidNameError:F7,isValueNode:p6,isWrappingType:Bc,lexicographicSortSchema:SM,locatedError:uo,parse:Vf,parseConstValue:Oq,parseType:Nq,parseValue:Z5,print:qt,printError:pq,printIntrospectionSchema:bM,printLocation:G5,printSchema:FM,printSourceLocation:Gm,printType:y7,resolveObjMapThunk:Qm,resolveReadonlyArrayThunk:zm,responsePathAsArray:Zr,separateOperations:qM,specifiedDirectives:ys,specifiedRules:X6,specifiedScalarTypes:Pc,stripIgnoredCharacters:xM,subscribe:fM,syntaxError:pr,typeFromAST:zr,validate:t7,validateSchema:lD,valueFromAST:su,valueFromASTUntyped:X1,version:cq,versionInfo:lq,visit:vo,visitInParallel:Jm,visitWithTypeInfo:hD},Symbol.toStringTag,{value:"Module"})),Le=Am(WM);var Tr={},bh={},k4;function zM(){return k4||(k4=1,Object.defineProperty(bh,"__esModule",{value:!0})),bh}var fr={},O4;function e0(){if(O4)return fr;O4=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.assertSome=fr.isSome=fr.compareNodes=fr.nodeToString=fr.compareStrings=fr.isValidPath=fr.isDocumentString=fr.asArray=void 0;const t=Le,e=f=>Array.isArray(f)?f:f?[f]:[];fr.asArray=e;const r=/\.[a-z0-9]+$/i;function n(f){if(typeof f!="string"||r.test(f))return!1;try{return(0,t.parse)(f),!0}catch{}return!1}fr.isDocumentString=n;const u=/[!%^<=>`]/;function s(f){return typeof f=="string"&&!u.test(f)}fr.isValidPath=s;function i(f,d){return String(f)<String(d)?-1:String(f)>String(d)?1:0}fr.compareStrings=i;function o(f){var d,p;let h;return"alias"in f&&(h=(d=f.alias)===null||d===void 0?void 0:d.value),h==null&&"name"in f&&(h=(p=f.name)===null||p===void 0?void 0:p.value),h==null&&(h=f.kind),h}fr.nodeToString=o;function a(f,d,p){const h=o(f),v=o(d);return typeof p=="function"?p(h,v):i(h,v)}fr.compareNodes=a;function c(f){return f!=null}fr.isSome=c;function l(f,d="Value should be something"){if(f==null)throw new Error(d)}return fr.assertSome=l,fr}var An={},Bo={},Yr={},N4;function C7(){if(N4)return Yr;N4=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.hasOwnProperty=Yr.promiseReduce=Yr.isPromise=Yr.isObjectLike=Yr.isIterableObject=void 0;function t(s){return s!=null&&typeof s=="object"&&Symbol.iterator in s}Yr.isIterableObject=t;function e(s){return typeof s=="object"&&s!==null}Yr.isObjectLike=e;function r(s){return e(s)&&typeof s.then=="function"}Yr.isPromise=r;function n(s,i,o){let a=o;for(const c of s)a=r(a)?a.then(l=>i(l,c)):i(a,c);return a}Yr.promiseReduce=n;function u(s,i){return Object.prototype.hasOwnProperty.call(s,i)}return Yr.hasOwnProperty=u,Yr}var Cs={},R4;function TD(){if(R4)return Cs;R4=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.relocatedError=Cs.createGraphQLError=void 0;const t=Le;function e(n,u){return t.versionInfo.major>=17?new t.GraphQLError(n,u):new t.GraphQLError(n,u==null?void 0:u.nodes,u==null?void 0:u.source,u==null?void 0:u.positions,u==null?void 0:u.path,u==null?void 0:u.originalError,u==null?void 0:u.extensions)}Cs.createGraphQLError=e;function r(n,u){return e(n.message,{nodes:n.nodes,source:n.source,positions:n.positions,path:u??n.path,originalError:n,extensions:n.extensions})}return Cs.relocatedError=r,Cs}var Io={},_u={},q4;function _7(){if(q4)return _u;q4=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.isAggregateError=_u.AggregateError=void 0;let t;if(_u.AggregateError=t,typeof AggregateError>"u"){class r extends Error{constructor(u,s=""){super(s),this.errors=u,this.name="AggregateError",Error.captureStackTrace(this,r)}}_u.AggregateError=t=function(n,u){return new r(n,u)}}else _u.AggregateError=t=AggregateError;function e(r){return"errors"in r&&Array.isArray(r.errors)}return _u.isAggregateError=e,_u}var x4;function $D(){if(x4)return Io;x4=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.inspect=void 0;const t=Le,e=_7(),r=3;function n(f){return u(f,[])}Io.inspect=n;function u(f,d){switch(typeof f){case"string":return JSON.stringify(f);case"function":return f.name?`[function ${f.name}]`:"[function]";case"object":return i(f,d);default:return String(f)}}function s(f){return f instanceof t.GraphQLError?f.toString():`${f.name}: ${f.message};
 ${f.stack}`}function i(f,d){if(f===null)return"null";if(f instanceof Error)return(0,e.isAggregateError)(f)?s(f)+`
`+c(f.errors,d):s(f);if(d.includes(f))return"[Circular]";const p=[...d,f];if(o(f)){const h=f.toJSON();if(h!==f)return typeof h=="string"?h:u(h,p)}else if(Array.isArray(f))return c(f,p);return a(f,p)}function o(f){return typeof f.toJSON=="function"}function a(f,d){const p=Object.entries(f);return p.length===0?"{}":d.length>r?"["+l(f)+"]":"{ "+p.map(([v,S])=>v+": "+u(S,d)).join(", ")+" }"}function c(f,d){if(f.length===0)return"[]";if(d.length>r)return"[Array]";const p=f.length,h=[];for(let v=0;v<p;++v)h.push(u(f[v],d));return"["+h.join(", ")+"]"}function l(f){const d=Object.prototype.toString.call(f).replace(/^\[object /,"").replace(/]$/,"");if(d==="Object"&&typeof f.constructor=="function"){const p=f.constructor.name;if(typeof p=="string"&&p!=="")return p}return d}return Io}var M4;function w7(){if(M4)return Bo;M4=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.getArgumentValues=void 0;const t=C7(),e=Le,r=TD(),n=$D();function u(s,i,o={}){var a;const c={},f=((a=i.arguments)!==null&&a!==void 0?a:[]).reduce((d,p)=>({...d,[p.name.value]:p}),{});for(const{name:d,type:p,defaultValue:h}of s.args){const v=f[d];if(!v){if(h!==void 0)c[d]=h;else if((0,e.isNonNullType)(p))throw(0,r.createGraphQLError)(`Argument "${d}" of required type "${(0,n.inspect)(p)}" was not provided.`,{nodes:[i]});continue}const S=v.value;let D=S.kind===e.Kind.NULL;if(S.kind===e.Kind.VARIABLE){const F=S.name.value;if(o==null||!(0,t.hasOwnProperty)(o,F)){if(h!==void 0)c[d]=h;else if((0,e.isNonNullType)(p))throw(0,r.createGraphQLError)(`Argument "${d}" of required type "${(0,n.inspect)(p)}" was provided the variable "$${F}" which was not provided a runtime value.`,{nodes:[S]});continue}D=o[F]==null}if(D&&(0,e.isNonNullType)(p))throw(0,r.createGraphQLError)(`Argument "${d}" of non-null type "${(0,n.inspect)(p)}" must not be null.`,{nodes:[S]});const g=(0,e.valueFromAST)(S,p,o);if(g===void 0)throw(0,r.createGraphQLError)(`Argument "${d}" has invalid value ${(0,e.print)(S)}.`,{nodes:[S]});c[d]=g}return c}return Bo.getArgumentValues=u,Bo}var j4;function T7(){if(j4)return An;j4=1,Object.defineProperty(An,"__esModule",{value:!0}),An.getDirective=An.getDirectives=An.getDirectiveInExtensions=An.getDirectivesInExtensions=void 0;const t=w7();function e(i,o=["directives"]){return o.reduce((a,c)=>a==null?a:a[c],i==null?void 0:i.extensions)}An.getDirectivesInExtensions=e;function r(i,o){const a=i.filter(c=>c.name===o);if(a.length)return a.map(c=>{var l;return(l=c.args)!==null&&l!==void 0?l:{}})}function n(i,o,a=["directives"]){const c=a.reduce((f,d)=>f==null?f:f[d],i==null?void 0:i.extensions);if(c===void 0)return;if(Array.isArray(c))return r(c,o);const l=[];for(const[f,d]of Object.entries(c))if(Array.isArray(d))for(const p of d)l.push({name:f,args:p});else l.push({name:f,args:d});return r(l,o)}An.getDirectiveInExtensions=n;function u(i,o,a=["directives"]){const c=e(o,a);if(c!=null&&c.length>0)return c;const f=(i&&i.getDirectives?i.getDirectives():[]).reduce((h,v)=>(h[v.name]=v,h),{});let d=[];o.astNode&&d.push(o.astNode),"extensionASTNodes"in o&&o.extensionASTNodes&&(d=[...d,...o.extensionASTNodes]);const p=[];for(const h of d)if(h.directives)for(const v of h.directives){const S=f[v.name.value];S&&p.push({name:v.name.value,args:(0,t.getArgumentValues)(S,v)})}return p}An.getDirectives=u;function s(i,o,a,c=["directives"]){const l=n(o,a,c);if(l!=null)return l;const f=i&&i.getDirective?i.getDirective(a):void 0;if(f==null)return;let d=[];o.astNode&&d.push(o.astNode),"extensionASTNodes"in o&&o.extensionASTNodes&&(d=[...d,...o.extensionASTNodes]);const p=[];for(const h of d)if(h.directives)for(const v of h.directives)v.name.value===a&&p.push((0,t.getArgumentValues)(f,v));if(p.length)return p}return An.getDirective=s,An}var Po={},L4;function G4(){if(L4)return Po;L4=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.getFieldsWithDirectives=void 0;const t=Le;function e(r,n={}){const u={};let s=["ObjectTypeDefinition","ObjectTypeExtension"];n.includeInputTypes&&(s=[...s,"InputObjectTypeDefinition","InputObjectTypeExtension"]);const i=r.definitions.filter(o=>s.includes(o.kind));for(const o of i){const a=o.name.value;if(o.fields!=null){for(const c of o.fields)if(c.directives&&c.directives.length>0){const l=c.name.value,f=`${a}.${l}`,d=c.directives.map(p=>({name:p.name.value,args:(p.arguments||[]).reduce((h,v)=>({...h,[v.name.value]:(0,t.valueFromASTUntyped)(v.value)}),{})}));u[f]=d}}}return u}return Po.getFieldsWithDirectives=e,Po}var ko={},V4;function QM(){if(V4)return ko;V4=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.getArgumentsWithDirectives=void 0;const t=Le;function e(n){return n.kind===t.Kind.OBJECT_TYPE_DEFINITION||n.kind===t.Kind.OBJECT_TYPE_EXTENSION}function r(n){var u;const s={},i=n.definitions.filter(e);for(const o of i)if(o.fields!=null)for(const a of o.fields){const c=(u=a.arguments)===null||u===void 0?void 0:u.filter(f=>{var d;return(d=f.directives)===null||d===void 0?void 0:d.length});if(!(c!=null&&c.length))continue;const l=s[`${o.name.value}.${a.name.value}`]={};for(const f of c){const d=f.directives.map(p=>({name:p.name.value,args:(p.arguments||[]).reduce((h,v)=>({...h,[v.name.value]:(0,t.valueFromASTUntyped)(v.value)}),{})}));l[f.name.value]=d}}return s}return ko.getArgumentsWithDirectives=r,ko}var Oo={},U4;function $7(){if(U4)return Oo;U4=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.getImplementingTypes=void 0;const t=Le;function e(r,n){const u=n.getTypeMap(),s=[];for(const i in u){const o=u[i];(0,t.isObjectType)(o)&&o.getInterfaces().find(c=>c.name===r)&&s.push(o.name)}return s}return Oo.getImplementingTypes=e,Oo}var rt={},No={},K4;function B7(){if(K4)return No;K4=1,Object.defineProperty(No,"__esModule",{value:!0}),No.astFromType=void 0;const t=Le,e=$D();function r(n){if((0,t.isNonNullType)(n)){const u=r(n.ofType);if(u.kind===t.Kind.NON_NULL_TYPE)throw new Error(`Invalid type node ${(0,e.inspect)(n)}. Inner type of non-null type cannot be a non-null type.`);return{kind:t.Kind.NON_NULL_TYPE,type:u}}else if((0,t.isListType)(n))return{kind:t.Kind.LIST_TYPE,type:r(n.ofType)};return{kind:t.Kind.NAMED_TYPE,name:{kind:t.Kind.NAME,value:n.name}}}return No.astFromType=r,No}var Ro={},J4;function I7(){if(J4)return Ro;J4=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.astFromValueUntyped=void 0;const t=Le;function e(n){if(n===null)return{kind:t.Kind.NULL};if(n===void 0)return null;if(Array.isArray(n)){const u=[];for(const s of n){const i=e(s);i!=null&&u.push(i)}return{kind:t.Kind.LIST,values:u}}if(typeof n=="object"){const u=[];for(const s in n){const i=n[s],o=e(i);o&&u.push({kind:t.Kind.OBJECT_FIELD,name:{kind:t.Kind.NAME,value:s},value:o})}return{kind:t.Kind.OBJECT,fields:u}}if(typeof n=="boolean")return{kind:t.Kind.BOOLEAN,value:n};if(typeof n=="number"&&isFinite(n)){const u=String(n);return r.test(u)?{kind:t.Kind.INT,value:u}:{kind:t.Kind.FLOAT,value:u}}if(typeof n=="string")return{kind:t.Kind.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${n}.`)}Ro.astFromValueUntyped=e;const r=/^-?(?:0|[1-9][0-9]*)$/;return Ro}var Ch={},Ar={},H4;function Rc(){if(H4)return Ar;H4=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.memoize2of5=Ar.memoize2of4=Ar.memoize5=Ar.memoize4=Ar.memoize3=Ar.memoize2=Ar.memoize1=void 0;function t(o){const a=new WeakMap;return function(l){const f=a.get(l);if(f===void 0){const d=o(l);return a.set(l,d),d}return f}}Ar.memoize1=t;function e(o){const a=new WeakMap;return function(l,f){let d=a.get(l);if(!d){d=new WeakMap,a.set(l,d);const h=o(l,f);return d.set(f,h),h}const p=d.get(f);if(p===void 0){const h=o(l,f);return d.set(f,h),h}return p}}Ar.memoize2=e;function r(o){const a=new WeakMap;return function(l,f,d){let p=a.get(l);if(!p){p=new WeakMap,a.set(l,p);const S=new WeakMap;p.set(f,S);const D=o(l,f,d);return S.set(d,D),D}let h=p.get(f);if(!h){h=new WeakMap,p.set(f,h);const S=o(l,f,d);return h.set(d,S),S}const v=h.get(d);if(v===void 0){const S=o(l,f,d);return h.set(d,S),S}return v}}Ar.memoize3=r;function n(o){const a=new WeakMap;return function(l,f,d,p){let h=a.get(l);if(!h){h=new WeakMap,a.set(l,h);const g=new WeakMap;h.set(f,g);const F=new WeakMap;g.set(d,F);const I=o(l,f,d,p);return F.set(p,I),I}let v=h.get(f);if(!v){v=new WeakMap,h.set(f,v);const g=new WeakMap;v.set(d,g);const F=o(l,f,d,p);return g.set(p,F),F}const S=v.get(d);if(!S){const g=new WeakMap;v.set(d,g);const F=o(l,f,d,p);return g.set(p,F),F}const D=S.get(p);if(D===void 0){const g=o(l,f,d,p);return S.set(p,g),g}return D}}Ar.memoize4=n;function u(o){const a=new WeakMap;return function(l,f,d,p,h){let v=a.get(l);if(!v){v=new WeakMap,a.set(l,v);const I=new WeakMap;v.set(f,I);const k=new WeakMap;I.set(d,k);const B=new WeakMap;k.set(p,B);const O=o(l,f,d,p,h);return B.set(h,O),O}let S=v.get(f);if(!S){S=new WeakMap,v.set(f,S);const I=new WeakMap;S.set(d,I);const k=new WeakMap;I.set(p,k);const B=o(l,f,d,p,h);return k.set(h,B),B}let D=S.get(d);if(!D){D=new WeakMap,S.set(d,D);const I=new WeakMap;D.set(p,I);const k=o(l,f,d,p,h);return I.set(h,k),k}let g=D.get(p);if(!g){g=new WeakMap,D.set(p,g);const I=o(l,f,d,p,h);return g.set(h,I),I}const F=g.get(h);if(F===void 0){const I=o(l,f,d,p,h);return g.set(h,I),I}return F}}Ar.memoize5=u;function s(o){const a=new WeakMap;return function(l,f,d,p){let h=a.get(l);if(!h){h=new WeakMap,a.set(l,h);const S=o(l,f,d,p);return h.set(f,S),S}const v=h.get(f);if(v===void 0){const S=o(l,f,d,p);return h.set(f,S),S}return v}}Ar.memoize2of4=s;function i(o){const a=new WeakMap;return function(l,f,d,p,h){let v=a.get(l);if(!v){v=new WeakMap,a.set(l,v);const D=o(l,f,d,p,h);return v.set(f,D),D}const S=v.get(f);if(S===void 0){const D=o(l,f,d,p,h);return v.set(f,D),D}return S}}return Ar.memoize2of5=i,Ar}var W4;function t0(){return W4||(W4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRootTypeMap=t.getRootTypes=t.getRootTypeNames=t.getDefinedRootType=void 0;const e=TD(),r=Rc();function n(u,s,i){const a=(0,t.getRootTypeMap)(u).get(s);if(a==null)throw(0,e.createGraphQLError)(`Schema is not configured to execute ${s} operation.`,{nodes:i});return a}t.getDefinedRootType=n,t.getRootTypeNames=(0,r.memoize1)(function(s){const i=(0,t.getRootTypes)(s);return new Set([...i].map(o=>o.name))}),t.getRootTypes=(0,r.memoize1)(function(s){const i=(0,t.getRootTypeMap)(s);return new Set(i.values())}),t.getRootTypeMap=(0,r.memoize1)(function(s){const i=new Map,o=s.getQueryType();o&&i.set("query",o);const a=s.getMutationType();a&&i.set("mutation",a);const c=s.getSubscriptionType();return c&&i.set("subscription",c),i})}(Ch)),Ch}var z4;function P7(){if(z4)return rt;z4=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.makeDirectiveNodes=rt.makeDirectiveNode=rt.makeDeprecatedDirective=rt.astFromEnumValue=rt.astFromInputField=rt.astFromField=rt.astFromScalarType=rt.astFromEnumType=rt.astFromInputObjectType=rt.astFromUnionType=rt.astFromInterfaceType=rt.astFromObjectType=rt.astFromArg=rt.getDeprecatableDirectiveNodes=rt.getDirectiveNodes=rt.astFromDirective=rt.astFromSchema=rt.printSchemaWithDirectives=rt.getDocumentNodeFromSchema=void 0;const t=Le,e=B7(),r=T7(),n=I7(),u=e0(),s=t0();function i(y,P={}){const L=P.pathToDirectivesInExtensions,U=y.getTypeMap(),Y=a(y,L),H=Y!=null?[Y]:[],se=y.getDirectives();for(const fe of se)(0,t.isSpecifiedDirective)(fe)||H.push(c(fe,y,L));for(const fe in U){const K=U[fe],z=(0,t.isSpecifiedScalarType)(K),te=(0,t.isIntrospectionType)(K);if(!(z||te))if((0,t.isObjectType)(K))H.push(p(K,y,L));else if((0,t.isInterfaceType)(K))H.push(h(K,y,L));else if((0,t.isUnionType)(K))H.push(v(K,y,L));else if((0,t.isInputObjectType)(K))H.push(S(K,y,L));else if((0,t.isEnumType)(K))H.push(D(K,y,L));else if((0,t.isScalarType)(K))H.push(g(K,y,L));else throw new Error(`Unknown type ${K}.`)}return{kind:t.Kind.DOCUMENT,definitions:H}}rt.getDocumentNodeFromSchema=i;function o(y,P={}){const L=i(y,P);return(0,t.print)(L)}rt.printSchemaWithDirectives=o;function a(y,P){var L,U;const Y=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),H=[];if(y.astNode!=null&&H.push(y.astNode),y.extensionASTNodes!=null)for(const te of y.extensionASTNodes)H.push(te);for(const te of H)if(te.operationTypes)for(const V of te.operationTypes)Y.set(V.operation,V);const se=(0,s.getRootTypeMap)(y);for(const[te,V]of Y){const N=se.get(te);if(N!=null){const A=(0,e.astFromType)(N);V!=null?V.type=A:Y.set(te,{kind:t.Kind.OPERATION_TYPE_DEFINITION,operation:te,type:A})}}const fe=[...Y.values()].filter(u.isSome),K=l(y,y,P);if(!fe.length&&!K.length)return null;const z={kind:fe!=null?t.Kind.SCHEMA_DEFINITION:t.Kind.SCHEMA_EXTENSION,operationTypes:fe,directives:K};return z.description=((U=(L=y.astNode)===null||L===void 0?void 0:L.description)!==null&&U!==void 0?U:y.description!=null)?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,z}rt.astFromSchema=a;function c(y,P,L){var U,Y,H,se;return{kind:t.Kind.DIRECTIVE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description}:void 0,name:{kind:t.Kind.NAME,value:y.name},arguments:(H=y.args)===null||H===void 0?void 0:H.map(fe=>d(fe,P,L)),repeatable:y.isRepeatable,locations:((se=y.locations)===null||se===void 0?void 0:se.map(fe=>({kind:t.Kind.NAME,value:fe})))||[]}}rt.astFromDirective=c;function l(y,P,L){const U=(0,r.getDirectivesInExtensions)(y,L);let Y=[];y.astNode!=null&&Y.push(y.astNode),"extensionASTNodes"in y&&y.extensionASTNodes!=null&&(Y=Y.concat(y.extensionASTNodes));let H;if(U!=null)H=M(P,U);else{H=[];for(const se of Y)se.directives&&H.push(...se.directives)}return H}rt.getDirectiveNodes=l;function f(y,P,L){var U,Y;let H=[],se=null;const fe=(0,r.getDirectivesInExtensions)(y,L);let K;return fe!=null?K=M(P,fe):K=(U=y.astNode)===null||U===void 0?void 0:U.directives,K!=null&&(H=K.filter(z=>z.name.value!=="deprecated"),y.deprecationReason!=null&&(se=(Y=K.filter(z=>z.name.value==="deprecated"))===null||Y===void 0?void 0:Y[0])),y.deprecationReason!=null&&se==null&&(se=B(y.deprecationReason)),se==null?H:[se].concat(H)}rt.getDeprecatableDirectiveNodes=f;function d(y,P,L){var U,Y,H;return{kind:t.Kind.INPUT_VALUE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},type:(0,e.astFromType)(y.type),defaultValue:y.defaultValue!==void 0&&(H=(0,t.astFromValue)(y.defaultValue,y.type))!==null&&H!==void 0?H:void 0,directives:f(y,P,L)}}rt.astFromArg=d;function p(y,P,L){var U,Y;return{kind:t.Kind.OBJECT_TYPE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},fields:Object.values(y.getFields()).map(H=>F(H,P,L)),interfaces:Object.values(y.getInterfaces()).map(H=>(0,e.astFromType)(H)),directives:l(y,P,L)}}rt.astFromObjectType=p;function h(y,P,L){var U,Y;const H={kind:t.Kind.INTERFACE_TYPE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},fields:Object.values(y.getFields()).map(se=>F(se,P,L)),directives:l(y,P,L)};return"getInterfaces"in y&&(H.interfaces=Object.values(y.getInterfaces()).map(se=>(0,e.astFromType)(se))),H}rt.astFromInterfaceType=h;function v(y,P,L){var U,Y;return{kind:t.Kind.UNION_TYPE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},directives:l(y,P,L),types:y.getTypes().map(H=>(0,e.astFromType)(H))}}rt.astFromUnionType=v;function S(y,P,L){var U,Y;return{kind:t.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},fields:Object.values(y.getFields()).map(H=>I(H,P,L)),directives:l(y,P,L)}}rt.astFromInputObjectType=S;function D(y,P,L){var U,Y;return{kind:t.Kind.ENUM_TYPE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},values:Object.values(y.getValues()).map(H=>k(H,P,L)),directives:l(y,P,L)}}rt.astFromEnumType=D;function g(y,P,L){var U,Y,H;const se=(0,r.getDirectivesInExtensions)(y,L),fe=se?M(P,se):((U=y.astNode)===null||U===void 0?void 0:U.directives)||[],K=y.specifiedByUrl||y.specifiedByURL;if(K&&!fe.some(z=>z.name.value==="specifiedBy")){const z={url:K};fe.push(O("specifiedBy",z))}return{kind:t.Kind.SCALAR_TYPE_DEFINITION,description:(H=(Y=y.astNode)===null||Y===void 0?void 0:Y.description)!==null&&H!==void 0?H:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},directives:fe}}rt.astFromScalarType=g;function F(y,P,L){var U,Y;return{kind:t.Kind.FIELD_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},arguments:y.args.map(H=>d(H,P,L)),type:(0,e.astFromType)(y.type),directives:f(y,P,L)}}rt.astFromField=F;function I(y,P,L){var U,Y,H;return{kind:t.Kind.INPUT_VALUE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},type:(0,e.astFromType)(y.type),directives:f(y,P,L),defaultValue:(H=(0,t.astFromValue)(y.defaultValue,y.type))!==null&&H!==void 0?H:void 0}}rt.astFromInputField=I;function k(y,P,L){var U,Y;return{kind:t.Kind.ENUM_VALUE_DEFINITION,description:(Y=(U=y.astNode)===null||U===void 0?void 0:U.description)!==null&&Y!==void 0?Y:y.description?{kind:t.Kind.STRING,value:y.description,block:!0}:void 0,name:{kind:t.Kind.NAME,value:y.name},directives:f(y,P,L)}}rt.astFromEnumValue=k;function B(y){return O("deprecated",{reason:y},t.GraphQLDeprecatedDirective)}rt.makeDeprecatedDirective=B;function O(y,P,L){const U=[];if(L!=null)for(const Y of L.args){const H=Y.name,se=P[H];if(se!==void 0){const fe=(0,t.astFromValue)(se,Y.type);fe&&U.push({kind:t.Kind.ARGUMENT,name:{kind:t.Kind.NAME,value:H},value:fe})}}else for(const Y in P){const H=P[Y],se=(0,n.astFromValueUntyped)(H);se&&U.push({kind:t.Kind.ARGUMENT,name:{kind:t.Kind.NAME,value:Y},value:se})}return{kind:t.Kind.DIRECTIVE,name:{kind:t.Kind.NAME,value:y},arguments:U}}rt.makeDirectiveNode=O;function M(y,P){const L=[];for(const U in P){const Y=P[U],H=y==null?void 0:y.getDirective(U);if(Array.isArray(Y))for(const se of Y)L.push(O(U,se,H));else L.push(O(U,Y,H))}return L}return rt.makeDirectiveNodes=M,rt}var _s={},Q4;function YM(){if(Q4)return _s;Q4=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.createDefaultRules=_s.validateGraphQlDocuments=void 0;const t=Le;function e(n,u,s=r()){var i;const o=new Map;for(const l of u)for(const f of l.definitions)"name"in f&&f.name?o.set(`${f.kind}_${f.name.value}`,f):o.set(Date.now().toString(),f);const a={kind:t.Kind.DOCUMENT,definitions:Array.from(o.values())},c=(0,t.validate)(n,a,s);for(const l of c)if(l.stack=l.message,l.locations)for(const f of l.locations)l.stack+=`
    at ${(i=l.source)===null||i===void 0?void 0:i.name}:${f.line}:${f.column}`;return c}_s.validateGraphQlDocuments=e;function r(){let n=["NoUnusedFragmentsRule","NoUnusedVariablesRule","KnownDirectivesRule"];return t.versionInfo.major<15&&(n=n.map(u=>u.replace(/Rule$/,""))),t.specifiedRules.filter(u=>!n.includes(u.name))}return _s.createDefaultRules=r,_s}var qo={},Y4;function XM(){if(Y4)return qo;Y4=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.parseGraphQLJSON=void 0;const t=Le;function e(u){return u=u.toString(),u.charCodeAt(0)===65279&&(u=u.slice(1)),u}function r(u){return JSON.parse(e(u))}function n(u,s,i){let o=r(s);if(o.data&&(o=o.data),o.kind==="Document")return{location:u,document:o};if(o.__schema){const a=(0,t.buildClientSchema)(o,i);return{location:u,schema:a}}else if(typeof o=="string")return{location:u,rawSDL:o};throw new Error("Not valid JSON content")}return qo.parseGraphQLJSON=n,qo}var wu={},Ut={},X4;function k7(){if(X4)return Ut;X4=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.getBlockStringIndentation=Ut.dedentBlockStringValue=Ut.getLeadingCommentBlock=Ut.getComment=Ut.getDescription=Ut.printWithComments=Ut.printComment=Ut.pushComment=Ut.collectComment=Ut.resetComments=void 0;const t=Le,e=80;let r={};function n(){r={}}Ut.resetComments=n;function u(y){var P;const L=(P=y.name)===null||P===void 0?void 0:P.value;if(L!=null)switch(s(y,L),y.kind){case"EnumTypeDefinition":if(y.values)for(const U of y.values)s(U,L,U.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(y.fields){for(const U of y.fields)if(s(U,L,U.name.value),D(U)&&U.arguments)for(const Y of U.arguments)s(Y,L,U.name.value,Y.name.value)}break}}Ut.collectComment=u;function s(y,P,L,U){const Y=F(y);if(typeof Y!="string"||Y.length===0)return;const H=[P];L&&(H.push(L),U&&H.push(U));const se=H.join(".");r[se]||(r[se]=[]),r[se].push(Y)}Ut.pushComment=s;function i(y){return`
# `+y.replace(/\n/g,`
# `)}Ut.printComment=i;function o(y,P){return y?y.filter(L=>L).join(P||""):""}function a(y){var P;return(P=y==null?void 0:y.some(L=>L.includes(`
`)))!==null&&P!==void 0?P:!1}function c(y){return(P,L,U,Y,H)=>{var se;const fe=[],K=Y.reduce((V,N)=>(["fields","arguments","values"].includes(N)&&V.name&&fe.push(V.name.value),V[N]),H[0]),z=[...fe,(se=K==null?void 0:K.name)===null||se===void 0?void 0:se.value].filter(Boolean).join("."),te=[];return P.kind.includes("Definition")&&r[z]&&te.push(...r[z]),o([...te.map(i),P.description,y(P,L,U,Y,H)],`
`)}}function l(y){return y&&`  ${y.replace(/\n/g,`
  `)}`}function f(y){return y&&y.length!==0?`{
${l(o(y,`
`))}
}`:""}function d(y,P,L){return P?y+P+(L||""):""}function p(y,P=!1){const L=y.replace(/"""/g,'\\"""');return(y[0]===" "||y[0]==="	")&&y.indexOf(`
`)===-1?`"""${L.replace(/"$/,`"
`)}"""`:`"""
${P?L:l(L)}
"""`}const h={Name:{leave:y=>y.value},Variable:{leave:y=>"$"+y.name},Document:{leave:y=>o(y.definitions,`

`)},OperationDefinition:{leave:y=>{const P=d("(",o(y.variableDefinitions,", "),")");return o([y.operation,o([y.name,P]),o(y.directives," ")]," ")+" "+y.selectionSet}},VariableDefinition:{leave:({variable:y,type:P,defaultValue:L,directives:U})=>y+": "+P+d(" = ",L)+d(" ",o(U," "))},SelectionSet:{leave:({selections:y})=>f(y)},Field:{leave({alias:y,name:P,arguments:L,directives:U,selectionSet:Y}){const H=d("",y,": ")+P;let se=H+d("(",o(L,", "),")");return se.length>e&&(se=H+d(`(
`,l(o(L,`
`)),`
)`)),o([se,o(U," "),Y]," ")}},Argument:{leave:({name:y,value:P})=>y+": "+P},FragmentSpread:{leave:({name:y,directives:P})=>"..."+y+d(" ",o(P," "))},InlineFragment:{leave:({typeCondition:y,directives:P,selectionSet:L})=>o(["...",d("on ",y),o(P," "),L]," ")},FragmentDefinition:{leave:({name:y,typeCondition:P,variableDefinitions:L,directives:U,selectionSet:Y})=>`fragment ${y}${d("(",o(L,", "),")")} on ${P} ${d("",o(U," ")," ")}`+Y},IntValue:{leave:({value:y})=>y},FloatValue:{leave:({value:y})=>y},StringValue:{leave:({value:y,block:P})=>P?p(y):JSON.stringify(y)},BooleanValue:{leave:({value:y})=>y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:y})=>y},ListValue:{leave:({values:y})=>"["+o(y,", ")+"]"},ObjectValue:{leave:({fields:y})=>"{"+o(y,", ")+"}"},ObjectField:{leave:({name:y,value:P})=>y+": "+P},Directive:{leave:({name:y,arguments:P})=>"@"+y+d("(",o(P,", "),")")},NamedType:{leave:({name:y})=>y},ListType:{leave:({type:y})=>"["+y+"]"},NonNullType:{leave:({type:y})=>y+"!"},SchemaDefinition:{leave:({directives:y,operationTypes:P})=>o(["schema",o(y," "),f(P)]," ")},OperationTypeDefinition:{leave:({operation:y,type:P})=>y+": "+P},ScalarTypeDefinition:{leave:({name:y,directives:P})=>o(["scalar",y,o(P," ")]," ")},ObjectTypeDefinition:{leave:({name:y,interfaces:P,directives:L,fields:U})=>o(["type",y,d("implements ",o(P," & ")),o(L," "),f(U)]," ")},FieldDefinition:{leave:({name:y,arguments:P,type:L,directives:U})=>y+(a(P)?d(`(
`,l(o(P,`
`)),`
)`):d("(",o(P,", "),")"))+": "+L+d(" ",o(U," "))},InputValueDefinition:{leave:({name:y,type:P,defaultValue:L,directives:U})=>o([y+": "+P,d("= ",L),o(U," ")]," ")},InterfaceTypeDefinition:{leave:({name:y,interfaces:P,directives:L,fields:U})=>o(["interface",y,d("implements ",o(P," & ")),o(L," "),f(U)]," ")},UnionTypeDefinition:{leave:({name:y,directives:P,types:L})=>o(["union",y,o(P," "),d("= ",o(L," | "))]," ")},EnumTypeDefinition:{leave:({name:y,directives:P,values:L})=>o(["enum",y,o(P," "),f(L)]," ")},EnumValueDefinition:{leave:({name:y,directives:P})=>o([y,o(P," ")]," ")},InputObjectTypeDefinition:{leave:({name:y,directives:P,fields:L})=>o(["input",y,o(P," "),f(L)]," ")},DirectiveDefinition:{leave:({name:y,arguments:P,repeatable:L,locations:U})=>"directive @"+y+(a(P)?d(`(
`,l(o(P,`
`)),`
)`):d("(",o(P,", "),")"))+(L?" repeatable":"")+" on "+o(U," | ")},SchemaExtension:{leave:({directives:y,operationTypes:P})=>o(["extend schema",o(y," "),f(P)]," ")},ScalarTypeExtension:{leave:({name:y,directives:P})=>o(["extend scalar",y,o(P," ")]," ")},ObjectTypeExtension:{leave:({name:y,interfaces:P,directives:L,fields:U})=>o(["extend type",y,d("implements ",o(P," & ")),o(L," "),f(U)]," ")},InterfaceTypeExtension:{leave:({name:y,interfaces:P,directives:L,fields:U})=>o(["extend interface",y,d("implements ",o(P," & ")),o(L," "),f(U)]," ")},UnionTypeExtension:{leave:({name:y,directives:P,types:L})=>o(["extend union",y,o(P," "),d("= ",o(L," | "))]," ")},EnumTypeExtension:{leave:({name:y,directives:P,values:L})=>o(["extend enum",y,o(P," "),f(L)]," ")},InputObjectTypeExtension:{leave:({name:y,directives:P,fields:L})=>o(["extend input",y,o(P," "),f(L)]," ")}},v=Object.keys(h).reduce((y,P)=>({...y,[P]:{leave:c(h[P].leave)}}),{});function S(y){return(0,t.visit)(y,v)}Ut.printWithComments=S;function D(y){return y.kind==="FieldDefinition"}function g(y,P){if(y.description!=null)return y.description.value;if(P!=null&&P.commentDescriptions)return F(y)}Ut.getDescription=g;function F(y){const P=I(y);if(P!==void 0)return k(`
${P}`)}Ut.getComment=F;function I(y){const P=y.loc;if(!P)return;const L=[];let U=P.startToken.prev;for(;U!=null&&U.kind===t.TokenKind.COMMENT&&U.next!=null&&U.prev!=null&&U.line+1===U.next.line&&U.line!==U.prev.line;){const Y=String(U.value);L.push(Y),U=U.prev}return L.length>0?L.reverse().join(`
`):void 0}Ut.getLeadingCommentBlock=I;function k(y){const P=y.split(/\r\n|[\n\r]/g),L=B(P);if(L!==0)for(let U=1;U<P.length;U++)P[U]=P[U].slice(L);for(;P.length>0&&M(P[0]);)P.shift();for(;P.length>0&&M(P[P.length-1]);)P.pop();return P.join(`
`)}Ut.dedentBlockStringValue=k;function B(y){let P=null;for(let L=1;L<y.length;L++){const U=y[L],Y=O(U);if(Y!==U.length&&(P===null||Y<P)&&(P=Y,P===0))break}return P===null?0:P}Ut.getBlockStringIndentation=B;function O(y){let P=0;for(;P<y.length&&(y[P]===" "||y[P]==="	");)P++;return P}function M(y){return O(y)===y.length}return Ut}var Z4;function ZM(){if(Z4)return wu;Z4=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.isDescribable=wu.transformCommentsToDescriptions=wu.parseGraphQLSDL=void 0;const t=Le,e=k7();function r(s,i,o={}){let a;try{o.commentDescriptions&&i.includes("#")?(a=n(i,o),o.noLocation&&(a=(0,t.parse)((0,t.print)(a),o))):a=(0,t.parse)(new t.Source(i,s),o)}catch(c){if(c.message.includes("EOF")&&i.replace(/(\#[^*]*)/g,"").trim()==="")a={kind:t.Kind.DOCUMENT,definitions:[]};else throw c}return{location:s,document:a}}wu.parseGraphQLSDL=r;function n(s,i={}){const o=(0,t.parse)(s,{...i,noLocation:!1});return(0,t.visit)(o,{leave:c=>{if(u(c)){const l=(0,e.getLeadingCommentBlock)(c);if(l!==void 0){const f=(0,e.dedentBlockStringValue)(`
`+l),d=f.includes(`
`);return c.description?{...c,description:{...c.description,value:c.description.value+`
`+f,block:!0}}:{...c,description:{kind:t.Kind.STRING,value:f,block:d}}}}}})}wu.transformCommentsToDescriptions=n;function u(s){return(0,t.isTypeSystemDefinitionNode)(s)||s.kind===t.Kind.FIELD_DEFINITION||s.kind===t.Kind.INPUT_VALUE_DEFINITION||s.kind===t.Kind.ENUM_VALUE_DEFINITION}return wu.isDescribable=u,wu}var xo={},eF;function ej(){if(eF)return xo;eF=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.buildOperationNodeForField=void 0;const t=Le,e=t0();let r=[],n=new Map;function u(h){r.push(h)}function s(){r=[]}function i(){n=new Map}function o({schema:h,kind:v,field:S,models:D,ignore:g=[],depthLimit:F,circularReferenceDepth:I,argNames:k,selectedFields:B=!0}){s(),i();const O=(0,e.getRootTypeNames)(h),M=a({schema:h,fieldName:S,kind:v,models:D||[],ignore:g,depthLimit:F||1/0,circularReferenceDepth:I||1,argNames:k,selectedFields:B,rootTypeNames:O});return M.variableDefinitions=[...r],s(),i(),M}xo.buildOperationNodeForField=o;function a({schema:h,fieldName:v,kind:S,models:D,ignore:g,depthLimit:F,circularReferenceDepth:I,argNames:k,selectedFields:B,rootTypeNames:O}){const M=(0,e.getDefinedRootType)(h,S),y=M.getFields()[v],P=`${v}_${S}`;if(y.args)for(const L of y.args){const U=L.name;(!k||k.includes(U))&&u(l(L,U))}return{kind:t.Kind.OPERATION_DEFINITION,operation:S,name:{kind:t.Kind.NAME,value:P},variableDefinitions:[],selectionSet:{kind:t.Kind.SELECTION_SET,selections:[d({type:M,field:y,models:D,firstCall:!0,path:[],ancestors:[],ignore:g,depthLimit:F,circularReferenceDepth:I,schema:h,depth:0,argNames:k,selectedFields:B,rootTypeNames:O})]}}}function c({parent:h,type:v,models:S,firstCall:D,path:g,ancestors:F,ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M,argNames:y,selectedFields:P,rootTypeNames:L}){if(!(typeof P=="boolean"&&M>k)){if((0,t.isUnionType)(v)){const U=v.getTypes();return{kind:t.Kind.SELECTION_SET,selections:U.filter(Y=>!p([...F,Y],{depth:B})).map(Y=>({kind:t.Kind.INLINE_FRAGMENT,typeCondition:{kind:t.Kind.NAMED_TYPE,name:{kind:t.Kind.NAME,value:Y.name}},selectionSet:c({parent:v,type:Y,models:S,path:g,ancestors:F,ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M,argNames:y,selectedFields:P,rootTypeNames:L})})).filter(Y=>{var H,se;return((se=(H=Y==null?void 0:Y.selectionSet)===null||H===void 0?void 0:H.selections)===null||se===void 0?void 0:se.length)>0})}}if((0,t.isInterfaceType)(v)){const U=Object.values(O.getTypeMap()).filter(Y=>(0,t.isObjectType)(Y)&&Y.getInterfaces().includes(v));return{kind:t.Kind.SELECTION_SET,selections:U.filter(Y=>!p([...F,Y],{depth:B})).map(Y=>({kind:t.Kind.INLINE_FRAGMENT,typeCondition:{kind:t.Kind.NAMED_TYPE,name:{kind:t.Kind.NAME,value:Y.name}},selectionSet:c({parent:v,type:Y,models:S,path:g,ancestors:F,ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M,argNames:y,selectedFields:P,rootTypeNames:L})})).filter(Y=>{var H,se;return((se=(H=Y==null?void 0:Y.selectionSet)===null||H===void 0?void 0:H.selections)===null||se===void 0?void 0:se.length)>0})}}if((0,t.isObjectType)(v)&&!L.has(v.name)){const U=I.includes(v.name)||I.includes(`${h.name}.${g[g.length-1]}`),Y=S.includes(v.name);if(!D&&Y&&!U)return{kind:t.Kind.SELECTION_SET,selections:[{kind:t.Kind.FIELD,name:{kind:t.Kind.NAME,value:"id"}}]};const H=v.getFields();return{kind:t.Kind.SELECTION_SET,selections:Object.keys(H).filter(se=>!p([...F,(0,t.getNamedType)(H[se].type)],{depth:B})).map(se=>{const fe=typeof P=="object"?P[se]:!0;return fe?d({type:v,field:H[se],models:S,path:[...g,se],ancestors:F,ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M,argNames:y,selectedFields:fe,rootTypeNames:L}):null}).filter(se=>{var fe,K;return se==null?!1:"selectionSet"in se?!!(!((K=(fe=se.selectionSet)===null||fe===void 0?void 0:fe.selections)===null||K===void 0)&&K.length):!0})}}}}function l(h,v){function S(D){return(0,t.isListType)(D)?{kind:t.Kind.LIST_TYPE,type:S(D.ofType)}:(0,t.isNonNullType)(D)?{kind:t.Kind.NON_NULL_TYPE,type:S(D.ofType)}:{kind:t.Kind.NAMED_TYPE,name:{kind:t.Kind.NAME,value:D.name}}}return{kind:t.Kind.VARIABLE_DEFINITION,variable:{kind:t.Kind.VARIABLE,name:{kind:t.Kind.NAME,value:v||h.name}},type:S(h.type)}}function f(h,v){return[...v,h].join("_")}function d({type:h,field:v,models:S,firstCall:D,path:g,ancestors:F,ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M,argNames:y,selectedFields:P,rootTypeNames:L}){const U=(0,t.getNamedType)(v.type);let Y=[],H=!1;if(v.args&&v.args.length&&(Y=v.args.map(z=>{const te=f(z.name,g);return y&&!y.includes(te)?((0,t.isNonNullType)(z.type)&&(H=!0),null):(D||u(l(z,te)),{kind:t.Kind.ARGUMENT,name:{kind:t.Kind.NAME,value:z.name},value:{kind:t.Kind.VARIABLE,name:{kind:t.Kind.NAME,value:f(z.name,g)}}})}).filter(Boolean)),H)return null;const se=[...g,v.name],fe=se.join(".");let K=v.name;return n.has(fe)&&n.get(fe)!==v.type.toString()&&(K+=v.type.toString().replace("!","NonNull").replace("[","List").replace("]","")),n.set(fe,v.type.toString()),!(0,t.isScalarType)(U)&&!(0,t.isEnumType)(U)?{kind:t.Kind.FIELD,name:{kind:t.Kind.NAME,value:v.name},...K!==v.name&&{alias:{kind:t.Kind.NAME,value:K}},selectionSet:c({parent:h,type:U,models:S,firstCall:D,path:se,ancestors:[...F,h],ignore:I,depthLimit:k,circularReferenceDepth:B,schema:O,depth:M+1,argNames:y,selectedFields:P,rootTypeNames:L})||void 0,arguments:Y}:{kind:t.Kind.FIELD,name:{kind:t.Kind.NAME,value:v.name},...K!==v.name&&{alias:{kind:t.Kind.NAME,value:K}},arguments:Y}}function p(h,v={depth:1}){const S=h[h.length-1];return(0,t.isScalarType)(S)?!1:h.filter(g=>g.name===S.name).length>v.depth}return xo}var _h={},tF;function tj(){return tF||(tF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=void 0,function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(t.DirectiveLocation||(t.DirectiveLocation={}))}(_h)),_h}var Mo={},wh={},rF;function So(){return rF||(rF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MapperKind=void 0,function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"}(t.MapperKind||(t.MapperKind={}))}(wh)),wh}var ws={},jo={},nF;function O7(){if(nF)return jo;nF=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.getObjectTypeFromTypeMap=void 0;const t=Le;function e(r,n){if(n){const u=r[n.name];if((0,t.isObjectType)(u))return u}}return jo.getObjectTypeFromTypeMap=e,jo}var Lo={},Sn={},uF;function N7(){if(uF)return Sn;uF=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.getBuiltInForStub=Sn.isNamedStub=Sn.createStub=Sn.createNamedStub=void 0;const t=Le;function e(s,i){let o;return i==="object"?o=t.GraphQLObjectType:i==="interface"?o=t.GraphQLInterfaceType:o=t.GraphQLInputObjectType,new o({name:s,fields:{_fake:{type:t.GraphQLString}}})}Sn.createNamedStub=e;function r(s,i){switch(s.kind){case t.Kind.LIST_TYPE:return new t.GraphQLList(r(s.type,i));case t.Kind.NON_NULL_TYPE:return new t.GraphQLNonNull(r(s.type,i));default:return i==="output"?e(s.name.value,"object"):e(s.name.value,"input")}}Sn.createStub=r;function n(s){if("getFields"in s){const i=s.getFields();for(const o in i)return i[o].name==="_fake"}return!1}Sn.isNamedStub=n;function u(s){switch(s.name){case t.GraphQLInt.name:return t.GraphQLInt;case t.GraphQLFloat.name:return t.GraphQLFloat;case t.GraphQLString.name:return t.GraphQLString;case t.GraphQLBoolean.name:return t.GraphQLBoolean;case t.GraphQLID.name:return t.GraphQLID;default:return s}}return Sn.getBuiltInForStub=u,Sn}var sF;function BD(){if(sF)return Lo;sF=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.rewireTypes=void 0;const t=Le,e=N7();function r(n,u){const s=Object.create(null);for(const v in n)s[v]=n[v];const i=Object.create(null);for(const v in s){const S=s[v];if(S==null||v.startsWith("__"))continue;const D=S.name;if(!D.startsWith("__")){if(i[D]!=null){console.warn(`Duplicate schema type name ${D} found; keeping the existing one found in the schema`);continue}i[D]=S}}for(const v in i)i[v]=l(i[v]);const o=u.map(v=>a(v));return{typeMap:i,directives:o};function a(v){if((0,t.isSpecifiedDirective)(v))return v;const S=v.toConfig();return S.args=c(S.args),new t.GraphQLDirective(S)}function c(v){const S={};for(const D in v){const g=v[D],F=h(g.type);F!=null&&(g.type=F,S[D]=g)}return S}function l(v){if((0,t.isObjectType)(v)){const S=v.toConfig(),D={...S,fields:()=>f(S.fields),interfaces:()=>p(S.interfaces)};return new t.GraphQLObjectType(D)}else if((0,t.isInterfaceType)(v)){const S=v.toConfig(),D={...S,fields:()=>f(S.fields)};return"interfaces"in D&&(D.interfaces=()=>p(S.interfaces)),new t.GraphQLInterfaceType(D)}else if((0,t.isUnionType)(v)){const S=v.toConfig(),D={...S,types:()=>p(S.types)};return new t.GraphQLUnionType(D)}else if((0,t.isInputObjectType)(v)){const S=v.toConfig(),D={...S,fields:()=>d(S.fields)};return new t.GraphQLInputObjectType(D)}else if((0,t.isEnumType)(v)){const S=v.toConfig();return new t.GraphQLEnumType(S)}else if((0,t.isScalarType)(v)){if((0,t.isSpecifiedScalarType)(v))return v;const S=v.toConfig();return new t.GraphQLScalarType(S)}throw new Error(`Unexpected schema type: ${v}`)}function f(v){const S={};for(const D in v){const g=v[D],F=h(g.type);F!=null&&g.args&&(g.type=F,g.args=c(g.args),S[D]=g)}return S}function d(v){const S={};for(const D in v){const g=v[D],F=h(g.type);F!=null&&(g.type=F,S[D]=g)}return S}function p(v){const S=[];for(const D of v){const g=h(D);g!=null&&S.push(g)}return S}function h(v){if((0,t.isListType)(v)){const S=h(v.ofType);return S!=null?new t.GraphQLList(S):null}else if((0,t.isNonNullType)(v)){const S=h(v.ofType);return S!=null?new t.GraphQLNonNull(S):null}else if((0,t.isNamedType)(v)){let S=s[v.name];return S===void 0&&(S=(0,e.isNamedStub)(v)?(0,e.getBuiltInForStub)(v):l(v),i[S.name]=s[v.name]=S),S!=null?i[S.name]:null}return null}}return Lo.rewireTypes=r,Lo}var Fn={},iF;function R7(){if(iF)return Fn;iF=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.parseInputValueLiteral=Fn.parseInputValue=Fn.serializeInputValue=Fn.transformInputValue=void 0;const t=Le,e=e0();function r(i,o,a=null,c=null){if(o==null)return o;const l=(0,t.getNullableType)(i);if((0,t.isLeafType)(l))return a!=null?a(l,o):o;if((0,t.isListType)(l))return(0,e.asArray)(o).map(f=>r(l.ofType,f,a,c));if((0,t.isInputObjectType)(l)){const f=l.getFields(),d={};for(const p in o){const h=f[p];h!=null&&(d[p]=r(h.type,o[p],a,c))}return c!=null?c(l,d):d}}Fn.transformInputValue=r;function n(i,o){return r(i,o,(a,c)=>{try{return a.serialize(c)}catch{return c}})}Fn.serializeInputValue=n;function u(i,o){return r(i,o,(a,c)=>{try{return a.parseValue(c)}catch{return c}})}Fn.parseInputValue=u;function s(i,o){return r(i,o,(a,c)=>a.parseLiteral(c,{}))}return Fn.parseInputValueLiteral=s,Fn}var oF;function qc(){if(oF)return ws;oF=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.correctASTNodes=ws.mapSchema=void 0;const t=Le,e=O7(),r=So(),n=BD(),u=R7();function s(k,B={}){const O=f(l(i(a(o(i(a(k.getTypeMap(),k,u.serializeInputValue),k,B,U=>(0,t.isLeafType)(U)),k,B),k,u.parseInputValue),k,B,U=>!(0,t.isLeafType)(U)),k,B),k,B),M=k.getDirectives(),y=d(M,k,B),{typeMap:P,directives:L}=(0,n.rewireTypes)(O,y);return new t.GraphQLSchema({...k.toConfig(),query:(0,e.getObjectTypeFromTypeMap)(P,(0,e.getObjectTypeFromTypeMap)(O,k.getQueryType())),mutation:(0,e.getObjectTypeFromTypeMap)(P,(0,e.getObjectTypeFromTypeMap)(O,k.getMutationType())),subscription:(0,e.getObjectTypeFromTypeMap)(P,(0,e.getObjectTypeFromTypeMap)(O,k.getSubscriptionType())),types:Object.values(P),directives:L})}ws.mapSchema=s;function i(k,B,O,M=()=>!0){const y={};for(const P in k)if(!P.startsWith("__")){const L=k[P];if(L==null||!M(L)){y[P]=L;continue}const U=h(B,O,P);if(U==null){y[P]=L;continue}const Y=U(L,B);if(Y===void 0){y[P]=L;continue}y[P]=Y}return y}function o(k,B,O){const M=F(O);return M?i(k,B,{[r.MapperKind.ENUM_TYPE]:y=>{const P=y.toConfig(),L=P.values,U={};for(const Y in L){const H=L[Y],se=M(H,y.name,B,Y);if(se===void 0)U[Y]=H;else if(Array.isArray(se)){const[fe,K]=se;U[fe]=K===void 0?H:K}else se!==null&&(U[Y]=se)}return I(new t.GraphQLEnumType({...P,values:U}))}},y=>(0,t.isEnumType)(y)):k}function a(k,B,O){const M=f(k,B,{[r.MapperKind.ARGUMENT]:y=>{if(y.defaultValue===void 0)return y;const P=c(k,y.type);if(P!=null)return{...y,defaultValue:O(P,y.defaultValue)}}});return l(M,B,{[r.MapperKind.INPUT_OBJECT_FIELD]:y=>{if(y.defaultValue===void 0)return y;const P=c(M,y.type);if(P!=null)return{...y,defaultValue:O(P,y.defaultValue)}}})}function c(k,B){if((0,t.isListType)(B)){const O=c(k,B.ofType);return O!=null?new t.GraphQLList(O):null}else if((0,t.isNonNullType)(B)){const O=c(k,B.ofType);return O!=null?new t.GraphQLNonNull(O):null}else if((0,t.isNamedType)(B)){const O=k[B.name];return O??null}return null}function l(k,B,O){const M={};for(const y in k)if(!y.startsWith("__")){const P=k[y];if(!(0,t.isObjectType)(P)&&!(0,t.isInterfaceType)(P)&&!(0,t.isInputObjectType)(P)){M[y]=P;continue}const L=S(B,O,y);if(L==null){M[y]=P;continue}const U=P.toConfig(),Y=U.fields,H={};for(const se in Y){const fe=Y[se],K=L(fe,se,y,B);if(K===void 0)H[se]=fe;else if(Array.isArray(K)){const[z,te]=K;te.astNode!=null&&(te.astNode={...te.astNode,name:{...te.astNode.name,value:z}}),H[z]=te===void 0?fe:te}else K!==null&&(H[se]=K)}(0,t.isObjectType)(P)?M[y]=I(new t.GraphQLObjectType({...U,fields:H})):(0,t.isInterfaceType)(P)?M[y]=I(new t.GraphQLInterfaceType({...U,fields:H})):M[y]=I(new t.GraphQLInputObjectType({...U,fields:H}))}return M}function f(k,B,O){const M={};for(const y in k)if(!y.startsWith("__")){const P=k[y];if(!(0,t.isObjectType)(P)&&!(0,t.isInterfaceType)(P)){M[y]=P;continue}const L=D(O);if(L==null){M[y]=P;continue}const U=P.toConfig(),Y=U.fields,H={};for(const se in Y){const fe=Y[se],K=fe.args;if(K==null){H[se]=fe;continue}const z=Object.keys(K);if(!z.length){H[se]=fe;continue}const te={};for(const V of z){const N=K[V],A=L(N,se,y,B);if(A===void 0)te[V]=N;else if(Array.isArray(A)){const[C,E]=A;te[C]=E}else A!==null&&(te[V]=A)}H[se]={...fe,args:te}}(0,t.isObjectType)(P)?M[y]=new t.GraphQLObjectType({...U,fields:H}):(0,t.isInterfaceType)(P)?M[y]=new t.GraphQLInterfaceType({...U,fields:H}):M[y]=new t.GraphQLInputObjectType({...U,fields:H})}return M}function d(k,B,O){const M=g(O);if(M==null)return k.slice();const y=[];for(const P of k){const L=M(P,B);L===void 0?y.push(P):L!==null&&y.push(L)}return y}function p(k,B){var O,M,y;const P=k.getType(B),L=[r.MapperKind.TYPE];return(0,t.isObjectType)(P)?(L.push(r.MapperKind.COMPOSITE_TYPE,r.MapperKind.OBJECT_TYPE),B===((O=k.getQueryType())===null||O===void 0?void 0:O.name)?L.push(r.MapperKind.ROOT_OBJECT,r.MapperKind.QUERY):B===((M=k.getMutationType())===null||M===void 0?void 0:M.name)?L.push(r.MapperKind.ROOT_OBJECT,r.MapperKind.MUTATION):B===((y=k.getSubscriptionType())===null||y===void 0?void 0:y.name)&&L.push(r.MapperKind.ROOT_OBJECT,r.MapperKind.SUBSCRIPTION)):(0,t.isInputObjectType)(P)?L.push(r.MapperKind.INPUT_OBJECT_TYPE):(0,t.isInterfaceType)(P)?L.push(r.MapperKind.COMPOSITE_TYPE,r.MapperKind.ABSTRACT_TYPE,r.MapperKind.INTERFACE_TYPE):(0,t.isUnionType)(P)?L.push(r.MapperKind.COMPOSITE_TYPE,r.MapperKind.ABSTRACT_TYPE,r.MapperKind.UNION_TYPE):(0,t.isEnumType)(P)?L.push(r.MapperKind.ENUM_TYPE):(0,t.isScalarType)(P)&&L.push(r.MapperKind.SCALAR_TYPE),L}function h(k,B,O){const M=p(k,O);let y;const P=[...M];for(;!y&&P.length>0;){const L=P.pop();y=B[L]}return y??null}function v(k,B){var O,M,y;const P=k.getType(B),L=[r.MapperKind.FIELD];return(0,t.isObjectType)(P)?(L.push(r.MapperKind.COMPOSITE_FIELD,r.MapperKind.OBJECT_FIELD),B===((O=k.getQueryType())===null||O===void 0?void 0:O.name)?L.push(r.MapperKind.ROOT_FIELD,r.MapperKind.QUERY_ROOT_FIELD):B===((M=k.getMutationType())===null||M===void 0?void 0:M.name)?L.push(r.MapperKind.ROOT_FIELD,r.MapperKind.MUTATION_ROOT_FIELD):B===((y=k.getSubscriptionType())===null||y===void 0?void 0:y.name)&&L.push(r.MapperKind.ROOT_FIELD,r.MapperKind.SUBSCRIPTION_ROOT_FIELD)):(0,t.isInterfaceType)(P)?L.push(r.MapperKind.COMPOSITE_FIELD,r.MapperKind.INTERFACE_FIELD):(0,t.isInputObjectType)(P)&&L.push(r.MapperKind.INPUT_OBJECT_FIELD),L}function S(k,B,O){const M=v(k,O);let y;const P=[...M];for(;!y&&P.length>0;){const L=P.pop();y=B[L]}return y??null}function D(k){const B=k[r.MapperKind.ARGUMENT];return B??null}function g(k){const B=k[r.MapperKind.DIRECTIVE];return B??null}function F(k){const B=k[r.MapperKind.ENUM_VALUE];return B??null}function I(k){if((0,t.isObjectType)(k)){const B=k.toConfig();if(B.astNode!=null){const O=[];for(const M in B.fields){const y=B.fields[M];y.astNode!=null&&O.push(y.astNode)}B.astNode={...B.astNode,kind:t.Kind.OBJECT_TYPE_DEFINITION,fields:O}}return B.extensionASTNodes!=null&&(B.extensionASTNodes=B.extensionASTNodes.map(O=>({...O,kind:t.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}))),new t.GraphQLObjectType(B)}else if((0,t.isInterfaceType)(k)){const B=k.toConfig();if(B.astNode!=null){const O=[];for(const M in B.fields){const y=B.fields[M];y.astNode!=null&&O.push(y.astNode)}B.astNode={...B.astNode,kind:t.Kind.INTERFACE_TYPE_DEFINITION,fields:O}}return B.extensionASTNodes!=null&&(B.extensionASTNodes=B.extensionASTNodes.map(O=>({...O,kind:t.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new t.GraphQLInterfaceType(B)}else if((0,t.isInputObjectType)(k)){const B=k.toConfig();if(B.astNode!=null){const O=[];for(const M in B.fields){const y=B.fields[M];y.astNode!=null&&O.push(y.astNode)}B.astNode={...B.astNode,kind:t.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:O}}return B.extensionASTNodes!=null&&(B.extensionASTNodes=B.extensionASTNodes.map(O=>({...O,kind:t.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new t.GraphQLInputObjectType(B)}else if((0,t.isEnumType)(k)){const B=k.toConfig();if(B.astNode!=null){const O=[];for(const M in B.values){const y=B.values[M];y.astNode!=null&&O.push(y.astNode)}B.astNode={...B.astNode,values:O}}return B.extensionASTNodes!=null&&(B.extensionASTNodes=B.extensionASTNodes.map(O=>({...O,values:void 0}))),new t.GraphQLEnumType(B)}else return k}return ws.correctASTNodes=I,ws}var aF;function rj(){if(aF)return Mo;aF=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.filterSchema=void 0;const t=Le,e=So(),r=qc();function n({schema:i,typeFilter:o=()=>!0,fieldFilter:a=void 0,rootFieldFilter:c=void 0,objectFieldFilter:l=void 0,interfaceFieldFilter:f=void 0,inputObjectFieldFilter:d=void 0,argumentFilter:p=void 0}){return(0,r.mapSchema)(i,{[e.MapperKind.QUERY]:v=>u(v,"Query",c,p),[e.MapperKind.MUTATION]:v=>u(v,"Mutation",c,p),[e.MapperKind.SUBSCRIPTION]:v=>u(v,"Subscription",c,p),[e.MapperKind.OBJECT_TYPE]:v=>o(v.name,v)?s(t.GraphQLObjectType,v,l||a,p):null,[e.MapperKind.INTERFACE_TYPE]:v=>o(v.name,v)?s(t.GraphQLInterfaceType,v,f||a,p):null,[e.MapperKind.INPUT_OBJECT_TYPE]:v=>o(v.name,v)?s(t.GraphQLInputObjectType,v,d||a):null,[e.MapperKind.UNION_TYPE]:v=>o(v.name,v)?void 0:null,[e.MapperKind.ENUM_TYPE]:v=>o(v.name,v)?void 0:null,[e.MapperKind.SCALAR_TYPE]:v=>o(v.name,v)?void 0:null})}Mo.filterSchema=n;function u(i,o,a,c){if(a||c){const l=i.toConfig();for(const f in l.fields){const d=l.fields[f];if(a&&!a(o,f,l.fields[f]))delete l.fields[f];else if(c&&d.args)for(const p in d.args)c(o,f,p,d.args[p])||delete d.args[p]}return new t.GraphQLObjectType(l)}return i}function s(i,o,a,c){if(a||c){const l=o.toConfig();for(const f in l.fields){const d=l.fields[f];if(a&&!a(o.name,f,l.fields[f]))delete l.fields[f];else if(c&&"args"in d)for(const p in d.args)c(o.name,f,p,d.args[p])||delete d.args[p]}return new i(l)}}return Mo}var Ts={},cF;function nj(){if(cF)return Ts;cF=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.healTypes=Ts.healSchema=void 0;const t=Le;function e(n){return r(n.getTypeMap(),n.getDirectives()),n}Ts.healSchema=e;function r(n,u){const s=Object.create(null);for(const d in n){const p=n[d];if(p==null||d.startsWith("__"))continue;const h=p.name;if(!h.startsWith("__")){if(s[h]!=null){console.warn(`Duplicate schema type name ${h} found; keeping the existing one found in the schema`);continue}s[h]=p}}for(const d in s){const p=s[d];n[d]=p}for(const d of u)d.args=d.args.filter(p=>(p.type=f(p.type),p.type!==null));for(const d in n){const p=n[d];!d.startsWith("__")&&d in s&&p!=null&&i(p)}for(const d in n)!d.startsWith("__")&&!(d in s)&&delete n[d];function i(d){if((0,t.isObjectType)(d)){o(d),a(d);return}else if((0,t.isInterfaceType)(d)){o(d),"getInterfaces"in d&&a(d);return}else if((0,t.isUnionType)(d)){l(d);return}else if((0,t.isInputObjectType)(d)){c(d);return}else if((0,t.isLeafType)(d))return;throw new Error(`Unexpected schema type: ${d}`)}function o(d){const p=d.getFields();for(const[h,v]of Object.entries(p))v.args.map(S=>(S.type=f(S.type),S.type===null?null:S)).filter(Boolean),v.type=f(v.type),v.type===null&&delete p[h]}function a(d){if("getInterfaces"in d){const p=d.getInterfaces();p.push(...p.splice(0).map(h=>f(h)).filter(Boolean))}}function c(d){const p=d.getFields();for(const[h,v]of Object.entries(p))v.type=f(v.type),v.type===null&&delete p[h]}function l(d){const p=d.getTypes();p.push(...p.splice(0).map(h=>f(h)).filter(Boolean))}function f(d){if((0,t.isListType)(d)){const p=f(d.ofType);return p!=null?new t.GraphQLList(p):null}else if((0,t.isNonNullType)(d)){const p=f(d.ofType);return p!=null?new t.GraphQLNonNull(p):null}else if((0,t.isNamedType)(d)){const p=n[d.name];if(p&&d!==p)return p}return d}}return Ts.healTypes=r,Ts}var Go={},lF;function uj(){if(lF)return Go;lF=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.getResolversFromSchema=void 0;const t=Le;function e(r,n){var u,s;const i=Object.create(null),o=r.getTypeMap();for(const a in o)if(!a.startsWith("__")){const c=o[a];if((0,t.isScalarType)(c)){if(!(0,t.isSpecifiedScalarType)(c)){const l=c.toConfig();delete l.astNode,i[a]=new t.GraphQLScalarType(l)}}else if((0,t.isEnumType)(c)){i[a]={};const l=c.getValues();for(const f of l)i[a][f.name]=f.value}else if((0,t.isInterfaceType)(c))c.resolveType!=null&&(i[a]={__resolveType:c.resolveType});else if((0,t.isUnionType)(c))c.resolveType!=null&&(i[a]={__resolveType:c.resolveType});else if((0,t.isObjectType)(c)){i[a]={},c.isTypeOf!=null&&(i[a].__isTypeOf=c.isTypeOf);const l=c.getFields();for(const f in l){const d=l[f];if(d.subscribe!=null&&(i[a][f]=i[a][f]||{},i[a][f].subscribe=d.subscribe),d.resolve!=null&&((u=d.resolve)===null||u===void 0?void 0:u.name)!=="defaultFieldResolver"){switch((s=d.resolve)===null||s===void 0?void 0:s.name){case"defaultMergedResolver":if(!n)continue;break;case"defaultFieldResolver":continue}i[a][f]=i[a][f]||{},i[a][f].resolve=d.resolve}}}}return i}return Go.getResolversFromSchema=e,Go}var Vo={},fF;function sj(){if(fF)return Vo;fF=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.forEachField=void 0;const t=Le;function e(r,n){const u=r.getTypeMap();for(const s in u){const i=u[s];if(!(0,t.getNamedType)(i).name.startsWith("__")&&(0,t.isObjectType)(i)){const o=i.getFields();for(const a in o){const c=o[a];n(c,s,a)}}}}return Vo.forEachField=e,Vo}var Uo={},dF;function ij(){if(dF)return Uo;dF=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.forEachDefaultValue=void 0;const t=Le;function e(r,n){const u=r.getTypeMap();for(const s in u){const i=u[s];if(!(0,t.getNamedType)(i).name.startsWith("__")){if((0,t.isObjectType)(i)){const o=i.getFields();for(const a in o){const c=o[a];for(const l of c.args)l.defaultValue=n(l.type,l.defaultValue)}}else if((0,t.isInputObjectType)(i)){const o=i.getFields();for(const a in o){const c=o[a];c.defaultValue=n(c.type,c.defaultValue)}}}}}return Uo.forEachDefaultValue=e,Uo}var Ko={},pF;function q7(){if(pF)return Ko;pF=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.addTypes=void 0;const t=Le,e=O7(),r=BD();function n(u,s){const i=u.toConfig(),o={};for(const f of i.types)o[f.name]=f;const a={};for(const f of i.directives)a[f.name]=f;for(const f of s)(0,t.isNamedType)(f)?o[f.name]=f:(0,t.isDirective)(f)&&(a[f.name]=f);const{typeMap:c,directives:l}=(0,r.rewireTypes)(o,Object.values(a));return new t.GraphQLSchema({...i,query:(0,e.getObjectTypeFromTypeMap)(c,u.getQueryType()),mutation:(0,e.getObjectTypeFromTypeMap)(c,u.getMutationType()),subscription:(0,e.getObjectTypeFromTypeMap)(c,u.getSubscriptionType()),types:Object.values(c),directives:l})}return Ko.addTypes=n,Ko}var Jo={},hF;function oj(){if(hF)return Jo;hF=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.pruneSchema=void 0;const t=Le,e=qc(),r=So(),n=t0(),u=$7();function s(c,l={}){const{skipEmptyCompositeTypePruning:f,skipEmptyUnionPruning:d,skipPruning:p,skipUnimplementedInterfacesPruning:h,skipUnusedTypesPruning:v}=l;let S=[],D=c;do{let g=i(D);if(p){const F=[];for(const I in D.getTypeMap()){if(I.startsWith("__"))continue;const k=D.getType(I);k&&p(k)&&F.push(I)}g=o(F,D,g)}S=[],D=(0,e.mapSchema)(D,{[r.MapperKind.TYPE]:F=>!g.has(F.name)&&!(0,t.isSpecifiedScalarType)(F)?((0,t.isUnionType)(F)||(0,t.isInputObjectType)(F)||(0,t.isInterfaceType)(F)||(0,t.isObjectType)(F)||(0,t.isScalarType)(F))&&(v||(0,t.isUnionType)(F)&&d&&!Object.keys(F.getTypes()).length||((0,t.isInputObjectType)(F)||(0,t.isInterfaceType)(F)||(0,t.isObjectType)(F))&&f&&!Object.keys(F.getFields()).length||(0,t.isInterfaceType)(F)&&h)?F:(S.push(F.name),g.delete(F.name),null):F})}while(S.length);return D}Jo.pruneSchema=s;function i(c){const l=[];for(const f of(0,n.getRootTypes)(c))l.push(f.name);return o(l,c)}function o(c,l,f=new Set){const d=new Map;for(;c.length;){const p=c.pop();if(f.has(p)&&d[p]!==!0)continue;const h=l.getType(p);if(h){if((0,t.isUnionType)(h)&&c.push(...h.getTypes().map(v=>v.name)),(0,t.isInterfaceType)(h)&&d[p]===!0&&(c.push(...(0,u.getImplementingTypes)(h.name,l)),d[p]=!1),(0,t.isEnumType)(h)&&c.push(...h.getValues().flatMap(v=>v.astNode?a(l,v.astNode):[])),"getInterfaces"in h&&c.push(...h.getInterfaces().map(v=>v.name)),"getFields"in h){const v=h.getFields(),S=Object.entries(v);if(!S.length)continue;for(const[,D]of S){(0,t.isObjectType)(h)&&c.push(...D.args.flatMap(F=>{const I=[(0,t.getNamedType)(F.type).name];return F.astNode&&I.push(...a(l,F.astNode)),I}));const g=(0,t.getNamedType)(D.type);c.push(g.name),D.astNode&&c.push(...a(l,D.astNode)),(0,t.isInterfaceType)(g)&&!(g.name in d)&&(d[g.name]=!0)}}h.astNode&&c.push(...a(l,h.astNode)),f.add(p)}}return f}function a(c,l){var f;return((f=l.directives)!==null&&f!==void 0?f:[]).flatMap(d=>{var p,h;return(h=(p=c.getDirective(d.name.value))===null||p===void 0?void 0:p.args.map(v=>(0,t.getNamedType)(v.type).name))!==null&&h!==void 0?h:[]})}return Jo}var Ho={},mF;function aj(){if(mF)return Ho;mF=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.mergeDeep=void 0;const t=e0();function e(n,u=!1){const s=n[0]||{},i={};u&&Object.setPrototypeOf(i,Object.create(Object.getPrototypeOf(s)));for(const o of n)if(r(s)&&r(o)){if(u){const a=Object.getPrototypeOf(i),c=Object.getPrototypeOf(o);if(c)for(const l of Object.getOwnPropertyNames(c)){const f=Object.getOwnPropertyDescriptor(c,l);(0,t.isSome)(f)&&Object.defineProperty(a,l,f)}}for(const a in o)r(o[a])?a in i?i[a]=e([i[a],o[a]],u):Object.assign(i,{[a]:o[a]}):Object.assign(i,{[a]:o[a]})}return i}Ho.mergeDeep=e;function r(n){return n&&typeof n=="object"&&!Array.isArray(n)}return Ho}var Wo={},DF;function cj(){if(DF)return Wo;DF=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.parseSelectionSet=void 0;const t=Le;function e(r,n){return(0,t.parse)(r,n).definitions[0].selectionSet}return Wo.parseSelectionSet=e,Wo}var zo={},EF;function lj(){if(EF)return zo;EF=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.getResponseKeyFromInfo=void 0;function t(e){return e.fieldNodes[0].alias!=null?e.fieldNodes[0].alias.value:e.fieldName}return zo.getResponseKeyFromInfo=t,zo}var bn={},yF;function fj(){if(yF)return bn;yF=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.modifyObjectFields=bn.selectObjectFields=bn.removeObjectFields=bn.appendObjectFields=void 0;const t=Le,e=So(),r=qc(),n=q7();function u(a,c,l){return a.getType(c)==null?(0,n.addTypes)(a,[new t.GraphQLObjectType({name:c,fields:l})]):(0,r.mapSchema)(a,{[e.MapperKind.OBJECT_TYPE]:f=>{if(f.name===c){const d=f.toConfig(),p=d.fields,h={};for(const v in p)h[v]=p[v];for(const v in l)h[v]=l[v];return(0,r.correctASTNodes)(new t.GraphQLObjectType({...d,fields:h}))}}})}bn.appendObjectFields=u;function s(a,c,l){const f={};return[(0,r.mapSchema)(a,{[e.MapperKind.OBJECT_TYPE]:p=>{if(p.name===c){const h=p.toConfig(),v=h.fields,S={};for(const D in v){const g=v[D];l(D,g)?f[D]=g:S[D]=g}return(0,r.correctASTNodes)(new t.GraphQLObjectType({...h,fields:S}))}}}),f]}bn.removeObjectFields=s;function i(a,c,l){const f={};return(0,r.mapSchema)(a,{[e.MapperKind.OBJECT_TYPE]:d=>{if(d.name===c){const h=d.toConfig().fields;for(const v in h){const S=h[v];l(v,S)&&(f[v]=S)}}}}),f}bn.selectObjectFields=i;function o(a,c,l,f){const d={};return[(0,r.mapSchema)(a,{[e.MapperKind.OBJECT_TYPE]:h=>{if(h.name===c){const v=h.toConfig(),S=v.fields,D={};for(const g in S){const F=S[g];l(g,F)?d[g]=F:D[g]=F}for(const g in f){const F=f[g];D[g]=F}return(0,r.correctASTNodes)(new t.GraphQLObjectType({...v,fields:D}))}}}),d]}return bn.modifyObjectFields=o,bn}var Qo={},vF;function dj(){if(vF)return Qo;vF=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.renameType=void 0;const t=Le;function e(r,n){if((0,t.isObjectType)(r))return new t.GraphQLObjectType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});if((0,t.isInterfaceType)(r))return new t.GraphQLInterfaceType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});if((0,t.isUnionType)(r))return new t.GraphQLUnionType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});if((0,t.isInputObjectType)(r))return new t.GraphQLInputObjectType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});if((0,t.isEnumType)(r))return new t.GraphQLEnumType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});if((0,t.isScalarType)(r))return new t.GraphQLScalarType({...r.toConfig(),name:n,astNode:r.astNode==null?r.astNode:{...r.astNode,name:{...r.astNode.name,value:n}},extensionASTNodes:r.extensionASTNodes==null?r.extensionASTNodes:r.extensionASTNodes.map(u=>({...u,name:{...u.name,value:n}}))});throw new Error(`Unknown type ${r}.`)}return Qo.renameType=e,Qo}var Yo={},gF;function pj(){if(gF)return Yo;gF=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.mapAsyncIterator=void 0;function t(n,u,s){let i,o;typeof n.return=="function"&&(i=n.return,o=l=>{const f=()=>Promise.reject(l);return i.call(n).then(f,f)});function a(l){return l.done?l:e(l.value,u).then(r,o)}let c;if(s){const l=s;c=f=>e(f,l).then(r,o)}return{next(){return n.next().then(a,c)},return(){return i?i.call(n).then(a,c):Promise.resolve({value:void 0,done:!0})},throw(l){return typeof n.throw=="function"?n.throw(l).then(a,c):Promise.reject(l).catch(o)},[Symbol.asyncIterator](){return this}}}Yo.mapAsyncIterator=t;function e(n,u){return new Promise(s=>s(u(n)))}function r(n){return{value:n,done:!1}}return Yo}var $s={},AF;function hj(){if(AF)return $s;AF=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.createVariableNameGenerator=$s.updateArgument=void 0;const t=Le,e=B7();function r(u,s,i,o,a,c,l){if(u[o]={kind:t.Kind.ARGUMENT,name:{kind:t.Kind.NAME,value:o},value:{kind:t.Kind.VARIABLE,name:{kind:t.Kind.NAME,value:a}}},s[a]={kind:t.Kind.VARIABLE_DEFINITION,variable:{kind:t.Kind.VARIABLE,name:{kind:t.Kind.NAME,value:a}},type:(0,e.astFromType)(c)},l!==void 0){i[a]=l;return}a in i&&delete i[a]}$s.updateArgument=r;function n(u){let s=0;return i=>{let o;do o=`_v${(s++).toString()}_${i}`;while(o in u);return o}}return $s.createVariableNameGenerator=n,$s}var Xo={},SF;function mj(){if(SF)return Xo;SF=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.implementsAbstractType=void 0;const t=Le;function e(r,n,u){return u==null||n==null?!1:n===u?!0:(0,t.isCompositeType)(n)&&(0,t.isCompositeType)(u)?(0,t.doTypesOverlap)(r,n,u):!1}return Xo.implementsAbstractType=e,Xo}var Zo={},FF;function Dj(){if(FF)return Zo;FF=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.observableToAsyncIterable=void 0;function t(e){const r=[],n=[];let u=!0;const s=f=>{r.length!==0?r.shift()({value:f,done:!1}):n.push({value:f,done:!1})},i=f=>{r.length!==0?r.shift()({value:{errors:[f]},done:!1}):n.push({value:{errors:[f]},done:!1})},o=()=>{r.length!==0?r.shift()({done:!0}):n.push({done:!0})},a=()=>new Promise(f=>{if(n.length!==0){const d=n.shift();f(d)}else r.push(f)}),c=e.subscribe({next(f){s(f)},error(f){i(f)},complete(){o()}}),l=()=>{if(u){u=!1,c.unsubscribe();for(const f of r)f({value:void 0,done:!0});r.length=0,n.length=0}};return{next(){return u?a():this.return()},return(){return l(),Promise.resolve({value:void 0,done:!0})},throw(f){return l(),Promise.reject(f)},[Symbol.asyncIterator](){return this}}}return Zo.observableToAsyncIterable=t,Zo}var Tu={},Bs={},bF;function x7(){if(bF)return Bs;bF=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.getOperationASTFromRequest=Bs.getOperationASTFromDocument=void 0;const t=Le,e=Rc();function r(n,u){const s=(0,t.getOperationAST)(n,u);if(!s)throw new Error(`Cannot infer operation ${u||""}`);return s}return Bs.getOperationASTFromDocument=r,Bs.getOperationASTFromRequest=(0,e.memoize1)(function(u){return r(u.document,u.operationName)}),Bs}var Or={},Is={},CF;function M7(){if(CF)return Is;CF=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.GraphQLStreamDirective=Is.GraphQLDeferDirective=void 0;const t=Le;return Is.GraphQLDeferDirective=new t.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[t.DirectiveLocation.FRAGMENT_SPREAD,t.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new t.GraphQLNonNull(t.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:t.GraphQLString,description:"Unique name"}}}),Is.GraphQLStreamDirective=new t.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[t.DirectiveLocation.FIELD],args:{if:{type:new t.GraphQLNonNull(t.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:t.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:t.GraphQLInt,description:"Number of items to return immediately"}}}),Is}var ea={},_F;function Ej(){if(_F)return ea;_F=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.AccumulatorMap=void 0;let t=class extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(r,n){const u=this.get(r);u===void 0?this.set(r,[n]):u.push(n)}};return ea.AccumulatorMap=t,ea}var wF;function j7(){if(wF)return Or;wF=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.collectSubFields=Or.getDeferValues=Or.getFieldEntryKey=Or.doesFragmentConditionMatch=Or.shouldIncludeNode=Or.collectFields=void 0;const t=Rc(),e=Le,r=M7(),n=Ej();function u(l,f,d,p,h,v,S,D){for(const g of h.selections)switch(g.kind){case e.Kind.FIELD:{if(!i(d,g))continue;v.add(a(g),g);break}case e.Kind.INLINE_FRAGMENT:{if(!i(d,g)||!o(l,g,p))continue;const F=c(d,g);if(F){const I=new n.AccumulatorMap;u(l,f,d,p,g.selectionSet,I,S,D),S.push({label:F.label,fields:I})}else u(l,f,d,p,g.selectionSet,v,S,D);break}case e.Kind.FRAGMENT_SPREAD:{const F=g.name.value;if(!i(d,g))continue;const I=c(d,g);if(D.has(F)&&!I)continue;const k=f[F];if(!k||!o(l,k,p))continue;if(I||D.add(F),I){const B=new n.AccumulatorMap;u(l,f,d,p,k.selectionSet,B,S,D),S.push({label:I.label,fields:B})}else u(l,f,d,p,k.selectionSet,v,S,D);break}}}function s(l,f,d,p,h){const v=new n.AccumulatorMap,S=[];return u(l,f,d,p,h,v,S,new Set),{fields:v,patches:S}}Or.collectFields=s;function i(l,f){const d=(0,e.getDirectiveValues)(e.GraphQLSkipDirective,f,l);if((d==null?void 0:d.if)===!0)return!1;const p=(0,e.getDirectiveValues)(e.GraphQLIncludeDirective,f,l);return(p==null?void 0:p.if)!==!1}Or.shouldIncludeNode=i;function o(l,f,d){const p=f.typeCondition;if(!p)return!0;const h=(0,e.typeFromAST)(l,p);return h===d?!0:(0,e.isAbstractType)(h)?l.getPossibleTypes(h).includes(d):!1}Or.doesFragmentConditionMatch=o;function a(l){return l.alias?l.alias.value:l.name.value}Or.getFieldEntryKey=a;function c(l,f){const d=(0,e.getDirectiveValues)(r.GraphQLDeferDirective,f,l);if(d&&d.if!==!1)return{label:typeof d.label=="string"?d.label:void 0}}return Or.getDeferValues=c,Or.collectSubFields=(0,t.memoize5)(function(f,d,p,h,v){const S=new n.AccumulatorMap,D=new Set,g=[],F={fields:S,patches:g};for(const I of v)I.selectionSet&&u(f,d,p,h,I.selectionSet,S,g,D);return F}),Or}var TF;function yj(){if(TF)return Tu;TF=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.visitResult=Tu.visitErrors=Tu.visitData=void 0;const t=x7(),e=Le,r=j7();function n(v,S,D){if(Array.isArray(v))return v.map(g=>n(g,S,D));if(typeof v=="object"){const g=S!=null?S(v):v;if(g!=null)for(const F in g){const I=g[F];Object.defineProperty(g,F,{value:n(I,S,D)})}return D!=null?D(g):g}return v}Tu.visitData=n;function u(v,S){return v.map(D=>S(D))}Tu.visitErrors=u;function s(v,S,D,g,F){const I=S.document.definitions.reduce((L,U)=>(U.kind===e.Kind.FRAGMENT_DEFINITION&&(L[U.name.value]=U),L),{}),k=S.variables||{},B={segmentInfoMap:new Map,unpathedErrors:new Set},O=v.data,M=v.errors,y=M!=null&&F!=null,P=(0,t.getOperationASTFromRequest)(S);return O!=null&&P!=null&&(v.data=a(O,P,D,I,k,g,y?M:void 0,B)),M!=null&&F&&(v.errors=i(M,F,B)),v}Tu.visitResult=s;function i(v,S,D){const g=D.segmentInfoMap,F=D.unpathedErrors,I=S.__unpathed;return v.map(k=>{const B=g.get(k),O=B==null?k:B.reduceRight((M,y)=>{const P=y.type.name,L=S[P];if(L==null)return M;const U=L[y.fieldName];return U==null?M:U(M,y.pathIndex)},k);return I&&F.has(k)?I(O):O})}function o(v,S){switch(S.operation){case"query":return v.getQueryType();case"mutation":return v.getMutationType();case"subscription":return v.getSubscriptionType()}}function a(v,S,D,g,F,I,k,B){const O=o(D,S),{fields:M}=(0,r.collectFields)(D,g,F,O,S.selectionSet);return c(v,O,M,D,g,F,I,0,k,B)}function c(v,S,D,g,F,I,k,B,O,M){var y;const P=S.getFields(),L=k==null?void 0:k[S.name],U=L==null?void 0:L.__enter,Y=U!=null?U(v):v;let H,se=null;if(O!=null){H=p(O,B),se=H.errorMap;for(const z of H.unpathedErrors)M.unpathedErrors.add(z)}for(const[z,te]of D){const V=te[0].name.value;let N=(y=P[V])===null||y===void 0?void 0:y.type;if(N==null)switch(V){case"__typename":N=e.TypeNameMetaFieldDef.type;break;case"__schema":N=e.SchemaMetaFieldDef.type;break;case"__type":N=e.TypeMetaFieldDef.type;break}const A=B+1;let C;se&&(C=se[z],C!=null&&delete se[z],h(S,V,A,C,M));const E=d(v[z],N,te,g,F,I,k,A,C,M);l(Y,z,E,L,V)}const fe=Y.__typename;if(fe!=null&&l(Y,"__typename",fe,L,"__typename"),se)for(const z in se){const te=se[z];for(const V of te)M.unpathedErrors.add(V)}const K=L==null?void 0:L.__leave;return K!=null?K(Y):Y}function l(v,S,D,g,F){if(g==null){v[S]=D;return}const I=g[F];if(I==null){v[S]=D;return}const k=I(D);if(k===void 0){delete v[S];return}v[S]=k}function f(v,S,D,g,F,I,k,B,O,M){return v.map(y=>d(y,S,D,g,F,I,k,B+1,O,M))}function d(v,S,D,g,F,I,k,B,O=[],M){if(v==null)return v;const y=(0,e.getNullableType)(S);if((0,e.isListType)(y))return f(v,y.ofType,D,g,F,I,k,B,O,M);if((0,e.isAbstractType)(y)){const U=g.getType(v.__typename),{fields:Y}=(0,r.collectSubFields)(g,F,I,U,D);return c(v,U,Y,g,F,I,k,B,O,M)}else if((0,e.isObjectType)(y)){const{fields:U}=(0,r.collectSubFields)(g,F,I,y,D);return c(v,y,U,g,F,I,k,B,O,M)}const P=k==null?void 0:k[y.name];if(P==null)return v;const L=P(v);return L===void 0?v:L}function p(v,S){var D;const g=Object.create(null),F=new Set;for(const I of v){const k=(D=I.path)===null||D===void 0?void 0:D[S];if(k==null){F.add(I);continue}k in g?g[k].push(I):g[k]=[I]}return{errorMap:g,unpathedErrors:F}}function h(v,S,D,g=[],F){for(const I of g){const k={type:v,fieldName:S,pathIndex:D},B=F.segmentInfoMap.get(I);B==null?F.segmentInfoMap.set(I,[k]):B.push(k)}}return Tu}var ta={},$F;function vj(){if($F)return ta;$F=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.valueMatchesCriteria=void 0;function t(e,r){return e==null?e===r:Array.isArray(e)?Array.isArray(r)&&e.every((n,u)=>t(n,r[u])):typeof e=="object"?typeof r=="object"&&r&&Object.keys(r).every(n=>t(e[n],r[n])):r instanceof RegExp?r.test(e):e===r}return ta.valueMatchesCriteria=t,ta}var ra={},BF;function gj(){if(BF)return ra;BF=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.isAsyncIterable=void 0;function t(e){return typeof e=="object"&&e!=null&&Symbol.asyncIterator in e&&typeof e[Symbol.asyncIterator]=="function"}return ra.isAsyncIterable=t,ra}var na={},IF;function Aj(){if(IF)return na;IF=1,Object.defineProperty(na,"__esModule",{value:!0}),na.isDocumentNode=void 0;const t=Le;function e(r){return r&&typeof r=="object"&&"kind"in r&&r.kind===t.Kind.DOCUMENT}return na.isDocumentNode=e,na}var Th={},PF;function Sj(){return PF||(PF=1,Object.defineProperty(Th,"__esModule",{value:!0})),Th}var $u={},kF;function Fj(){if(kF)return $u;kF=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.withCancel=$u.getAsyncIterableWithCancel=$u.getAsyncIteratorWithCancel=void 0;const t=Rc();async function e(s){return{value:s,done:!0}}const r=(0,t.memoize2)(function(i,o){return function(...c){return Reflect.apply(o,i,c)}});function n(s,i){return new Proxy(s,{has(o,a){return a==="return"?!0:Reflect.has(o,a)},get(o,a,c){const l=Reflect.get(o,a,c);if(a==="return"){const f=l||e;return async function(p){const h=await i(p);return Reflect.apply(f,o,[h])}}else if(typeof l=="function")return r(o,l);return l}})}$u.getAsyncIteratorWithCancel=n;function u(s,i){return new Proxy(s,{get(o,a,c){const l=Reflect.get(o,a,c);return Symbol.asyncIterator===a?function(){const d=Reflect.apply(l,o,[]);return n(d,i)}:typeof l=="function"?r(o,l):l}})}return $u.getAsyncIterableWithCancel=u,$u.withCancel=u,$u}var ua={},OF;function bj(){if(OF)return ua;OF=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.fixSchemaAst=void 0;const t=Le,e=P7();function r(u,s){const i=(0,e.getDocumentNodeFromSchema)(u);return(0,t.buildASTSchema)(i,{...s||{}})}function n(u,s){let i;return(!u.astNode||!u.extensionASTNodes)&&(i=r(u,s)),!u.astNode&&(i!=null&&i.astNode)&&(u.astNode=i.astNode),!u.extensionASTNodes&&(i!=null&&i.astNode)&&(u.extensionASTNodes=i.extensionASTNodes),u}return ua.fixSchemaAst=n,ua}var sa={},NF;function Cj(){if(NF)return sa;NF=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.extractExtensionsFromSchema=void 0;const t=qc(),e=So();function r(n){const u={schemaExtensions:n.extensions||{},types:{}};return(0,t.mapSchema)(n,{[e.MapperKind.OBJECT_TYPE]:s=>(u.types[s.name]={fields:{},type:"object",extensions:s.extensions||{}},s),[e.MapperKind.INTERFACE_TYPE]:s=>(u.types[s.name]={fields:{},type:"interface",extensions:s.extensions||{}},s),[e.MapperKind.FIELD]:(s,i,o)=>{u.types[o].fields[i]={arguments:{},extensions:s.extensions||{}};const a=s.args;if(a!=null)for(const c in a)u.types[o].fields[i].arguments[c]=a[c].extensions||{};return s},[e.MapperKind.ENUM_TYPE]:s=>(u.types[s.name]={values:{},type:"enum",extensions:s.extensions||{}},s),[e.MapperKind.ENUM_VALUE]:(s,i,o,a)=>(u.types[i].values[a]=s.extensions||{},s),[e.MapperKind.SCALAR_TYPE]:s=>(u.types[s.name]={type:"scalar",extensions:s.extensions||{}},s),[e.MapperKind.UNION_TYPE]:s=>(u.types[s.name]={type:"union",extensions:s.extensions||{}},s),[e.MapperKind.INPUT_OBJECT_TYPE]:s=>(u.types[s.name]={fields:{},type:"input",extensions:s.extensions||{}},s),[e.MapperKind.INPUT_OBJECT_FIELD]:(s,i,o)=>(u.types[o].fields[i]={extensions:s.extensions||{}},s)}),u}return sa.extractExtensionsFromSchema=r,sa}var Bu={},RF;function _j(){if(RF)return Bu;RF=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.printPathArray=Bu.pathToArray=Bu.addPath=void 0;function t(n,u,s){return{prev:n,key:u,typename:s}}Bu.addPath=t;function e(n){const u=[];let s=n;for(;s;)u.push(s.key),s=s.prev;return u.reverse()}Bu.pathToArray=e;function r(n){return n.map(u=>typeof u=="number"?"["+u.toString()+"]":"."+u).join("")}return Bu.printPathArray=r,Bu}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Du;e.__exportStar(zM(),t),e.__exportStar(e0(),t),e.__exportStar(T7(),t),e.__exportStar(G4(),t),e.__exportStar(QM(),t),e.__exportStar($7(),t),e.__exportStar(P7(),t),e.__exportStar(G4(),t),e.__exportStar(YM(),t),e.__exportStar(XM(),t),e.__exportStar(ZM(),t),e.__exportStar(ej(),t),e.__exportStar(tj(),t),e.__exportStar(rj(),t),e.__exportStar(nj(),t),e.__exportStar(uj(),t),e.__exportStar(sj(),t),e.__exportStar(ij(),t),e.__exportStar(qc(),t),e.__exportStar(q7(),t),e.__exportStar(BD(),t),e.__exportStar(oj(),t),e.__exportStar(aj(),t),e.__exportStar(So(),t),e.__exportStar(N7(),t),e.__exportStar(cj(),t),e.__exportStar(lj(),t),e.__exportStar(fj(),t),e.__exportStar(dj(),t),e.__exportStar(R7(),t),e.__exportStar(pj(),t),e.__exportStar(hj(),t),e.__exportStar(mj(),t),e.__exportStar(TD(),t),e.__exportStar(Dj(),t),e.__exportStar(yj(),t),e.__exportStar(w7(),t),e.__exportStar(vj(),t),e.__exportStar(gj(),t),e.__exportStar(Aj(),t),e.__exportStar(I7(),t),e.__exportStar(Sj(),t),e.__exportStar(Fj(),t),e.__exportStar(_7(),t),e.__exportStar(t0(),t),e.__exportStar(k7(),t),e.__exportStar(j7(),t),e.__exportStar($D(),t),e.__exportStar(Rc(),t),e.__exportStar(bj(),t),e.__exportStar(x7(),t),e.__exportStar(Cj(),t),e.__exportStar(_j(),t),e.__exportStar(C7(),t),e.__exportStar(M7(),t)})(Tr);Object.defineProperty(wc,"__esModule",{value:!0});wc.assertResolversPresent=void 0;const qF=Le,wj=Tr;function Tj(t,e={}){const{requireResolversForArgs:r,requireResolversForNonScalar:n,requireResolversForAllFields:u}=e;if(u&&(r||n))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");(0,wj.forEachField)(t,(s,i,o)=>{u&&$h("requireResolversForAllFields",u,s,i,o),r&&s.args.length>0&&$h("requireResolversForArgs",r,s,i,o),n!=="ignore"&&!(0,qF.isScalarType)((0,qF.getNamedType)(s.type))&&$h("requireResolversForNonScalar",n,s,i,o)})}wc.assertResolversPresent=Tj;function $h(t,e,r,n,u){if(!r.resolve){const s=`Resolver missing for "${n}.${u}".
To disable this validator, use:
  resolverValidationOptions: {
    ${t}: 'ignore'
  }`;if(e==="error")throw new Error(s);e==="warn"&&console.warn(s);return}if(typeof r.resolve!="function")throw new Error(`Resolver "${n}.${u}" must be a function`)}var r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.chainResolvers=void 0;const $j=Le;function Bj(t){return(e,r,n,u)=>t.reduce((s,i)=>i!=null?i(s,r,n,u):(0,$j.defaultFieldResolver)(s,r,n,u),e)}r0.chainResolvers=Bj;var xc={},Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.checkForResolveTypeResolver=void 0;const xF=Tr;function Ij(t,e){(0,xF.mapSchema)(t,{[xF.MapperKind.ABSTRACT_TYPE]:r=>{if(!r.resolveType){const n=`Type "${r.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(e==="error")throw new Error(n);e==="warn"&&console.warn(n)}}})}Mc.checkForResolveTypeResolver=Ij;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.extendResolversFromInterfaces=void 0;function Pj(t,e){const r={},n=t.getTypeMap();for(const u in n){const s=n[u];if("getInterfaces"in s){r[u]={};for(const o of s.getInterfaces())if(e[o.name])for(const a in e[o.name])(a==="__isTypeOf"||!a.startsWith("__"))&&(r[u][a]=e[o.name][a]);const i=e[u];r[u]={...r[u],...i}}else{const i=e[u];i!=null&&(r[u]=i)}}return r}jc.extendResolversFromInterfaces=Pj;Object.defineProperty(xc,"__esModule",{value:!0});xc.addResolversToSchema=void 0;const br=Le,Nr=Tr,kj=Mc,Oj=jc;function Nj({schema:t,resolvers:e,defaultFieldResolver:r,resolverValidationOptions:n={},inheritResolversFromInterfaces:u=!1,updateResolversInPlace:s=!1}){const{requireResolversToMatchSchema:i="error",requireResolversForResolveType:o}=n,a=u?(0,Oj.extendResolversFromInterfaces)(t,e):e;for(const c in a){const l=a[c];if(typeof l!=="object")throw new Error(`"${c}" defined in resolvers, but has invalid value "${l}". The resolver's value must be of type object.`);const d=t.getType(c);if(d==null){if(i==="ignore")continue;throw new Error(`"${c}" defined in resolvers, but not in schema`)}else if((0,br.isSpecifiedScalarType)(d))for(const p in l)p.startsWith("__")?d[p.substring(2)]=l[p]:d[p]=l[p];else if((0,br.isEnumType)(d)){const p=d.getValues();for(const h in l)if(!h.startsWith("__")&&!p.some(v=>v.name===h)&&i&&i!=="ignore")throw new Error(`${d.name}.${h} was defined in resolvers, but not present within ${d.name}`)}else if((0,br.isUnionType)(d)){for(const p in l)if(!p.startsWith("__")&&i&&i!=="ignore")throw new Error(`${d.name}.${p} was defined in resolvers, but ${d.name} is not an object or interface type`)}else if((0,br.isObjectType)(d)||(0,br.isInterfaceType)(d)){for(const p in l)if(!p.startsWith("__"))if(d.getFields()[p]==null){if(i&&i!=="ignore")throw new Error(`${c}.${p} defined in resolvers, but not in schema`)}else{const S=l[p];if(typeof S!="function"&&typeof S!="object")throw new Error(`Resolver ${c}.${p} must be object or function`)}}}return t=s?Rj(t,a,r):qj(t,a,r),o&&o!=="ignore"&&(0,kj.checkForResolveTypeResolver)(t,o),t}xc.addResolversToSchema=Nj;function Rj(t,e,r){var n,u,s,i,o,a,c,l,f,d,p,h;const v=t.getTypeMap();for(const S in e){const D=t.getType(S),g=e[S];if((0,br.isScalarType)(D))for(const F in g)F.startsWith("__")?D[F.substring(2)]=g[F]:F==="astNode"&&D.astNode!=null?D.astNode={...D.astNode,description:(u=(n=g==null?void 0:g.astNode)===null||n===void 0?void 0:n.description)!==null&&u!==void 0?u:D.astNode.description,directives:((s=D.astNode.directives)!==null&&s!==void 0?s:[]).concat((o=(i=g==null?void 0:g.astNode)===null||i===void 0?void 0:i.directives)!==null&&o!==void 0?o:[])}:F==="extensionASTNodes"&&D.extensionASTNodes!=null?D.extensionASTNodes=D.extensionASTNodes.concat((a=g==null?void 0:g.extensionASTNodes)!==null&&a!==void 0?a:[]):F==="extensions"&&D.extensions!=null&&g.extensions!=null?D.extensions=Object.assign(Object.create(null),D.extensions,g.extensions):D[F]=g[F];else if((0,br.isEnumType)(D)){const F=D.toConfig(),I=F.values;for(const k in g)k.startsWith("__")?F[k.substring(2)]=g[k]:k==="astNode"&&F.astNode!=null?F.astNode={...F.astNode,description:(l=(c=g==null?void 0:g.astNode)===null||c===void 0?void 0:c.description)!==null&&l!==void 0?l:F.astNode.description,directives:((f=F.astNode.directives)!==null&&f!==void 0?f:[]).concat((p=(d=g==null?void 0:g.astNode)===null||d===void 0?void 0:d.directives)!==null&&p!==void 0?p:[])}:k==="extensionASTNodes"&&F.extensionASTNodes!=null?F.extensionASTNodes=F.extensionASTNodes.concat((h=g==null?void 0:g.extensionASTNodes)!==null&&h!==void 0?h:[]):k==="extensions"&&D.extensions!=null&&g.extensions!=null?D.extensions=Object.assign(Object.create(null),D.extensions,g.extensions):I[k]&&(I[k].value=g[k]);v[S]=new br.GraphQLEnumType(F)}else if((0,br.isUnionType)(D))for(const F in g)F.startsWith("__")&&(D[F.substring(2)]=g[F]);else if((0,br.isObjectType)(D)||(0,br.isInterfaceType)(D))for(const F in g){if(F.startsWith("__")){D[F.substring(2)]=g[F];continue}const k=D.getFields()[F];if(k!=null){const B=g[F];typeof B=="function"?k.resolve=B.bind(g):L7(k,B)}}}return(0,Nr.forEachDefaultValue)(t,Nr.serializeInputValue),(0,Nr.healSchema)(t),(0,Nr.forEachDefaultValue)(t,Nr.parseInputValue),r!=null&&(0,Nr.forEachField)(t,S=>{S.resolve||(S.resolve=r)}),t}function qj(t,e,r){return t=(0,Nr.mapSchema)(t,{[Nr.MapperKind.SCALAR_TYPE]:n=>{var u,s,i,o,a,c;const l=n.toConfig(),f=e[n.name];if(!(0,br.isSpecifiedScalarType)(n)&&f!=null){for(const d in f)d.startsWith("__")?l[d.substring(2)]=f[d]:d==="astNode"&&l.astNode!=null?l.astNode={...l.astNode,description:(s=(u=f==null?void 0:f.astNode)===null||u===void 0?void 0:u.description)!==null&&s!==void 0?s:l.astNode.description,directives:((i=l.astNode.directives)!==null&&i!==void 0?i:[]).concat((a=(o=f==null?void 0:f.astNode)===null||o===void 0?void 0:o.directives)!==null&&a!==void 0?a:[])}:d==="extensionASTNodes"&&l.extensionASTNodes!=null?l.extensionASTNodes=l.extensionASTNodes.concat((c=f==null?void 0:f.extensionASTNodes)!==null&&c!==void 0?c:[]):d==="extensions"&&l.extensions!=null&&f.extensions!=null?l.extensions=Object.assign(Object.create(null),n.extensions,f.extensions):l[d]=f[d];return new br.GraphQLScalarType(l)}},[Nr.MapperKind.ENUM_TYPE]:n=>{var u,s,i,o,a,c;const l=e[n.name],f=n.toConfig(),d=f.values;if(l!=null){for(const p in l)p.startsWith("__")?f[p.substring(2)]=l[p]:p==="astNode"&&f.astNode!=null?f.astNode={...f.astNode,description:(s=(u=l==null?void 0:l.astNode)===null||u===void 0?void 0:u.description)!==null&&s!==void 0?s:f.astNode.description,directives:((i=f.astNode.directives)!==null&&i!==void 0?i:[]).concat((a=(o=l==null?void 0:l.astNode)===null||o===void 0?void 0:o.directives)!==null&&a!==void 0?a:[])}:p==="extensionASTNodes"&&f.extensionASTNodes!=null?f.extensionASTNodes=f.extensionASTNodes.concat((c=l==null?void 0:l.extensionASTNodes)!==null&&c!==void 0?c:[]):p==="extensions"&&f.extensions!=null&&l.extensions!=null?f.extensions=Object.assign(Object.create(null),n.extensions,l.extensions):d[p]&&(d[p].value=l[p]);return new br.GraphQLEnumType(f)}},[Nr.MapperKind.UNION_TYPE]:n=>{const u=e[n.name];if(u!=null){const s=n.toConfig();return u.__resolveType&&(s.resolveType=u.__resolveType),new br.GraphQLUnionType(s)}},[Nr.MapperKind.OBJECT_TYPE]:n=>{const u=e[n.name];if(u!=null){const s=n.toConfig();return u.__isTypeOf&&(s.isTypeOf=u.__isTypeOf),new br.GraphQLObjectType(s)}},[Nr.MapperKind.INTERFACE_TYPE]:n=>{const u=e[n.name];if(u!=null){const s=n.toConfig();return u.__resolveType&&(s.resolveType=u.__resolveType),new br.GraphQLInterfaceType(s)}},[Nr.MapperKind.COMPOSITE_FIELD]:(n,u,s)=>{const i=e[s];if(i!=null){const o=i[u];if(o!=null){const a={...n};return typeof o=="function"?a.resolve=o.bind(i):L7(a,o),a}}}}),r!=null&&(t=(0,Nr.mapSchema)(t,{[Nr.MapperKind.OBJECT_FIELD]:n=>({...n,resolve:n.resolve!=null?n.resolve:r})})),t}function L7(t,e){for(const r in e)t[r]=e[r]}var ia={},Bh={},oa={},MF;function xj(){if(MF)return oa;MF=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.mergeResolvers=void 0;const t=Tr;function e(r,n){if(!r||Array.isArray(r)&&r.length===0)return{};if(!Array.isArray(r))return r;if(r.length===1)return r[0]||{};const u=new Array;for(let i of r)Array.isArray(i)&&(i=e(i)),typeof i=="object"&&i&&u.push(i);const s=(0,t.mergeDeep)(u,!0);if(n!=null&&n.exclusions)for(const i of n.exclusions){const[o,a]=i.split(".");!a||a==="*"?delete s[o]:s[o]&&delete s[o][a]}return s}return oa.mergeResolvers=e,oa}var Ih={},aa={},jF;function G7(){if(jF)return aa;jF=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.mergeArguments=void 0;const t=Tr;function e(n,u,s){const i=r([...u,...n].filter(t.isSome));return s&&s.sort&&i.sort(t.compareNodes),i}aa.mergeArguments=e;function r(n){return n.reduce((u,s)=>u.find(o=>o.name.value===s.name.value)?u:u.concat([s]),[])}return aa}var Ps={},LF;function Kn(){if(LF)return Ps;LF=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.mergeDirective=Ps.mergeDirectives=void 0;const t=Le,e=Tr;function r(l,f){return!!l.find(d=>d.name.value===f.name.value)}function n(l,f){return f.some(({value:d})=>d===l.value)}function u(l,f){const d=[...f];for(const p of l){const h=d.findIndex(v=>v.name.value===p.name.value);if(h>-1){const v=d[h];if(v.value.kind==="ListValue"){const S=v.value.values,D=p.value.values;v.value.values=c(S,D,(g,F)=>{const I=g.value;return!I||!F.some(k=>k.value===I)})}else v.value=p.value}else d.push(p)}return d}function s(l){return l.map((f,d,p)=>{const h=p.findIndex(v=>v.name.value===f.name.value);if(h!==d){const v=p[h];return f.arguments=u(f.arguments,v.arguments),null}return f}).filter(e.isSome)}function i(l=[],f=[],d){const p=d&&d.reverseDirectives,h=p?l:f,v=p?f:l,S=s([...h]);for(const D of v)if(r(S,D)){const g=S.findIndex(I=>I.name.value===D.name.value),F=S[g];S[g].arguments=u(D.arguments||[],F.arguments||[])}else S.push(D);return S}Ps.mergeDirectives=i;function o(l,f){const d=(0,t.print)({...l,description:void 0}),p=(0,t.print)({...f,description:void 0}),h=new RegExp("(directive @w*d*)|( on .*$)","g");if(!(d.replace(h,"")===p.replace(h,"")))throw new Error(`Unable to merge GraphQL directive "${l.name.value}". 
Existing directive:  
	${p} 
Received directive: 
	${d}`)}function a(l,f){return f?(o(l,f),{...l,locations:[...f.locations,...l.locations.filter(d=>!n(d,f.locations))]}):l}Ps.mergeDirective=a;function c(l,f,d){return l.concat(f.filter(p=>d(p,l)))}return Ps}var ca={},GF;function V7(){if(GF)return ca;GF=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.mergeEnumValues=void 0;const t=Kn(),e=Tr;function r(n,u,s){if(s!=null&&s.consistentEnumMerge){const a=[];n&&a.push(...n),n=u,u=a}const i=new Map;if(n)for(const a of n)i.set(a.name.value,a);if(u)for(const a of u){const c=a.name.value;if(i.has(c)){const l=i.get(c);l.description=a.description||l.description,l.directives=(0,t.mergeDirectives)(a.directives,l.directives)}else i.set(c,a)}const o=[...i.values()];return s&&s.sort&&o.sort(e.compareNodes),o}return ca.mergeEnumValues=r,ca}var la={},VF;function U7(){if(VF)return la;VF=1,Object.defineProperty(la,"__esModule",{value:!0}),la.mergeEnum=void 0;const t=Le,e=Kn(),r=V7();function n(u,s,i){return s?{name:u.name,description:u.description||s.description,kind:i!=null&&i.convertExtensions||u.kind==="EnumTypeDefinition"||s.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:u.loc,directives:(0,e.mergeDirectives)(u.directives,s.directives,i),values:(0,r.mergeEnumValues)(u.values,s.values,i)}:i!=null&&i.convertExtensions?{...u,kind:t.Kind.ENUM_TYPE_DEFINITION}:u}return la.mergeEnum=n,la}var fa={},Ph={},UF;function ID(){return UF||(UF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStringComparator=t.CompareVal=t.printTypeNode=t.isNonNullTypeNode=t.isListTypeNode=t.isWrappingTypeNode=t.extractType=t.isSourceTypes=t.isStringTypes=void 0;const e=Le;function r(f){return typeof f=="string"}t.isStringTypes=r;function n(f){return f instanceof e.Source}t.isSourceTypes=n;function u(f){let d=f;for(;d.kind===e.Kind.LIST_TYPE||d.kind==="NonNullType";)d=d.type;return d}t.extractType=u;function s(f){return f.kind!==e.Kind.NAMED_TYPE}t.isWrappingTypeNode=s;function i(f){return f.kind===e.Kind.LIST_TYPE}t.isListTypeNode=i;function o(f){return f.kind===e.Kind.NON_NULL_TYPE}t.isNonNullTypeNode=o;function a(f){return i(f)?`[${a(f.type)}]`:o(f)?`${a(f.type)}!`:f.name.value}t.printTypeNode=a;var c;(function(f){f[f.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",f[f.A_EQUALS_B=0]="A_EQUALS_B",f[f.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"})(c=t.CompareVal||(t.CompareVal={}));function l(f,d){return f==null&&d==null?c.A_EQUALS_B:f==null?c.A_SMALLER_THAN_B:d==null?c.A_GREATER_THAN_B:f<d?c.A_SMALLER_THAN_B:f>d?c.A_GREATER_THAN_B:c.A_EQUALS_B}t.defaultStringComparator=l}(Ph)),Ph}var KF;function n0(){if(KF)return fa;KF=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.mergeFields=void 0;const t=ID(),e=Kn(),r=Tr,n=G7();function u(a,c,l){const f=a.find(d=>d.name.value===c.name.value);if(f&&!(l!=null&&l.ignoreFieldConflicts)){const d=(0,t.extractType)(f.type),p=(0,t.extractType)(c.type);if(d.name.value!==p.name.value)throw new Error(`Field "${c.name.value}" already defined with a different type. Declared as "${d.name.value}", but you tried to override with "${p.name.value}"`)}return!!f}function s(a,c,l,f){const d=[];if(l!=null&&d.push(...l),c!=null)for(const p of c)if(u(d,p,f)){const h=d.find(v=>v.name.value===p.name.value);f!=null&&f.ignoreFieldConflicts||(f!=null&&f.throwOnConflict?i(a,h,p,!1):i(a,h,p,!0),(0,t.isNonNullTypeNode)(p.type)&&!(0,t.isNonNullTypeNode)(h.type)&&(h.type=p.type)),h.arguments=(0,n.mergeArguments)(p.arguments||[],h.arguments||[],f),h.directives=(0,e.mergeDirectives)(p.directives,h.directives,f),h.description=p.description||h.description}else d.push(p);if(f&&f.sort&&d.sort(r.compareNodes),f&&f.exclusions){const p=f.exclusions;return d.filter(h=>!p.includes(`${a.name.value}.${h.name.value}`))}return d}fa.mergeFields=s;function i(a,c,l,f=!1){const d=(0,t.printTypeNode)(c.type),p=(0,t.printTypeNode)(l.type);if(d!==p&&!o(c.type,l.type,f))throw new Error(`Field '${a.name.value}.${c.name.value}' changed type from '${d}' to '${p}'`)}function o(a,c,l=!1){if(!(0,t.isWrappingTypeNode)(a)&&!(0,t.isWrappingTypeNode)(c))return a.toString()===c.toString();if((0,t.isNonNullTypeNode)(c)){const f=(0,t.isNonNullTypeNode)(a)?a.type:a;return o(f,c.type)}return(0,t.isNonNullTypeNode)(a)?o(c,a,l):(0,t.isListTypeNode)(a)?(0,t.isListTypeNode)(c)&&o(a.type,c.type)||(0,t.isNonNullTypeNode)(c)&&o(a,c.type):!1}return fa}var da={},JF;function K7(){if(JF)return da;JF=1,Object.defineProperty(da,"__esModule",{value:!0}),da.mergeInputType=void 0;const t=Le,e=n0(),r=Kn();function n(u,s,i){if(s)try{return{name:u.name,description:u.description||s.description,kind:i!=null&&i.convertExtensions||u.kind==="InputObjectTypeDefinition"||s.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:u.loc,fields:(0,e.mergeFields)(u,u.fields,s.fields,i),directives:(0,r.mergeDirectives)(u.directives,s.directives,i)}}catch(o){throw new Error(`Unable to merge GraphQL input type "${u.name.value}": ${o.message}`)}return i!=null&&i.convertExtensions?{...u,kind:t.Kind.INPUT_OBJECT_TYPE_DEFINITION}:u}return da.mergeInputType=n,da}var pa={},ha={},HF;function u0(){if(HF)return ha;HF=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.mergeNamedTypeArray=void 0;const t=Tr;function e(n,u){return!!n.find(s=>s.name.value===u.name.value)}function r(n=[],u=[],s={}){const i=[...u,...n.filter(o=>!e(u,o))];return s&&s.sort&&i.sort(t.compareNodes),i}return ha.mergeNamedTypeArray=r,ha}var WF;function J7(){if(WF)return pa;WF=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.mergeInterface=void 0;const t=Le,e=n0(),r=Kn(),n=u0();function u(s,i,o){if(i)try{return{name:s.name,description:s.description||i.description,kind:o!=null&&o.convertExtensions||s.kind==="InterfaceTypeDefinition"||i.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:s.loc,fields:(0,e.mergeFields)(s,s.fields,i.fields,o),directives:(0,r.mergeDirectives)(s.directives,i.directives,o),interfaces:s.interfaces?(0,n.mergeNamedTypeArray)(s.interfaces,i.interfaces,o):void 0}}catch(a){throw new Error(`Unable to merge GraphQL interface "${s.name.value}": ${a.message}`)}return o!=null&&o.convertExtensions?{...s,kind:t.Kind.INTERFACE_TYPE_DEFINITION}:s}return pa.mergeInterface=u,pa}var kh={},ma={},zF;function H7(){if(zF)return ma;zF=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.mergeType=void 0;const t=Le,e=n0(),r=Kn(),n=u0();function u(s,i,o){if(i)try{return{name:s.name,description:s.description||i.description,kind:o!=null&&o.convertExtensions||s.kind==="ObjectTypeDefinition"||i.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:s.loc,fields:(0,e.mergeFields)(s,s.fields,i.fields,o),directives:(0,r.mergeDirectives)(s.directives,i.directives,o),interfaces:(0,n.mergeNamedTypeArray)(s.interfaces,i.interfaces,o)}}catch(a){throw new Error(`Unable to merge GraphQL type "${s.name.value}": ${a.message}`)}return o!=null&&o.convertExtensions?{...s,kind:t.Kind.OBJECT_TYPE_DEFINITION}:s}return ma.mergeType=u,ma}var Da={},QF;function W7(){if(QF)return Da;QF=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.mergeScalar=void 0;const t=Le,e=Kn();function r(n,u,s){return u?{name:n.name,description:n.description||u.description,kind:s!=null&&s.convertExtensions||n.kind==="ScalarTypeDefinition"||u.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:n.loc,directives:(0,e.mergeDirectives)(n.directives,u.directives,s)}:s!=null&&s.convertExtensions?{...n,kind:t.Kind.SCALAR_TYPE_DEFINITION}:n}return Da.mergeScalar=r,Da}var Ea={},YF;function z7(){if(YF)return Ea;YF=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.mergeUnion=void 0;const t=Le,e=Kn(),r=u0();function n(u,s,i){return s?{name:u.name,description:u.description||s.description,directives:(0,e.mergeDirectives)(u.directives,s.directives,i),kind:i!=null&&i.convertExtensions||u.kind==="UnionTypeDefinition"||s.kind==="UnionTypeDefinition"?t.Kind.UNION_TYPE_DEFINITION:t.Kind.UNION_TYPE_EXTENSION,loc:u.loc,types:(0,r.mergeNamedTypeArray)(u.types,s.types,i)}:i!=null&&i.convertExtensions?{...u,kind:t.Kind.UNION_TYPE_DEFINITION}:u}return Ea.mergeUnion=n,Ea}var Oh={},XF;function Q7(){return XF||(XF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeSchemaDefs=t.DEFAULT_OPERATION_TYPE_NAME_MAP=void 0;const e=Le,r=Kn();t.DEFAULT_OPERATION_TYPE_NAME_MAP={query:"Query",mutation:"Mutation",subscription:"Subscription"};function n(s=[],i=[]){const o=[];for(const a in t.DEFAULT_OPERATION_TYPE_NAME_MAP){const c=s.find(l=>l.operation===a)||i.find(l=>l.operation===a);c&&o.push(c)}return o}function u(s,i,o){return i?{kind:s.kind===e.Kind.SCHEMA_DEFINITION||i.kind===e.Kind.SCHEMA_DEFINITION?e.Kind.SCHEMA_DEFINITION:e.Kind.SCHEMA_EXTENSION,description:s.description||i.description,directives:(0,r.mergeDirectives)(s.directives,i.directives,o),operationTypes:n(s.operationTypes,i.operationTypes)}:o!=null&&o.convertExtensions?{...s,kind:e.Kind.SCHEMA_DEFINITION}:s}t.mergeSchemaDefs=u}(Oh)),Oh}var ZF;function Y7(){return ZF||(ZF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeGraphQLNodes=t.isNamedDefinitionNode=t.schemaDefSymbol=void 0;const e=Le,r=H7(),n=U7(),u=W7(),s=z7(),i=K7(),o=J7(),a=Kn(),c=Q7(),l=Tr;t.schemaDefSymbol="SCHEMA_DEF_SYMBOL";function f(p){return"name"in p}t.isNamedDefinitionNode=f;function d(p,h){var v,S,D;const g={};for(const F of p)if(f(F)){const I=(v=F.name)===null||v===void 0?void 0:v.value;if(h!=null&&h.commentDescriptions&&(0,l.collectComment)(F),I==null)continue;if(!((S=h==null?void 0:h.exclusions)===null||S===void 0)&&S.includes(I+".*")||!((D=h==null?void 0:h.exclusions)===null||D===void 0)&&D.includes(I))delete g[I];else switch(F.kind){case e.Kind.OBJECT_TYPE_DEFINITION:case e.Kind.OBJECT_TYPE_EXTENSION:g[I]=(0,r.mergeType)(F,g[I],h);break;case e.Kind.ENUM_TYPE_DEFINITION:case e.Kind.ENUM_TYPE_EXTENSION:g[I]=(0,n.mergeEnum)(F,g[I],h);break;case e.Kind.UNION_TYPE_DEFINITION:case e.Kind.UNION_TYPE_EXTENSION:g[I]=(0,s.mergeUnion)(F,g[I],h);break;case e.Kind.SCALAR_TYPE_DEFINITION:case e.Kind.SCALAR_TYPE_EXTENSION:g[I]=(0,u.mergeScalar)(F,g[I],h);break;case e.Kind.INPUT_OBJECT_TYPE_DEFINITION:case e.Kind.INPUT_OBJECT_TYPE_EXTENSION:g[I]=(0,i.mergeInputType)(F,g[I],h);break;case e.Kind.INTERFACE_TYPE_DEFINITION:case e.Kind.INTERFACE_TYPE_EXTENSION:g[I]=(0,o.mergeInterface)(F,g[I],h);break;case e.Kind.DIRECTIVE_DEFINITION:g[I]=(0,a.mergeDirective)(F,g[I]);break}}else(F.kind===e.Kind.SCHEMA_DEFINITION||F.kind===e.Kind.SCHEMA_EXTENSION)&&(g[t.schemaDefSymbol]=(0,c.mergeSchemaDefs)(F,g[t.schemaDefSymbol],h));return g}t.mergeGraphQLNodes=d}(kh)),kh}var ks={},eb;function Mj(){if(eb)return ks;eb=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.mergeGraphQLTypes=ks.mergeTypeDefs=void 0;const t=Le,e=ID(),r=Y7(),n=Tr,u=Q7();function s(a,c){(0,n.resetComments)();const l={kind:t.Kind.DOCUMENT,definitions:o(a,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...c})};let f;return c!=null&&c.commentDescriptions?f=(0,n.printWithComments)(l):f=l,(0,n.resetComments)(),f}ks.mergeTypeDefs=s;function i(a,c,l=[],f=new Set){if(a&&!f.has(a))if(f.add(a),typeof a=="function")i(a(),c,l,f);else if(Array.isArray(a))for(const d of a)i(d,c,l,f);else if((0,t.isSchema)(a)){const d=(0,n.getDocumentNodeFromSchema)(a,c);i(d.definitions,c,l,f)}else if((0,e.isStringTypes)(a)||(0,e.isSourceTypes)(a)){const d=(0,t.parse)(a,c);i(d.definitions,c,l,f)}else if(typeof a=="object"&&(0,t.isDefinitionNode)(a))l.push(a);else if((0,n.isDocumentNode)(a))i(a.definitions,c,l,f);else throw new Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof a}`);return l}function o(a,c){var l,f,d;(0,n.resetComments)();const p=i(a,c),h=(0,r.mergeGraphQLNodes)(p,c);if(c!=null&&c.useSchemaDefinition){const S=h[r.schemaDefSymbol]||{kind:t.Kind.SCHEMA_DEFINITION,operationTypes:[]},D=S.operationTypes;for(const g in u.DEFAULT_OPERATION_TYPE_NAME_MAP)if(!D.find(I=>I.operation===g)){const I=u.DEFAULT_OPERATION_TYPE_NAME_MAP[g],k=h[I];k!=null&&k.name!=null&&D.push({kind:t.Kind.OPERATION_TYPE_DEFINITION,type:{kind:t.Kind.NAMED_TYPE,name:k.name},operation:g})}((l=S==null?void 0:S.operationTypes)===null||l===void 0?void 0:l.length)!=null&&S.operationTypes.length>0&&(h[r.schemaDefSymbol]=S)}c!=null&&c.forceSchemaDefinition&&!(!((d=(f=h[r.schemaDefSymbol])===null||f===void 0?void 0:f.operationTypes)===null||d===void 0)&&d.length)&&(h[r.schemaDefSymbol]={kind:t.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:t.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:t.Kind.NAMED_TYPE,name:{kind:t.Kind.NAME,value:"Query"}}}]});const v=Object.values(h);if(c!=null&&c.sort){const S=typeof c.sort=="function"?c.sort:e.defaultStringComparator;v.sort((D,g)=>{var F,I;return S((F=D.name)===null||F===void 0?void 0:F.value,(I=g.name)===null||I===void 0?void 0:I.value)})}return v}return ks.mergeGraphQLTypes=o,ks}var tb;function jj(){return tb||(tb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Du;e.__exportStar(G7(),t),e.__exportStar(Kn(),t),e.__exportStar(V7(),t),e.__exportStar(U7(),t),e.__exportStar(n0(),t),e.__exportStar(K7(),t),e.__exportStar(J7(),t),e.__exportStar(u0(),t),e.__exportStar(Y7(),t),e.__exportStar(Mj(),t),e.__exportStar(W7(),t),e.__exportStar(H7(),t),e.__exportStar(z7(),t),e.__exportStar(ID(),t)}(Ih)),Ih}var Nh={},rb;function Lj(){return rb||(rb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.applyExtensions=t.mergeExtensions=t.extractExtensionsFromSchema=void 0;const e=Tr;var r=Tr;Object.defineProperty(t,"extractExtensionsFromSchema",{enumerable:!0,get:function(){return r.extractExtensionsFromSchema}});function n(i){return(0,e.mergeDeep)(i)}t.mergeExtensions=n;function u(i,o){i&&(i.extensions=(0,e.mergeDeep)([i.extensions||{},o||{}]))}function s(i,o){u(i,o.schemaExtensions);for(const[a,c]of Object.entries(o.types||{})){const l=i.getType(a);if(l){if(u(l,c.extensions),c.type==="object"||c.type==="interface")for(const[f,d]of Object.entries(c.fields)){const p=l.getFields()[f];if(p){u(p,d.extensions);for(const[h,v]of Object.entries(d.arguments))u(p.args.find(S=>S.name===h),v)}}else if(c.type==="input")for(const[f,d]of Object.entries(c.fields)){const p=l.getFields()[f];u(p,d.extensions)}else if(c.type==="enum")for(const[f,d]of Object.entries(c.values)){const p=l.getValue(f);u(p,d)}}}return i}t.applyExtensions=s}(Nh)),Nh}var nb;function Gj(){return nb||(nb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Du;e.__exportStar(xj(),t),e.__exportStar(jj(),t),e.__exportStar(Lj(),t)}(Bh)),Bh}var ub;function X7(){if(ub)return ia;ub=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.makeExecutableSchema=void 0;const t=Le,e=Tr,r=xc,n=wc,u=Gj();function s({typeDefs:i,resolvers:o={},resolverValidationOptions:a={},inheritResolversFromInterfaces:c=!1,updateResolversInPlace:l=!1,schemaExtensions:f,...d}){if(typeof a!="object")throw new Error("Expected `resolverValidationOptions` to be an object");if(!i)throw new Error("Must provide typeDefs");let p;if((0,t.isSchema)(i))p=i;else if(d!=null&&d.commentDescriptions){const h=(0,u.mergeTypeDefs)(i,{...d,commentDescriptions:!0});p=(0,t.buildSchema)(h,d)}else{const h=(0,u.mergeTypeDefs)(i,d);p=(0,t.buildASTSchema)(h,d)}return p=(0,r.addResolversToSchema)({schema:p,resolvers:(0,u.mergeResolvers)(o),resolverValidationOptions:a,inheritResolversFromInterfaces:c,updateResolversInPlace:l}),Object.keys(a).length>0&&(0,n.assertResolversPresent)(p,a),f&&(f=(0,u.mergeExtensions)((0,e.asArray)(f)),(0,u.applyExtensions)(p,f)),p}return ia.makeExecutableSchema=s,ia}var Rh={},sb;function Vj(){return sb||(sb=1,Object.defineProperty(Rh,"__esModule",{value:!0})),Rh}var ya={},ib;function Uj(){if(ib)return ya;ib=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.mergeSchemas=void 0;const t=Tr,e=X7();function r(n){const u=[],s=[],i=[];if(n.schemas!=null)for(const o of n.schemas)u.push(o),s.push((0,t.getResolversFromSchema)(o)),i.push((0,t.extractExtensionsFromSchema)(o));if(n.typeDefs!=null&&u.push(n.typeDefs),n.resolvers!=null){const o=(0,t.asArray)(n.resolvers);s.push(...o)}if(n.schemaExtensions!=null){const o=(0,t.asArray)(n.schemaExtensions);i.push(...o)}return(0,e.makeExecutableSchema)({...n,typeDefs:u,resolvers:s,schemaExtensions:i})}return ya.mergeSchemas=r,ya}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractExtensionsFromSchema=t.extendResolversFromInterfaces=t.checkForResolveTypeResolver=t.addResolversToSchema=t.chainResolvers=t.assertResolversPresent=void 0;const e=Du;var r=wc;Object.defineProperty(t,"assertResolversPresent",{enumerable:!0,get:function(){return r.assertResolversPresent}});var n=r0;Object.defineProperty(t,"chainResolvers",{enumerable:!0,get:function(){return n.chainResolvers}});var u=xc;Object.defineProperty(t,"addResolversToSchema",{enumerable:!0,get:function(){return u.addResolversToSchema}});var s=Mc;Object.defineProperty(t,"checkForResolveTypeResolver",{enumerable:!0,get:function(){return s.checkForResolveTypeResolver}});var i=jc;Object.defineProperty(t,"extendResolversFromInterfaces",{enumerable:!0,get:function(){return i.extendResolversFromInterfaces}}),e.__exportStar(X7(),t),e.__exportStar(Vj(),t),e.__exportStar(Uj(),t);var o=Tr;Object.defineProperty(t,"extractExtensionsFromSchema",{enumerable:!0,get:function(){return o.extractExtensionsFromSchema}})})(L5);var Z7={},PD={},s0={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.E_CANCELED=On.E_ALREADY_LOCKED=On.E_TIMEOUT=void 0;On.E_TIMEOUT=new Error("timeout while waiting for mutex to become available");On.E_ALREADY_LOCKED=new Error("mutex already locked");On.E_CANCELED=new Error("request for lock canceled");Object.defineProperty(s0,"__esModule",{value:!0});var ob=Du,Kj=On,Jj=function(){function t(e,r){r===void 0&&(r=Kj.E_CANCELED),this._value=e,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}return t.prototype.acquire=function(e){var r=this;if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(n,u){r._weightedQueues[e-1]||(r._weightedQueues[e-1]=[]),r._weightedQueues[e-1].push({resolve:n,reject:u}),r._dispatch()})},t.prototype.runExclusive=function(e,r){return r===void 0&&(r=1),ob.__awaiter(this,void 0,void 0,function(){var n,u,s;return ob.__generator(this,function(i){switch(i.label){case 0:return[4,this.acquire(r)];case 1:n=i.sent(),u=n[0],s=n[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,e(u)];case 3:return[2,i.sent()];case 4:return s(),[7];case 5:return[2]}})})},t.prototype.waitForUnlock=function(e){var r=this;if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(n){r._weightedWaiters[e-1]||(r._weightedWaiters[e-1]=[]),r._weightedWaiters[e-1].push(n),r._dispatch()})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(e){this._value=e,this._dispatch()},t.prototype.release=function(e){if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatch()},t.prototype.cancel=function(){var e=this;this._weightedQueues.forEach(function(r){return r.forEach(function(n){return n.reject(e._cancelError)})}),this._weightedQueues=[]},t.prototype._dispatch=function(){for(var e,r=this._value;r>0;r--){var n=(e=this._weightedQueues[r-1])===null||e===void 0?void 0:e.shift();if(n){var u=this._value,s=r;this._value-=r,r=this._value+1,n.resolve([u,this._newReleaser(s)])}}this._drainUnlockWaiters()},t.prototype._newReleaser=function(e){var r=this,n=!1;return function(){n||(n=!0,r.release(e))}},t.prototype._drainUnlockWaiters=function(){for(var e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(function(r){return r()}),this._weightedWaiters[e-1]=[])},t}();s0.default=Jj;Object.defineProperty(PD,"__esModule",{value:!0});var ab=Du,Hj=s0,Wj=function(){function t(e){this._semaphore=new Hj.default(1,e)}return t.prototype.acquire=function(){return ab.__awaiter(this,void 0,void 0,function(){var e,r;return ab.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},t.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},t.prototype.cancel=function(){return this._semaphore.cancel()},t}();PD.default=Wj;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.withTimeout=void 0;var Tl=Du,zj=On;function Qj(t,e,r){var n=this;return r===void 0&&(r=zj.E_TIMEOUT),{acquire:function(u){if(u!==void 0&&u<=0)throw new Error("invalid weight ".concat(u,": must be positive"));return new Promise(function(s,i){return Tl.__awaiter(n,void 0,void 0,function(){var o,a,c,l,f;return Tl.__generator(this,function(d){switch(d.label){case 0:o=!1,a=setTimeout(function(){o=!0,i(r)},e),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t.acquire(u)];case 2:return c=d.sent(),o?(l=Array.isArray(c)?c[1]:c,l()):(clearTimeout(a),s(c)),[3,4];case 3:return f=d.sent(),o||(clearTimeout(a),i(f)),[3,4];case 4:return[2]}})})})},runExclusive:function(u,s){return Tl.__awaiter(this,void 0,void 0,function(){var i,o;return Tl.__generator(this,function(a){switch(a.label){case 0:i=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire(s)];case 2:return o=a.sent(),Array.isArray(o)?(i=o[1],[4,u(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return i=o,[4,u()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return i(),[7];case 8:return[2]}})})},release:function(u){t.release(u)},cancel:function(){return t.cancel()},waitForUnlock:function(u){if(u!==void 0&&u<=0)throw new Error("invalid weight ".concat(u,": must be positive"));return new Promise(function(s,i){t.waitForUnlock(u).then(s),setTimeout(function(){return i(r)},e)})},isLocked:function(){return t.isLocked()},getValue:function(){return t.getValue()},setValue:function(u){return t.setValue(u)}}}Lc.withTimeout=Qj;var i0={};Object.defineProperty(i0,"__esModule",{value:!0});i0.tryAcquire=void 0;var Yj=On,Xj=Lc;function Zj(t,e){return e===void 0&&(e=Yj.E_ALREADY_LOCKED),(0,Xj.withTimeout)(t,0,e)}i0.tryAcquire=Zj;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Du,r=PD;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return r.default}});var n=s0;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var u=Lc;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return u.withTimeout}});var s=i0;Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return s.tryAcquire}}),e.__exportStar(On,t)})(Z7);const eL={},tL=Object.freeze(Object.defineProperty({__proto__:null,default:eL},Symbol.toStringTag,{value:"Module"})),e_=Am(tL);/*!
 * checksum
 * Copyright(c) 2013 Daniel D. Shaw <dshaw@dshaw.com>
 * MIT Licensed
 */var t_=e_,cb=e_,r_=n_;n_.file=rL;function n_(t,e){e||(e={}),e.algorithm||(e.algorithm="sha1");var r=t_.createHash(e.algorithm);return r.write?(r.write(t),r.digest("hex")):(r.update(t),r.digest("hex"))}function rL(t,e,r){typeof e=="function"&&(r=e,e={}),e||(e={}),e.algorithm||(e.algorithm="sha1"),cb.stat(t,function(n,u){if(!n&&!u.isFile()&&(n=new Error("Not a file")),n)return r(n);var s=t_.createHash(e.algorithm),i=cb.createReadStream(t);s.write?(s.setEncoding("hex"),i.pipe(s,{end:!1}),i.on("end",function(){s.end(),r(null,s.read())})):(i.on("data",function(o){s.update(o)}),i.on("end",function(){r(null,s.digest("hex"))}))})}var pc={},nL={get exports(){return pc},set exports(t){pc=t}};/**
 * @license BitSet.js v5.1.1 2/1/2020
 * http://www.xarg.org/2014/03/javascript-bit-array/
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(r){var n=32,u=5;function s(f){return f-=f>>>1&1431655765,f=(f&858993459)+(f>>>2&858993459),(f+(f>>>4)&252645135)*16843009>>>24}function i(f,d){for(var p=0,h=0;h<f.length;h++){p*=2;var v=(f[h]+p)/d|0;p=(f[h]+p)%d,f[h]=v}return p}function o(f,d){if(d==null){f.data=[0,0,0,0,0,0,0,0,0,0],f._=0;return}if(d instanceof a){f.data=d.data,f._=d._;return}switch(typeof d){case"number":f.data=[d|0],f._=0;break;case"string":var p=2,h=n;d.indexOf("0b")===0?d=d.substr(2):d.indexOf("0x")===0&&(d=d.substr(2),p=16,h=8),f.data=[],f._=0;var v=d.length-h,S=d.length;do{var D=parseInt(d.slice(v>0?v:0,S),p);if(isNaN(D))throw SyntaxError("Invalid param");if(f.data.push(D|0),v<=0)break;v-=h,S-=h}while(1);break;default:f.data=[0];var g=f.data;if(d instanceof Array){for(var F=d.length-1;F>=0;F--){var I=d[F];I===1/0?f._=-1:(c(f,I),g[I>>>u]|=1<<I)}break}if(Uint8Array&&d instanceof Uint8Array){var k=8;c(f,d.length*k);for(var F=0;F<d.length;F++)for(var B=d[F],O=0;O<k;O++){var M=F*k+O;g[M>>>u]|=(B>>O&1)<<M}break}throw SyntaxError("Invalid param")}}function a(f){if(!(this instanceof a))return new a(f);o(this,f),this.data=this.data.slice()}function c(f,d){for(var p=d>>>u,h=f.data,v=f._,S=h.length;p>=S;p--)h.push(v)}var l={data:[],_:0};a.prototype={data:[],_:0,set:function(f,d){return f|=0,c(this,f),d===void 0||d?this.data[f>>>u]|=1<<f:this.data[f>>>u]&=~(1<<f),this},get:function(f){f|=0;var d=this.data,p=f>>>u;return p>=d.length?this._&1:d[p]>>>f&1},not:function(){for(var f=this.clone(),d=f.data,p=0;p<d.length;p++)d[p]=~d[p];return f._=~f._,f},and:function(f){o(l,f);var d=this.clone(),p=d.data,h=l.data,v=h.length,S=l._,D=d._;D!==0&&c(d,v*n-1);for(var g=p.length,F=Math.min(v,g),I=0;I<F;I++)p[I]&=h[I];for(;I<g;I++)p[I]&=S;return d._&=S,d},or:function(f){o(l,f);for(var d=this.clone(),p=d.data,h=l.data,v=h.length-1,S=p.length-1,D=Math.min(S,v),g=v;g>D;g--)p[g]=h[g];for(;g>=0;g--)p[g]|=h[g];return d._|=l._,d},xor:function(f){o(l,f);var d=this.clone(),p=d.data,h=l.data,v=d._,S=l._,D=0,g=p.length-1,F=h.length-1;for(D=g;D>F;D--)p[D]^=S;for(D=F;D>g;D--)p[D]=v^h[D];for(;D>=0;D--)p[D]^=h[D];return d._^=S,d},andNot:function(f){return this.and(new a(f).flip())},flip:function(f,d){if(f===void 0){for(var p=this.data,h=0;h<p.length;h++)p[h]=~p[h];this._=~this._}else if(d===void 0)c(this,f),this.data[f>>>u]^=1<<f;else if(0<=f&&f<=d){c(this,d);for(var h=f;h<=d;h++)this.data[h>>>u]^=1<<h}return this},clear:function(f,d){var p=this.data;if(f===void 0){for(var h=p.length-1;h>=0;h--)p[h]=0;this._=0}else if(d===void 0)f|=0,c(this,f),p[f>>>u]&=~(1<<f);else if(f<=d){c(this,d);for(var h=f;h<=d;h++)p[h>>>u]&=~(1<<h)}return this},slice:function(f,d){if(f===void 0)return this.clone();if(d===void 0){d=this.data.length*n;var p=Object.create(a.prototype);p._=this._,p.data=[0];for(var h=f;h<=d;h++)p.set(h-f,this.get(h));return p}else if(f<=d&&0<=f){var p=Object.create(a.prototype);p.data=[0];for(var h=f;h<=d;h++)p.set(h-f,this.get(h));return p}return null},setRange:function(f,d,p){for(var h=f;h<=d;h++)this.set(h,p);return this},clone:function(){var f=Object.create(a.prototype);return f.data=this.data.slice(),f._=this._,f},toArray:Math.clz32?function(){for(var f=[],d=this.data,p=d.length-1;p>=0;p--)for(var h=d[p];h!==0;){var v=31-Math.clz32(h);h^=1<<v,f.unshift(p*n+v)}return this._!==0&&f.push(1/0),f}:function(){for(var f=[],d=this.data,p=0;p<d.length;p++)for(var h=d[p];h!==0;){var v=h&-h;h^=v,f.push(p*n+s(v-1))}return this._!==0&&f.push(1/0),f},toString:function(f){var d=this.data;if(f||(f=2),!(f&f-1)&&f<36){for(var p="",h=2+Math.log(4294967295)/Math.log(f)|0,v=d.length-1;v>=0;v--){var S=d[v];S<0&&(S+=4294967296);var D=S.toString(f);p!==""&&(p+="0".repeat(h-D.length-1)),p+=D}return this._===0?(p=p.replace(/^0+/,""),p===""&&(p="0"),p):(p="1111"+p,p.replace(/^1+/,"...1111"))}else{if(2>f||f>36)throw SyntaxError("Invalid base");for(var p=[],g=[],v=d.length;v--;)for(var F=n;F--;)g.push(d[v]>>>F&1);do p.unshift(i(g,f).toString(f));while(!g.every(function(k){return k===0}));return p.join("")}},isEmpty:function(){if(this._!==0)return!1;for(var f=this.data,d=f.length-1;d>=0;d--)if(f[d]!==0)return!1;return!0},cardinality:function(){if(this._!==0)return 1/0;for(var f=0,d=this.data,p=0;p<d.length;p++){var h=d[p];h!==0&&(f+=s(h))}return f},msb:Math.clz32?function(){if(this._!==0)return 1/0;for(var f=this.data,d=f.length;d-- >0;){var p=Math.clz32(f[d]);if(p!==n)return d*n+n-1-p}return 1/0}:function(){if(this._!==0)return 1/0;for(var f=this.data,d=f.length;d-- >0;){var p=f[d],h=0;if(p){for(;(p>>>=1)>0;h++);return d*n+h}}return 1/0},ntz:function(){for(var f=this.data,d=0;d<f.length;d++){var p=f[d];if(p!==0)return p=(p^p-1)>>>1,d*n+s(p)}return 1/0},lsb:function(){for(var f=this.data,d=0;d<f.length;d++){var p=f[d],h=0;if(p){for(var v=p&-p;v>>>=1;h++);return n*d+h}}return this._&1},equals:function(f){o(l,f);var d=this.data,p=l.data,h=this._,v=l._,S=d.length-1,D=p.length-1;if(v!==h)return!1;for(var g=S<D?S:D,F=0;F<=g;F++)if(d[F]!==p[F])return!1;for(F=S;F>D;F--)if(d[F]!==v)return!1;for(F=D;F>S;F--)if(p[F]!==h)return!1;return!0},[Symbol.iterator]:function(){var f=this.data,d=0;if(this._===0){for(var p=0,h=f.length-1;h>=0;h--)if(f[h]!==0){p=h;break}return{next:function(){var v=d>>>u;return{done:v>p||v===p&&f[v]>>>d===0,value:v>p?0:f[v]>>>d++&1}}}}else return{next:function(){var v=d>>>u;return{done:!1,value:v<f.length?f[v]>>>d++&1:1}}}}},a.fromBinaryString=function(f){return new a("0b"+f)},a.fromHexString=function(f){return new a("0x"+f)},a.Random=function(f){(f===void 0||f<0)&&(f=n);for(var d=f%n,p=[],h=Math.ceil(f/n),v=Object.create(a.prototype),S=0;S<h;S++)p.push(Math.random()*4294967296|0);return d>0&&(p[h-1]&=(1<<d)-1),v.data=p,v._=0,v},Object.defineProperty(e,"__esModule",{value:!0}),a.default=a,a.BitSet=a,t.exports=a})()})(nL,pc);const uL="proskomma-core",sL="0.9.14",iL="A Scripture Runtime Engine",oL={require:"./index.cjs",import:"./esm/wrapper.mjs"},aL={test:'export PKSRC=dist && npm run build && bash -c "tape -r @babel/register test/code/*.cjs | node_modules/tap-summary/bin/cmd.js"',srcTest:'bash -c "tape test/code/main/*.cjs test/code/utils/*.cjs | node_modules/tap-summary/bin/cmd.js"',rawTest:'export PKSRC=dist && npm run build && bash -c "tape -r @babel/register test/code/*.cjs"',oneTest:'bash -c "tape -r @babel/register test/code/$TESTSCRIPT.cjs"',oneSrcTest:'export PKSRC=src && bash -c "tape -r @babel/register test/code/$TESTSCRIPT.cjs"',coverage:'node_modules/nyc/bin/nyc.js bash -c "tape -r @babel/register test/code/*.cjs"',build:"rm -fr dist && webpack --mode production --config webpack.prod.js",serialize:"tape -r @babel/register test/code/serialize.cjs",rawSrcTest:'export PKSRC=src && bash -c "tape test/code/main/*.cjs"',testUtils:'bash -c "tape test/code/utils/*.cjs"'},cL={type:"git",url:"git+https://github.com/Proskomma/proskomma-core.git"},lL=["USFM","USX","Scripture","parser","lexer","Proskomma"],fL="Mark Howe",dL="MIT",pL={url:"https://github.com/Proskomma/proskomma-core/issues"},hL="https://github.com/Proskomma/proskomma-core#readme",mL={"@babel/core":"^7.19.0","@graphql-tools/schema":"^9.0.3",assert:"^2.0.0","async-mutex":"^0.4.0","babel-eslint":"^10.1.0","base64-js":"^1.5.1",bitset:"^5.1.1",btoa:"^1.2.1",checksum:"^1.0.0","constants-browserify":"^1.0.0","crypto-browserify":"^3.12.0","deep-copy-all":"^1.3.4","deep-equal":"^2.0.5",exceljs:"^4.3.0","fs-extra":"^11.1.0",graphql:"^v16.6.0","node-polyfill-webpack-plugin":"^2.0.1","path-browserify":"^1.0.1","proskomma-json-tools":"^0.6.5","pure-uuid":"^1.6.2",sax:"^1.2.4",stream:"0.0.2",string_decoder:"^1.3.0","utf8-string-bytes":"^1.0.3",util:"^0.12.4",xregexp:"^5.1.1"},DL={"@babel/cli":"^7.18.10","@babel/eslint-parser":"^7.18.9","@babel/preset-env":"^7.19.0","@babel/register":"^7.18.9","babel-loader":"^8.2.5",buffer:"^6.0.3",eslint:"^8.23.0","eslint-config-prettier":"^8.5.0","eslint-plugin-import":"^2.26.0","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-prettier":"^v4.2.1",nyc:"^15.1.0",path:"^0.12.7",prettier:"^2.7.1",process:"^0.11.10","tap-summary":"^4.0.0",tape:"^5.6.0",webpack:"5.75.0","webpack-cli":"4.10.0"},EL={name:uL,version:sL,description:iL,exports:oL,scripts:aL,repository:cL,keywords:lL,author:fL,license:dL,bugs:pL,homepage:hL,dependencies:mL,devDependencies:DL},yL=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var u=t.charCodeAt(n);u<128?e[r++]=u:u<2048?(e[r++]=u>>6|192,e[r++]=u&63|128):(u&64512)==55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)==56320?(u=65536+((u&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=u>>18|240,e[r++]=u>>12&63|128,e[r++]=u>>6&63|128,e[r++]=u&63|128):(e[r++]=u>>12|224,e[r++]=u>>6&63|128,e[r++]=u&63|128)}return e},vL=function(t){for(var e=[],r=0,n=0;r<t.length;){var u=t[r++];if(u<128)e[n++]=String.fromCharCode(u);else if(u>191&&u<224){var s=t[r++];e[n++]=String.fromCharCode((u&31)<<6|s&63)}else if(u>239&&u<365){var s=t[r++],i=t[r++],o=t[r++],a=((u&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(a&1023))}else{var s=t[r++],i=t[r++];e[n++]=String.fromCharCode((u&15)<<12|(s&63)<<6|i&63)}}return e.join("")};var gL={utf8ByteArrayToString:vL,stringToUtf8ByteArray:yL},Gc={};Gc.byteLength=FL;Gc.toByteArray=CL;Gc.fromByteArray=TL;var ru=[],dn=[],AL=typeof Uint8Array<"u"?Uint8Array:Array,qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vi=0,SL=qh.length;vi<SL;++vi)ru[vi]=qh[vi],dn[qh.charCodeAt(vi)]=vi;dn["-".charCodeAt(0)]=62;dn["_".charCodeAt(0)]=63;function u_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function FL(t){var e=u_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function bL(t,e,r){return(e+r)*3/4-r}function CL(t){var e,r=u_(t),n=r[0],u=r[1],s=new AL(bL(t,n,u)),i=0,o=u>0?n-4:n,a;for(a=0;a<o;a+=4)e=dn[t.charCodeAt(a)]<<18|dn[t.charCodeAt(a+1)]<<12|dn[t.charCodeAt(a+2)]<<6|dn[t.charCodeAt(a+3)],s[i++]=e>>16&255,s[i++]=e>>8&255,s[i++]=e&255;return u===2&&(e=dn[t.charCodeAt(a)]<<2|dn[t.charCodeAt(a+1)]>>4,s[i++]=e&255),u===1&&(e=dn[t.charCodeAt(a)]<<10|dn[t.charCodeAt(a+1)]<<4|dn[t.charCodeAt(a+2)]>>2,s[i++]=e>>8&255,s[i++]=e&255),s}function _L(t){return ru[t>>18&63]+ru[t>>12&63]+ru[t>>6&63]+ru[t&63]}function wL(t,e,r){for(var n,u=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),u.push(_L(n));return u.join("")}function TL(t){for(var e,r=t.length,n=r%3,u=[],s=16383,i=0,o=r-n;i<o;i+=s)u.push(wL(t,i,i+s>o?o:i+s));return n===1?(e=t[r-1],u.push(ru[e>>2]+ru[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],u.push(ru[e>>10]+ru[e>>4&63]+ru[e<<2&63]+"=")),u.join("")}const{utf8ByteArrayToString:$L,stringToUtf8ByteArray:BL}=gL,lb=Gc,jr=(t,e,r)=>{if(typeof t!="number")throw new Error(`Argument ${r} of ${e} should be a number, not '${t}' (${typeof t})`)};let IL=class{constructor(e,r){e=e||64,r=r||0,this.growMax=1024*16,this.length=r,this.byteArray=new Uint8Array(e)}byte(e){if(jr(e,"byte","n"),e>this.length-1)throw Error(`Attempt to read byte ${e} of ByteArray of length ${this.length}`);return this.byteArray[e]}bytes(e,r){if(jr(e,"bytes","n"),jr(r,"bytes","l"),e+r>this.length)throw Error(`Attempt to read ${r} bytes from start ${e} of ByteArray of length ${this.length}`);return this.byteArray.subarray(e,e+r)}setByte(e,r){if(jr(e,"setByte","n"),jr(r,"setByte","v"),e>this.length-1)throw Error(`Attempt to set byte ${e} of ByteArray of length ${this.length}`);if(typeof r!="number"||r<0||r>255)throw Error(`Expected value 0-255 when setting ByteArray, found ${r}`);this.byteArray[e]=r}setBytes(e,r){if(jr(e,"setBytes","n"),e+r.length>this.length)throw Error(`Attempt to set ${r.length} bytes from start ${e} of ByteArray of length ${this.length}`);this.byteArray.set(r,e)}pushByte(e){if(typeof e!="number"||e<0||e>255)throw Error(`Expected value 0-255 when pushing to ByteArray, found ${e}`);this.length===this.byteArray.length&&this.grow(),this.byteArray[this.length]=e,this.length++}grow(e){const r=new Uint8Array(Math.max(e||0,this.byteArray.length+Math.min(this.growMax,Math.max(16,this.byteArray.length))));r.set(this.byteArray),this.byteArray=r}trim(){const e=new Uint8Array(this.length);e.set(this.byteArray.subarray(0,this.length)),this.byteArray=e}pushBytes(e){for(const r of e)this.pushByte(r)}pushNByte(e){if(jr(e,"pushNByte","v"),typeof e!="number"||e<0)throw Error(`Expected positive number in pushNByte, found ${e}`);if(e<128)this.pushByte(e+128);else{const r=e%128;this.pushByte(r),this.pushNByte(e>>7)}}pushNBytes(e){for(const r of e)try{this.pushNByte(r)}catch{throw Error(`Error from pushNByte, called as pushNBytes(${JSON.stringify(e)})`)}}nByte(e){if(jr(e,"nByte","n"),e>this.length-1)throw Error(`Attempt to read nByte ${e} of ByteArray of length ${this.length}`);const r=this.byteArray[e];return r>127?r-128:r+128*this.nByte(e+1)}nBytes(e,r){jr(e,"nBytes","n"),jr(r,"nBytes","nValues");const n=[];for(;r>0;){let u=!1,s=0,i=1;do{if(e>this.length-1)throw Error(`Attempt to read nByte ${e} of ByteArray of length ${this.length} in nBytes(${e}, ${r})`);const o=this.byteArray[e];o>127?(s+=(o-128)*i,n.push(s),s=0,u=!0):(s+=o*i,i*=128),e++}while(!u);r--}return n}nByteLength(e){if(jr(e,"nByteLength","v"),e>=128**4)throw new Error("> 4 bytes found in nByteLength");let r=1;for(;e>127;)e=e>>7,r+=1;return r}pushCountedString(e){const r=BL(e);this.pushByte(r.length),this.pushBytes(r)}countedString(e){jr(e,"countedString","n");const r=this.byte(e);return $L(this.bytes(e+1,r))}clear(){this.byteArray.fill(0),this.length=0}base64(){return lb.fromByteArray(this.byteArray)}fromBase64(e){this.byteArray=lb.toByteArray(e),this.length=this.byteArray.length}deleteItem(e){jr(e,"deleteItem","n");const r=this.byte(e)&63;if(this.length-=r,this.length>e){const n=this.byteArray.slice(e+r);this.byteArray.set(n,e)}}insert(e,r){jr(e,"insert","n");const n=r.length,u=this.length+n;if(u>=this.byteArray.length+n&&this.grow(u),e<u){const s=this.byteArray.slice(e,this.length);this.byteArray.set(s,e+n)}this.byteArray.set(r.byteArray.slice(0,r.length),e),this.length=u}};var kD=IL;const s_=[{code:"GEN",categories:["ot","pentateuch"]},{code:"EXO",categories:["ot","pentateuch"]},{code:"LEV",categories:["ot","pentateuch"]},{code:"NUM",categories:["ot","pentateuch"]},{code:"DEU",categories:["ot","pentateuch"]},{code:"JOS",categories:["ot","history"]},{code:"JDG",categories:["ot","history"]},{code:"RUT",categories:["ot","history"]},{code:"1SA",categories:["ot","history"]},{code:"2SA",categories:["ot","history"]},{code:"1KI",categories:["ot","history"]},{code:"2KI",categories:["ot","history"]},{code:"1CH",categories:["ot","history"]},{code:"2CH",categories:["ot","history"]},{code:"EZR",categories:["ot","history"]},{code:"NEH",categories:["ot","history"]},{code:"EST",categories:["ot","history"]},{code:"JOB",categories:["ot","wisdom"]},{code:"PSA",categories:["ot","wisdom"]},{code:"PRO",categories:["ot","wisdom"]},{code:"ECC",categories:["ot","wisdom"]},{code:"SNG",categories:["ot","wisdom"]},{code:"ISA",categories:["ot","prophecy"]},{code:"JER",categories:["ot","prophecy"]},{code:"LAM",categories:["ot","prophecy"]},{code:"EZK",categories:["ot","prophecy"]},{code:"DAN",categories:["ot","prophecy"]},{code:"HOS",categories:["ot","prophecy"]},{code:"JOL",categories:["ot","prophecy"]},{code:"AMO",categories:["ot","prophecy"]},{code:"OBA",categories:["ot","prophecy"]},{code:"JON",categories:["ot","prophecy"]},{code:"MIC",categories:["ot","prophecy"]},{code:"NAM",categories:["ot","prophecy"]},{code:"HAB",categories:["ot","prophecy"]},{code:"ZEP",categories:["ot","prophecy"]},{code:"HAG",categories:["ot","prophecy"]},{code:"ZEC",categories:["ot","prophecy"]},{code:"MAL",categories:["ot","prophecy"]},{code:"MAT",categories:["nt","gospel","synoptic"]},{code:"MRK",categories:["nt","gospel","synoptic"]},{code:"LUK",categories:["nt","gospel","synoptic"]},{code:"JHN",categories:["nt","gospel"]},{code:"ACT",categories:["nt","gospel"]},{code:"ROM",categories:["nt","epistle"]},{code:"1CO",categories:["nt","epistle"]},{code:"2CO",categories:["nt","epistle"]},{code:"GAL",categories:["nt","epistle"]},{code:"EPH",categories:["nt","epistle"]},{code:"PHP",categories:["nt","epistle"]},{code:"COL",categories:["nt","epistle"]},{code:"1TH",categories:["nt","epistle"]},{code:"2TH",categories:["nt","epistle"]},{code:"1TI",categories:["nt","epistle"]},{code:"2TI",categories:["nt","epistle"]},{code:"TIT",categories:["nt","epistle"]},{code:"PHM",categories:["nt","epistle"]},{code:"HEB",categories:["nt","epistle"]},{code:"JAS",categories:["nt","epistle"]},{code:"1PE",categories:["nt","epistle"]},{code:"2PE",categories:["nt","epistle"]},{code:"1JN",categories:["nt","epistle"]},{code:"2JN",categories:["nt","epistle"]},{code:"3JN",categories:["nt","epistle"]},{code:"JUD",categories:["nt","epistle"]},{code:"REV",categories:["nt","epistle"]},{code:"TOB",categories:["dc"]},{code:"JDT",categories:["dc"]},{code:"ESG",categories:["dc","history"]},{code:"WIS",categories:["dc","wisdom"]},{code:"SIR",categories:["dc","wisdom"]},{code:"BAR",categories:["dc","prophecy"]},{code:"LJE",categories:["dc"]},{code:"S3Y",categories:["dc"]},{code:"SUS",categories:["dc"]},{code:"BEL",categories:["dc"]},{code:"1MA",categories:["dc"]},{code:"2MA",categories:["dc"]},{code:"3MA",categories:["dc"]},{code:"4MA",categories:["dc"]},{code:"1ES",categories:["dc"]},{code:"2ES",categories:["dc"]},{code:"MAN",categories:["dc"]},{code:"PS2",categories:["dc"]},{code:"ODA",categories:["dc"]},{code:"PSS",categories:["dc"]},{code:"JSA",categories:["dc"]},{code:"JDB",categories:["dc"]},{code:"TBS",categories:["dc"]},{code:"SST",categories:["dc"]},{code:"DNT",categories:["dc"]},{code:"BLT",categories:["dc"]},{code:"EZA",categories:["dc"]},{code:"5EZ",categories:["dc"]},{code:"6EZ",categories:["dc"]},{code:"DAG",categories:["dc"]},{code:"PS3",categories:["dc"]},{code:"2BA",categories:["dc"]},{code:"LBA",categories:["dc"]},{code:"JUB",categories:["dc"]},{code:"ENO",categories:["dc"]},{code:"1MQ",categories:["dc"]},{code:"2MQ",categories:["dc"]},{code:"3MQ",categories:["dc"]},{code:"REP",categories:["dc"]},{code:"4BA",categories:["dc"]},{code:"LAO",categories:["dc"]}];let i_={};for(const t of s_.entries())i_[t[1].code]={...t[1],position:t[0]};var PL={ptBookArray:s_,ptBooks:i_};const fb=Bt,kL=(t,e)=>{let r=0,n=0;for(;r<t.length;){const u=t.byte(r);if(t.countedString(r)===e)return n;r+=u+1,n+=1}return-1},OL=(t,e)=>{let r=0,n=0;const u=[];for(;r<t.length;){const s=t.byte(r),i=t.countedString(r);fb.exec(i,fb(e,"i"))&&u.push([n,i]),r+=s+1,n+=1}return u};var NL={enumStringIndex:kL,enumRegexIndexTuples:OL},sr={},OD={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */OD.read=function(t,e,r,n,u){var s,i,o=u*8-n-1,a=(1<<o)-1,c=a>>1,l=-7,f=r?u-1:0,d=r?-1:1,p=t[e+f];for(f+=d,s=p&(1<<-l)-1,p>>=-l,l+=o;l>0;s=s*256+t[e+f],f+=d,l-=8);for(i=s&(1<<-l)-1,s>>=-l,l+=n;l>0;i=i*256+t[e+f],f+=d,l-=8);if(s===0)s=1-c;else{if(s===a)return i?NaN:(p?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-c}return(p?-1:1)*i*Math.pow(2,s-n)};OD.write=function(t,e,r,n,u,s){var i,o,a,c=s*8-u-1,l=(1<<c)-1,f=l>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,h=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,i=l):(i=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+f>=1?e+=d/a:e+=d*Math.pow(2,1-f),e*a>=2&&(i++,a/=2),i+f>=l?(o=0,i=l):i+f>=1?(o=(e*a-1)*Math.pow(2,u),i=i+f):(o=e*Math.pow(2,f-1)*Math.pow(2,u),i=0));u>=8;t[r+p]=o&255,p+=h,o/=256,u-=8);for(i=i<<u|o,c+=u;c>0;t[r+p]=i&255,p+=h,i/=256,c-=8);t[r+p-h]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Gc,r=OD,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50;const u=2147483647;t.kMaxLength=u,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const x=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(x,w),x.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(x){if(x>u)throw new RangeError('The value "'+x+'" is invalid for option "size"');const w=new Uint8Array(x);return Object.setPrototypeOf(w,o.prototype),w}function o(x,w,$){if(typeof x=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(x)}return a(x,w,$)}o.poolSize=8192;function a(x,w,$){if(typeof x=="string")return d(x,w);if(ArrayBuffer.isView(x))return h(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(De(x,ArrayBuffer)||x&&De(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(x,SharedArrayBuffer)||x&&De(x.buffer,SharedArrayBuffer)))return v(x,w,$);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=x.valueOf&&x.valueOf();if(G!=null&&G!==x)return o.from(G,w,$);const W=S(x);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return o.from(x[Symbol.toPrimitive]("string"),w,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}o.from=function(x,w,$){return a(x,w,$)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function l(x,w,$){return c(x),x<=0?i(x):w!==void 0?typeof $=="string"?i(x).fill(w,$):i(x).fill(w):i(x)}o.alloc=function(x,w,$){return l(x,w,$)};function f(x){return c(x),i(x<0?0:D(x)|0)}o.allocUnsafe=function(x){return f(x)},o.allocUnsafeSlow=function(x){return f(x)};function d(x,w){if((typeof w!="string"||w==="")&&(w="utf8"),!o.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const $=F(x,w)|0;let G=i($);const W=G.write(x,w);return W!==$&&(G=G.slice(0,W)),G}function p(x){const w=x.length<0?0:D(x.length)|0,$=i(w);for(let G=0;G<w;G+=1)$[G]=x[G]&255;return $}function h(x){if(De(x,Uint8Array)){const w=new Uint8Array(x);return v(w.buffer,w.byteOffset,w.byteLength)}return p(x)}function v(x,w,$){if(w<0||x.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<w+($||0))throw new RangeError('"length" is outside of buffer bounds');let G;return w===void 0&&$===void 0?G=new Uint8Array(x):$===void 0?G=new Uint8Array(x,w):G=new Uint8Array(x,w,$),Object.setPrototypeOf(G,o.prototype),G}function S(x){if(o.isBuffer(x)){const w=D(x.length)|0,$=i(w);return $.length===0||x.copy($,0,0,w),$}if(x.length!==void 0)return typeof x.length!="number"||xe(x.length)?i(0):p(x);if(x.type==="Buffer"&&Array.isArray(x.data))return p(x.data)}function D(x){if(x>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return x|0}function g(x){return+x!=x&&(x=0),o.alloc(+x)}o.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==o.prototype},o.compare=function(w,$){if(De(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),De($,Uint8Array)&&($=o.from($,$.offset,$.byteLength)),!o.isBuffer(w)||!o.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===$)return 0;let G=w.length,W=$.length;for(let ne=0,de=Math.min(G,W);ne<de;++ne)if(w[ne]!==$[ne]){G=w[ne],W=$[ne];break}return G<W?-1:W<G?1:0},o.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(w,$){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return o.alloc(0);let G;if($===void 0)for($=0,G=0;G<w.length;++G)$+=w[G].length;const W=o.allocUnsafe($);let ne=0;for(G=0;G<w.length;++G){let de=w[G];if(De(de,Uint8Array))ne+de.length>W.length?(o.isBuffer(de)||(de=o.from(de)),de.copy(W,ne)):Uint8Array.prototype.set.call(W,de,ne);else if(o.isBuffer(de))de.copy(W,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=de.length}return W};function F(x,w){if(o.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||De(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const $=x.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&$===0)return 0;let W=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return He(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return me(x).length;default:if(W)return G?-1:He(x).length;w=(""+w).toLowerCase(),W=!0}}o.byteLength=F;function I(x,w,$){let G=!1;if((w===void 0||w<0)&&(w=0),w>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,w>>>=0,$<=w))return"";for(x||(x="utf8");;)switch(x){case"hex":return te(this,w,$);case"utf8":case"utf-8":return H(this,w,$);case"ascii":return K(this,w,$);case"latin1":case"binary":return z(this,w,$);case"base64":return Y(this,w,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,w,$);default:if(G)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),G=!0}}o.prototype._isBuffer=!0;function k(x,w,$){const G=x[w];x[w]=x[$],x[$]=G}o.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<w;$+=2)k(this,$,$+1);return this},o.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<w;$+=4)k(this,$,$+3),k(this,$+1,$+2);return this},o.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<w;$+=8)k(this,$,$+7),k(this,$+1,$+6),k(this,$+2,$+5),k(this,$+3,$+4);return this},o.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?H(this,0,w):I.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(w){if(!o.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:o.compare(this,w)===0},o.prototype.inspect=function(){let w="";const $=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(w+=" ... "),"<Buffer "+w+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(w,$,G,W,ne){if(De(w,Uint8Array)&&(w=o.from(w,w.offset,w.byteLength)),!o.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if($===void 0&&($=0),G===void 0&&(G=w?w.length:0),W===void 0&&(W=0),ne===void 0&&(ne=this.length),$<0||G>w.length||W<0||ne>this.length)throw new RangeError("out of range index");if(W>=ne&&$>=G)return 0;if(W>=ne)return-1;if($>=G)return 1;if($>>>=0,G>>>=0,W>>>=0,ne>>>=0,this===w)return 0;let de=ne-W,Oe=G-$;const Ye=Math.min(de,Oe),tt=this.slice(W,ne),Me=w.slice($,G);for(let dt=0;dt<Ye;++dt)if(tt[dt]!==Me[dt]){de=tt[dt],Oe=Me[dt];break}return de<Oe?-1:Oe<de?1:0};function B(x,w,$,G,W){if(x.length===0)return-1;if(typeof $=="string"?(G=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,xe($)&&($=W?0:x.length-1),$<0&&($=x.length+$),$>=x.length){if(W)return-1;$=x.length-1}else if($<0)if(W)$=0;else return-1;if(typeof w=="string"&&(w=o.from(w,G)),o.isBuffer(w))return w.length===0?-1:O(x,w,$,G,W);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(x,w,$):Uint8Array.prototype.lastIndexOf.call(x,w,$):O(x,[w],$,G,W);throw new TypeError("val must be string, number or Buffer")}function O(x,w,$,G,W){let ne=1,de=x.length,Oe=w.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(x.length<2||w.length<2)return-1;ne=2,de/=2,Oe/=2,$/=2}function Ye(Me,dt){return ne===1?Me[dt]:Me.readUInt16BE(dt*ne)}let tt;if(W){let Me=-1;for(tt=$;tt<de;tt++)if(Ye(x,tt)===Ye(w,Me===-1?0:tt-Me)){if(Me===-1&&(Me=tt),tt-Me+1===Oe)return Me*ne}else Me!==-1&&(tt-=tt-Me),Me=-1}else for($+Oe>de&&($=de-Oe),tt=$;tt>=0;tt--){let Me=!0;for(let dt=0;dt<Oe;dt++)if(Ye(x,tt+dt)!==Ye(w,dt)){Me=!1;break}if(Me)return tt}return-1}o.prototype.includes=function(w,$,G){return this.indexOf(w,$,G)!==-1},o.prototype.indexOf=function(w,$,G){return B(this,w,$,G,!0)},o.prototype.lastIndexOf=function(w,$,G){return B(this,w,$,G,!1)};function M(x,w,$,G){$=Number($)||0;const W=x.length-$;G?(G=Number(G),G>W&&(G=W)):G=W;const ne=w.length;G>ne/2&&(G=ne/2);let de;for(de=0;de<G;++de){const Oe=parseInt(w.substr(de*2,2),16);if(xe(Oe))return de;x[$+de]=Oe}return de}function y(x,w,$,G){return Ce(He(w,x.length-$),x,$,G)}function P(x,w,$,G){return Ce(ke(w),x,$,G)}function L(x,w,$,G){return Ce(me(w),x,$,G)}function U(x,w,$,G){return Ce(ce(w,x.length-$),x,$,G)}o.prototype.write=function(w,$,G,W){if($===void 0)W="utf8",G=this.length,$=0;else if(G===void 0&&typeof $=="string")W=$,G=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(G)?(G=G>>>0,W===void 0&&(W="utf8")):(W=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ne=this.length-$;if((G===void 0||G>ne)&&(G=ne),w.length>0&&(G<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let de=!1;for(;;)switch(W){case"hex":return M(this,w,$,G);case"utf8":case"utf-8":return y(this,w,$,G);case"ascii":case"latin1":case"binary":return P(this,w,$,G);case"base64":return L(this,w,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,w,$,G);default:if(de)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),de=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(x,w,$){return w===0&&$===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(w,$))}function H(x,w,$){$=Math.min(x.length,$);const G=[];let W=w;for(;W<$;){const ne=x[W];let de=null,Oe=ne>239?4:ne>223?3:ne>191?2:1;if(W+Oe<=$){let Ye,tt,Me,dt;switch(Oe){case 1:ne<128&&(de=ne);break;case 2:Ye=x[W+1],(Ye&192)===128&&(dt=(ne&31)<<6|Ye&63,dt>127&&(de=dt));break;case 3:Ye=x[W+1],tt=x[W+2],(Ye&192)===128&&(tt&192)===128&&(dt=(ne&15)<<12|(Ye&63)<<6|tt&63,dt>2047&&(dt<55296||dt>57343)&&(de=dt));break;case 4:Ye=x[W+1],tt=x[W+2],Me=x[W+3],(Ye&192)===128&&(tt&192)===128&&(Me&192)===128&&(dt=(ne&15)<<18|(Ye&63)<<12|(tt&63)<<6|Me&63,dt>65535&&dt<1114112&&(de=dt))}}de===null?(de=65533,Oe=1):de>65535&&(de-=65536,G.push(de>>>10&1023|55296),de=56320|de&1023),G.push(de),W+=Oe}return fe(G)}const se=4096;function fe(x){const w=x.length;if(w<=se)return String.fromCharCode.apply(String,x);let $="",G=0;for(;G<w;)$+=String.fromCharCode.apply(String,x.slice(G,G+=se));return $}function K(x,w,$){let G="";$=Math.min(x.length,$);for(let W=w;W<$;++W)G+=String.fromCharCode(x[W]&127);return G}function z(x,w,$){let G="";$=Math.min(x.length,$);for(let W=w;W<$;++W)G+=String.fromCharCode(x[W]);return G}function te(x,w,$){const G=x.length;(!w||w<0)&&(w=0),(!$||$<0||$>G)&&($=G);let W="";for(let ne=w;ne<$;++ne)W+=Z[x[ne]];return W}function V(x,w,$){const G=x.slice(w,$);let W="";for(let ne=0;ne<G.length-1;ne+=2)W+=String.fromCharCode(G[ne]+G[ne+1]*256);return W}o.prototype.slice=function(w,$){const G=this.length;w=~~w,$=$===void 0?G:~~$,w<0?(w+=G,w<0&&(w=0)):w>G&&(w=G),$<0?($+=G,$<0&&($=0)):$>G&&($=G),$<w&&($=w);const W=this.subarray(w,$);return Object.setPrototypeOf(W,o.prototype),W};function N(x,w,$){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+w>$)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(w,$,G){w=w>>>0,$=$>>>0,G||N(w,$,this.length);let W=this[w],ne=1,de=0;for(;++de<$&&(ne*=256);)W+=this[w+de]*ne;return W},o.prototype.readUintBE=o.prototype.readUIntBE=function(w,$,G){w=w>>>0,$=$>>>0,G||N(w,$,this.length);let W=this[w+--$],ne=1;for(;$>0&&(ne*=256);)W+=this[w+--$]*ne;return W},o.prototype.readUint8=o.prototype.readUInt8=function(w,$){return w=w>>>0,$||N(w,1,this.length),this[w]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(w,$){return w=w>>>0,$||N(w,2,this.length),this[w]|this[w+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(w,$){return w=w>>>0,$||N(w,2,this.length),this[w]<<8|this[w+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(w,$){return w=w>>>0,$||N(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(w,$){return w=w>>>0,$||N(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},o.prototype.readBigUInt64LE=le(function(w){w=w>>>0,Ee(w,"offset");const $=this[w],G=this[w+7];($===void 0||G===void 0)&&Be(w,this.length-8);const W=$+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,ne=this[++w]+this[++w]*2**8+this[++w]*2**16+G*2**24;return BigInt(W)+(BigInt(ne)<<BigInt(32))}),o.prototype.readBigUInt64BE=le(function(w){w=w>>>0,Ee(w,"offset");const $=this[w],G=this[w+7];($===void 0||G===void 0)&&Be(w,this.length-8);const W=$*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],ne=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+G;return(BigInt(W)<<BigInt(32))+BigInt(ne)}),o.prototype.readIntLE=function(w,$,G){w=w>>>0,$=$>>>0,G||N(w,$,this.length);let W=this[w],ne=1,de=0;for(;++de<$&&(ne*=256);)W+=this[w+de]*ne;return ne*=128,W>=ne&&(W-=Math.pow(2,8*$)),W},o.prototype.readIntBE=function(w,$,G){w=w>>>0,$=$>>>0,G||N(w,$,this.length);let W=$,ne=1,de=this[w+--W];for(;W>0&&(ne*=256);)de+=this[w+--W]*ne;return ne*=128,de>=ne&&(de-=Math.pow(2,8*$)),de},o.prototype.readInt8=function(w,$){return w=w>>>0,$||N(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},o.prototype.readInt16LE=function(w,$){w=w>>>0,$||N(w,2,this.length);const G=this[w]|this[w+1]<<8;return G&32768?G|4294901760:G},o.prototype.readInt16BE=function(w,$){w=w>>>0,$||N(w,2,this.length);const G=this[w+1]|this[w]<<8;return G&32768?G|4294901760:G},o.prototype.readInt32LE=function(w,$){return w=w>>>0,$||N(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},o.prototype.readInt32BE=function(w,$){return w=w>>>0,$||N(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},o.prototype.readBigInt64LE=le(function(w){w=w>>>0,Ee(w,"offset");const $=this[w],G=this[w+7];($===void 0||G===void 0)&&Be(w,this.length-8);const W=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(G<<24);return(BigInt(W)<<BigInt(32))+BigInt($+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),o.prototype.readBigInt64BE=le(function(w){w=w>>>0,Ee(w,"offset");const $=this[w],G=this[w+7];($===void 0||G===void 0)&&Be(w,this.length-8);const W=($<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(W)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+G)}),o.prototype.readFloatLE=function(w,$){return w=w>>>0,$||N(w,4,this.length),r.read(this,w,!0,23,4)},o.prototype.readFloatBE=function(w,$){return w=w>>>0,$||N(w,4,this.length),r.read(this,w,!1,23,4)},o.prototype.readDoubleLE=function(w,$){return w=w>>>0,$||N(w,8,this.length),r.read(this,w,!0,52,8)},o.prototype.readDoubleBE=function(w,$){return w=w>>>0,$||N(w,8,this.length),r.read(this,w,!1,52,8)};function A(x,w,$,G,W,ne){if(!o.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>W||w<ne)throw new RangeError('"value" argument is out of bounds');if($+G>x.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(w,$,G,W){if(w=+w,$=$>>>0,G=G>>>0,!W){const Oe=Math.pow(2,8*G)-1;A(this,w,$,G,Oe,0)}let ne=1,de=0;for(this[$]=w&255;++de<G&&(ne*=256);)this[$+de]=w/ne&255;return $+G},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(w,$,G,W){if(w=+w,$=$>>>0,G=G>>>0,!W){const Oe=Math.pow(2,8*G)-1;A(this,w,$,G,Oe,0)}let ne=G-1,de=1;for(this[$+ne]=w&255;--ne>=0&&(de*=256);)this[$+ne]=w/de&255;return $+G},o.prototype.writeUint8=o.prototype.writeUInt8=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,1,255,0),this[$]=w&255,$+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,2,65535,0),this[$]=w&255,this[$+1]=w>>>8,$+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,2,65535,0),this[$]=w>>>8,this[$+1]=w&255,$+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,4,4294967295,0),this[$+3]=w>>>24,this[$+2]=w>>>16,this[$+1]=w>>>8,this[$]=w&255,$+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,4,4294967295,0),this[$]=w>>>24,this[$+1]=w>>>16,this[$+2]=w>>>8,this[$+3]=w&255,$+4};function C(x,w,$,G,W){ie(w,G,W,x,$,7);let ne=Number(w&BigInt(4294967295));x[$++]=ne,ne=ne>>8,x[$++]=ne,ne=ne>>8,x[$++]=ne,ne=ne>>8,x[$++]=ne;let de=Number(w>>BigInt(32)&BigInt(4294967295));return x[$++]=de,de=de>>8,x[$++]=de,de=de>>8,x[$++]=de,de=de>>8,x[$++]=de,$}function E(x,w,$,G,W){ie(w,G,W,x,$,7);let ne=Number(w&BigInt(4294967295));x[$+7]=ne,ne=ne>>8,x[$+6]=ne,ne=ne>>8,x[$+5]=ne,ne=ne>>8,x[$+4]=ne;let de=Number(w>>BigInt(32)&BigInt(4294967295));return x[$+3]=de,de=de>>8,x[$+2]=de,de=de>>8,x[$+1]=de,de=de>>8,x[$]=de,$+8}o.prototype.writeBigUInt64LE=le(function(w,$=0){return C(this,w,$,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=le(function(w,$=0){return E(this,w,$,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(w,$,G,W){if(w=+w,$=$>>>0,!W){const Ye=Math.pow(2,8*G-1);A(this,w,$,G,Ye-1,-Ye)}let ne=0,de=1,Oe=0;for(this[$]=w&255;++ne<G&&(de*=256);)w<0&&Oe===0&&this[$+ne-1]!==0&&(Oe=1),this[$+ne]=(w/de>>0)-Oe&255;return $+G},o.prototype.writeIntBE=function(w,$,G,W){if(w=+w,$=$>>>0,!W){const Ye=Math.pow(2,8*G-1);A(this,w,$,G,Ye-1,-Ye)}let ne=G-1,de=1,Oe=0;for(this[$+ne]=w&255;--ne>=0&&(de*=256);)w<0&&Oe===0&&this[$+ne+1]!==0&&(Oe=1),this[$+ne]=(w/de>>0)-Oe&255;return $+G},o.prototype.writeInt8=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,1,127,-128),w<0&&(w=255+w+1),this[$]=w&255,$+1},o.prototype.writeInt16LE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,2,32767,-32768),this[$]=w&255,this[$+1]=w>>>8,$+2},o.prototype.writeInt16BE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,2,32767,-32768),this[$]=w>>>8,this[$+1]=w&255,$+2},o.prototype.writeInt32LE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,4,2147483647,-2147483648),this[$]=w&255,this[$+1]=w>>>8,this[$+2]=w>>>16,this[$+3]=w>>>24,$+4},o.prototype.writeInt32BE=function(w,$,G){return w=+w,$=$>>>0,G||A(this,w,$,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[$]=w>>>24,this[$+1]=w>>>16,this[$+2]=w>>>8,this[$+3]=w&255,$+4},o.prototype.writeBigInt64LE=le(function(w,$=0){return C(this,w,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=le(function(w,$=0){return E(this,w,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _(x,w,$,G,W,ne){if($+G>x.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function R(x,w,$,G,W){return w=+w,$=$>>>0,W||_(x,w,$,4),r.write(x,w,$,G,23,4),$+4}o.prototype.writeFloatLE=function(w,$,G){return R(this,w,$,!0,G)},o.prototype.writeFloatBE=function(w,$,G){return R(this,w,$,!1,G)};function b(x,w,$,G,W){return w=+w,$=$>>>0,W||_(x,w,$,8),r.write(x,w,$,G,52,8),$+8}o.prototype.writeDoubleLE=function(w,$,G){return b(this,w,$,!0,G)},o.prototype.writeDoubleBE=function(w,$,G){return b(this,w,$,!1,G)},o.prototype.copy=function(w,$,G,W){if(!o.isBuffer(w))throw new TypeError("argument should be a Buffer");if(G||(G=0),!W&&W!==0&&(W=this.length),$>=w.length&&($=w.length),$||($=0),W>0&&W<G&&(W=G),W===G||w.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),w.length-$<W-G&&(W=w.length-$+G);const ne=W-G;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,G,W):Uint8Array.prototype.set.call(w,this.subarray(G,W),$),ne},o.prototype.fill=function(w,$,G,W){if(typeof w=="string"){if(typeof $=="string"?(W=$,$=0,G=this.length):typeof G=="string"&&(W=G,G=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!o.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(w.length===1){const de=w.charCodeAt(0);(W==="utf8"&&de<128||W==="latin1")&&(w=de)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if($<0||this.length<$||this.length<G)throw new RangeError("Out of range index");if(G<=$)return this;$=$>>>0,G=G===void 0?this.length:G>>>0,w||(w=0);let ne;if(typeof w=="number")for(ne=$;ne<G;++ne)this[ne]=w;else{const de=o.isBuffer(w)?w:o.from(w,W),Oe=de.length;if(Oe===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ne=0;ne<G-$;++ne)this[ne+$]=de[ne%Oe]}return this};const T={};function j(x,w,$){T[x]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}j("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(x,w){return`The "${x}" argument must be of type number. Received type ${typeof w}`},TypeError),j("ERR_OUT_OF_RANGE",function(x,w,$){let G=`The value of "${x}" is out of range.`,W=$;return Number.isInteger($)&&Math.abs($)>2**32?W=q(String($)):typeof $=="bigint"&&(W=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(W=q(W)),W+="n"),G+=` It must be ${w}. Received ${W}`,G},RangeError);function q(x){let w="",$=x.length;const G=x[0]==="-"?1:0;for(;$>=G+4;$-=3)w=`_${x.slice($-3,$)}${w}`;return`${x.slice(0,$)}${w}`}function X(x,w,$){Ee(w,"offset"),(x[w]===void 0||x[w+$]===void 0)&&Be(w,x.length-($+1))}function ie(x,w,$,G,W,ne){if(x>$||x<w){const de=typeof w=="bigint"?"n":"";let Oe;throw ne>3?w===0||w===BigInt(0)?Oe=`>= 0${de} and < 2${de} ** ${(ne+1)*8}${de}`:Oe=`>= -(2${de} ** ${(ne+1)*8-1}${de}) and < 2 ** ${(ne+1)*8-1}${de}`:Oe=`>= ${w}${de} and <= ${$}${de}`,new T.ERR_OUT_OF_RANGE("value",Oe,x)}X(G,W,ne)}function Ee(x,w){if(typeof x!="number")throw new T.ERR_INVALID_ARG_TYPE(w,"number",x)}function Be(x,w,$){throw Math.floor(x)!==x?(Ee(x,$),new T.ERR_OUT_OF_RANGE($||"offset","an integer",x)):w<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE($||"offset",`>= ${$?1:0} and <= ${w}`,x)}const Ve=/[^+/0-9A-Za-z-_]/g;function We(x){if(x=x.split("=")[0],x=x.trim().replace(Ve,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function He(x,w){w=w||1/0;let $;const G=x.length;let W=null;const ne=[];for(let de=0;de<G;++de){if($=x.charCodeAt(de),$>55295&&$<57344){if(!W){if($>56319){(w-=3)>-1&&ne.push(239,191,189);continue}else if(de+1===G){(w-=3)>-1&&ne.push(239,191,189);continue}W=$;continue}if($<56320){(w-=3)>-1&&ne.push(239,191,189),W=$;continue}$=(W-55296<<10|$-56320)+65536}else W&&(w-=3)>-1&&ne.push(239,191,189);if(W=null,$<128){if((w-=1)<0)break;ne.push($)}else if($<2048){if((w-=2)<0)break;ne.push($>>6|192,$&63|128)}else if($<65536){if((w-=3)<0)break;ne.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((w-=4)<0)break;ne.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return ne}function ke(x){const w=[];for(let $=0;$<x.length;++$)w.push(x.charCodeAt($)&255);return w}function ce(x,w){let $,G,W;const ne=[];for(let de=0;de<x.length&&!((w-=2)<0);++de)$=x.charCodeAt(de),G=$>>8,W=$%256,ne.push(W),ne.push(G);return ne}function me(x){return e.toByteArray(We(x))}function Ce(x,w,$,G){let W;for(W=0;W<G&&!(W+$>=w.length||W>=x.length);++W)w[W+$]=x[W];return W}function De(x,w){return x instanceof w||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===w.name}function xe(x){return x!==x}const Z=function(){const x="0123456789abcdef",w=new Array(256);for(let $=0;$<16;++$){const G=$*16;for(let W=0;W<16;++W)w[G+W]=x[$]+x[W]}return w}();function le(x){return typeof BigInt>"u"?ye:x}function ye(){throw new Error("BigInt not supported")}})(sr);var U2={},RL={get exports(){return U2},set exports(t){U2=t}};(function(t){(function(e,r,n){t.exports=n(e),t.exports.default=t.exports})(qn,"UUID",function(){var e=function(A,C,E,_,R,b){for(var T=function(q,X){var ie=q.toString(16);return ie.length<2&&(ie="0"+ie),X&&(ie=ie.toUpperCase()),ie},j=C;j<=E;j++)R[b++]=T(A[j],_);return R},r=function(A,C,E,_,R){for(var b=C;b<=E;b+=2)_[R++]=parseInt(A.substr(b,2),16)},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),u=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],s=function(A,C){if(C%4!==0)throw new Error("z85_encode: invalid input length (multiple of 4 expected)");for(var E="",_=0,R=0;_<C;)if(R=R*256+A[_++],_%4===0){for(var b=52200625;b>=1;){var T=Math.floor(R/b)%85;E+=n[T],b/=85}R=0}return E},i=function(A,C){var E=A.length;if(E%5!==0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");typeof C>"u"&&(C=new Array(E*4/5));for(var _=0,R=0,b=0;_<E;){var T=A.charCodeAt(_++)-32;if(T<0||T>=u.length)break;if(b=b*85+u[T],_%5===0){for(var j=16777216;j>=1;)C[R++]=Math.trunc(b/j%256),j/=256;b=0}}return C},o=function(A,C){var E={ibits:8,obits:8,obigendian:!0};for(var _ in C)typeof E[_]<"u"&&(E[_]=C[_]);for(var R=[],b=0,T,j,q=0,X,ie=0,Ee=A.length;q===0&&(j=A.charCodeAt(b++)),T=j>>E.ibits-(q+8)&255,q=(q+8)%E.ibits,E.obigendian?ie===0?X=T<<E.obits-8:X|=T<<E.obits-8-ie:ie===0?X=T:X|=T<<ie,ie=(ie+8)%E.obits,!(ie===0&&(R.push(X),b>=Ee)););return R},a=function(A,C){var E={ibits:32,ibigendian:!0};for(var _ in C)typeof E[_]<"u"&&(E[_]=C[_]);var R="",b=4294967295;E.ibits<32&&(b=(1<<E.ibits)-1);for(var T=A.length,j=0;j<T;j++)for(var q=A[j]&b,X=0;X<E.ibits;X+=8)E.ibigendian?R+=String.fromCharCode(q>>E.ibits-8-X&255):R+=String.fromCharCode(q>>X&255);return R},c=8,l=8,f=256,d=function(A,C,E,_,R,b,T,j){return[j,T,b,R,_,E,C,A]},p=function(){return d(0,0,0,0,0,0,0,0)},h=function(A){return A.slice(0)},v=function(A){for(var C=p(),E=0;E<c;E++)C[E]=Math.floor(A%f),A/=f;return C},S=function(A){for(var C=0,E=c-1;E>=0;E--)C*=f,C+=A[E];return Math.floor(C)},D=function(A,C){for(var E=0,_=0;_<c;_++)E+=A[_]+C[_],A[_]=Math.floor(E%f),E=Math.floor(E/f);return E},g=function(A,C){for(var E=0,_=0;_<c;_++)E+=A[_]*C,A[_]=Math.floor(E%f),E=Math.floor(E/f);return E},F=function(A,C){var E,_,R=new Array(c+c);for(E=0;E<c+c;E++)R[E]=0;var b;for(E=0;E<c;E++){for(b=0,_=0;_<c;_++)b+=A[E]*C[_]+R[E+_],R[E+_]=b%f,b/=f;for(;_<c+c-E;_++)b+=R[E+_],R[E+_]=b%f,b/=f}for(E=0;E<c;E++)A[E]=R[E];return R.slice(c,c)},I=function(A,C){for(var E=0;E<c;E++)A[E]&=C[E];return A},k=function(A,C){for(var E=0;E<c;E++)A[E]|=C[E];return A},B=function(A,C){var E=p();if(C%l!==0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var _=Math.floor(C/l),R=0;R<_;R++){for(var b=c-1-1;b>=0;b--)E[b+1]=E[b];for(E[0]=A[0],b=0;b<c-1;b++)A[b]=A[b+1];A[b]=0}return S(E)},O=function(A,C){if(C>c*l)throw new Error("ui64_ror: invalid number of bits to shift");var E=new Array(c+c),_;for(_=0;_<c;_++)E[_+c]=A[_],E[_]=0;var R=Math.floor(C/l),b=C%l;for(_=R;_<c+c-1;_++)E[_-R]=(E[_]>>>b|E[_+1]<<l-b)&(1<<l)-1;for(E[c+c-1-R]=E[c+c-1]>>>b&(1<<l)-1,_=c+c-1-R+1;_<c+c;_++)E[_]=0;for(_=0;_<c;_++)A[_]=E[_+c];return E.slice(0,c)},M=function(A,C){if(C>c*l)throw new Error("ui64_rol: invalid number of bits to shift");var E=new Array(c+c),_;for(_=0;_<c;_++)E[_+c]=0,E[_]=A[_];var R=Math.floor(C/l),b=C%l;for(_=c-1-R;_>0;_--)E[_+R]=(E[_]<<b|E[_-1]>>>l-b)&(1<<l)-1;for(E[0+R]=E[0]<<b&(1<<l)-1,_=0+R-1;_>=0;_--)E[_]=0;for(_=0;_<c;_++)A[_]=E[_];return E.slice(c,c)},y=function(A,C){for(var E=0;E<c;E++)A[E]^=C[E]},P=function(A,C){var E=(A&65535)+(C&65535),_=(A>>16)+(C>>16)+(E>>16);return _<<16|E&65535},L=function(A,C){return A<<C&4294967295|A>>>32-C&4294967295},U=function(A,C){function E(me,Ce,De,xe){return me<20?Ce&De|~Ce&xe:me<40?Ce^De^xe:me<60?Ce&De|Ce&xe|De&xe:Ce^De^xe}function _(me){return me<20?1518500249:me<40?1859775393:me<60?-1894007588:-899497514}A[C>>5]|=128<<24-C%32,A[(C+64>>9<<4)+15]=C;for(var R=Array(80),b=1732584193,T=-271733879,j=-1732584194,q=271733878,X=-1009589776,ie=0;ie<A.length;ie+=16){for(var Ee=b,Be=T,Ve=j,We=q,He=X,ke=0;ke<80;ke++){ke<16?R[ke]=A[ie+ke]:R[ke]=L(R[ke-3]^R[ke-8]^R[ke-14]^R[ke-16],1);var ce=P(P(L(b,5),E(ke,T,j,q)),P(P(X,R[ke]),_(ke)));X=q,q=j,j=L(T,30),T=b,b=ce}b=P(b,Ee),T=P(T,Be),j=P(j,Ve),q=P(q,We),X=P(X,He)}return[b,T,j,q,X]},Y=function(A){return a(U(o(A,{ibits:8,obits:32,obigendian:!0}),A.length*8),{ibits:32,ibigendian:!0})},H=function(A,C){function E(ke,ce,me,Ce,De,xe){return P(L(P(P(ce,ke),P(Ce,xe)),De),me)}function _(ke,ce,me,Ce,De,xe,Z){return E(ce&me|~ce&Ce,ke,ce,De,xe,Z)}function R(ke,ce,me,Ce,De,xe,Z){return E(ce&Ce|me&~Ce,ke,ce,De,xe,Z)}function b(ke,ce,me,Ce,De,xe,Z){return E(ce^me^Ce,ke,ce,De,xe,Z)}function T(ke,ce,me,Ce,De,xe,Z){return E(me^(ce|~Ce),ke,ce,De,xe,Z)}A[C>>5]|=128<<C%32,A[(C+64>>>9<<4)+14]=C;for(var j=1732584193,q=-271733879,X=-1732584194,ie=271733878,Ee=0;Ee<A.length;Ee+=16){var Be=j,Ve=q,We=X,He=ie;j=_(j,q,X,ie,A[Ee+0],7,-680876936),ie=_(ie,j,q,X,A[Ee+1],12,-389564586),X=_(X,ie,j,q,A[Ee+2],17,606105819),q=_(q,X,ie,j,A[Ee+3],22,-1044525330),j=_(j,q,X,ie,A[Ee+4],7,-176418897),ie=_(ie,j,q,X,A[Ee+5],12,1200080426),X=_(X,ie,j,q,A[Ee+6],17,-1473231341),q=_(q,X,ie,j,A[Ee+7],22,-45705983),j=_(j,q,X,ie,A[Ee+8],7,1770035416),ie=_(ie,j,q,X,A[Ee+9],12,-1958414417),X=_(X,ie,j,q,A[Ee+10],17,-42063),q=_(q,X,ie,j,A[Ee+11],22,-1990404162),j=_(j,q,X,ie,A[Ee+12],7,1804603682),ie=_(ie,j,q,X,A[Ee+13],12,-40341101),X=_(X,ie,j,q,A[Ee+14],17,-1502002290),q=_(q,X,ie,j,A[Ee+15],22,1236535329),j=R(j,q,X,ie,A[Ee+1],5,-165796510),ie=R(ie,j,q,X,A[Ee+6],9,-1069501632),X=R(X,ie,j,q,A[Ee+11],14,643717713),q=R(q,X,ie,j,A[Ee+0],20,-373897302),j=R(j,q,X,ie,A[Ee+5],5,-701558691),ie=R(ie,j,q,X,A[Ee+10],9,38016083),X=R(X,ie,j,q,A[Ee+15],14,-660478335),q=R(q,X,ie,j,A[Ee+4],20,-405537848),j=R(j,q,X,ie,A[Ee+9],5,568446438),ie=R(ie,j,q,X,A[Ee+14],9,-1019803690),X=R(X,ie,j,q,A[Ee+3],14,-187363961),q=R(q,X,ie,j,A[Ee+8],20,1163531501),j=R(j,q,X,ie,A[Ee+13],5,-1444681467),ie=R(ie,j,q,X,A[Ee+2],9,-51403784),X=R(X,ie,j,q,A[Ee+7],14,1735328473),q=R(q,X,ie,j,A[Ee+12],20,-1926607734),j=b(j,q,X,ie,A[Ee+5],4,-378558),ie=b(ie,j,q,X,A[Ee+8],11,-2022574463),X=b(X,ie,j,q,A[Ee+11],16,1839030562),q=b(q,X,ie,j,A[Ee+14],23,-35309556),j=b(j,q,X,ie,A[Ee+1],4,-1530992060),ie=b(ie,j,q,X,A[Ee+4],11,1272893353),X=b(X,ie,j,q,A[Ee+7],16,-155497632),q=b(q,X,ie,j,A[Ee+10],23,-1094730640),j=b(j,q,X,ie,A[Ee+13],4,681279174),ie=b(ie,j,q,X,A[Ee+0],11,-358537222),X=b(X,ie,j,q,A[Ee+3],16,-722521979),q=b(q,X,ie,j,A[Ee+6],23,76029189),j=b(j,q,X,ie,A[Ee+9],4,-640364487),ie=b(ie,j,q,X,A[Ee+12],11,-421815835),X=b(X,ie,j,q,A[Ee+15],16,530742520),q=b(q,X,ie,j,A[Ee+2],23,-995338651),j=T(j,q,X,ie,A[Ee+0],6,-198630844),ie=T(ie,j,q,X,A[Ee+7],10,1126891415),X=T(X,ie,j,q,A[Ee+14],15,-1416354905),q=T(q,X,ie,j,A[Ee+5],21,-57434055),j=T(j,q,X,ie,A[Ee+12],6,1700485571),ie=T(ie,j,q,X,A[Ee+3],10,-1894986606),X=T(X,ie,j,q,A[Ee+10],15,-1051523),q=T(q,X,ie,j,A[Ee+1],21,-2054922799),j=T(j,q,X,ie,A[Ee+8],6,1873313359),ie=T(ie,j,q,X,A[Ee+15],10,-30611744),X=T(X,ie,j,q,A[Ee+6],15,-1560198380),q=T(q,X,ie,j,A[Ee+13],21,1309151649),j=T(j,q,X,ie,A[Ee+4],6,-145523070),ie=T(ie,j,q,X,A[Ee+11],10,-1120210379),X=T(X,ie,j,q,A[Ee+2],15,718787259),q=T(q,X,ie,j,A[Ee+9],21,-343485551),j=P(j,Be),q=P(q,Ve),X=P(X,We),ie=P(ie,He)}return[j,q,X,ie]},se=function(A){return a(H(o(A,{ibits:8,obits:32,obigendian:!1}),A.length*8),{ibits:32,ibigendian:!1})},fe=function(A){this.mul=d(88,81,244,45,76,149,127,45),this.inc=d(20,5,123,126,247,103,129,79),this.mask=d(0,0,0,0,255,255,255,255),this.state=h(this.inc),this.next(),I(this.state,this.mask),A=v(A!==void 0?A>>>0:Math.random()*4294967295>>>0),k(this.state,A),this.next()};fe.prototype.next=function(){var A=h(this.state);F(this.state,this.mul),D(this.state,this.inc);var C=h(A);O(C,18),y(C,A),O(C,27);var E=h(A);O(E,59),I(C,this.mask);var _=S(E),R=h(C);return M(R,32-_),O(C,_),y(C,R),S(C)};var K=new fe,z=function(A,C){for(var E=[],_=0;_<A;_++)E[_]=K.next()%C;return E},te=0,V=0,N=function(){if(arguments.length===1&&typeof arguments[0]=="string")this.parse.apply(this,arguments);else if(arguments.length>=1&&typeof arguments[0]=="number")this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var A=0;A<16;A++)this[A]=0}};return typeof Uint8Array<"u"?N.prototype=new Uint8Array(16):sr.Buffer?N.prototype=sr.Buffer.alloc(16):N.prototype=new Array(16),N.prototype.constructor=N,N.prototype.make=function(A){var C,E=this;if(A===1){var _=new Date,R=_.getTime();R!==te?V=0:V++,te=R;var b=v(R);g(b,1e3*10),D(b,d(1,178,29,210,19,129,64,0)),V>0&&D(b,v(V));var T;T=B(b,8),E[3]=T&255,T=B(b,8),E[2]=T&255,T=B(b,8),E[1]=T&255,T=B(b,8),E[0]=T&255,T=B(b,8),E[5]=T&255,T=B(b,8),E[4]=T&255,T=B(b,8),E[7]=T&255,T=B(b,8),E[6]=T&15;var j=z(2,255);E[8]=j[0],E[9]=j[1];var q=z(6,255);for(q[0]|=1,q[0]|=2,C=0;C<6;C++)E[10+C]=q[C]}else if(A===4){var X=z(16,255);for(C=0;C<16;C++)this[C]=X[C]}else if(A===3||A===5){var ie="",Ee=typeof arguments[1]=="object"&&arguments[1]instanceof N?arguments[1]:new N().parse(arguments[1]);for(C=0;C<16;C++)ie+=String.fromCharCode(Ee[C]);ie+=arguments[2];var Be=A===3?se(ie):Y(ie);for(C=0;C<16;C++)E[C]=Be.charCodeAt(C)}else throw new Error("UUID: make: invalid version");return E[6]&=15,E[6]|=A<<4,E[8]&=63,E[8]|=2<<6,E},N.prototype.format=function(A){var C,E;return A==="z85"?C=s(this,16):A==="b16"?(E=Array(32),e(this,0,15,!0,E,0),C=E.join("")):(A===void 0||A==="std")&&(E=new Array(36),e(this,0,3,!1,E,0),E[8]="-",e(this,4,5,!1,E,9),E[13]="-",e(this,6,7,!1,E,14),E[18]="-",e(this,8,9,!1,E,19),E[23]="-",e(this,10,15,!1,E,24),C=E.join("")),C},N.prototype.toString=function(A){return this.format(A)},N.prototype.toJSON=function(){return this.format("std")},N.prototype.parse=function(A,C){if(typeof A!="string")throw new Error("UUID: parse: invalid argument (type string expected)");if(C==="z85")i(A,this);else if(C==="b16")r(A,0,35,this,0);else if(C===void 0||C==="std"){var E={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(E[A]!==void 0)A=E[A];else if(!A.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');r(A,0,7,this,0),r(A,9,12,this,4),r(A,14,17,this,6),r(A,19,22,this,8),r(A,24,35,this,10)}return this},N.prototype.export=function(){for(var A=Array(16),C=0;C<16;C++)A[C]=this[C];return A},N.prototype.import=function(A){if(!(typeof A=="object"&&A instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(A.length!==16)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var C=0;C<16;C++){if(typeof A[C]!="number")throw new Error("UUID: import: invalid array element #"+C+" (type Number expected)");if(!(isFinite(A[C])&&Math.floor(A[C])===A[C]))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value expected)");if(!(A[C]>=0&&A[C]<=255))throw new Error("UUID: import: invalid array element #"+C+" (Number with integer value in range 0...255 expected)");this[C]=A[C]}return this},N.prototype.compare=function(A){if(typeof A!="object")throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(A instanceof N))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var C=0;C<16;C++){if(this[C]<A[C])return-1;if(this[C]>A[C])return 1}return 0},N.prototype.equal=function(A){return this.compare(A)===0},N.prototype.fold=function(A){if(typeof A>"u")throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(A<1||A>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var C=16/Math.pow(2,A),E=new Array(C),_=0;_<C;_++){for(var R=0,b=0;_+b<16;b+=C)R^=this[_+b];E[_]=R}return E},N.PCG=fe,N})})(RL);var K2={},qL={get exports(){return K2},set exports(t){K2=t}};(function(){function t(e){var r;return e instanceof sr.Buffer?r=e:r=sr.Buffer.from(e.toString(),"binary"),r.toString("base64")}qL.exports=t})();const xL=U2,ML=K2,jL=()=>ML(new xL(4)).substring(0,12);var LL={generateId:jL};const GL={heading:"block",title:"block",endTitle:"block",remark:"block",footnote:"inline",xref:"inline",noteCaller:"inline",esbCat:"inline",table:"block",tree:"block",kv:"block"};var VL={graftLocation:GL};const o_={wordLike:0,punctuation:1,lineSpace:2,eol:3,softLineBreak:4,noBreakSpace:5,bareSlash:6,unknown:7},UL=Object.entries(o_).sort((t,e)=>t[1]-e[1]).map(t=>t[0]),KL={wordLike:"wordLike",punctuation:"notWordLike",lineSpace:"notWordLike",eol:"notWordLike",softLineBreak:"notWordLike",noBreakSpace:"notWordLike",bareSlash:"notWordLike",unknown:"notWordLike"};var ND={tokenEnum:o_,tokenEnumLabels:UL,tokenCategory:KL};const db=Bt,a_={blockTag:0,inline:1,chapter:2,pubChapter:3,altChapter:4,verses:5,verse:6,pubVerse:7,altVerse:8,esbCat:9,span:10,table:11,cell:12,milestone:13,spanWithAtts:14,attribute:15,hangingGraft:16,orphanTokens:17,tTableRow:18,tTableCol:19,tTreeNode:20,tTreeParent:21,tTreeChild:22,tTreeContent:23,kvPrimary:24,kvSecondary:25,kvField:26},JL=Object.entries(a_).sort((t,e)=>t[1]-e[1]).map(t=>t[0]),HL=t=>{const e=db.exec(t,db("([^1-9]+)(.*)")),r=e[1],n=e[2].length>0?e[2]:"1";return[r,n]},WL=t=>{const e={th:{type:"colHeading",align:"left"},thr:{type:"colHeading",align:"right"},tc:{type:"body",align:"left"},tcr:{type:"body",align:"right"}},[r,n]=HL(t);let u="1";if(n.includes("-")){const[s,i]=n.split("-");u=`${parseInt(i)-parseInt(s)+1}`}return`cell/${e[r].type}/${e[r].align}/${u}`},zL=(t,e)=>{switch(t){case"blockTag":return`blockTag/${e[0]}`;case"inline":return`inline/${e[0]}`;case"chapter":return`chapter/${e[0]}`;case"verses":return`verses/${e[0]}`;case"verse":return`verse/${e[0]}`;case"span":return`span/${e[0]}`;case"table":return"table";case"cell":return WL(e[0]);case"milestone":return`milestone/${e[0]}`;case"spanWithAtts":return`spanWithAtts/${e[0]}`;case"attribute":return`attribute/${e[0]}/${e[1]}/${e[2]}/${e[3]}`;case"orphanTokens":return"orphanTokens";case"hangingGraft":return"hangingGraft";case"pubChapter":return`pubChapter/${e[0]}`;case"pubVerse":return`pubVerse/${e[0]}`;case"altChapter":return`altChapter/${e[0]}`;case"altVerse":return`altVerse/${e[0]}`;case"esbCat":return`esbCat/${e[0]}`;case"tTableRow":return`tTableRow/${e[0]}`;case"tTableCol":return`tTableCol/${e[0]}`;case"tTreeNode":return`tTreeNode/${e[0]}`;case"tTreeParent":return`tTreeParent/${e[0]}`;case"tTreeChild":return`tTreeChild/${e[0]}/${e[1]}`;case"tTreeContent":return`tTreeContent/${e[0]}`;case"kvPrimary":return`kvPrimary/${e[0]}`;case"kvSecondary":return`kvSecondary/${e[0]}/${e[1]}`;case"kvField":return`kvField/${e[0]}`;default:throw new Error(`Unknown scope type '${t}' in labelForScope`)}},QL=t=>{switch(t){case"orphanTokens":case"hangingGraft":case"table":return 1;case"blockTag":case"inline":case"chapter":case"verses":case"verse":case"span":case"milestone":case"spanWithAtts":case"pubChapter":case"altChapter":case"pubVerse":case"altVerse":case"esbCat":case"tTableRow":case"tTableCol":case"tTreeNode":case"tTreeParent":case"tTreeContent":case"kvPrimary":case"kvField":return 2;case"tTreeChild":case"kvSecondary":return 3;case"cell":return 4;case"attribute":return 6;default:throw new Error(`Unknown scope type '${t}' in nComponentsForScope`)}};var RD={scopeEnum:a_,scopeEnumLabels:JL,labelForScope:zL,nComponentsForScope:QL};const c_={token:0,graft:1,startScope:2,endScope:3},YL=Object.entries(c_).sort((t,e)=>t[1]-e[1]).map(t=>t[0]),l_=t=>({type:t[0],subType:t[1],payload:t[2]}),f_=t=>[t.type,t.subType,t.payload],XL=t=>t.map(e=>l_(e)),ZL=t=>t.map(e=>f_(e));var qD={itemEnum:c_,itemEnumLabels:YL,itemArray2Object:l_,itemObject2Array:f_,itemArrays2Objects:XL,itemObjects2Arrays:ZL};const pb=ND,hb=RD,d_=qD,eG=(t,e)=>{const r=t.byte(e),n=r>>6,u=r&63,s=t.byte(e+1);return[u,n,s]},tG=(t,e,r,n,u)=>{const s=pb.tokenCategory[pb.tokenEnumLabels[n]],i=e[s][r.nByte(u+2)];return t[s].countedString(i)},rG=(t,e,r,n,u)=>{const s=hb.scopeEnumLabels[n];let i=hb.nComponentsForScope(s),o=2,a="";for(;i>1;){const c=r.nByte(u+o),l=e.scopeBits[c],f=t.scopeBits.countedString(l);a+=`/${f}`,o+=r.nByteLength(c),i--}return`${s}${a}`},nG=(t,e,r)=>{const n=e.graftTypes[r];return t.graftTypes.countedString(n)},uG=(t,e,r,n)=>{const u=e.ids[r.nByte(n+2)];return t.ids.countedString(u)},sG=t=>{const e={};for(const[r,n]of Object.entries(t))e[r]=p_(r,n);return e},p_=(t,e)=>{const r=new Uint32Array(e.length);let n=0,u=0;for(;n<e.length;){r[u]=n;const s=e.byte(n);n+=s+1,u+=1}return r},iG=(t,e)=>{e||(e=!1);let r=0,n=0;const u=[];for(;r<t.length;){const s=t.byte(r),i=t.countedString(r);u.push(e?[n,i]:i),r+=s+1,n++}return u},ei=(t,e)=>{throw new Error(`Undefined or null argument '${e}' in '${t}'`)},oG=(t,e,r)=>{e==null&&ei("pushSuccinctTokenBytes","tokenEnumIndex"),r==null&&ei("pushSuccinctTokenBytes","charsEnumIndex");const n=t.length;t.pushByte(0),t.pushByte(e),t.pushNByte(r),t.setByte(n,t.length-n|d_.itemEnum.token<<6)},aG=(t,e,r)=>{e==null&&ei("pushSuccinctGraftBytes","graftTypeEnumIndex"),r==null&&ei("pushSuccinctGraftBytes","seqEnumIndex");const n=t.length;t.pushByte(0),t.pushByte(e),t.pushNByte(r),t.setByte(n,t.length-n|d_.itemEnum.graft<<6)},cG=(t,e,r,n)=>{e==null&&ei("pushSuccinctScopeBytes","itemTypeByte"),r==null&&ei("pushSuccinctScopeBytes","scopeTypeByte"),n==null&&ei("pushSuccinctScopeBytes","scopeBitBytes");const u=t.length;t.pushByte(0),t.pushByte(r);for(const s of n)t.pushNByte(s);t.setByte(u,t.length-u|e<<6)};var h_={enumIndex:p_,enumIndexes:sG,headerBytes:eG,pushSuccinctTokenBytes:oG,pushSuccinctGraftBytes:aG,pushSuccinctScopeBytes:cG,succinctTokenChars:tG,succinctScopeLabel:rG,succinctGraftName:nG,succinctGraftSeqId:uG,unpackEnum:iG};const J2=kD,Ms=h_,mb=qD,lG=ND,fG=RD,dG=t=>{const e=new J2;e.fromBase64(t);const r=[];r.push(`* Char length ${e.length} *`);for(const[n,u]of Ms.unpackEnum(e,!0))r.push(`${n}	"${u}"`);return r.join(`
`)},pG=(t,e)=>{const r=new J2;r.fromBase64(t);const n={};for(const[o,a]of Object.entries(e))n[o]=new J2,n[o].fromBase64(a);const u=Ms.enumIndexes(n),s=[];s.push(`* Char length ${r.length} *`);let i=0;for(;i<r.length;){const[o,a,c]=Ms.headerBytes(r,i);let l=c,f="";switch(mb.itemEnumLabels[a]){case"token":l=lG.tokenEnumLabels[c],f=`"${Ms.succinctTokenChars(n,u,r,c,i)}"`;break;case"startScope":case"endScope":l=fG.scopeEnumLabels[c],f=Ms.succinctScopeLabel(n,u,r,c,i);break;case"graft":l=Ms.succinctGraftName(n,u,c),f=Ms.succinctGraftSeqId(n,u,r,i)}s.push(`${mb.itemEnumLabels[a]}	${l}	(${o})	${f}`),i+=o}return s.join(`
`)};var hG={inspectEnum:dG,inspectSuccinct:pG},mG={usfm:{baseSequenceTypes:{main:"1",introduction:"*",introTitle:"?",introEndTitle:"?",title:"?",endTitle:"?",heading:"*",header:"*",remark:"*",sidebar:"*",table:"*",tree:"*",kv:"*"},inlineSequenceTypes:{footnote:"*",noteCaller:"*",xref:"*",pubNumber:"*",altNumber:"*",esbCat:"*",fig:"*",temp:"?"}}};const DG=Bt,EG=t=>{for(const e of t)o0(e)},o0=t=>{if(!DG.exec(t,/^[a-z][A-za-z0-9]*(:.+)?$/))throw new Error(`Tag '${t}' is not valid (should be [a-z][A-za-z0-9]*(:.+)?)`)},yG=(t,e)=>{o0(e),t.add(e)},vG=(t,e)=>{o0(e),t.delete(e)};var gG={validateTags:EG,validateTag:o0,addTag:yG,removeTag:vG};const Db=Bt,AG=kD,SG=2,of=3,a0=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],m_=()=>{const t={};for(const[e,r]of Object.entries(a0))t[r]=parseInt(e);return t},FG=t=>{const e={};for(const r of t.split(/[\n\r]+/).map(n=>n.trim()).map(n=>Db.exec(n,Db("^([A-Z1-6]{3} [0-9]+:[0-9]+(-[0-9]+)?) = ([A-Z1-6]{3} [0-9]+:[0-9]+[a-z]?(-[0-9]+)?)$"))))r&&(r[1]in e||(e[r[1]]=[]),e[r[1]].push(r[3]));return{mappedVerses:e}},bG=t=>{const e={};for(const[r,n]of Object.entries(t.mappedVerses))for(const u of n)u in e?e[u].push(r):e[u]=[r];return{reverseMappedVerses:e}},D_=t=>{const e={};for(let[r,n]of Object.entries(t)){typeof n=="string"&&(n=[n]);const[u,s]=r.split(" "),i=n[0].split(" ")[0],o=i===u?["cv"]:["bcv"];let[a,c]=s.split(":"),l=c;if(c.includes("-")){const f=c.split("-");c=f[0],l=f[1]}o.push([parseInt(c),parseInt(l)]),o.push([]);for(const f of n.map(d=>d.split(" ")[1])){let[d,p]=f.split(":"),h=p;if(p.includes("-")){const v=p.split("-");p=v[0],h=v[1]}o[0]==="cv"?o[2].push([parseInt(d),parseInt(p),parseInt(h)]):o[2].push([parseInt(d),parseInt(p),parseInt(h),i])}u in e||(e[u]={}),a in e[u]||(e[u][a]=[]),e[u][a].push(o)}return e},CG=t=>{const e={},r=m_();for(const[n,u]of Object.entries(D_(t))){e[n]={};for(const[s,i]of Object.entries(u))e[n][s]=E_(i,r)}return e},E_=(t,e)=>{const r=(u,s)=>s+u*64,n=new AG(64);for(const[u,[s,i],o]of t){const a=n.length,c=u==="bcv"?of:SG;if(n.pushNBytes([0,s,i]),c===of){const f=e[o[0][3]];n.pushNByte(f)}n.pushNByte(o.length);for(const[f,d]of o)n.pushNBytes([f,d]);const l=n.length-a;if(l>63)throw new Error(`Mapping in succinctifyVerseMapping ${JSON.stringify(o)} is too long (${l} bytes)`);n.setByte(a,r(c,l))}return n.trim(),n},y_=(t,e)=>{const r=t.byte(e);return[r>>6,r%64]},_G=(t,e,r)=>{const n=[];let u=0;for(;u<t.length;){let s=u;const i={},[o,a]=y_(t,u);if(s++,i.fromVerseStart=t.nByte(s),s+=t.nByteLength(i.fromVerseStart),i.fromVerseEnd=t.nByte(s),s+=t.nByteLength(i.fromVerseEnd),i.bookCode=e,o===of){const f=t.nByte(s);i.bookCode=a0[f],s+=t.nByteLength(f)}const c=t.nByte(s);s+=t.nByteLength(c);const l=[];for(;l.length<c;){const f={};f.ch=t.nByte(s),s+=t.nByteLength(f.ch),f.verseStart=t.nByte(s),s+=t.nByteLength(f.verseStart),l.push(f)}i.mapping=l,n.push(i),u+=a}return n},wG=(t,e,r,n)=>{let u=null,s=0;for(;s<t.length;){let i=s;const[o,a]=y_(t,s);i++;const c=t.nByte(i);i+=t.nByteLength(c);const l=t.nByte(i);if(i+=t.nByteLength(l),n<c||n>l){s+=a;continue}let f=e;if(o===of){const p=t.nByte(i);f=a0[p],i+=t.nByteLength(p)}u=[f,[]];const d=t.nByte(i);for(i+=t.nByteLength(d);u[1].length<d;){const p=t.nByte(i);i+=t.nByteLength(p);const h=t.nByte(i);i+=t.nByteLength(h),u[1].push([p,n-c+h])}break}return u||[e,[[r,n]]]};var TG={vrs2json:FG,reverseVersification:bG,preSuccinctVerseMapping:D_,bookCodes:a0,succinctifyVerseMapping:E_,succinctifyVerseMappings:CG,unsuccinctifyVerseMapping:_G,bookCodeIndex:m_,mapVerse:wG};const $G=kD,BG=PL,IG=NL,{generateId:PG}=LL,kG=VL,OG=hG,NG=qD,RG=mG,qG=RD,xG=h_,MG=gG,jG=ND,LG=TG;var Tt={ByteArray:$G,canons:BG,enums:IG,generateId:PG,graftDefs:kG,inspect:OG,itemDefs:NG,parserConstants:RG,scopeDefs:qG,succinct:xG,tags:MG,tokenDefs:jG,versification:LG};const Eb=Bt,GG=(t,e)=>{if(typeof e!="object")throw new Error(`DocSet constructor expects selectors to be object, found ${typeof t.selectors}`);const r={};for(const n of t.processor.selectors)r[n.name]=n;for(const[n,u]of Object.entries(e)){if(!(n in r))throw new Error(`Unexpected selector '${n}' (expected one of [${Object.keys(r).join(", ")}])`);if(typeof u=="string"&&r[n].type!=="string"||typeof u=="number"&&r[n].type!=="integer")throw new Error(`Selector '${n}' is of type ${typeof u} (expected ${r[n].type})`);if(typeof u=="number"){if(!Number.isInteger(u))throw new Error(`Value '${u}' of integer selector '${n}' is not an integer`);if("min"in r[n]&&u<r[n].min)throw new Error(`Value '${u}' is less than ${r[n].min}`);if("max"in r[n]&&u>r[n].max)throw new Error(`Value '${u}' is greater than ${r[n].max}`)}else if("regex"in r[n]&&!Eb.exec(u,Eb(r[n].regex),0))throw new Error(`Value '${u}' does not match regex '${r[n].regex}'`);if("enum"in r[n]&&!r[n].enum.includes(u))throw new Error(`Value '${u}' of selector '${n}' is not in enum`)}for(const n of Object.keys(r))if(!(n in e))throw new Error(`Expected selector '${n}' not found`);return e};var VG={validateSelectors:GG};const zn=Bt,af=Tt,UG=(t,e,r)=>{const n=(i,o,a)=>[...t.unsuccinctifyScopes(i.os).map(l=>l[2]),...t.unsuccinctifyScopes(i.is).map(l=>l[2])].filter(l=>l.startsWith("chapter/")).map(l=>parseInt(l.split("/")[1])).filter(l=>l>o&&l<a).length>0,u=(i,o,a)=>[...t.unsuccinctifyScopes(i.os).map(l=>l[2]),...t.unsuccinctifyScopes(i.is).map(l=>l[2])].includes(`chapter/${o}`)&&t.blockHasMatchingItem(i,(l,f)=>f.has(`chapter/${o}`)?Array.from(f).filter(d=>d.startsWith("verse/")).filter(d=>parseInt(d.split("/")[1])>=a).length>0||a===0&&l[0]==="token"&&l[2]&&Array.from(f).filter(d=>d.startsWith("verse")).length===0:!1,{}),s=(i,o,a)=>[...t.unsuccinctifyScopes(i.os).map(l=>l[2]),...t.unsuccinctifyScopes(i.is).map(l=>l[2])].includes(`chapter/${o}`)&&t.blockHasMatchingItem(i,(l,f)=>f.has(`chapter/${o}`)?Array.from(f).filter(d=>d.startsWith("verse/")).filter(d=>parseInt(d.split("/")[1])<=a).length>0||a===0&&l[0]==="token"&&l[2]&&Array.from(f).filter(d=>d.startsWith("verse")).length===0:!1,{});if(zn.exec(r,zn("^[1-9][0-9]*$"))){const i=[`chapter/${r}`];return e.filter(o=>t.allScopesInBlock(o,i))}else if(zn.exec(r,zn("^[1-9][0-9]*-[1-9][0-9]*$"))){const[i,o]=r.split("-").map(c=>parseInt(c));if(i>o)throw new Error(`Chapter range must be from min to max, not '${r}'`);const a=[...Array(o-i+1).keys()].map(c=>`chapter/${c+i}`);return e.filter(c=>t.anyScopeInBlock(c,a))}else if(zn.exec(r,zn("^[1-9][0-9]*:[0-9]+$"))){const[i,o]=r.split(":").map(a=>parseInt(a));if(o===0){const a=[`chapter/${i}`];return e.filter(c=>t.allScopesInBlock(c,a)).filter(c=>[...t.allBlockScopes(c)].filter(l=>l.startsWith("verse")).length===0)}else{const a=[`chapter/${i}`,`verse/${o}`];return e.filter(c=>t.allScopesInBlock(c,a))}}else if(zn.exec(r,zn("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$"))){const[i,o]=r.split(":"),[a,c]=o.split("-").map(d=>parseInt(d));if(a>c)throw new Error(`Verse range must be from min to max, not '${o}'`);const l=[`chapter/${i}`],f=[...Array(c-a+1).keys()].map(d=>`verse/${d+a}`);return e.filter(d=>t.allScopesInBlock(d,l)).filter(d=>t.anyScopeInBlock(d,f)||a===0&&[...t.allBlockScopes(d)].filter(p=>p.startsWith("verse")).length===0)}else if(zn.exec(r,zn("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$"))){const[i,o]=r.split("-"),[a,c]=i.split(":").map(h=>parseInt(h)),[l,f]=o.split(":").map(h=>parseInt(h));if(a>l)throw new Error(`Chapter range must be from min to max, not '${a}-${f}'`);const d=[...Array(l-a+1).keys()].map(h=>`chapter/${h+a}`);return e.filter(h=>t.anyScopeInBlock(h,d)).filter(h=>n(h,a,l)||u(h,a,c)||s(h,l,f))}else throw new Error(`Bad cv reference '${r}'`)},KG=(t,e)=>{const[r,n,u]=af.succinct.headerBytes(e.bs,0),s=t.unsuccinctifyScope(e.bs,n,u,0);return new Set([...t.unsuccinctifyScopes(e.os).map(i=>i[2]),...t.unsuccinctifyScopes(e.is).map(i=>i[2]),s[2]])},JG=(t,e,r)=>{const n=t.allBlockScopes(e);for(const u of r)if(!n.has(u))return!1;return!0},HG=(t,e,r)=>{const n=t.allBlockScopes(e);for(const u of r)if(n.has(u))return!0;return!1},WG=(t,e,r)=>{const[n,u,s]=af.succinct.headerBytes(e.bs,0);return t.unsuccinctifyScope(e.bs,u,s,0)[2]===r},zG=(t,e,r)=>{let n=!1,u=0;const s=e.c;if(r.includes(-1))return!1;for(;!n&&u<s.length;){const[i,o]=af.succinct.headerBytes(s,u);o===af.itemDefs.itemEnum.token&&r.includes(s.nByte(u+2))&&(n=!0),u+=i}return n},QG=(t,e,r,n)=>{const u=new Set(t.unsuccinctifyScopes(e.os).map(s=>s[2]));for(const s of t.unsuccinctifyItems(e.c,n,0)){if(s[0]==="scope"&&s[1]==="start"&&u.add(s[2]),r(s,u))return!0;s[0]==="scope"&&s[1]==="end"&&u.delete(s[2])}return!1};var YG={blocksWithScriptureCV:UG,allBlockScopes:KG,anyScopeInBlock:HG,allScopesInBlock:JG,blockHasBlockScope:WG,blockHasChars:zG,blockHasMatchingItem:QG};const Qn=Bt,ji=Tt,XG=(t,e,r)=>{t.maybeBuildEnumIndexes();const n=e.bs,[u,s,i]=ji.succinct.headerBytes(n,0),o=t.unsuccinctifyScope(n,s,i,0),a=t.unsuccinctifyGrafts(e.bg),c=t.unsuccinctifyScopes(e.os),l=t.unsuccinctifyScopes(e.is),f=e.nt.nByte(0),d=t.unsuccinctifyItems(e.c,r||{},f);return{bs:o,bg:a,c:d,os:c,is:l,nt:f}},ZG=(t,e,r,n,u)=>{if(n===void 0)throw new Error("nextToken (previously includeContext) must now be provided to unsuccinctifyItems");if(n!==null&&typeof n!="number")throw new Error(`nextToken (previously includeContext) must be null or an integer, not ${typeof n} '${JSON.stringify(n)}' in unsuccinctifyItems`);const s=[];let i=0,o=n||0;const a=new Set(u||[]);for(;i<e.length;){const[c,l]=t.unsuccinctifyItem(e,i,{});c[0]==="token"?(Object.keys(r).length===0||r.tokens)&&(n!==null&&(c.push(c[0]==="token"&&c[1]==="wordLike"?o++:null),c.push([...a])),s.push(c)):c[0]==="scope"&&c[1]==="start"?(a.add(c[2]),(Object.keys(r).length===0||r.scopes)&&s.push(c)):c[0]==="scope"&&c[1]==="end"?(a.delete(c[2]),(Object.keys(r).length===0||r.scopes)&&s.push(c)):c[0]==="graft"&&(Object.keys(r).length===0||r.grafts)&&s.push(c),i+=l}return s},eV=(t,e,r,n)=>{let u=null;const[s,i,o]=ji.succinct.headerBytes(e,r);switch(i){case ji.itemDefs.itemEnum.token:(Object.keys(n).length===0||n.tokens)&&(u=t.unsuccinctifyToken(e,o,r));break;case ji.itemDefs.itemEnum.startScope:case ji.itemDefs.itemEnum.endScope:(Object.keys(n).length===0||n.scopes)&&(u=t.unsuccinctifyScope(e,i,o,r));break;case ji.itemDefs.itemEnum.graft:(Object.keys(n).length===0||n.grafts)&&(u=t.unsuccinctifyGraft(e,o,r));break}return[u,s]},tV=(t,e,r)=>{const n=new Set(t.unsuccinctifyScopes(e.os).map(f=>f[2])),u=r.requiredScopes||[],a=r.anyScope||!1?()=>{for(const f of u)if(n.has(f))return!0;return u.length===0}:()=>{for(const f of u)if(!n.has(f))return!1;return!0},c=f=>!r.withChars||r.withChars.length===0||f[0]==="token"&&r.withChars.includes(f[2]),l=[];for(const f of t.unsuccinctifyItems(e.c,r,e.nt.nByte(0),n))f[0]==="scope"&&f[1]==="start"&&n.add(f[2]),a()&&c(f)&&l.push(f),f[0]==="scope"&&f[1]==="end"&&n.delete(f[2]);return l},rV=(t,e,r,n)=>{n=n||{};const u=new Set(t.unsuccinctifyScopes(e.os).map(c=>c[2])),i=(()=>{if(Qn.exec(r,Qn("^[1-9][0-9]*$")))return()=>u.has(`chapter/${r}`);if(Qn.exec(r,Qn("^[1-9][0-9]*-[1-9][0-9]*$")))return()=>{const[c,l]=r.split("-").map(f=>parseInt(f));if(c>l)throw new Error(`Chapter range must be from min to max, not '${r}'`);for(const f of[...Array(l-c+1).keys()].map(d=>`chapter/${d+c}`))if(u.has(f))return!0;return!1};if(Qn.exec(r,Qn("^[1-9][0-9]*:[0-9]+$")))return()=>{const[c,l]=r.split(":").map(f=>parseInt(f));if(l===0)return u.has(`chapter/${c}`)&&[...u].filter(f=>f.startsWith("verse")).length===0;for(const f of[`chapter/${c}`,`verse/${l}`])if(!u.has(f))return!1;return!0};if(Qn.exec(r,Qn("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$")))return()=>{const[c,l]=r.split(":"),[f,d]=l.split("-").map(v=>parseInt(v));if(f>d)throw new Error(`Verse range must be from min to max, not '${l}'`);const p=`chapter/${c}`,h=[...Array(d-f+1).keys()].map(v=>`verse/${v+f}`);if(!u.has(p))return!1;for(const v of h)if(u.has(v))return!0;return f===0&&[...u].filter(v=>v.startsWith("verse")).length===0};if(Qn.exec(r,Qn("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$")))return()=>{const[c,l]=r.split("-"),[f,d]=c.split(":").map(g=>parseInt(g)),[p,h]=l.split(":").map(g=>parseInt(g));if(f>p)throw new Error(`Chapter range must be from min to max, not '${f}-${h}'`);const v=[...u],S=v.filter(g=>g.startsWith("chapter/"));if(S.length>1)throw new Error(`Expected zero or one chapter for item, found ${S.length}`);const D=parseInt(S[0].split("/")[1]);return D<f||D>p?!1:D===f?v.filter(g=>g.startsWith("verse/")&&parseInt(g.split("/")[1])>=d).length>0||d===0&&v.filter(g=>g.startsWith("verse")).length===0:D===p?v.filter(g=>g.startsWith("verse/")&&parseInt(g.split("/")[1])<=h).length>0||h===0&&v.filter(g=>g.startsWith("verse")).length===0:!0};throw new Error(`Bad cv reference '${r}'`)})(),o=c=>{if(!n||Object.keys(n).length===0)return!0;{const l=c[0];return l==="token"&&"tokens"in n||l==="graft"&&"grafts"in n||l==="scope"&&"scopes"in n}},a=[];for(const c of t.unsuccinctifyItems(e.c,{},e.nt.nByte(0)))c[0]==="scope"&&c[1]==="start"&&u.add(c[2]),i()&&o(c)&&a.push(c),c[0]==="scope"&&c[1]==="end"&&u.delete(c[2]);return a};var nV={unsuccinctifyBlock:XG,unsuccinctifyItem:eV,unsuccinctifyItems:ZG,unsuccinctifyItemsWithScriptureCV:rV,unsuccinctifyPrunedItems:tV};const uV=(t,e)=>{const r=new Map;let n=0,u=0;for(;n<e.length;)r.set(e.countedString(n),{enum:u++,frequency:0}),n+=e.byte(n)+1;return r},sV=(t,e,r)=>{if(!(e in t.preEnums))throw new Error(`Unknown category ${e} in recordPreEnum. Maybe call buildPreEnums()?`);r.length>255&&console.log("Value length of",r.length,"in recordPreEnum"),t.preEnums[e].has(r)?t.preEnums[e].get(r).frequency++:t.preEnums[e].set(r,{enum:t.preEnums[e].size,frequency:1})},iV=(t,e,r)=>{const n=new Map([...r.entries()]);for(const u of n.keys())u.length>255&&console.log("enum text for",e,"has length",u.length,"in buildEnum - truncating"),t.enums[e].pushCountedString(u.substring(0,255));t.enums[e].trim()},oV=(t,e,r,n)=>{if(n||(n=!1),!(e in t.preEnums))throw new Error(`Unknown category ${e} in preEnums. Maybe call buildPreEnums()?`);if(t.preEnums[e].has(r))return t.preEnums[e].get(r).enum;if(n)return t.preEnums[e].set(r,{enum:t.preEnums[e].size,frequency:1}),t.enums[e].pushCountedString(r),t.buildEnumIndex(e),t.preEnums[e].get(r).enum;throw new Error(`Unknown value '${r}' for category ${e} in enumForCategoryValue. Maybe call buildPreEnums()?`)};var aV={buildPreEnum:uV,recordPreEnum:sV,buildEnum:iV,enumForCategoryValue:oV};const v_=Tt,cV=(t,e)=>{let r=0,n=0;for(;n<e.length;){r++;const s=e.byte(n)&63;n+=s}return r},lV=(t,e,r,n)=>{let u=[];if(!r)return u;let s=r.startBlock,i=r.nextToken;for(;s<=r.endBlock;){let o=t.unsuccinctifyItems(e.blocks[s].c,{},i);const a=t.unsuccinctifyScopes(e.blocks[s].bs)[0],c=t.unsuccinctifyGrafts(e.blocks[s].bg);if(s===r.startBlock&&s===r.endBlock?o=o.slice(r.startItem,r.endItem+1):s===r.startBlock?o=o.slice(r.startItem):s===r.endBlock&&(o=o.slice(0,r.endItem+1)),n){let l=[];for(const f of o)l.push(f.concat([f[0]==="token"&&f[1]==="wordLike"?i++:null]));o=l}u.push([...c,["scope","start",a[2]],...o,["scope","end",a[2]]]),s++}return u},fV=(t,e,r)=>{let n=[];const u=()=>{for(const c of r)if(!s(c))return!1;return!0},s=c=>{for(const l of n)if(l.startsWith(c))return l;return null};t.maybeBuildEnumIndexes();const i=[];let o=new Set([]),a=!0;for(const[c,l]of e.entries()){const[f,d,p]=v_.succinct.headerBytes(l.bs,0),h=t.unsuccinctifyScope(l.bs,d,p,0)[2],v=["scope","start",h],S=["scope","end",h],D=t.unsuccinctifyGrafts(l.bg);n=new Set(t.unsuccinctifyScopes(l.os).map(g=>g[2]).concat([h]));for(const g of D.concat([v,...t.unsuccinctifyItems(l.c,{},l.nt.nByte(0),n),S]).concat(c!==e.length-1?[["token","lineSpace"," "]]:[])){if(g[0]==="scope"&&g[1]==="start"&&o.add(g[2]),g[0]==="token"&&o.size>0){for(const F of Array.from(o))n.add(F);o.clear()}u()?(a&&i.push([[...n],[]]),i[i.length-1][1].push(g),a=!1):a=!0,g[0]==="scope"&&g[1]==="end"&&(n.delete(g[2]),o.delete(g[2]))}}return i},dV=(t,e,r)=>{let n=new Set([]);const u=i=>i[0]==="scope"&&i[1]==="start"&&r.includes(i[2]);t.maybeBuildEnumIndexes();const s=[[[],[]]];for(const i of e){const[o,a,c]=v_.succinct.headerBytes(i.bs,0),l=t.unsuccinctifyScope(i.bs,a,c,0)[2],f=t.unsuccinctifyGrafts(i.bg);n.add(l),t.unsuccinctifyScopes(i.os).forEach(p=>n.add(p[2]));const d=f.concat([l].concat(t.unsuccinctifyItems(i.c,{},i.nt.nByte(0))));for(const p of d){if(p[0]==="scope"&&p[1]==="start"&&n.add(p[2]),u(p)){s[s.length-1][0]=[...n].sort(),s.push([[],[]]);for(const h of[...n].filter(v=>["blockTag","verse","verses","chapter"].includes(v.split("/")[0])||r.includes(v)))n.delete(h);n.add(l)}s[s.length-1][1].push(p)}s[s.length-1][1].push(["scope","end",l]),s[s.length-1][1].push(["token","punctuation",`
`])}return s[s.length-1][0]=[...n].sort(),s};var pV={countItems:cV,itemsByIndex:lV,sequenceItemsByMilestones:dV,sequenceItemsByScopes:fV};const hV=t=>{t.preEnums={};for(const r of Object.keys(t.enums))t.preEnums[r]=new Map;t.maybeBuildEnumIndexes();for(const r of t.documents())for(const n of Object.values(r.sequences))r.rerecordPreEnums(t,n);t.sortPreEnums();const e=t.makeRehashEnumMap();for(const r of t.documents())for(const n of Object.values(r.sequences))r.rewriteSequenceBlocks(n.id,e);return t.buildEnums(),t.buildEnumIndexes(),!0},mV=t=>{const e={};for(const[r,n]of Object.entries(t.enums)){e[r]=[];let u=0;for(;u<n.length;){const s=n.byte(u),i=n.countedString(u);t.preEnums[r].has(i)?e[r].push(t.preEnums[r].get(i).enum):e[r].push(null),u+=s+1}}return e};var DV={rehash:hV,makeRehashEnumMap:mV};const Vc=Tt,hc=Vc.ByteArray,{pushSuccinctGraftBytes:EV,pushSuccinctScopeBytes:xD,pushSuccinctTokenBytes:yV}=Vc.succinct,{itemEnum:MD}=Vc.itemDefs,{scopeEnum:jD}=Vc.scopeDefs,{tokenCategory:vV,tokenEnum:gV}=Vc.tokenDefs,Uc=(t,e,r,n,u,s)=>{const i=t.processor.documents[e];if(!i)throw new Error(`Document '${e}' not found`);let o;if(r){if(o=i.sequences[r],!o)throw new Error(`Sequence '${r}' not found`)}else o=i.sequences[i.mainId];if(o.blocks.length<=n)throw new Error(`Could not find block ${n} (length=${o.blocks.length})`);const a=o.blocks[n],c=new hc(s.length);t.maybeBuildPreEnums();let l=0;n<0&&(l=o.blocks[n-1].nt.nByte(0));let f,d,p,h,v,S=null;for(const D of s)switch(D.type){case"token":f=t.enumForCategoryValue(vV[D.subType],D.payload,!0),yV(c,gV[D.subType],f),l++;break;case"graft":d=t.enumForCategoryValue("graftTypes",D.subType,!0),p=t.enumForCategoryValue("ids",D.payload,!0),EV(c,d,p);break;case"scope":if(h=D.payload.split("/"),v=jD[h[0]],!v&&v!==0)throw new Error(`"${h[0]}" is not a scope type`);S=h.slice(1).map(g=>t.enumForCategoryValue("scopeBits",g,!0)),xD(c,MD[`${D.subType}Scope`],v,S);break}return c.trim(),a[u]=c,u==="c"&&(a.nt.clear(),a.nt.pushNByte(l)),!0},AV=(t,e,r,n,u)=>Uc(t,e,r,n,"c",u),SV=(t,e,r,n,u)=>Uc(t,e,r,n,"bg",u),FV=(t,e,r,n,u)=>Uc(t,e,r,n,"bs",[u]),bV=(t,e,r,n,u)=>Uc(t,e,r,n,"os",u),CV=(t,e,r,n,u)=>Uc(t,e,r,n,"is",u),_V=(t,e,r)=>{const n=(l,f)=>{for(const d of Array.from(l))if(!f.has(d))return!1;for(const d of Array.from(f))if(!l.has(d))return!1;return!0},u=(l,f,d)=>{const p=d.split("/"),h=jD[p[0]];if(!h&&h!==0)throw new Error(`"${p[0]}" is not a scope type`);const v=p.slice(1).map(S=>l.enumForCategoryValue("scopeBits",S,!0));xD(f,MD.startScope,h,v)},s=e.blocks[r],i=new Set,o=new Set;for(const l of t.unsuccinctifyScopes(s.os))o.add(l[2]);for(const l of t.unsuccinctifyItems(s.c,{scopes:!0},null))l[1]==="start"?(i.add(l[2]),o.add(l[2])):o.delete(l[2]);const a=Array.from(i),c=new hc(a.length);for(const l of a)u(t,c,l);if(c.trim(),s.is=c,r<e.blocks.length-1){const l=e.blocks[r+1],f=l.os,d=new Set(t.unsuccinctifyScopes(f).map(p=>p[2]));if(!n(o,d)){const p=new hc(d.length);for(const h of Array.from(o))u(t,p,h);p.trim(),l.os=p,t.updateBlockIndexesAfterEdit(e,r+1)}}},wV=(t,e)=>{const r=(u,s,i)=>{const o=i.split("/"),a=jD[o[0]];if(!a&&a!==0)throw new Error(`"${o[0]}" is not a scope type`);const c=o.slice(1).map(l=>u.enumForCategoryValue("scopeBits",l,!0));xD(s,MD.startScope,a,c)},n=new Set;for(const u of e.blocks){const s=Array.from(n),i=new hc(s.length);for(const l of s)r(t,i,l);i.trim(),u.os=i;const o=new Set;for(const l of t.unsuccinctifyItems(u.c,{scopes:!0},null))l[1]==="start"?(o.add(l[2]),n.add(l[2])):n.delete(l[2]);const a=Array.from(o),c=new hc(a.length);for(const l of a)r(t,c,l);c.trim(),u.is=c}};var g_={updateItems:AV,updateBlockGrafts:SV,updateBlockScope:FV,updateOpenScopes:bV,updateIncludedScopes:CV,updateBlockIndexesAfterEdit:_V,updateBlockIndexesAfterFilter:wV};const TV=t=>{const e={id:t.id,metadata:{selectors:t.selectors},enums:{},docs:{},tags:Array.from(t.tags)};for(const[r,n]of Object.entries(t.enums))n.trim(),e.enums[r]=n.base64();e.docs={};for(const r of t.docIds)e.docs[r]=t.processor.documents[r].serializeSuccinct();return e};var $V={serializeSuccinct:TV};const BV=r_,Kc=Tt,gi=Kc.ByteArray,{addTag:IV,removeTag:PV,validateTags:yb}=Kc.tags,{succinctGraftName:kV,succinctGraftSeqId:OV,succinctScopeLabel:NV,succinctTokenChars:RV,headerBytes:xh,enumIndex:qV,enumIndexes:xV}=Kc.succinct,{itemEnum:MV}=Kc.itemDefs,{tokenEnumLabels:jV}=Kc.tokenDefs,{validateSelectors:vb}=VG,{blocksWithScriptureCV:LV,allBlockScopes:GV,anyScopeInBlock:VV,allScopesInBlock:UV,blockHasBlockScope:KV,blockHasChars:JV,blockHasMatchingItem:HV}=YG,{unsuccinctifyBlock:WV,unsuccinctifyItems:zV,unsuccinctifyItem:QV,unsuccinctifyPrunedItems:YV,unsuccinctifyItemsWithScriptureCV:XV}=nV,{buildPreEnum:ZV,recordPreEnum:eU,buildEnum:tU,enumForCategoryValue:rU}=aV,{countItems:nU,itemsByIndex:uU,sequenceItemsByScopes:sU,sequenceItemsByMilestones:iU}=pV,{rehash:oU,makeRehashEnumMap:aU}=DV,{updateItems:cU,updateBlockGrafts:lU,updateBlockScope:fU,updateOpenScopes:dU,updateIncludedScopes:pU,updateBlockIndexesAfterEdit:hU,updateBlockIndexesAfterFilter:mU}=g_,{serializeSuccinct:DU}=$V;let EU=class{constructor(e,r,n,u){this.processor=e,this.preEnums={},this.enumIndexes={},this.docIds=[],u?this.fromSuccinct(e,u):this.fromScratch(e,r,n),yb(this.tags)}fromScratch(e,r,n){const u=r||e.selectors;this.selectors=vb(this,u),this.id=this.selectorString(),this.tags=new Set(n||[]),this.enums={ids:new gi(512),wordLike:new gi(8192),notWordLike:new gi(256),scopeBits:new gi(256),graftTypes:new gi(10)}}fromSuccinct(e,r){const n=u=>{const s=new gi(256);return s.fromBase64(u),s.trim(),s};this.id=r.id,this.selectors=vb(this,r.metadata.selectors),this.tags=new Set(r.tags),yb(this.tags),this.preEnums={},this.enums={ids:n(r.enums.ids),wordLike:n(r.enums.wordLike),notWordLike:n(r.enums.notWordLike),scopeBits:n(r.enums.scopeBits),graftTypes:n(r.enums.graftTypes)},this.enumIndexes={},this.docIds=[]}addTag(e){IV(this.tags,e)}removeTag(e){PV(this.tags,e)}selectorString(){return this.processor.selectorString(this.selectors)}documents(){return this.docIds.map(e=>this.processor.documents[e])}documentWithBook(e){const r=Object.values(this.documents()).filter(n=>"bookCode"in n.headers&&n.headers.bookCode===e);return r.length===1?r[0]:null}maybeBuildPreEnums(){Object.keys(this.preEnums).length===0&&this.buildPreEnums()}buildPreEnums(){for(const[e,r]of Object.entries(this.enums))this.preEnums[e]=ZV(this,r)}recordPreEnum(e,r){eU(this,e,r)}sortPreEnums(){for(const e of Object.keys(this.preEnums)){this.preEnums[e]=new Map([...this.preEnums[e].entries()].sort((n,u)=>u[1].frequency-n[1].frequency));let r=0;for(const[n,u]of this.preEnums[e])u.enum=r++}}enumForCategoryValue(e,r,n){return rU(this,e,r,n)}buildEnums(){for(const[e,r]of Object.entries(this.preEnums))this.enums[e].clear(),this.buildEnum(e,r)}buildEnum(e,r){tU(this,e,r)}maybeBuildEnumIndexes(){Object.keys(this.enumIndexes).length===0&&this.buildEnumIndexes()}buildEnumIndexes(){this.enumIndexes=xV(this.enums)}buildEnumIndex(e){this.enumIndexes[e]=qV(e,this.enums[e])}unsuccinctifyBlock(e,r){return WV(this,e,r)}unsuccinctifyItems(e,r,n,u){return zV(this,e,r,n,u)}unsuccinctifyItem(e,r,n){return QV(this,e,r,n)}unsuccinctifyPrunedItems(e,r){return YV(this,e,r)}unsuccinctifyScopes(e){const r=[];let n=0;for(;n<e.length;){const[u,s,i]=xh(e,n);r.push(this.unsuccinctifyScope(e,s,i,n)),n+=u}return r}unsuccinctifyGrafts(e){const r=[];let n=0;for(;n<e.length;){const[u,s,i]=xh(e,n);r.push(this.unsuccinctifyGraft(e,i,n)),n+=u}return r}unsuccinctifyToken(e,r,n){try{return["token",jV[r],this.succinctTokenChars(e,r,n)]}catch(u){throw new Error(`Error from unsuccinctifyToken: ${u}`)}}unsuccinctifyScope(e,r,n,u){try{return["scope",r===MV.startScope?"start":"end",this.succinctScopeLabel(e,n,u)]}catch(s){throw new Error(`Error from unsuccinctifyScope: ${s}`)}}unsuccinctifyGraft(e,r,n){try{return["graft",this.succinctGraftName(r),this.succinctGraftSeqId(e,n)]}catch(u){throw new Error(`Error from unsuccinctifyGraft: ${u}`)}}unsuccinctifyBlockScopeLabelsSet(e){const[r,n,u]=xh(e.bs,0),s=this.unsuccinctifyScope(e.bs,n,u,0);return new Set(this.unsuccinctifyScopes(e.os).concat(this.unsuccinctifyScopes(e.is)).concat([s]).map(i=>i[2]))}unsuccinctifyItemsWithScriptureCV(e,r,n){return XV(this,e,r,n)}succinctTokenChars(e,r,n){return RV(this.enums,this.enumIndexes,e,r,n)}succinctScopeLabel(e,r,n){return NV(this.enums,this.enumIndexes,e,r,n)}succinctGraftName(e){return kV(this.enums,this.enumIndexes,e)}succinctGraftSeqId(e,r){return OV(this.enums,this.enumIndexes,e,r)}countItems(e){return nU(this,e)}itemsByIndex(e,r,n){return uU(this,e,r,n)}blocksWithScriptureCV(e,r){return LV(this,e,r)}allBlockScopes(e){return GV(this,e)}allScopesInBlock(e,r){return UV(this,e,r)}anyScopeInBlock(e,r){return VV(this,e,r)}blockHasBlockScope(e,r){return KV(this,e,r)}blockHasChars(e,r){return JV(this,e,r)}blockHasMatchingItem(e,r,n){return HV(this,e,r,n)}sequenceItemsByScopes(e,r){return sU(this,e,r)}sequenceItemsByMilestones(e,r){return iU(this,e,r)}rehash(){return oU(this)}makeRehashEnumMap(){return aU(this)}updateItems(e,r,n,u){return cU(this,e,r,n,u)}updateBlockGrafts(e,r,n,u){return lU(this,e,r,n,u)}updateBlockScope(e,r,n,u){return fU(this,e,r,n,u)}updateOpenScopes(e,r,n,u){return dU(this,e,r,n,u)}updateIncludedScopes(e,r,n,u){return pU(this,e,r,n,u)}updateBlockIndexesAfterEdit(e,r){hU(this,e,r)}updateBlockIndexesAfterFilter(e){mU(this,e)}serializeSuccinct(){return DU(this)}checksum(){const e=[...this.docIds].sort().join(" ");return BV(e)}};var yU={DocSet:EU},cf={},vU={get exports(){return cf},set exports(t){cf=t}},A_={},Nn={},so={},Jc={},lt={},mc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(g){if(super(),!t.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((F,I)=>`${F}${I}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((F,I)=>(I instanceof r&&(F[I.str]=(F[I.str]||0)+1),F),{})}}t._Code=n,t.nil=new n("");function u(D,...g){const F=[D[0]];let I=0;for(;I<g.length;)o(F,g[I]),F.push(D[++I]);return new n(F)}t._=u;const s=new n("+");function i(D,...g){const F=[p(D[0])];let I=0;for(;I<g.length;)F.push(s),o(F,g[I]),F.push(s,p(D[++I]));return a(F),new n(F)}t.str=i;function o(D,g){g instanceof n?D.push(...g._items):g instanceof r?D.push(g):D.push(f(g))}t.addCodeArg=o;function a(D){let g=1;for(;g<D.length-1;){if(D[g]===s){const F=c(D[g-1],D[g+1]);if(F!==void 0){D.splice(g-1,3,F);continue}D[g++]="+"}g++}}function c(D,g){if(g==='""')return D;if(D==='""')return g;if(typeof D=="string")return g instanceof r||D[D.length-1]!=='"'?void 0:typeof g!="string"?`${D.slice(0,-1)}${g}"`:g[0]==='"'?D.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(D instanceof r))return`"${D}${g.slice(1)}`}function l(D,g){return g.emptyStr()?D:D.emptyStr()?g:i`${D}${g}`}t.strConcat=l;function f(D){return typeof D=="number"||typeof D=="boolean"||D===null?D:p(Array.isArray(D)?D.join(","):D)}function d(D){return new n(p(D))}t.stringify=d;function p(D){return JSON.stringify(D).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function h(D){return typeof D=="string"&&t.IDENTIFIER.test(D)?new n(`.${D}`):u`[${D}]`}t.getProperty=h;function v(D){if(typeof D=="string"&&t.IDENTIFIER.test(D))return new n(`${D}`);throw new Error(`CodeGen: invalid export name: ${D}, use explicit $id name mapping`)}t.getEsmExportName=v;function S(D){return new n(D.toString())}t.regexpCode=S})(mc);var H2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=mc;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class u{constructor({prefixes:c,parent:l}={}){this._names={},this._prefixes=c,this._parent=l}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const l=this._names[c]||this._nameGroup(c);return`${c}${l.index++}`}_nameGroup(c){var l,f;if(!((f=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=u;class s extends e.Name{constructor(c,l){super(l),this.prefix=c}setValue(c,{property:l,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(l)}[${f}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends u{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,l){var f;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:p}=d,h=(f=l.key)!==null&&f!==void 0?f:l.ref;let v=this._values[p];if(v){const g=v.get(h);if(g)return g}else v=this._values[p]=new Map;v.set(h,d);const S=this._scope[p]||(this._scope[p]=[]),D=S.length;return S[D]=l.ref,d.setValue(l,{property:p,itemIndex:D}),d}getValue(c,l){const f=this._values[c];if(f)return f.get(l)}scopeRefs(c,l=this._values){return this._reduceValues(l,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,l,f){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},l,f)}_reduceValues(c,l,f={},d){let p=e.nil;for(const h in c){const v=c[h];if(!v)continue;const S=f[h]=f[h]||new Map;v.forEach(D=>{if(S.has(D))return;S.set(D,n.Started);let g=l(D);if(g){const F=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${F} ${D} = ${g};${this.opts._n}`}else if(g=d==null?void 0:d(D))p=(0,e._)`${p}${g}${this.opts._n}`;else throw new r(D);S.set(D,n.Completed)})}return p}}t.ValueScope=o})(H2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=mc,r=H2;var n=mc;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var u=H2;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(E,_){return this}}class i extends s{constructor(E,_,R){super(),this.varKind=E,this.name=_,this.rhs=R}render({es5:E,_n:_}){const R=E?r.varKinds.var:this.varKind,b=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${b};`+_}optimizeNames(E,_){if(E[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,E,_)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(E,_,R){super(),this.lhs=E,this.rhs=_,this.sideEffects=R}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,_){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,E,_),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Y(E,this.rhs)}}class a extends o{constructor(E,_,R,b){super(E,R,b),this.op=_}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class c extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class l extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class f extends s{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class d extends s{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,_){return this.code=H(this.code,E,_),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends s{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((_,R)=>_+R.render(E),"")}optimizeNodes(){const{nodes:E}=this;let _=E.length;for(;_--;){const R=E[_].optimizeNodes();Array.isArray(R)?E.splice(_,1,...R):R?E[_]=R:E.splice(_,1)}return E.length>0?this:void 0}optimizeNames(E,_){const{nodes:R}=this;let b=R.length;for(;b--;){const T=R[b];T.optimizeNames(E,_)||(se(E,T.names),R.splice(b,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((E,_)=>U(E,_.names),{})}}class h extends p{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class v extends p{}class S extends h{}S.kind="else";class D extends h{constructor(E,_){super(_),this.condition=E}render(E){let _=`if(${this.condition})`+super.render(E);return this.else&&(_+="else "+this.else.render(E)),_}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let _=this.else;if(_){const R=_.optimizeNodes();_=this.else=Array.isArray(R)?new S(R):R}if(_)return E===!1?_ instanceof D?_:_.nodes:this.nodes.length?this:new D(fe(E),_ instanceof D?[_]:_.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,_){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(E,_),!!(super.optimizeNames(E,_)||this.else))return this.condition=H(this.condition,E,_),this}get names(){const E=super.names;return Y(E,this.condition),this.else&&U(E,this.else.names),E}}D.kind="if";class g extends h{}g.kind="for";class F extends g{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iteration=H(this.iteration,E,_),this}get names(){return U(super.names,this.iteration.names)}}class I extends g{constructor(E,_,R,b){super(),this.varKind=E,this.name=_,this.from=R,this.to=b}render(E){const _=E.es5?r.varKinds.var:this.varKind,{name:R,from:b,to:T}=this;return`for(${_} ${R}=${b}; ${R}<${T}; ${R}++)`+super.render(E)}get names(){const E=Y(super.names,this.from);return Y(E,this.to)}}class k extends g{constructor(E,_,R,b){super(),this.loop=E,this.varKind=_,this.name=R,this.iterable=b}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iterable=H(this.iterable,E,_),this}get names(){return U(super.names,this.iterable.names)}}class B extends h{constructor(E,_,R){super(),this.name=E,this.args=_,this.async=R}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}B.kind="func";class O extends p{render(E){return"return "+super.render(E)}}O.kind="return";class M extends h{render(E){let _="try"+super.render(E);return this.catch&&(_+=this.catch.render(E)),this.finally&&(_+=this.finally.render(E)),_}optimizeNodes(){var E,_;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(_=this.finally)===null||_===void 0||_.optimizeNodes(),this}optimizeNames(E,_){var R,b;return super.optimizeNames(E,_),(R=this.catch)===null||R===void 0||R.optimizeNames(E,_),(b=this.finally)===null||b===void 0||b.optimizeNames(E,_),this}get names(){const E=super.names;return this.catch&&U(E,this.catch.names),this.finally&&U(E,this.finally.names),E}}class y extends h{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}y.kind="catch";class P extends h{render(E){return"finally"+super.render(E)}}P.kind="finally";class L{constructor(E,_={}){this._values={},this._blockStarts=[],this._constants={},this.opts={..._,_n:_.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,_){const R=this._extScope.value(E,_);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(E,_){return this._extScope.getValue(E,_)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,_,R,b){const T=this._scope.toName(_);return R!==void 0&&b&&(this._constants[T.str]=R),this._leafNode(new i(E,T,R)),T}const(E,_,R){return this._def(r.varKinds.const,E,_,R)}let(E,_,R){return this._def(r.varKinds.let,E,_,R)}var(E,_,R){return this._def(r.varKinds.var,E,_,R)}assign(E,_,R){return this._leafNode(new o(E,_,R))}add(E,_){return this._leafNode(new a(E,t.operators.ADD,_))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new d(E)),this}object(...E){const _=["{"];for(const[R,b]of E)_.length>1&&_.push(","),_.push(R),(R!==b||this.opts.es5)&&(_.push(":"),(0,e.addCodeArg)(_,b));return _.push("}"),new e._Code(_)}if(E,_,R){if(this._blockNode(new D(E)),_&&R)this.code(_).else().code(R).endIf();else if(_)this.code(_).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new D(E))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(D,S)}_for(E,_){return this._blockNode(E),_&&this.code(_).endFor(),this}for(E,_){return this._for(new F(E),_)}forRange(E,_,R,b,T=this.opts.es5?r.varKinds.var:r.varKinds.let){const j=this._scope.toName(E);return this._for(new I(T,j,_,R),()=>b(j))}forOf(E,_,R,b=r.varKinds.const){const T=this._scope.toName(E);if(this.opts.es5){const j=_ instanceof e.Name?_:this.var("_arr",_);return this.forRange("_i",0,(0,e._)`${j}.length`,q=>{this.var(T,(0,e._)`${j}[${q}]`),R(T)})}return this._for(new k("of",b,T,_),()=>R(T))}forIn(E,_,R,b=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${_})`,R);const T=this._scope.toName(E);return this._for(new k("in",b,T,_),()=>R(T))}endFor(){return this._endBlockNode(g)}label(E){return this._leafNode(new c(E))}break(E){return this._leafNode(new l(E))}return(E){const _=new O;if(this._blockNode(_),this.code(E),_.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(E,_,R){if(!_&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const b=new M;if(this._blockNode(b),this.code(E),_){const T=this.name("e");this._currNode=b.catch=new y(T),_(T)}return R&&(this._currNode=b.finally=new P,this.code(R)),this._endBlockNode(y,P)}throw(E){return this._leafNode(new f(E))}block(E,_){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(_),this}endBlock(E){const _=this._blockStarts.pop();if(_===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-_;if(R<0||E!==void 0&&R!==E)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${E} expected`);return this._nodes.length=_,this}func(E,_=e.nil,R,b){return this._blockNode(new B(E,_,R)),b&&this.code(b).endFunc(),this}endFunc(){return this._endBlockNode(B)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,_){const R=this._currNode;if(R instanceof E||_&&R instanceof _)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${_?`${E.kind}/${_.kind}`:E.kind}"`)}_elseNode(E){const _=this._currNode;if(!(_ instanceof D))throw new Error('CodeGen: "else" without "if"');return this._currNode=_.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const _=this._nodes;_[_.length-1]=E}}t.CodeGen=L;function U(C,E){for(const _ in E)C[_]=(C[_]||0)+(E[_]||0);return C}function Y(C,E){return E instanceof e._CodeOrName?U(C,E.names):C}function H(C,E,_){if(C instanceof e.Name)return R(C);if(!b(C))return C;return new e._Code(C._items.reduce((T,j)=>(j instanceof e.Name&&(j=R(j)),j instanceof e._Code?T.push(...j._items):T.push(j),T),[]));function R(T){const j=_[T.str];return j===void 0||E[T.str]!==1?T:(delete E[T.str],j)}function b(T){return T instanceof e._Code&&T._items.some(j=>j instanceof e.Name&&E[j.str]===1&&_[j.str]!==void 0)}}function se(C,E){for(const _ in E)C[_]=(C[_]||0)-(E[_]||0)}function fe(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,e._)`!${A(C)}`}t.not=fe;const K=N(t.operators.AND);function z(...C){return C.reduce(K)}t.and=z;const te=N(t.operators.OR);function V(...C){return C.reduce(te)}t.or=V;function N(C){return(E,_)=>E===e.nil?_:_===e.nil?E:(0,e._)`${A(E)} ${C} ${A(_)}`}function A(C){return C instanceof e.Name?C:(0,e._)`(${C})`}})(lt);var Ft={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=lt,r=mc;function n(B){const O={};for(const M of B)O[M]=!0;return O}t.toHash=n;function u(B,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(s(B,O),!i(O,B.self.RULES.all))}t.alwaysValidSchema=u;function s(B,O=B.schema){const{opts:M,self:y}=B;if(!M.strictSchema||typeof O=="boolean")return;const P=y.RULES.keywords;for(const L in O)P[L]||k(B,`unknown keyword: "${L}"`)}t.checkUnknownRules=s;function i(B,O){if(typeof B=="boolean")return!B;for(const M in B)if(O[M])return!0;return!1}t.schemaHasRules=i;function o(B,O){if(typeof B=="boolean")return!B;for(const M in B)if(M!=="$ref"&&O.all[M])return!0;return!1}t.schemaHasRulesButRef=o;function a({topSchemaRef:B,schemaPath:O},M,y,P){if(!P){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,e._)`${M}`}return(0,e._)`${B}${O}${(0,e.getProperty)(y)}`}t.schemaRefOrVal=a;function c(B){return d(decodeURIComponent(B))}t.unescapeFragment=c;function l(B){return encodeURIComponent(f(B))}t.escapeFragment=l;function f(B){return typeof B=="number"?`${B}`:B.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function d(B){return B.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=d;function p(B,O){if(Array.isArray(B))for(const M of B)O(M);else O(B)}t.eachItem=p;function h({mergeNames:B,mergeToName:O,mergeValues:M,resultToName:y}){return(P,L,U,Y)=>{const H=U===void 0?L:U instanceof e.Name?(L instanceof e.Name?B(P,L,U):O(P,L,U),U):L instanceof e.Name?(O(P,U,L),L):M(L,U);return Y===e.Name&&!(H instanceof e.Name)?y(P,H):H}}t.mergeEvaluated={props:h({mergeNames:(B,O,M)=>B.if((0,e._)`${M} !== true && ${O} !== undefined`,()=>{B.if((0,e._)`${O} === true`,()=>B.assign(M,!0),()=>B.assign(M,(0,e._)`${M} || {}`).code((0,e._)`Object.assign(${M}, ${O})`))}),mergeToName:(B,O,M)=>B.if((0,e._)`${M} !== true`,()=>{O===!0?B.assign(M,!0):(B.assign(M,(0,e._)`${M} || {}`),S(B,M,O))}),mergeValues:(B,O)=>B===!0?!0:{...B,...O},resultToName:v}),items:h({mergeNames:(B,O,M)=>B.if((0,e._)`${M} !== true && ${O} !== undefined`,()=>B.assign(M,(0,e._)`${O} === true ? true : ${M} > ${O} ? ${M} : ${O}`)),mergeToName:(B,O,M)=>B.if((0,e._)`${M} !== true`,()=>B.assign(M,O===!0?!0:(0,e._)`${M} > ${O} ? ${M} : ${O}`)),mergeValues:(B,O)=>B===!0?!0:Math.max(B,O),resultToName:(B,O)=>B.var("items",O)})};function v(B,O){if(O===!0)return B.var("props",!0);const M=B.var("props",(0,e._)`{}`);return O!==void 0&&S(B,M,O),M}t.evaluatedPropsToName=v;function S(B,O,M){Object.keys(M).forEach(y=>B.assign((0,e._)`${O}${(0,e.getProperty)(y)}`,!0))}t.setEvaluated=S;const D={};function g(B,O){return B.scopeValue("func",{ref:O,code:D[O.code]||(D[O.code]=new r._Code(O.code))})}t.useFunc=g;var F;(function(B){B[B.Num=0]="Num",B[B.Str=1]="Str"})(F=t.Type||(t.Type={}));function I(B,O,M){if(B instanceof e.Name){const y=O===F.Num;return M?y?(0,e._)`"[" + ${B} + "]"`:(0,e._)`"['" + ${B} + "']"`:y?(0,e._)`"/" + ${B}`:(0,e._)`"/" + ${B}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,e.getProperty)(B).toString():"/"+f(B)}t.getErrorPath=I;function k(B,O,M=B.opts.strictSchema){if(M){if(O=`strict mode: ${O}`,M===!0)throw new Error(O);B.self.logger.warn(O)}}t.checkStrictMode=k})(Ft);var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});const Ir=lt,gU={data:new Ir.Name("data"),valCxt:new Ir.Name("valCxt"),instancePath:new Ir.Name("instancePath"),parentData:new Ir.Name("parentData"),parentDataProperty:new Ir.Name("parentDataProperty"),rootData:new Ir.Name("rootData"),dynamicAnchors:new Ir.Name("dynamicAnchors"),vErrors:new Ir.Name("vErrors"),errors:new Ir.Name("errors"),this:new Ir.Name("this"),self:new Ir.Name("self"),scope:new Ir.Name("scope"),json:new Ir.Name("json"),jsonPos:new Ir.Name("jsonPos"),jsonLen:new Ir.Name("jsonLen"),jsonPart:new Ir.Name("jsonPart")};Fu.default=gU;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=lt,r=Ft,n=Fu;t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:D})=>D?(0,e.str)`"${S}" keyword must be ${D} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function u(S,D=t.keywordError,g,F){const{it:I}=S,{gen:k,compositeRule:B,allErrors:O}=I,M=f(S,D,g);F??(B||O)?a(k,M):c(I,(0,e._)`[${M}]`)}t.reportError=u;function s(S,D=t.keywordError,g){const{it:F}=S,{gen:I,compositeRule:k,allErrors:B}=F,O=f(S,D,g);a(I,O),k||B||c(F,n.default.vErrors)}t.reportExtraError=s;function i(S,D){S.assign(n.default.errors,D),S.if((0,e._)`${n.default.vErrors} !== null`,()=>S.if(D,()=>S.assign((0,e._)`${n.default.vErrors}.length`,D),()=>S.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:S,keyword:D,schemaValue:g,data:F,errsCount:I,it:k}){if(I===void 0)throw new Error("ajv implementation error");const B=S.name("err");S.forRange("i",I,n.default.errors,O=>{S.const(B,(0,e._)`${n.default.vErrors}[${O}]`),S.if((0,e._)`${B}.instancePath === undefined`,()=>S.assign((0,e._)`${B}.instancePath`,(0,e.strConcat)(n.default.instancePath,k.errorPath))),S.assign((0,e._)`${B}.schemaPath`,(0,e.str)`${k.errSchemaPath}/${D}`),k.opts.verbose&&(S.assign((0,e._)`${B}.schema`,g),S.assign((0,e._)`${B}.data`,F))})}t.extendErrors=o;function a(S,D){const g=S.const("err",D);S.if((0,e._)`${n.default.vErrors} === null`,()=>S.assign(n.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${n.default.vErrors}.push(${g})`),S.code((0,e._)`${n.default.errors}++`)}function c(S,D){const{gen:g,validateName:F,schemaEnv:I}=S;I.$async?g.throw((0,e._)`new ${S.ValidationError}(${D})`):(g.assign((0,e._)`${F}.errors`,D),g.return(!1))}const l={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(S,D,g){const{createErrors:F}=S.it;return F===!1?(0,e._)`{}`:d(S,D,g)}function d(S,D,g={}){const{gen:F,it:I}=S,k=[p(I,g),h(S,g)];return v(S,D,k),F.object(...k)}function p({errorPath:S},{instancePath:D}){const g=D?(0,e.str)`${S}${(0,r.getErrorPath)(D,r.Type.Str)}`:S;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,g)]}function h({keyword:S,it:{errSchemaPath:D}},{schemaPath:g,parentSchema:F}){let I=F?D:(0,e.str)`${D}/${S}`;return g&&(I=(0,e.str)`${I}${(0,r.getErrorPath)(g,r.Type.Str)}`),[l.schemaPath,I]}function v(S,{params:D,message:g},F){const{keyword:I,data:k,schemaValue:B,it:O}=S,{opts:M,propertyName:y,topSchemaRef:P,schemaPath:L}=O;F.push([l.keyword,I],[l.params,typeof D=="function"?D(S):D||(0,e._)`{}`]),M.messages&&F.push([l.message,typeof g=="function"?g(S):g]),M.verbose&&F.push([l.schema,B],[l.parentSchema,(0,e._)`${P}${L}`],[n.default.data,k]),y&&F.push([l.propertyName,y])}})(Jc);Object.defineProperty(so,"__esModule",{value:!0});so.boolOrEmptySchema=so.topBoolOrEmptySchema=void 0;const AU=Jc,SU=lt,FU=Fu,bU={message:"boolean schema is false"};function CU(t){const{gen:e,schema:r,validateName:n}=t;r===!1?S_(t,!1):typeof r=="object"&&r.$async===!0?e.return(FU.default.data):(e.assign((0,SU._)`${n}.errors`,null),e.return(!0))}so.topBoolOrEmptySchema=CU;function _U(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),S_(t)):r.var(e,!0)}so.boolOrEmptySchema=_U;function S_(t,e){const{gen:r,data:n}=t,u={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,AU.reportError)(u,bU,void 0,e)}var Hc={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.getRules=si.isJSONType=void 0;const wU=["string","number","integer","boolean","null","object","array"],TU=new Set(wU);function $U(t){return typeof t=="string"&&TU.has(t)}si.isJSONType=$U;function BU(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}si.getRules=BU;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.shouldUseRule=Ou.shouldUseGroup=Ou.schemaHasRulesForType=void 0;function IU({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&F_(t,n)}Ou.schemaHasRulesForType=IU;function F_(t,e){return e.rules.some(r=>b_(t,r))}Ou.shouldUseGroup=F_;function b_(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ou.shouldUseRule=b_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=si,r=Ou,n=Jc,u=lt,s=Ft;var i;(function(F){F[F.Correct=0]="Correct",F[F.Wrong=1]="Wrong"})(i=t.DataType||(t.DataType={}));function o(F){const I=a(F.type);if(I.includes("null")){if(F.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&F.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');F.nullable===!0&&I.push("null")}return I}t.getSchemaTypes=o;function a(F){const I=Array.isArray(F)?F:F?[F]:[];if(I.every(e.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}t.getJSONTypes=a;function c(F,I){const{gen:k,data:B,opts:O}=F,M=f(I,O.coerceTypes),y=I.length>0&&!(M.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(F,I[0]));if(y){const P=v(I,B,O.strictNumbers,i.Wrong);k.if(P,()=>{M.length?d(F,I,M):D(F)})}return y}t.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function f(F,I){return I?F.filter(k=>l.has(k)||I==="array"&&k==="array"):[]}function d(F,I,k){const{gen:B,data:O,opts:M}=F,y=B.let("dataType",(0,u._)`typeof ${O}`),P=B.let("coerced",(0,u._)`undefined`);M.coerceTypes==="array"&&B.if((0,u._)`${y} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>B.assign(O,(0,u._)`${O}[0]`).assign(y,(0,u._)`typeof ${O}`).if(v(I,O,M.strictNumbers),()=>B.assign(P,O))),B.if((0,u._)`${P} !== undefined`);for(const U of k)(l.has(U)||U==="array"&&M.coerceTypes==="array")&&L(U);B.else(),D(F),B.endIf(),B.if((0,u._)`${P} !== undefined`,()=>{B.assign(O,P),p(F,P)});function L(U){switch(U){case"string":B.elseIf((0,u._)`${y} == "number" || ${y} == "boolean"`).assign(P,(0,u._)`"" + ${O}`).elseIf((0,u._)`${O} === null`).assign(P,(0,u._)`""`);return;case"number":B.elseIf((0,u._)`${y} == "boolean" || ${O} === null
              || (${y} == "string" && ${O} && ${O} == +${O})`).assign(P,(0,u._)`+${O}`);return;case"integer":B.elseIf((0,u._)`${y} === "boolean" || ${O} === null
              || (${y} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(P,(0,u._)`+${O}`);return;case"boolean":B.elseIf((0,u._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(P,!1).elseIf((0,u._)`${O} === "true" || ${O} === 1`).assign(P,!0);return;case"null":B.elseIf((0,u._)`${O} === "" || ${O} === 0 || ${O} === false`),B.assign(P,null);return;case"array":B.elseIf((0,u._)`${y} === "string" || ${y} === "number"
              || ${y} === "boolean" || ${O} === null`).assign(P,(0,u._)`[${O}]`)}}}function p({gen:F,parentData:I,parentDataProperty:k},B){F.if((0,u._)`${I} !== undefined`,()=>F.assign((0,u._)`${I}[${k}]`,B))}function h(F,I,k,B=i.Correct){const O=B===i.Correct?u.operators.EQ:u.operators.NEQ;let M;switch(F){case"null":return(0,u._)`${I} ${O} null`;case"array":M=(0,u._)`Array.isArray(${I})`;break;case"object":M=(0,u._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":M=y((0,u._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":M=y();break;default:return(0,u._)`typeof ${I} ${O} ${F}`}return B===i.Correct?M:(0,u.not)(M);function y(P=u.nil){return(0,u.and)((0,u._)`typeof ${I} == "number"`,P,k?(0,u._)`isFinite(${I})`:u.nil)}}t.checkDataType=h;function v(F,I,k,B){if(F.length===1)return h(F[0],I,k,B);let O;const M=(0,s.toHash)(F);if(M.array&&M.object){const y=(0,u._)`typeof ${I} != "object"`;O=M.null?y:(0,u._)`!${I} || ${y}`,delete M.null,delete M.array,delete M.object}else O=u.nil;M.number&&delete M.integer;for(const y in M)O=(0,u.and)(O,h(y,I,k,B));return O}t.checkDataTypes=v;const S={message:({schema:F})=>`must be ${F}`,params:({schema:F,schemaValue:I})=>typeof F=="string"?(0,u._)`{type: ${F}}`:(0,u._)`{type: ${I}}`};function D(F){const I=g(F);(0,n.reportError)(I,S)}t.reportTypeError=D;function g(F){const{gen:I,data:k,schema:B}=F,O=(0,s.schemaRefOrVal)(F,B,"type");return{gen:I,keyword:"type",data:k,schema:B.type,schemaCode:O,schemaValue:O,parentSchema:B,params:{},it:F}}})(Hc);var c0={};Object.defineProperty(c0,"__esModule",{value:!0});c0.assignDefaults=void 0;const Ai=lt,PU=Ft;function kU(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const u in r)gb(t,u,r[u].default);else e==="array"&&Array.isArray(n)&&n.forEach((u,s)=>gb(t,s,u.default))}c0.assignDefaults=kU;function gb(t,e,r){const{gen:n,compositeRule:u,data:s,opts:i}=t;if(r===void 0)return;const o=(0,Ai._)`${s}${(0,Ai.getProperty)(e)}`;if(u){(0,PU.checkStrictMode)(t,`default is ignored for: ${o}`);return}let a=(0,Ai._)`${o} === undefined`;i.useDefaults==="empty"&&(a=(0,Ai._)`${a} || ${o} === null || ${o} === ""`),n.if(a,(0,Ai._)`${o} = ${(0,Ai.stringify)(r)}`)}var iu={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.validateUnion=ot.validateArray=ot.usePattern=ot.callValidateCode=ot.schemaProperties=ot.allSchemaProperties=ot.noPropertyInData=ot.propertyInData=ot.isOwnProperty=ot.hasPropFunc=ot.reportMissingProp=ot.checkMissingProp=ot.checkReportMissingProp=void 0;const Ot=lt,LD=Ft,Wu=Fu,OU=Ft;function NU(t,e){const{gen:r,data:n,it:u}=t;r.if(VD(r,n,e,u.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ot._)`${e}`},!0),t.error()})}ot.checkReportMissingProp=NU;function RU({gen:t,data:e,it:{opts:r}},n,u){return(0,Ot.or)(...n.map(s=>(0,Ot.and)(VD(t,e,s,r.ownProperties),(0,Ot._)`${u} = ${s}`)))}ot.checkMissingProp=RU;function qU(t,e){t.setParams({missingProperty:e},!0),t.error()}ot.reportMissingProp=qU;function C_(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ot._)`Object.prototype.hasOwnProperty`})}ot.hasPropFunc=C_;function GD(t,e,r){return(0,Ot._)`${C_(t)}.call(${e}, ${r})`}ot.isOwnProperty=GD;function xU(t,e,r,n){const u=(0,Ot._)`${e}${(0,Ot.getProperty)(r)} !== undefined`;return n?(0,Ot._)`${u} && ${GD(t,e,r)}`:u}ot.propertyInData=xU;function VD(t,e,r,n){const u=(0,Ot._)`${e}${(0,Ot.getProperty)(r)} === undefined`;return n?(0,Ot.or)(u,(0,Ot.not)(GD(t,e,r))):u}ot.noPropertyInData=VD;function __(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ot.allSchemaProperties=__;function MU(t,e){return __(e).filter(r=>!(0,LD.alwaysValidSchema)(t,e[r]))}ot.schemaProperties=MU;function jU({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:u,errorPath:s},it:i},o,a,c){const l=c?(0,Ot._)`${t}, ${e}, ${n}${u}`:e,f=[[Wu.default.instancePath,(0,Ot.strConcat)(Wu.default.instancePath,s)],[Wu.default.parentData,i.parentData],[Wu.default.parentDataProperty,i.parentDataProperty],[Wu.default.rootData,Wu.default.rootData]];i.opts.dynamicRef&&f.push([Wu.default.dynamicAnchors,Wu.default.dynamicAnchors]);const d=(0,Ot._)`${l}, ${r.object(...f)}`;return a!==Ot.nil?(0,Ot._)`${o}.call(${a}, ${d})`:(0,Ot._)`${o}(${d})`}ot.callValidateCode=jU;const LU=(0,Ot._)`new RegExp`;function GU({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:u}=e.code,s=u(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ot._)`${u.code==="new RegExp"?LU:(0,OU.useFunc)(t,u)}(${r}, ${n})`})}ot.usePattern=GU;function VU(t){const{gen:e,data:r,keyword:n,it:u}=t,s=e.name("valid");if(u.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const a=e.const("len",(0,Ot._)`${r}.length`);e.forRange("i",0,a,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:LD.Type.Num},s),e.if((0,Ot.not)(s),o)})}}ot.validateArray=VU;function UU(t){const{gen:e,schema:r,keyword:n,it:u}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(a=>(0,LD.alwaysValidSchema)(u,a))&&!u.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((a,c)=>{const l=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(i,(0,Ot._)`${i} || ${o}`),t.mergeValidEvaluated(l,o)||e.if((0,Ot.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}ot.validateUnion=UU;Object.defineProperty(iu,"__esModule",{value:!0});iu.validateKeywordUsage=iu.validSchemaType=iu.funcKeywordCode=iu.macroKeywordCode=void 0;const Rr=lt,Gs=Fu,KU=ot,JU=Jc;function HU(t,e){const{gen:r,keyword:n,schema:u,parentSchema:s,it:i}=t,o=e.macro.call(i.self,u,s,i),a=w_(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:Rr.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:a,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}iu.macroKeywordCode=HU;function WU(t,e){var r;const{gen:n,keyword:u,schema:s,parentSchema:i,$data:o,it:a}=t;QU(a,e);const c=!o&&e.compile?e.compile.call(a.self,s,i,a):e.validate,l=w_(n,u,c),f=n.let("valid");t.block$data(f,d),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function d(){if(e.errors===!1)v(),e.modifying&&Ab(t),S(()=>t.error());else{const D=e.async?p():h();e.modifying&&Ab(t),S(()=>zU(t,D))}}function p(){const D=n.let("ruleErrs",null);return n.try(()=>v((0,Rr._)`await `),g=>n.assign(f,!1).if((0,Rr._)`${g} instanceof ${a.ValidationError}`,()=>n.assign(D,(0,Rr._)`${g}.errors`),()=>n.throw(g))),D}function h(){const D=(0,Rr._)`${l}.errors`;return n.assign(D,null),v(Rr.nil),D}function v(D=e.async?(0,Rr._)`await `:Rr.nil){const g=a.opts.passContext?Gs.default.this:Gs.default.self,F=!("compile"in e&&!o||e.schema===!1);n.assign(f,(0,Rr._)`${D}${(0,KU.callValidateCode)(t,l,g,F)}`,e.modifying)}function S(D){var g;n.if((0,Rr.not)((g=e.valid)!==null&&g!==void 0?g:f),D)}}iu.funcKeywordCode=WU;function Ab(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Rr._)`${n.parentData}[${n.parentDataProperty}]`))}function zU(t,e){const{gen:r}=t;r.if((0,Rr._)`Array.isArray(${e})`,()=>{r.assign(Gs.default.vErrors,(0,Rr._)`${Gs.default.vErrors} === null ? ${e} : ${Gs.default.vErrors}.concat(${e})`).assign(Gs.default.errors,(0,Rr._)`${Gs.default.vErrors}.length`),(0,JU.extendErrors)(t)},()=>t.error())}function QU({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function w_(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Rr.stringify)(r)})}function YU(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}iu.validSchemaType=YU;function XU({schema:t,opts:e,self:r,errSchemaPath:n},u,s){if(Array.isArray(u.keyword)?!u.keyword.includes(s):u.keyword!==s)throw new Error("ajv implementation error");const i=u.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(u.validateSchema&&!u.validateSchema(t[s])){const a=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(u.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(a);else throw new Error(a)}}iu.validateKeywordUsage=XU;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.extendSubschemaMode=as.extendSubschemaData=as.getSubschema=void 0;const nu=lt,T_=Ft;function ZU(t,{keyword:e,schemaProp:r,schema:n,schemaPath:u,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,nu._)`${t.schemaPath}${(0,nu.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,nu._)`${t.schemaPath}${(0,nu.getProperty)(e)}${(0,nu.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,T_.escapeFragment)(r)}`}}if(n!==void 0){if(u===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:u,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}as.getSubschema=ZU;function eK(t,e,{dataProp:r,dataPropType:n,data:u,dataTypes:s,propertyName:i}){if(u!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:l,opts:f}=e,d=o.let("data",(0,nu._)`${e.data}${(0,nu.getProperty)(r)}`,!0);a(d),t.errorPath=(0,nu.str)`${c}${(0,T_.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,nu._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(u!==void 0){const c=u instanceof nu.Name?u:o.let("data",u,!0);a(c),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function a(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}as.extendSubschemaData=eK;function tK(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:u,allErrors:s}){n!==void 0&&(t.compositeRule=n),u!==void 0&&(t.createErrors=u),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}as.extendSubschemaMode=tK;var Cr={},l0=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,u,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(u=n;u--!==0;)if(!t(e[u],r[u]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(u=n;u--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[u]))return!1;for(u=n;u--!==0;){var i=s[u];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},W2={},rK={get exports(){return W2},set exports(t){W2=t}},us=rK.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},u=r.post||function(){};Xl(e,n,u,t,"",t)};us.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};us.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};us.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};us.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Xl(t,e,r,n,u,s,i,o,a,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,u,s,i,o,a,c);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in us.arrayKeywords)for(var d=0;d<f.length;d++)Xl(t,e,r,f[d],u+"/"+l+"/"+d,s,u,l,n,d)}else if(l in us.propsKeywords){if(f&&typeof f=="object")for(var p in f)Xl(t,e,r,f[p],u+"/"+l+"/"+nK(p),s,u,l,n,p)}else(l in us.keywords||t.allKeys&&!(l in us.skipKeywords))&&Xl(t,e,r,f,u+"/"+l,s,u,l,n)}r(n,u,s,i,o,a,c)}}function nK(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.getSchemaRefs=Cr.resolveUrl=Cr.normalizeId=Cr._getFullPath=Cr.getFullPath=Cr.inlineRef=void 0;const uK=Ft,sK=l0,iK=W2,oK=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function aK(t,e=!0){return typeof t=="boolean"?!0:e===!0?!z2(t):e?$_(t)<=e:!1}Cr.inlineRef=aK;const cK=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function z2(t){for(const e in t){if(cK.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(z2)||typeof r=="object"&&z2(r))return!0}return!1}function $_(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!oK.has(r)&&(typeof t[r]=="object"&&(0,uK.eachItem)(t[r],n=>e+=$_(n)),e===1/0))return 1/0}return e}function B_(t,e="",r){r!==!1&&(e=zi(e));const n=t.parse(e);return I_(t,n)}Cr.getFullPath=B_;function I_(t,e){return t.serialize(e).split("#")[0]+"#"}Cr._getFullPath=I_;const lK=/#\/?$/;function zi(t){return t?t.replace(lK,""):""}Cr.normalizeId=zi;function fK(t,e,r){return r=zi(r),t.resolve(e,r)}Cr.resolveUrl=fK;const dK=/^[a-z_][-a-z0-9._]*$/i;function pK(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,u=zi(t[r]||e),s={"":u},i=B_(n,u,!1),o={},a=new Set;return iK(t,{allKeys:!0},(f,d,p,h)=>{if(h===void 0)return;const v=i+d;let S=s[h];typeof f[r]=="string"&&(S=D.call(this,f[r])),g.call(this,f.$anchor),g.call(this,f.$dynamicAnchor),s[d]=S;function D(F){const I=this.opts.uriResolver.resolve;if(F=zi(S?I(S,F):F),a.has(F))throw l(F);a.add(F);let k=this.refs[F];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?c(f,k.schema,F):F!==zi(v)&&(F[0]==="#"?(c(f,o[F],F),o[F]=f):this.refs[F]=v),F}function g(F){if(typeof F=="string"){if(!dK.test(F))throw new Error(`invalid anchor "${F}"`);D.call(this,`#${F}`)}}}),o;function c(f,d,p){if(d!==void 0&&!sK(f,d))throw l(p)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Cr.getSchemaRefs=pK;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getData=Nn.KeywordCxt=Nn.validateFunctionCode=void 0;const P_=so,Sb=Hc,UD=Ou,lf=Hc,hK=c0,Wa=iu,Mh=as,Ne=lt,ze=Fu,mK=Cr,Nu=Ft,va=Jc;function DK(t){if(N_(t)&&(R_(t),O_(t))){vK(t);return}k_(t,()=>(0,P_.topBoolOrEmptySchema)(t))}Nn.validateFunctionCode=DK;function k_({gen:t,validateName:e,schema:r,schemaEnv:n,opts:u},s){u.code.es5?t.func(e,(0,Ne._)`${ze.default.data}, ${ze.default.valCxt}`,n.$async,()=>{t.code((0,Ne._)`"use strict"; ${Fb(r,u)}`),yK(t,u),t.code(s)}):t.func(e,(0,Ne._)`${ze.default.data}, ${EK(u)}`,n.$async,()=>t.code(Fb(r,u)).code(s))}function EK(t){return(0,Ne._)`{${ze.default.instancePath}="", ${ze.default.parentData}, ${ze.default.parentDataProperty}, ${ze.default.rootData}=${ze.default.data}${t.dynamicRef?(0,Ne._)`, ${ze.default.dynamicAnchors}={}`:Ne.nil}}={}`}function yK(t,e){t.if(ze.default.valCxt,()=>{t.var(ze.default.instancePath,(0,Ne._)`${ze.default.valCxt}.${ze.default.instancePath}`),t.var(ze.default.parentData,(0,Ne._)`${ze.default.valCxt}.${ze.default.parentData}`),t.var(ze.default.parentDataProperty,(0,Ne._)`${ze.default.valCxt}.${ze.default.parentDataProperty}`),t.var(ze.default.rootData,(0,Ne._)`${ze.default.valCxt}.${ze.default.rootData}`),e.dynamicRef&&t.var(ze.default.dynamicAnchors,(0,Ne._)`${ze.default.valCxt}.${ze.default.dynamicAnchors}`)},()=>{t.var(ze.default.instancePath,(0,Ne._)`""`),t.var(ze.default.parentData,(0,Ne._)`undefined`),t.var(ze.default.parentDataProperty,(0,Ne._)`undefined`),t.var(ze.default.rootData,ze.default.data),e.dynamicRef&&t.var(ze.default.dynamicAnchors,(0,Ne._)`{}`)})}function vK(t){const{schema:e,opts:r,gen:n}=t;k_(t,()=>{r.$comment&&e.$comment&&x_(t),bK(t),n.let(ze.default.vErrors,null),n.let(ze.default.errors,0),r.unevaluated&&gK(t),q_(t),wK(t)})}function gK(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Ne._)`${r}.evaluated`),e.if((0,Ne._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Ne._)`${t.evaluated}.props`,(0,Ne._)`undefined`)),e.if((0,Ne._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Ne._)`${t.evaluated}.items`,(0,Ne._)`undefined`))}function Fb(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Ne._)`/*# sourceURL=${r} */`:Ne.nil}function AK(t,e){if(N_(t)&&(R_(t),O_(t))){SK(t,e);return}(0,P_.boolOrEmptySchema)(t,e)}function O_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function N_(t){return typeof t.schema!="boolean"}function SK(t,e){const{schema:r,gen:n,opts:u}=t;u.$comment&&r.$comment&&x_(t),CK(t),_K(t);const s=n.const("_errs",ze.default.errors);q_(t,s),n.var(e,(0,Ne._)`${s} === ${ze.default.errors}`)}function R_(t){(0,Nu.checkUnknownRules)(t),FK(t)}function q_(t,e){if(t.opts.jtd)return bb(t,[],!1,e);const r=(0,Sb.getSchemaTypes)(t.schema),n=(0,Sb.coerceAndCheckDataType)(t,r);bb(t,r,!n,e)}function FK(t){const{schema:e,errSchemaPath:r,opts:n,self:u}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Nu.schemaHasRulesButRef)(e,u.RULES)&&u.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function bK(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Nu.checkStrictMode)(t,"default is ignored in the schema root")}function CK(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,mK.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function _K(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function x_({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:u}){const s=r.$comment;if(u.$comment===!0)t.code((0,Ne._)`${ze.default.self}.logger.log(${s})`);else if(typeof u.$comment=="function"){const i=(0,Ne.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Ne._)`${ze.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function wK(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:u,opts:s}=t;r.$async?e.if((0,Ne._)`${ze.default.errors} === 0`,()=>e.return(ze.default.data),()=>e.throw((0,Ne._)`new ${u}(${ze.default.vErrors})`)):(e.assign((0,Ne._)`${n}.errors`,ze.default.vErrors),s.unevaluated&&TK(t),e.return((0,Ne._)`${ze.default.errors} === 0`))}function TK({gen:t,evaluated:e,props:r,items:n}){r instanceof Ne.Name&&t.assign((0,Ne._)`${e}.props`,r),n instanceof Ne.Name&&t.assign((0,Ne._)`${e}.items`,n)}function bb(t,e,r,n){const{gen:u,schema:s,data:i,allErrors:o,opts:a,self:c}=t,{RULES:l}=c;if(s.$ref&&(a.ignoreKeywordsWithRef||!(0,Nu.schemaHasRulesButRef)(s,l))){u.block(()=>L_(t,"$ref",l.all.$ref.definition));return}a.jtd||$K(t,e),u.block(()=>{for(const d of l.rules)f(d);f(l.post)});function f(d){(0,UD.shouldUseGroup)(s,d)&&(d.type?(u.if((0,lf.checkDataType)(d.type,i,a.strictNumbers)),Cb(t,d),e.length===1&&e[0]===d.type&&r&&(u.else(),(0,lf.reportTypeError)(t)),u.endIf()):Cb(t,d),o||u.if((0,Ne._)`${ze.default.errors} === ${n||0}`))}}function Cb(t,e){const{gen:r,schema:n,opts:{useDefaults:u}}=t;u&&(0,hK.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,UD.shouldUseRule)(n,s)&&L_(t,s.keyword,s.definition,e.type)})}function $K(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(BK(t,e),t.opts.allowUnionTypes||IK(t,e),PK(t,t.dataTypes))}function BK(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{M_(t.dataTypes,r)||KD(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),OK(t,e)}}function IK(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&KD(t,"use allowUnionTypes to allow union type keyword")}function PK(t,e){const r=t.self.RULES.all;for(const n in r){const u=r[n];if(typeof u=="object"&&(0,UD.shouldUseRule)(t.schema,u)){const{type:s}=u.definition;s.length&&!s.some(i=>kK(e,i))&&KD(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function kK(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function M_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function OK(t,e){const r=[];for(const n of t.dataTypes)M_(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function KD(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Nu.checkStrictMode)(t,e,t.opts.strictTypes)}let j_=class{constructor(e,r,n){if((0,Wa.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Nu.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",G_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Wa.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",ze.default.errors))}result(e,r,n){this.failResult((0,Ne.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Ne.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Ne._)`${r} !== undefined && (${(0,Ne.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?va.reportExtraError:va.reportError)(this,this.def.error,r)}$dataError(){(0,va.reportError)(this,this.def.$dataError||va.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,va.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Ne.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Ne.nil,r=Ne.nil){if(!this.$data)return;const{gen:n,schemaCode:u,schemaType:s,def:i}=this;n.if((0,Ne.or)((0,Ne._)`${u} === undefined`,r)),e!==Ne.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Ne.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:u,it:s}=this;return(0,Ne.or)(i(),o());function i(){if(n.length){if(!(r instanceof Ne.Name))throw new Error("ajv implementation error");const a=Array.isArray(n)?n:[n];return(0,Ne._)`${(0,lf.checkDataTypes)(a,r,s.opts.strictNumbers,lf.DataType.Wrong)}`}return Ne.nil}function o(){if(u.validateSchema){const a=e.scopeValue("validate$data",{ref:u.validateSchema});return(0,Ne._)`!${a}(${r})`}return Ne.nil}}subschema(e,r){const n=(0,Mh.getSubschema)(this.it,e);(0,Mh.extendSubschemaData)(n,this.it,e),(0,Mh.extendSubschemaMode)(n,e);const u={...this.it,...n,items:void 0,props:void 0};return AK(u,r),u}mergeEvaluated(e,r){const{it:n,gen:u}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Nu.mergeEvaluated.props(u,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Nu.mergeEvaluated.items(u,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:u}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return u.if(r,()=>this.mergeEvaluated(e,Ne.Name)),!0}};Nn.KeywordCxt=j_;function L_(t,e,r,n){const u=new j_(t,r,e);"code"in r?r.code(u,n):u.$data&&r.validate?(0,Wa.funcKeywordCode)(u,r):"macro"in r?(0,Wa.macroKeywordCode)(u,r):(r.compile||r.validate)&&(0,Wa.funcKeywordCode)(u,r)}const NK=/^\/(?:[^~]|~0|~1)*$/,RK=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function G_(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let u,s;if(t==="")return ze.default.rootData;if(t[0]==="/"){if(!NK.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);u=t,s=ze.default.rootData}else{const c=RK.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const l=+c[1];if(u=c[2],u==="#"){if(l>=e)throw new Error(a("property/index",l));return n[e-l]}if(l>e)throw new Error(a("data",l));if(s=r[e-l],!u)return s}let i=s;const o=u.split("/");for(const c of o)c&&(s=(0,Ne._)`${s}${(0,Ne.getProperty)((0,Nu.unescapeJsonPointer)(c))}`,i=(0,Ne._)`${i} && ${s}`);return i;function a(c,l){return`Cannot access ${c} ${l} levels up, current level is ${e}`}}Nn.getData=G_;var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});let qK=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Wc.default=qK;var zc={};Object.defineProperty(zc,"__esModule",{value:!0});const jh=Cr;let xK=class extends Error{constructor(e,r,n,u){super(u||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,jh.resolveUrl)(e,r,n),this.missingSchema=(0,jh.normalizeId)((0,jh.getFullPath)(e,this.missingRef))}};zc.default=xK;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.resolveSchema=Jr.getCompilingSchema=Jr.resolveRef=Jr.compileSchema=Jr.SchemaEnv=void 0;const Cn=lt,MK=Wc,Os=Fu,In=Cr,_b=Ft,jK=Nn;let f0=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,In.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Jr.SchemaEnv=f0;function JD(t){const e=V_.call(this,t);if(e)return e;const r=(0,In.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:u}=this.opts.code,{ownProperties:s}=this.opts,i=new Cn.CodeGen(this.scope,{es5:n,lines:u,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:MK.default,code:(0,Cn._)`require("ajv/dist/runtime/validation_error").default`}));const a=i.scopeName("validate");t.validateName=a;const c={gen:i,allErrors:this.opts.allErrors,data:Os.default.data,parentData:Os.default.parentData,parentDataProperty:Os.default.parentDataProperty,dataNames:[Os.default.data],dataPathArr:[Cn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Cn.stringify)(t.schema)}:{ref:t.schema}),validateName:a,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Cn.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Cn._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(t),(0,jK.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const f=i.toString();l=`${i.scopeRefs(Os.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,t));const p=new Function(`${Os.default.self}`,`${Os.default.scope}`,l)(this,this.scope.get());if(this.scope.value(a,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:a,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:h,items:v}=c;p.evaluated={props:h instanceof Cn.Name?void 0:h,items:v instanceof Cn.Name?void 0:v,dynamicProps:h instanceof Cn.Name,dynamicItems:v instanceof Cn.Name},p.source&&(p.source.evaluated=(0,Cn.stringify)(p.evaluated))}return t.validate=p,t}catch(f){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(t)}}Jr.compileSchema=JD;function LK(t,e,r){var n;r=(0,In.resolveUrl)(this.opts.uriResolver,e,r);const u=t.refs[r];if(u)return u;let s=UK.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new f0({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=GK.call(this,s)}Jr.resolveRef=LK;function GK(t){return(0,In.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:JD.call(this,t)}function V_(t){for(const e of this._compilations)if(VK(e,t))return e}Jr.getCompilingSchema=V_;function VK(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function UK(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||d0.call(this,t,e)}function d0(t,e){const r=this.opts.uriResolver.parse(e),n=(0,In._getFullPath)(this.opts.uriResolver,r);let u=(0,In.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===u)return Lh.call(this,r,t);const s=(0,In.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=d0.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Lh.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||JD.call(this,i),s===(0,In.normalizeId)(e)){const{schema:o}=i,{schemaId:a}=this.opts,c=o[a];return c&&(u=(0,In.resolveUrl)(this.opts.uriResolver,u,c)),new f0({schema:o,schemaId:a,root:t,baseId:u})}return Lh.call(this,r,i)}}Jr.resolveSchema=d0;const KK=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Lh(t,{baseId:e,schema:r,root:n}){var u;if(((u=t.fragment)===null||u===void 0?void 0:u[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const a=r[(0,_b.unescapeFragment)(o)];if(a===void 0)return;r=a;const c=typeof r=="object"&&r[this.opts.schemaId];!KK.has(o)&&c&&(e=(0,In.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,_b.schemaHasRulesButRef)(r,this.RULES)){const o=(0,In.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=d0.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new f0({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const JK="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",HK="Meta-schema for $data reference (JSON AnySchema extension proposal)",WK="object",zK=["$data"],QK={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},YK=!1,XK={$id:JK,description:HK,type:WK,required:zK,properties:QK,additionalProperties:YK};var HD={},Dc={},ZK={get exports(){return Dc},set exports(t){Dc=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(qn,function(r){function n(){for(var oe=arguments.length,Q=Array(oe),ae=0;ae<oe;ae++)Q[ae]=arguments[ae];if(Q.length>1){Q[0]=Q[0].slice(0,-1);for(var ge=Q.length-1,ve=1;ve<ge;++ve)Q[ve]=Q[ve].slice(1,-1);return Q[ge]=Q[ge].slice(1),Q.join("")}else return Q[0]}function u(oe){return"(?:"+oe+")"}function s(oe){return oe===void 0?"undefined":oe===null?"null":Object.prototype.toString.call(oe).split(" ").pop().split("]").shift().toLowerCase()}function i(oe){return oe.toUpperCase()}function o(oe){return oe!=null?oe instanceof Array?oe:typeof oe.length!="number"||oe.split||oe.setInterval||oe.call?[oe]:Array.prototype.slice.call(oe):[]}function a(oe,Q){var ae=oe;if(Q)for(var ge in Q)ae[ge]=Q[ge];return ae}function c(oe){var Q="[A-Za-z]",ae="[0-9]",ge=n(ae,"[A-Fa-f]"),ve=u(u("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+u("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+u("%"+ge+ge)),qe="[\\:\\/\\?\\#\\[\\]\\@]",je="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",gt=n(qe,je),kt=oe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Qt=oe?"[\\uE000-\\uF8FF]":"[]",pt=n(Q,ae,"[\\-\\.\\_\\~]",kt);u(Q+n(Q,ae,"[\\+\\-\\.]")+"*"),u(u(ve+"|"+n(pt,je,"[\\:]"))+"*");var Pt=u(u("25[0-5]")+"|"+u("2[0-4]"+ae)+"|"+u("1"+ae+ae)+"|"+u("0?[1-9]"+ae)+"|0?0?"+ae),Yt=u(Pt+"\\."+Pt+"\\."+Pt+"\\."+Pt),Xe=u(ge+"{1,4}"),jt=u(u(Xe+"\\:"+Xe)+"|"+Yt),or=u(u(Xe+"\\:")+"{6}"+jt),Lt=u("\\:\\:"+u(Xe+"\\:")+"{5}"+jt),Hu=u(u(Xe)+"?\\:\\:"+u(Xe+"\\:")+"{4}"+jt),Jn=u(u(u(Xe+"\\:")+"{0,1}"+Xe)+"?\\:\\:"+u(Xe+"\\:")+"{3}"+jt),Hn=u(u(u(Xe+"\\:")+"{0,2}"+Xe)+"?\\:\\:"+u(Xe+"\\:")+"{2}"+jt),Di=u(u(u(Xe+"\\:")+"{0,3}"+Xe)+"?\\:\\:"+Xe+"\\:"+jt),Ss=u(u(u(Xe+"\\:")+"{0,4}"+Xe)+"?\\:\\:"+jt),cn=u(u(u(Xe+"\\:")+"{0,5}"+Xe)+"?\\:\\:"+Xe),Wn=u(u(u(Xe+"\\:")+"{0,6}"+Xe)+"?\\:\\:"),Fs=u([or,Lt,Hu,Jn,Hn,Di,Ss,cn,Wn].join("|")),Cu=u(u(pt+"|"+ve)+"+");u("[vV]"+ge+"+\\."+n(pt,je,"[\\:]")+"+"),u(u(ve+"|"+n(pt,je))+"*");var To=u(ve+"|"+n(pt,je,"[\\:\\@]"));return u(u(ve+"|"+n(pt,je,"[\\@]"))+"+"),u(u(To+"|"+n("[\\/\\?]",Qt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",Q,ae,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",pt,je),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",pt,je),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",pt,je),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",pt,je),"g"),NOT_QUERY:new RegExp(n("[^\\%]",pt,je,"[\\:\\@\\/\\?]",Qt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",pt,je,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",pt,je),"g"),UNRESERVED:new RegExp(pt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",pt,gt),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+Yt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Fs+")"+u(u("\\%25|\\%(?!"+ge+"{2})")+"("+Cu+")")+"?\\]?$")}}var l=c(!1),f=c(!0),d=function(){function oe(Q,ae){var ge=[],ve=!0,qe=!1,je=void 0;try{for(var gt=Q[Symbol.iterator](),kt;!(ve=(kt=gt.next()).done)&&(ge.push(kt.value),!(ae&&ge.length===ae));ve=!0);}catch(Qt){qe=!0,je=Qt}finally{try{!ve&&gt.return&&gt.return()}finally{if(qe)throw je}}return ge}return function(Q,ae){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return oe(Q,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(oe){if(Array.isArray(oe)){for(var Q=0,ae=Array(oe.length);Q<oe.length;Q++)ae[Q]=oe[Q];return ae}else return Array.from(oe)},h=2147483647,v=36,S=1,D=26,g=38,F=700,I=72,k=128,B="-",O=/^xn--/,M=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=v-S,U=Math.floor,Y=String.fromCharCode;function H(oe){throw new RangeError(P[oe])}function se(oe,Q){for(var ae=[],ge=oe.length;ge--;)ae[ge]=Q(oe[ge]);return ae}function fe(oe,Q){var ae=oe.split("@"),ge="";ae.length>1&&(ge=ae[0]+"@",oe=ae[1]),oe=oe.replace(y,".");var ve=oe.split("."),qe=se(ve,Q).join(".");return ge+qe}function K(oe){for(var Q=[],ae=0,ge=oe.length;ae<ge;){var ve=oe.charCodeAt(ae++);if(ve>=55296&&ve<=56319&&ae<ge){var qe=oe.charCodeAt(ae++);(qe&64512)==56320?Q.push(((ve&1023)<<10)+(qe&1023)+65536):(Q.push(ve),ae--)}else Q.push(ve)}return Q}var z=function(Q){return String.fromCodePoint.apply(String,p(Q))},te=function(Q){return Q-48<10?Q-22:Q-65<26?Q-65:Q-97<26?Q-97:v},V=function(Q,ae){return Q+22+75*(Q<26)-((ae!=0)<<5)},N=function(Q,ae,ge){var ve=0;for(Q=ge?U(Q/F):Q>>1,Q+=U(Q/ae);Q>L*D>>1;ve+=v)Q=U(Q/L);return U(ve+(L+1)*Q/(Q+g))},A=function(Q){var ae=[],ge=Q.length,ve=0,qe=k,je=I,gt=Q.lastIndexOf(B);gt<0&&(gt=0);for(var kt=0;kt<gt;++kt)Q.charCodeAt(kt)>=128&&H("not-basic"),ae.push(Q.charCodeAt(kt));for(var Qt=gt>0?gt+1:0;Qt<ge;){for(var pt=ve,Pt=1,Yt=v;;Yt+=v){Qt>=ge&&H("invalid-input");var Xe=te(Q.charCodeAt(Qt++));(Xe>=v||Xe>U((h-ve)/Pt))&&H("overflow"),ve+=Xe*Pt;var jt=Yt<=je?S:Yt>=je+D?D:Yt-je;if(Xe<jt)break;var or=v-jt;Pt>U(h/or)&&H("overflow"),Pt*=or}var Lt=ae.length+1;je=N(ve-pt,Lt,pt==0),U(ve/Lt)>h-qe&&H("overflow"),qe+=U(ve/Lt),ve%=Lt,ae.splice(ve++,0,qe)}return String.fromCodePoint.apply(String,ae)},C=function(Q){var ae=[];Q=K(Q);var ge=Q.length,ve=k,qe=0,je=I,gt=!0,kt=!1,Qt=void 0;try{for(var pt=Q[Symbol.iterator](),Pt;!(gt=(Pt=pt.next()).done);gt=!0){var Yt=Pt.value;Yt<128&&ae.push(Y(Yt))}}catch($o){kt=!0,Qt=$o}finally{try{!gt&&pt.return&&pt.return()}finally{if(kt)throw Qt}}var Xe=ae.length,jt=Xe;for(Xe&&ae.push(B);jt<ge;){var or=h,Lt=!0,Hu=!1,Jn=void 0;try{for(var Hn=Q[Symbol.iterator](),Di;!(Lt=(Di=Hn.next()).done);Lt=!0){var Ss=Di.value;Ss>=ve&&Ss<or&&(or=Ss)}}catch($o){Hu=!0,Jn=$o}finally{try{!Lt&&Hn.return&&Hn.return()}finally{if(Hu)throw Jn}}var cn=jt+1;or-ve>U((h-qe)/cn)&&H("overflow"),qe+=(or-ve)*cn,ve=or;var Wn=!0,Fs=!1,Cu=void 0;try{for(var To=Q[Symbol.iterator](),P3;!(Wn=(P3=To.next()).done);Wn=!0){var k3=P3.value;if(k3<ve&&++qe>h&&H("overflow"),k3==ve){for(var pl=qe,hl=v;;hl+=v){var ml=hl<=je?S:hl>=je+D?D:hl-je;if(pl<ml)break;var O3=pl-ml,N3=v-ml;ae.push(Y(V(ml+O3%N3,0))),pl=U(O3/N3)}ae.push(Y(V(pl,0))),je=N(qe,cn,jt==Xe),qe=0,++jt}}}catch($o){Fs=!0,Cu=$o}finally{try{!Wn&&To.return&&To.return()}finally{if(Fs)throw Cu}}++qe,++ve}return ae.join("")},E=function(Q){return fe(Q,function(ae){return O.test(ae)?A(ae.slice(4).toLowerCase()):ae})},_=function(Q){return fe(Q,function(ae){return M.test(ae)?"xn--"+C(ae):ae})},R={version:"2.1.0",ucs2:{decode:K,encode:z},decode:A,encode:C,toASCII:_,toUnicode:E},b={};function T(oe){var Q=oe.charCodeAt(0),ae=void 0;return Q<16?ae="%0"+Q.toString(16).toUpperCase():Q<128?ae="%"+Q.toString(16).toUpperCase():Q<2048?ae="%"+(Q>>6|192).toString(16).toUpperCase()+"%"+(Q&63|128).toString(16).toUpperCase():ae="%"+(Q>>12|224).toString(16).toUpperCase()+"%"+(Q>>6&63|128).toString(16).toUpperCase()+"%"+(Q&63|128).toString(16).toUpperCase(),ae}function j(oe){for(var Q="",ae=0,ge=oe.length;ae<ge;){var ve=parseInt(oe.substr(ae+1,2),16);if(ve<128)Q+=String.fromCharCode(ve),ae+=3;else if(ve>=194&&ve<224){if(ge-ae>=6){var qe=parseInt(oe.substr(ae+4,2),16);Q+=String.fromCharCode((ve&31)<<6|qe&63)}else Q+=oe.substr(ae,6);ae+=6}else if(ve>=224){if(ge-ae>=9){var je=parseInt(oe.substr(ae+4,2),16),gt=parseInt(oe.substr(ae+7,2),16);Q+=String.fromCharCode((ve&15)<<12|(je&63)<<6|gt&63)}else Q+=oe.substr(ae,9);ae+=9}else Q+=oe.substr(ae,3),ae+=3}return Q}function q(oe,Q){function ae(ge){var ve=j(ge);return ve.match(Q.UNRESERVED)?ve:ge}return oe.scheme&&(oe.scheme=String(oe.scheme).replace(Q.PCT_ENCODED,ae).toLowerCase().replace(Q.NOT_SCHEME,"")),oe.userinfo!==void 0&&(oe.userinfo=String(oe.userinfo).replace(Q.PCT_ENCODED,ae).replace(Q.NOT_USERINFO,T).replace(Q.PCT_ENCODED,i)),oe.host!==void 0&&(oe.host=String(oe.host).replace(Q.PCT_ENCODED,ae).toLowerCase().replace(Q.NOT_HOST,T).replace(Q.PCT_ENCODED,i)),oe.path!==void 0&&(oe.path=String(oe.path).replace(Q.PCT_ENCODED,ae).replace(oe.scheme?Q.NOT_PATH:Q.NOT_PATH_NOSCHEME,T).replace(Q.PCT_ENCODED,i)),oe.query!==void 0&&(oe.query=String(oe.query).replace(Q.PCT_ENCODED,ae).replace(Q.NOT_QUERY,T).replace(Q.PCT_ENCODED,i)),oe.fragment!==void 0&&(oe.fragment=String(oe.fragment).replace(Q.PCT_ENCODED,ae).replace(Q.NOT_FRAGMENT,T).replace(Q.PCT_ENCODED,i)),oe}function X(oe){return oe.replace(/^0*(.*)/,"$1")||"0"}function ie(oe,Q){var ae=oe.match(Q.IPV4ADDRESS)||[],ge=d(ae,2),ve=ge[1];return ve?ve.split(".").map(X).join("."):oe}function Ee(oe,Q){var ae=oe.match(Q.IPV6ADDRESS)||[],ge=d(ae,3),ve=ge[1],qe=ge[2];if(ve){for(var je=ve.toLowerCase().split("::").reverse(),gt=d(je,2),kt=gt[0],Qt=gt[1],pt=Qt?Qt.split(":").map(X):[],Pt=kt.split(":").map(X),Yt=Q.IPV4ADDRESS.test(Pt[Pt.length-1]),Xe=Yt?7:8,jt=Pt.length-Xe,or=Array(Xe),Lt=0;Lt<Xe;++Lt)or[Lt]=pt[Lt]||Pt[jt+Lt]||"";Yt&&(or[Xe-1]=ie(or[Xe-1],Q));var Hu=or.reduce(function(cn,Wn,Fs){if(!Wn||Wn==="0"){var Cu=cn[cn.length-1];Cu&&Cu.index+Cu.length===Fs?Cu.length++:cn.push({index:Fs,length:1})}return cn},[]),Jn=Hu.sort(function(cn,Wn){return Wn.length-cn.length})[0],Hn=void 0;if(Jn&&Jn.length>1){var Di=or.slice(0,Jn.index),Ss=or.slice(Jn.index+Jn.length);Hn=Di.join(":")+"::"+Ss.join(":")}else Hn=or.join(":");return qe&&(Hn+="%"+qe),Hn}else return oe}var Be=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ve="".match(/(){0}/)[1]===void 0;function We(oe){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae={},ge=Q.iri!==!1?f:l;Q.reference==="suffix"&&(oe=(Q.scheme?Q.scheme+":":"")+"//"+oe);var ve=oe.match(Be);if(ve){Ve?(ae.scheme=ve[1],ae.userinfo=ve[3],ae.host=ve[4],ae.port=parseInt(ve[5],10),ae.path=ve[6]||"",ae.query=ve[7],ae.fragment=ve[8],isNaN(ae.port)&&(ae.port=ve[5])):(ae.scheme=ve[1]||void 0,ae.userinfo=oe.indexOf("@")!==-1?ve[3]:void 0,ae.host=oe.indexOf("//")!==-1?ve[4]:void 0,ae.port=parseInt(ve[5],10),ae.path=ve[6]||"",ae.query=oe.indexOf("?")!==-1?ve[7]:void 0,ae.fragment=oe.indexOf("#")!==-1?ve[8]:void 0,isNaN(ae.port)&&(ae.port=oe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ve[4]:void 0)),ae.host&&(ae.host=Ee(ie(ae.host,ge),ge)),ae.scheme===void 0&&ae.userinfo===void 0&&ae.host===void 0&&ae.port===void 0&&!ae.path&&ae.query===void 0?ae.reference="same-document":ae.scheme===void 0?ae.reference="relative":ae.fragment===void 0?ae.reference="absolute":ae.reference="uri",Q.reference&&Q.reference!=="suffix"&&Q.reference!==ae.reference&&(ae.error=ae.error||"URI is not a "+Q.reference+" reference.");var qe=b[(Q.scheme||ae.scheme||"").toLowerCase()];if(!Q.unicodeSupport&&(!qe||!qe.unicodeSupport)){if(ae.host&&(Q.domainHost||qe&&qe.domainHost))try{ae.host=R.toASCII(ae.host.replace(ge.PCT_ENCODED,j).toLowerCase())}catch(je){ae.error=ae.error||"Host's domain name can not be converted to ASCII via punycode: "+je}q(ae,l)}else q(ae,ge);qe&&qe.parse&&qe.parse(ae,Q)}else ae.error=ae.error||"URI can not be parsed.";return ae}function He(oe,Q){var ae=Q.iri!==!1?f:l,ge=[];return oe.userinfo!==void 0&&(ge.push(oe.userinfo),ge.push("@")),oe.host!==void 0&&ge.push(Ee(ie(String(oe.host),ae),ae).replace(ae.IPV6ADDRESS,function(ve,qe,je){return"["+qe+(je?"%25"+je:"")+"]"})),(typeof oe.port=="number"||typeof oe.port=="string")&&(ge.push(":"),ge.push(String(oe.port))),ge.length?ge.join(""):void 0}var ke=/^\.\.?\//,ce=/^\/\.(\/|$)/,me=/^\/\.\.(\/|$)/,Ce=/^\/?(?:.|\n)*?(?=\/|$)/;function De(oe){for(var Q=[];oe.length;)if(oe.match(ke))oe=oe.replace(ke,"");else if(oe.match(ce))oe=oe.replace(ce,"/");else if(oe.match(me))oe=oe.replace(me,"/"),Q.pop();else if(oe==="."||oe==="..")oe="";else{var ae=oe.match(Ce);if(ae){var ge=ae[0];oe=oe.slice(ge.length),Q.push(ge)}else throw new Error("Unexpected dot segment condition")}return Q.join("")}function xe(oe){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=Q.iri?f:l,ge=[],ve=b[(Q.scheme||oe.scheme||"").toLowerCase()];if(ve&&ve.serialize&&ve.serialize(oe,Q),oe.host&&!ae.IPV6ADDRESS.test(oe.host)){if(Q.domainHost||ve&&ve.domainHost)try{oe.host=Q.iri?R.toUnicode(oe.host):R.toASCII(oe.host.replace(ae.PCT_ENCODED,j).toLowerCase())}catch(gt){oe.error=oe.error||"Host's domain name can not be converted to "+(Q.iri?"Unicode":"ASCII")+" via punycode: "+gt}}q(oe,ae),Q.reference!=="suffix"&&oe.scheme&&(ge.push(oe.scheme),ge.push(":"));var qe=He(oe,Q);if(qe!==void 0&&(Q.reference!=="suffix"&&ge.push("//"),ge.push(qe),oe.path&&oe.path.charAt(0)!=="/"&&ge.push("/")),oe.path!==void 0){var je=oe.path;!Q.absolutePath&&(!ve||!ve.absolutePath)&&(je=De(je)),qe===void 0&&(je=je.replace(/^\/\//,"/%2F")),ge.push(je)}return oe.query!==void 0&&(ge.push("?"),ge.push(oe.query)),oe.fragment!==void 0&&(ge.push("#"),ge.push(oe.fragment)),ge.join("")}function Z(oe,Q){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=arguments[3],ve={};return ge||(oe=We(xe(oe,ae),ae),Q=We(xe(Q,ae),ae)),ae=ae||{},!ae.tolerant&&Q.scheme?(ve.scheme=Q.scheme,ve.userinfo=Q.userinfo,ve.host=Q.host,ve.port=Q.port,ve.path=De(Q.path||""),ve.query=Q.query):(Q.userinfo!==void 0||Q.host!==void 0||Q.port!==void 0?(ve.userinfo=Q.userinfo,ve.host=Q.host,ve.port=Q.port,ve.path=De(Q.path||""),ve.query=Q.query):(Q.path?(Q.path.charAt(0)==="/"?ve.path=De(Q.path):((oe.userinfo!==void 0||oe.host!==void 0||oe.port!==void 0)&&!oe.path?ve.path="/"+Q.path:oe.path?ve.path=oe.path.slice(0,oe.path.lastIndexOf("/")+1)+Q.path:ve.path=Q.path,ve.path=De(ve.path)),ve.query=Q.query):(ve.path=oe.path,Q.query!==void 0?ve.query=Q.query:ve.query=oe.query),ve.userinfo=oe.userinfo,ve.host=oe.host,ve.port=oe.port),ve.scheme=oe.scheme),ve.fragment=Q.fragment,ve}function le(oe,Q,ae){var ge=a({scheme:"null"},ae);return xe(Z(We(oe,ge),We(Q,ge),ge,!0),ge)}function ye(oe,Q){return typeof oe=="string"?oe=xe(We(oe,Q),Q):s(oe)==="object"&&(oe=We(xe(oe,Q),Q)),oe}function x(oe,Q,ae){return typeof oe=="string"?oe=xe(We(oe,ae),ae):s(oe)==="object"&&(oe=xe(oe,ae)),typeof Q=="string"?Q=xe(We(Q,ae),ae):s(Q)==="object"&&(Q=xe(Q,ae)),oe===Q}function w(oe,Q){return oe&&oe.toString().replace(!Q||!Q.iri?l.ESCAPE:f.ESCAPE,T)}function $(oe,Q){return oe&&oe.toString().replace(!Q||!Q.iri?l.PCT_ENCODED:f.PCT_ENCODED,j)}var G={scheme:"http",domainHost:!0,parse:function(Q,ae){return Q.host||(Q.error=Q.error||"HTTP URIs must have a host."),Q},serialize:function(Q,ae){var ge=String(Q.scheme).toLowerCase()==="https";return(Q.port===(ge?443:80)||Q.port==="")&&(Q.port=void 0),Q.path||(Q.path="/"),Q}},W={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function ne(oe){return typeof oe.secure=="boolean"?oe.secure:String(oe.scheme).toLowerCase()==="wss"}var de={scheme:"ws",domainHost:!0,parse:function(Q,ae){var ge=Q;return ge.secure=ne(ge),ge.resourceName=(ge.path||"/")+(ge.query?"?"+ge.query:""),ge.path=void 0,ge.query=void 0,ge},serialize:function(Q,ae){if((Q.port===(ne(Q)?443:80)||Q.port==="")&&(Q.port=void 0),typeof Q.secure=="boolean"&&(Q.scheme=Q.secure?"wss":"ws",Q.secure=void 0),Q.resourceName){var ge=Q.resourceName.split("?"),ve=d(ge,2),qe=ve[0],je=ve[1];Q.path=qe&&qe!=="/"?qe:void 0,Q.query=je,Q.resourceName=void 0}return Q.fragment=void 0,Q}},Oe={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},Ye={},tt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Me="[0-9A-Fa-f]",dt=u(u("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+u("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+u("%"+Me+Me)),hi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",gs="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",As=n(gs,'[\\"\\\\]'),fl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",dl=new RegExp(tt,"g"),mi=new RegExp(dt,"g"),_T=new RegExp(n("[^]",hi,"[\\.]",'[\\"]',As),"g"),T3=new RegExp(n("[^]",tt,fl),"g"),wT=T3;function P0(oe){var Q=j(oe);return Q.match(dl)?Q:oe}var $3={scheme:"mailto",parse:function(Q,ae){var ge=Q,ve=ge.to=ge.path?ge.path.split(","):[];if(ge.path=void 0,ge.query){for(var qe=!1,je={},gt=ge.query.split("&"),kt=0,Qt=gt.length;kt<Qt;++kt){var pt=gt[kt].split("=");switch(pt[0]){case"to":for(var Pt=pt[1].split(","),Yt=0,Xe=Pt.length;Yt<Xe;++Yt)ve.push(Pt[Yt]);break;case"subject":ge.subject=$(pt[1],ae);break;case"body":ge.body=$(pt[1],ae);break;default:qe=!0,je[$(pt[0],ae)]=$(pt[1],ae);break}}qe&&(ge.headers=je)}ge.query=void 0;for(var jt=0,or=ve.length;jt<or;++jt){var Lt=ve[jt].split("@");if(Lt[0]=$(Lt[0]),ae.unicodeSupport)Lt[1]=$(Lt[1],ae).toLowerCase();else try{Lt[1]=R.toASCII($(Lt[1],ae).toLowerCase())}catch(Hu){ge.error=ge.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hu}ve[jt]=Lt.join("@")}return ge},serialize:function(Q,ae){var ge=Q,ve=o(Q.to);if(ve){for(var qe=0,je=ve.length;qe<je;++qe){var gt=String(ve[qe]),kt=gt.lastIndexOf("@"),Qt=gt.slice(0,kt).replace(mi,P0).replace(mi,i).replace(_T,T),pt=gt.slice(kt+1);try{pt=ae.iri?R.toUnicode(pt):R.toASCII($(pt,ae).toLowerCase())}catch(jt){ge.error=ge.error||"Email address's domain name can not be converted to "+(ae.iri?"Unicode":"ASCII")+" via punycode: "+jt}ve[qe]=Qt+"@"+pt}ge.path=ve.join(",")}var Pt=Q.headers=Q.headers||{};Q.subject&&(Pt.subject=Q.subject),Q.body&&(Pt.body=Q.body);var Yt=[];for(var Xe in Pt)Pt[Xe]!==Ye[Xe]&&Yt.push(Xe.replace(mi,P0).replace(mi,i).replace(T3,T)+"="+Pt[Xe].replace(mi,P0).replace(mi,i).replace(wT,T));return Yt.length&&(ge.query=Yt.join("&")),ge}},TT=/^([^\:]+)\:(.*)/,B3={scheme:"urn",parse:function(Q,ae){var ge=Q.path&&Q.path.match(TT),ve=Q;if(ge){var qe=ae.scheme||ve.scheme||"urn",je=ge[1].toLowerCase(),gt=ge[2],kt=qe+":"+(ae.nid||je),Qt=b[kt];ve.nid=je,ve.nss=gt,ve.path=void 0,Qt&&(ve=Qt.parse(ve,ae))}else ve.error=ve.error||"URN can not be parsed.";return ve},serialize:function(Q,ae){var ge=ae.scheme||Q.scheme||"urn",ve=Q.nid,qe=ge+":"+(ae.nid||ve),je=b[qe];je&&(Q=je.serialize(Q,ae));var gt=Q,kt=Q.nss;return gt.path=(ve||ae.nid)+":"+kt,gt}},$T=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,I3={scheme:"urn:uuid",parse:function(Q,ae){var ge=Q;return ge.uuid=ge.nss,ge.nss=void 0,!ae.tolerant&&(!ge.uuid||!ge.uuid.match($T))&&(ge.error=ge.error||"UUID is not valid."),ge},serialize:function(Q,ae){var ge=Q;return ge.nss=(Q.uuid||"").toLowerCase(),ge}};b[G.scheme]=G,b[W.scheme]=W,b[de.scheme]=de,b[Oe.scheme]=Oe,b[$3.scheme]=$3,b[B3.scheme]=B3,b[I3.scheme]=I3,r.SCHEMES=b,r.pctEncChar=T,r.pctDecChars=j,r.parse=We,r.removeDotSegments=De,r.serialize=xe,r.resolveComponents=Z,r.resolve=le,r.normalize=ye,r.equal=x,r.escapeComponent=w,r.unescapeComponent=$,Object.defineProperty(r,"__esModule",{value:!0})})})(ZK,Dc);Object.defineProperty(HD,"__esModule",{value:!0});const U_=Dc;U_.code='require("ajv/dist/runtime/uri").default';HD.default=U_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Nn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=lt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Wc,u=zc,s=si,i=Jr,o=lt,a=Cr,c=Hc,l=Ft,f=XK,d=HD,p=(V,N)=>new RegExp(V,N);p.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},D={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function F(V){var N,A,C,E,_,R,b,T,j,q,X,ie,Ee,Be,Ve,We,He,ke,ce,me,Ce,De,xe,Z,le;const ye=V.strict,x=(N=V.code)===null||N===void 0?void 0:N.optimize,w=x===!0||x===void 0?1:x||0,$=(C=(A=V.code)===null||A===void 0?void 0:A.regExp)!==null&&C!==void 0?C:p,G=(E=V.uriResolver)!==null&&E!==void 0?E:d.default;return{strictSchema:(R=(_=V.strictSchema)!==null&&_!==void 0?_:ye)!==null&&R!==void 0?R:!0,strictNumbers:(T=(b=V.strictNumbers)!==null&&b!==void 0?b:ye)!==null&&T!==void 0?T:!0,strictTypes:(q=(j=V.strictTypes)!==null&&j!==void 0?j:ye)!==null&&q!==void 0?q:"log",strictTuples:(ie=(X=V.strictTuples)!==null&&X!==void 0?X:ye)!==null&&ie!==void 0?ie:"log",strictRequired:(Be=(Ee=V.strictRequired)!==null&&Ee!==void 0?Ee:ye)!==null&&Be!==void 0?Be:!1,code:V.code?{...V.code,optimize:w,regExp:$}:{optimize:w,regExp:$},loopRequired:(Ve=V.loopRequired)!==null&&Ve!==void 0?Ve:g,loopEnum:(We=V.loopEnum)!==null&&We!==void 0?We:g,meta:(He=V.meta)!==null&&He!==void 0?He:!0,messages:(ke=V.messages)!==null&&ke!==void 0?ke:!0,inlineRefs:(ce=V.inlineRefs)!==null&&ce!==void 0?ce:!0,schemaId:(me=V.schemaId)!==null&&me!==void 0?me:"$id",addUsedSchema:(Ce=V.addUsedSchema)!==null&&Ce!==void 0?Ce:!0,validateSchema:(De=V.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(xe=V.validateFormats)!==null&&xe!==void 0?xe:!0,unicodeRegExp:(Z=V.unicodeRegExp)!==null&&Z!==void 0?Z:!0,int32range:(le=V.int32range)!==null&&le!==void 0?le:!0,uriResolver:G}}class I{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...F(N)};const{es5:A,lines:C}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:v,es5:A,lines:C}),this.logger=U(N.logger);const E=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),k.call(this,S,N,"NOT SUPPORTED"),k.call(this,D,N,"DEPRECATED","warn"),this._metaOpts=P.call(this),N.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&y.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),O.call(this),N.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:A,schemaId:C}=this.opts;let E=f;C==="id"&&(E={...f},E.id=E.$id,delete E.$id),A&&N&&this.addMetaSchema(E,E[C],!1)}defaultMeta(){const{meta:N,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[A]||N:void 0}validate(N,A){let C;if(typeof N=="string"){if(C=this.getSchema(N),!C)throw new Error(`no schema with key or ref "${N}"`)}else C=this.compile(N);const E=C(A);return"$async"in C||(this.errors=C.errors),E}compile(N,A){const C=this._addSchema(N,A);return C.validate||this._compileSchemaEnv(C)}compileAsync(N,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return E.call(this,N,A);async function E(q,X){await _.call(this,q.$schema);const ie=this._addSchema(q,X);return ie.validate||R.call(this,ie)}async function _(q){q&&!this.getSchema(q)&&await E.call(this,{$ref:q},!0)}async function R(q){try{return this._compileSchemaEnv(q)}catch(X){if(!(X instanceof u.default))throw X;return b.call(this,X),await T.call(this,X.missingSchema),R.call(this,q)}}function b({missingSchema:q,missingRef:X}){if(this.refs[q])throw new Error(`AnySchema ${q} is loaded but ${X} cannot be resolved`)}async function T(q){const X=await j.call(this,q);this.refs[q]||await _.call(this,X.$schema),this.refs[q]||this.addSchema(X,q,A)}async function j(q){const X=this._loading[q];if(X)return X;try{return await(this._loading[q]=C(q))}finally{delete this._loading[q]}}}addSchema(N,A,C,E=this.opts.validateSchema){if(Array.isArray(N)){for(const R of N)this.addSchema(R,void 0,C,E);return this}let _;if(typeof N=="object"){const{schemaId:R}=this.opts;if(_=N[R],_!==void 0&&typeof _!="string")throw new Error(`schema ${R} must be string`)}return A=(0,a.normalizeId)(A||_),this._checkUnique(A),this.schemas[A]=this._addSchema(N,C,A,E,!0),this}addMetaSchema(N,A,C=this.opts.validateSchema){return this.addSchema(N,A,!0,C),this}validateSchema(N,A){if(typeof N=="boolean")return!0;let C;if(C=N.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(C,N);if(!E&&A){const _="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(_);else throw new Error(_)}return E}getSchema(N){let A;for(;typeof(A=B.call(this,N))=="string";)N=A;if(A===void 0){const{schemaId:C}=this.opts,E=new i.SchemaEnv({schema:{},schemaId:C});if(A=i.resolveSchema.call(this,E,N),!A)return;this.refs[N]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=B.call(this,N);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const A=N;this._cache.delete(A);let C=N[this.opts.schemaId];return C&&(C=(0,a.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const A of N)this.addKeyword(A);return this}addKeyword(N,A){let C;if(typeof N=="string")C=N,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=C);else if(typeof N=="object"&&A===void 0){if(A=N,C=A.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,C,A),!A)return(0,l.eachItem)(C,_=>se.call(this,_)),this;K.call(this,A);const E={...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)};return(0,l.eachItem)(C,E.type.length===0?_=>se.call(this,_,E):_=>E.type.forEach(R=>se.call(this,_,E,R))),this}getKeyword(N){const A=this.RULES.all[N];return typeof A=="object"?A.definition:!!A}removeKeyword(N){const{RULES:A}=this;delete A.keywords[N],delete A.all[N];for(const C of A.rules){const E=C.rules.findIndex(_=>_.keyword===N);E>=0&&C.rules.splice(E,1)}return this}addFormat(N,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[N]=A,this}errorsText(N=this.errors,{separator:A=", ",dataVar:C="data"}={}){return!N||N.length===0?"No errors":N.map(E=>`${C}${E.instancePath} ${E.message}`).reduce((E,_)=>E+A+_)}$dataMetaSchema(N,A){const C=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const E of A){const _=E.split("/").slice(1);let R=N;for(const b of _)R=R[b];for(const b in C){const T=C[b];if(typeof T!="object")continue;const{$data:j}=T.definition,q=R[b];j&&q&&(R[b]=te(q))}}return N}_removeAllSchemas(N,A){for(const C in N){const E=N[C];(!A||A.test(C))&&(typeof E=="string"?delete N[C]:E&&!E.meta&&(this._cache.delete(E.schema),delete N[C]))}}_addSchema(N,A,C,E=this.opts.validateSchema,_=this.opts.addUsedSchema){let R;const{schemaId:b}=this.opts;if(typeof N=="object")R=N[b];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let T=this._cache.get(N);if(T!==void 0)return T;C=(0,a.normalizeId)(R||C);const j=a.getSchemaRefs.call(this,N,C);return T=new i.SchemaEnv({schema:N,schemaId:b,meta:A,baseId:C,localRefs:j}),this._cache.set(T.schema,T),_&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=T),E&&this.validateSchema(N,!0),T}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):i.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const A=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,N)}finally{this.opts=A}}}t.default=I,I.ValidationError=n.default,I.MissingRefError=u.default;function k(V,N,A,C="error"){for(const E in V){const _=E;_ in N&&this.logger[C](`${A}: option ${E}. ${V[_]}`)}}function B(V){return V=(0,a.normalizeId)(V),this.schemas[V]||this.refs[V]}function O(){const V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(const N in V)this.addSchema(V[N],N)}function M(){for(const V in this.opts.formats){const N=this.opts.formats[V];N&&this.addFormat(V,N)}}function y(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in V){const A=V[N];A.keyword||(A.keyword=N),this.addKeyword(A)}}function P(){const V={...this.opts};for(const N of h)delete V[N];return V}const L={log(){},warn(){},error(){}};function U(V){if(V===!1)return L;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function H(V,N){const{RULES:A}=this;if((0,l.eachItem)(V,C=>{if(A.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!Y.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function se(V,N,A){var C;const E=N==null?void 0:N.post;if(A&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_}=this;let R=E?_.post:_.rules.find(({type:T})=>T===A);if(R||(R={type:A,rules:[]},_.rules.push(R)),_.keywords[V]=!0,!N)return;const b={keyword:V,definition:{...N,type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)}};N.before?fe.call(this,R,b,N.before):R.rules.push(b),_.all[V]=b,(C=N.implements)===null||C===void 0||C.forEach(T=>this.addKeyword(T))}function fe(V,N,A){const C=V.rules.findIndex(E=>E.keyword===A);C>=0?V.rules.splice(C,0,N):(V.rules.push(N),this.logger.warn(`rule ${A} is not defined`))}function K(V){let{metaSchema:N}=V;N!==void 0&&(V.$data&&this.opts.$data&&(N=te(N)),V.validateSchema=this.compile(N,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function te(V){return{anyOf:[V,z]}}})(A_);var WD={},zD={},QD={};Object.defineProperty(QD,"__esModule",{value:!0});const eJ={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};QD.default=eJ;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.callRef=ii.getValidate=void 0;const tJ=zc,wb=ot,Vr=lt,Si=Fu,Tb=Jr,$l=Ft,rJ={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:u,schemaEnv:s,validateName:i,opts:o,self:a}=n,{root:c}=s;if((r==="#"||r==="#/")&&u===c.baseId)return f();const l=Tb.resolveRef.call(a,c,u,r);if(l===void 0)throw new tJ.default(n.opts.uriResolver,u,r);if(l instanceof Tb.SchemaEnv)return d(l);return p(l);function f(){if(s===c)return Zl(t,i,s,s.$async);const h=e.scopeValue("root",{ref:c});return Zl(t,(0,Vr._)`${h}.validate`,c,c.$async)}function d(h){const v=K_(t,h);Zl(t,v,h,h.$async)}function p(h){const v=e.scopeValue("schema",o.code.source===!0?{ref:h,code:(0,Vr.stringify)(h)}:{ref:h}),S=e.name("valid"),D=t.subschema({schema:h,dataTypes:[],schemaPath:Vr.nil,topSchemaRef:v,errSchemaPath:r},S);t.mergeEvaluated(D),t.ok(S)}}};function K_(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Vr._)`${r.scopeValue("wrapper",{ref:e})}.validate`}ii.getValidate=K_;function Zl(t,e,r,n){const{gen:u,it:s}=t,{allErrors:i,schemaEnv:o,opts:a}=s,c=a.passContext?Si.default.this:Vr.nil;n?l():f();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");const h=u.let("valid");u.try(()=>{u.code((0,Vr._)`await ${(0,wb.callValidateCode)(t,e,c)}`),p(e),i||u.assign(h,!0)},v=>{u.if((0,Vr._)`!(${v} instanceof ${s.ValidationError})`,()=>u.throw(v)),d(v),i||u.assign(h,!1)}),t.ok(h)}function f(){t.result((0,wb.callValidateCode)(t,e,c),()=>p(e),()=>d(e))}function d(h){const v=(0,Vr._)`${h}.errors`;u.assign(Si.default.vErrors,(0,Vr._)`${Si.default.vErrors} === null ? ${v} : ${Si.default.vErrors}.concat(${v})`),u.assign(Si.default.errors,(0,Vr._)`${Si.default.vErrors}.length`)}function p(h){var v;if(!s.opts.unevaluated)return;const S=(v=r==null?void 0:r.validate)===null||v===void 0?void 0:v.evaluated;if(s.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(s.props=$l.mergeEvaluated.props(u,S.props,s.props));else{const D=u.var("props",(0,Vr._)`${h}.evaluated.props`);s.props=$l.mergeEvaluated.props(u,D,s.props,Vr.Name)}if(s.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(s.items=$l.mergeEvaluated.items(u,S.items,s.items));else{const D=u.var("items",(0,Vr._)`${h}.evaluated.items`);s.items=$l.mergeEvaluated.items(u,D,s.items,Vr.Name)}}}ii.callRef=Zl;ii.default=rJ;Object.defineProperty(zD,"__esModule",{value:!0});const nJ=QD,uJ=ii,sJ=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nJ.default,uJ.default];zD.default=sJ;var YD={},XD={};Object.defineProperty(XD,"__esModule",{value:!0});const ff=lt,zu=ff.operators,df={maximum:{okStr:"<=",ok:zu.LTE,fail:zu.GT},minimum:{okStr:">=",ok:zu.GTE,fail:zu.LT},exclusiveMaximum:{okStr:"<",ok:zu.LT,fail:zu.GTE},exclusiveMinimum:{okStr:">",ok:zu.GT,fail:zu.LTE}},iJ={message:({keyword:t,schemaCode:e})=>(0,ff.str)`must be ${df[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,ff._)`{comparison: ${df[t].okStr}, limit: ${e}}`},oJ={keyword:Object.keys(df),type:"number",schemaType:"number",$data:!0,error:iJ,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,ff._)`${r} ${df[e].fail} ${n} || isNaN(${r})`)}};XD.default=oJ;var ZD={};Object.defineProperty(ZD,"__esModule",{value:!0});const za=lt,aJ={message:({schemaCode:t})=>(0,za.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,za._)`{multipleOf: ${t}}`},cJ={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:aJ,code(t){const{gen:e,data:r,schemaCode:n,it:u}=t,s=u.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,za._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,za._)`${i} !== parseInt(${i})`;t.fail$data((0,za._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};ZD.default=cJ;var eE={},tE={};Object.defineProperty(tE,"__esModule",{value:!0});function J_(t){const e=t.length;let r=0,n=0,u;for(;n<e;)r++,u=t.charCodeAt(n++),u>=55296&&u<=56319&&n<e&&(u=t.charCodeAt(n),(u&64512)===56320&&n++);return r}tE.default=J_;J_.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(eE,"__esModule",{value:!0});const Vs=lt,lJ=Ft,fJ=tE,dJ={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Vs.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Vs._)`{limit: ${t}}`},pJ={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:dJ,code(t){const{keyword:e,data:r,schemaCode:n,it:u}=t,s=e==="maxLength"?Vs.operators.GT:Vs.operators.LT,i=u.opts.unicode===!1?(0,Vs._)`${r}.length`:(0,Vs._)`${(0,lJ.useFunc)(t.gen,fJ.default)}(${r})`;t.fail$data((0,Vs._)`${i} ${s} ${n}`)}};eE.default=pJ;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});const hJ=ot,pf=lt,mJ={message:({schemaCode:t})=>(0,pf.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,pf._)`{pattern: ${t}}`},DJ={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:mJ,code(t){const{data:e,$data:r,schema:n,schemaCode:u,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,pf._)`(new RegExp(${u}, ${i}))`:(0,hJ.usePattern)(t,n);t.fail$data((0,pf._)`!${o}.test(${e})`)}};rE.default=DJ;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});const Qa=lt,EJ={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Qa.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Qa._)`{limit: ${t}}`},yJ={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:EJ,code(t){const{keyword:e,data:r,schemaCode:n}=t,u=e==="maxProperties"?Qa.operators.GT:Qa.operators.LT;t.fail$data((0,Qa._)`Object.keys(${r}).length ${u} ${n}`)}};nE.default=yJ;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});const ga=ot,Ya=lt,vJ=Ft,gJ={message:({params:{missingProperty:t}})=>(0,Ya.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ya._)`{missingProperty: ${t}}`},AJ={keyword:"required",type:"object",schemaType:"array",$data:!0,error:gJ,code(t){const{gen:e,schema:r,schemaCode:n,data:u,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const a=r.length>=o.loopRequired;if(i.allErrors?c():l(),o.strictRequired){const p=t.parentSchema.properties,{definedProperties:h}=t.it;for(const v of r)if((p==null?void 0:p[v])===void 0&&!h.has(v)){const S=i.schemaEnv.baseId+i.errSchemaPath,D=`required property "${v}" is not defined at "${S}" (strictRequired)`;(0,vJ.checkStrictMode)(i,D,i.opts.strictRequired)}}function c(){if(a||s)t.block$data(Ya.nil,f);else for(const p of r)(0,ga.checkReportMissingProp)(t,p)}function l(){const p=e.let("missing");if(a||s){const h=e.let("valid",!0);t.block$data(h,()=>d(p,h)),t.ok(h)}else e.if((0,ga.checkMissingProp)(t,r,p)),(0,ga.reportMissingProp)(t,p),e.else()}function f(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,ga.noPropertyInData)(e,u,p,o.ownProperties),()=>t.error())})}function d(p,h){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(h,(0,ga.propertyInData)(e,u,p,o.ownProperties)),e.if((0,Ya.not)(h),()=>{t.error(),e.break()})},Ya.nil)}}};uE.default=AJ;var sE={};Object.defineProperty(sE,"__esModule",{value:!0});const Xa=lt,SJ={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Xa.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Xa._)`{limit: ${t}}`},FJ={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:SJ,code(t){const{keyword:e,data:r,schemaCode:n}=t,u=e==="maxItems"?Xa.operators.GT:Xa.operators.LT;t.fail$data((0,Xa._)`${r}.length ${u} ${n}`)}};sE.default=FJ;var iE={},Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});const H_=l0;H_.code='require("ajv/dist/runtime/equal").default';Qc.default=H_;Object.defineProperty(iE,"__esModule",{value:!0});const Gh=Hc,Sr=lt,bJ=Ft,CJ=Qc,_J={message:({params:{i:t,j:e}})=>(0,Sr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Sr._)`{i: ${t}, j: ${e}}`},wJ={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:_J,code(t){const{gen:e,data:r,$data:n,schema:u,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!u)return;const a=e.let("valid"),c=s.items?(0,Gh.getSchemaTypes)(s.items):[];t.block$data(a,l,(0,Sr._)`${i} === false`),t.ok(a);function l(){const h=e.let("i",(0,Sr._)`${r}.length`),v=e.let("j");t.setParams({i:h,j:v}),e.assign(a,!0),e.if((0,Sr._)`${h} > 1`,()=>(f()?d:p)(h,v))}function f(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function d(h,v){const S=e.name("item"),D=(0,Gh.checkDataTypes)(c,S,o.opts.strictNumbers,Gh.DataType.Wrong),g=e.const("indices",(0,Sr._)`{}`);e.for((0,Sr._)`;${h}--;`,()=>{e.let(S,(0,Sr._)`${r}[${h}]`),e.if(D,(0,Sr._)`continue`),c.length>1&&e.if((0,Sr._)`typeof ${S} == "string"`,(0,Sr._)`${S} += "_"`),e.if((0,Sr._)`typeof ${g}[${S}] == "number"`,()=>{e.assign(v,(0,Sr._)`${g}[${S}]`),t.error(),e.assign(a,!1).break()}).code((0,Sr._)`${g}[${S}] = ${h}`)})}function p(h,v){const S=(0,bJ.useFunc)(e,CJ.default),D=e.name("outer");e.label(D).for((0,Sr._)`;${h}--;`,()=>e.for((0,Sr._)`${v} = ${h}; ${v}--;`,()=>e.if((0,Sr._)`${S}(${r}[${h}], ${r}[${v}])`,()=>{t.error(),e.assign(a,!1).break(D)})))}}};iE.default=wJ;var oE={};Object.defineProperty(oE,"__esModule",{value:!0});const Q2=lt,TJ=Ft,$J=Qc,BJ={message:"must be equal to constant",params:({schemaCode:t})=>(0,Q2._)`{allowedValue: ${t}}`},IJ={keyword:"const",$data:!0,error:BJ,code(t){const{gen:e,data:r,$data:n,schemaCode:u,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Q2._)`!${(0,TJ.useFunc)(e,$J.default)}(${r}, ${u})`):t.fail((0,Q2._)`${s} !== ${r}`)}};oE.default=IJ;var aE={};Object.defineProperty(aE,"__esModule",{value:!0});const Ia=lt,PJ=Ft,kJ=Qc,OJ={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Ia._)`{allowedValues: ${t}}`},NJ={keyword:"enum",schemaType:"array",$data:!0,error:OJ,code(t){const{gen:e,data:r,$data:n,schema:u,schemaCode:s,it:i}=t;if(!n&&u.length===0)throw new Error("enum must have non-empty array");const o=u.length>=i.opts.loopEnum;let a;const c=()=>a??(a=(0,PJ.useFunc)(e,kJ.default));let l;if(o||n)l=e.let("valid"),t.block$data(l,f);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const p=e.const("vSchema",s);l=(0,Ia.or)(...u.map((h,v)=>d(p,v)))}t.pass(l);function f(){e.assign(l,!1),e.forOf("v",s,p=>e.if((0,Ia._)`${c()}(${r}, ${p})`,()=>e.assign(l,!0).break()))}function d(p,h){const v=u[h];return typeof v=="object"&&v!==null?(0,Ia._)`${c()}(${r}, ${p}[${h}])`:(0,Ia._)`${r} === ${v}`}}};aE.default=NJ;Object.defineProperty(YD,"__esModule",{value:!0});const RJ=XD,qJ=ZD,xJ=eE,MJ=rE,jJ=nE,LJ=uE,GJ=sE,VJ=iE,UJ=oE,KJ=aE,JJ=[RJ.default,qJ.default,xJ.default,MJ.default,jJ.default,LJ.default,GJ.default,VJ.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},UJ.default,KJ.default];YD.default=JJ;var cE={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.validateAdditionalItems=void 0;const Us=lt,Y2=Ft,HJ={message:({params:{len:t}})=>(0,Us.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Us._)`{limit: ${t}}`},WJ={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:HJ,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Y2.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}W_(t,n)}};function W_(t,e){const{gen:r,schema:n,data:u,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,Us._)`${u}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Us._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,Y2.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,Us._)`${o} <= ${e.length}`);r.if((0,Us.not)(c),()=>a(c)),t.ok(c)}function a(c){r.forRange("i",e.length,o,l=>{t.subschema({keyword:s,dataProp:l,dataPropType:Y2.Type.Num},c),i.allErrors||r.if((0,Us.not)(c),()=>r.break())})}}Fo.validateAdditionalItems=W_;Fo.default=WJ;var lE={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.validateTuple=void 0;const $b=lt,e1=Ft,zJ=ot,QJ={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return z_(t,"additionalItems",e);r.items=!0,!(0,e1.alwaysValidSchema)(r,e)&&t.ok((0,zJ.validateArray)(t))}};function z_(t,e,r=t.schema){const{gen:n,parentSchema:u,data:s,keyword:i,it:o}=t;l(u),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=e1.mergeEvaluated.items(n,r.length,o.items));const a=n.name("valid"),c=n.const("len",(0,$b._)`${s}.length`);r.forEach((f,d)=>{(0,e1.alwaysValidSchema)(o,f)||(n.if((0,$b._)`${c} > ${d}`,()=>t.subschema({keyword:i,schemaProp:d,dataProp:d},a)),t.ok(a))});function l(f){const{opts:d,errSchemaPath:p}=o,h=r.length,v=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(d.strictTuples&&!v){const S=`"${i}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,e1.checkStrictMode)(o,S,d.strictTuples)}}}bo.validateTuple=z_;bo.default=QJ;Object.defineProperty(lE,"__esModule",{value:!0});const YJ=bo,XJ={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,YJ.validateTuple)(t,"items")};lE.default=XJ;var fE={};Object.defineProperty(fE,"__esModule",{value:!0});const Bb=lt,ZJ=Ft,eH=ot,tH=Fo,rH={message:({params:{len:t}})=>(0,Bb.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Bb._)`{limit: ${t}}`},nH={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:rH,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:u}=r;n.items=!0,!(0,ZJ.alwaysValidSchema)(n,e)&&(u?(0,tH.validateAdditionalItems)(t,u):t.ok((0,eH.validateArray)(t)))}};fE.default=nH;var dE={};Object.defineProperty(dE,"__esModule",{value:!0});const pn=lt,Bl=Ft,uH={message:({params:{min:t,max:e}})=>e===void 0?(0,pn.str)`must contain at least ${t} valid item(s)`:(0,pn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,pn._)`{minContains: ${t}}`:(0,pn._)`{minContains: ${t}, maxContains: ${e}}`},sH={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:uH,code(t){const{gen:e,schema:r,parentSchema:n,data:u,it:s}=t;let i,o;const{minContains:a,maxContains:c}=n;s.opts.next?(i=a===void 0?1:a,o=c):i=1;const l=e.const("len",(0,pn._)`${u}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,Bl.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Bl.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Bl.alwaysValidSchema)(s,r)){let v=(0,pn._)`${l} >= ${i}`;o!==void 0&&(v=(0,pn._)`${v} && ${l} <= ${o}`),t.pass(v);return}s.items=!0;const f=e.name("valid");o===void 0&&i===1?p(f,()=>e.if(f,()=>e.break())):i===0?(e.let(f,!0),o!==void 0&&e.if((0,pn._)`${u}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const v=e.name("_valid"),S=e.let("count",0);p(v,()=>e.if(v,()=>h(S)))}function p(v,S){e.forRange("i",0,l,D=>{t.subschema({keyword:"contains",dataProp:D,dataPropType:Bl.Type.Num,compositeRule:!0},v),S()})}function h(v){e.code((0,pn._)`${v}++`),o===void 0?e.if((0,pn._)`${v} >= ${i}`,()=>e.assign(f,!0).break()):(e.if((0,pn._)`${v} > ${o}`,()=>e.assign(f,!1).break()),i===1?e.assign(f,!0):e.if((0,pn._)`${v} >= ${i}`,()=>e.assign(f,!0)))}}};dE.default=sH;var Q_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=lt,r=Ft,n=ot;t.error={message:({params:{property:a,depsCount:c,deps:l}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${l} when property ${a} is present`},params:({params:{property:a,depsCount:c,deps:l,missingProperty:f}})=>(0,e._)`{property: ${a},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${l}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(a){const[c,l]=s(a);i(a,c),o(a,l)}};function s({schema:a}){const c={},l={};for(const f in a){if(f==="__proto__")continue;const d=Array.isArray(a[f])?c:l;d[f]=a[f]}return[c,l]}function i(a,c=a.schema){const{gen:l,data:f,it:d}=a;if(Object.keys(c).length===0)return;const p=l.let("missing");for(const h in c){const v=c[h];if(v.length===0)continue;const S=(0,n.propertyInData)(l,f,h,d.opts.ownProperties);a.setParams({property:h,depsCount:v.length,deps:v.join(", ")}),d.allErrors?l.if(S,()=>{for(const D of v)(0,n.checkReportMissingProp)(a,D)}):(l.if((0,e._)`${S} && (${(0,n.checkMissingProp)(a,v,p)})`),(0,n.reportMissingProp)(a,p),l.else())}}t.validatePropertyDeps=i;function o(a,c=a.schema){const{gen:l,data:f,keyword:d,it:p}=a,h=l.name("valid");for(const v in c)(0,r.alwaysValidSchema)(p,c[v])||(l.if((0,n.propertyInData)(l,f,v,p.opts.ownProperties),()=>{const S=a.subschema({keyword:d,schemaProp:v},h);a.mergeValidEvaluated(S,h)},()=>l.var(h,!0)),a.ok(h))}t.validateSchemaDeps=o,t.default=u})(Q_);var pE={};Object.defineProperty(pE,"__esModule",{value:!0});const Y_=lt,iH=Ft,oH={message:"property name must be valid",params:({params:t})=>(0,Y_._)`{propertyName: ${t.propertyName}}`},aH={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:oH,code(t){const{gen:e,schema:r,data:n,it:u}=t;if((0,iH.alwaysValidSchema)(u,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,Y_.not)(s),()=>{t.error(!0),u.allErrors||e.break()})}),t.ok(s)}};pE.default=aH;var p0={};Object.defineProperty(p0,"__esModule",{value:!0});const Il=ot,Tn=lt,cH=Fu,Pl=Ft,lH={message:"must NOT have additional properties",params:({params:t})=>(0,Tn._)`{additionalProperty: ${t.additionalProperty}}`},fH={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:lH,code(t){const{gen:e,schema:r,parentSchema:n,data:u,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:a}=i;if(i.props=!0,a.removeAdditional!=="all"&&(0,Pl.alwaysValidSchema)(i,r))return;const c=(0,Il.allSchemaProperties)(n.properties),l=(0,Il.allSchemaProperties)(n.patternProperties);f(),t.ok((0,Tn._)`${s} === ${cH.default.errors}`);function f(){e.forIn("key",u,S=>{!c.length&&!l.length?h(S):e.if(d(S),()=>h(S))})}function d(S){let D;if(c.length>8){const g=(0,Pl.schemaRefOrVal)(i,n.properties,"properties");D=(0,Il.isOwnProperty)(e,g,S)}else c.length?D=(0,Tn.or)(...c.map(g=>(0,Tn._)`${S} === ${g}`)):D=Tn.nil;return l.length&&(D=(0,Tn.or)(D,...l.map(g=>(0,Tn._)`${(0,Il.usePattern)(t,g)}.test(${S})`))),(0,Tn.not)(D)}function p(S){e.code((0,Tn._)`delete ${u}[${S}]`)}function h(S){if(a.removeAdditional==="all"||a.removeAdditional&&r===!1){p(S);return}if(r===!1){t.setParams({additionalProperty:S}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,Pl.alwaysValidSchema)(i,r)){const D=e.name("valid");a.removeAdditional==="failing"?(v(S,D,!1),e.if((0,Tn.not)(D),()=>{t.reset(),p(S)})):(v(S,D),o||e.if((0,Tn.not)(D),()=>e.break()))}}function v(S,D,g){const F={keyword:"additionalProperties",dataProp:S,dataPropType:Pl.Type.Str};g===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(F,D)}}};p0.default=fH;var hE={};Object.defineProperty(hE,"__esModule",{value:!0});const dH=Nn,Ib=ot,Vh=Ft,Pb=p0,pH={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:u,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Pb.default.code(new dH.KeywordCxt(s,Pb.default,"additionalProperties"));const i=(0,Ib.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Vh.mergeEvaluated.props(e,(0,Vh.toHash)(i),s.props));const o=i.filter(f=>!(0,Vh.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const a=e.name("valid");for(const f of o)c(f)?l(f):(e.if((0,Ib.propertyInData)(e,u,f,s.opts.ownProperties)),l(f),s.allErrors||e.else().var(a,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(a);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function l(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},a)}}};hE.default=pH;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});const kb=ot,kl=lt,Ob=Ft,Nb=Ft,hH={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:u,it:s}=t,{opts:i}=s,o=(0,kb.allSchemaProperties)(r),a=o.filter(v=>(0,Ob.alwaysValidSchema)(s,r[v]));if(o.length===0||a.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&u.properties,l=e.name("valid");s.props!==!0&&!(s.props instanceof kl.Name)&&(s.props=(0,Nb.evaluatedPropsToName)(e,s.props));const{props:f}=s;d();function d(){for(const v of o)c&&p(v),s.allErrors?h(v):(e.var(l,!0),h(v),e.if(l))}function p(v){for(const S in c)new RegExp(v).test(S)&&(0,Ob.checkStrictMode)(s,`property ${S} matches pattern ${v} (use allowMatchingProperties)`)}function h(v){e.forIn("key",n,S=>{e.if((0,kl._)`${(0,kb.usePattern)(t,v)}.test(${S})`,()=>{const D=a.includes(v);D||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:S,dataPropType:Nb.Type.Str},l),s.opts.unevaluated&&f!==!0?e.assign((0,kl._)`${f}[${S}]`,!0):!D&&!s.allErrors&&e.if((0,kl.not)(l),()=>e.break())})})}}};mE.default=hH;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});const mH=Ft,DH={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,mH.alwaysValidSchema)(n,r)){t.fail();return}const u=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),t.failResult(u,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};DE.default=DH;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});const EH=ot,yH={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:EH.validateUnion,error:{message:"must match a schema in anyOf"}};EE.default=yH;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});const t1=lt,vH=Ft,gH={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,t1._)`{passingSchemas: ${t.passing}}`},AH={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:gH,code(t){const{gen:e,schema:r,parentSchema:n,it:u}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(u.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),a=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((l,f)=>{let d;(0,vH.alwaysValidSchema)(u,l)?e.var(a,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},a),f>0&&e.if((0,t1._)`${a} && ${i}`).assign(i,!1).assign(o,(0,t1._)`[${o}, ${f}]`).else(),e.if(a,()=>{e.assign(i,!0),e.assign(o,f),d&&t.mergeEvaluated(d,t1.Name)})})}}};yE.default=AH;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});const SH=Ft,FH={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const u=e.name("valid");r.forEach((s,i)=>{if((0,SH.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},u);t.ok(u),t.mergeEvaluated(o)})}};vE.default=FH;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});const hf=lt,X_=Ft,bH={message:({params:t})=>(0,hf.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,hf._)`{failingKeyword: ${t.ifClause}}`},CH={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:bH,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,X_.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const u=Rb(n,"then"),s=Rb(n,"else");if(!u&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(a(),t.reset(),u&&s){const l=e.let("ifClause");t.setParams({ifClause:l}),e.if(o,c("then",l),c("else",l))}else u?e.if(o,c("then")):e.if((0,hf.not)(o),c("else"));t.pass(i,()=>t.error(!0));function a(){const l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(l)}function c(l,f){return()=>{const d=t.subschema({keyword:l},o);e.assign(i,o),t.mergeValidEvaluated(d,i),f?e.assign(f,(0,hf._)`${l}`):t.setParams({ifClause:l})}}}};function Rb(t,e){const r=t.schema[e];return r!==void 0&&!(0,X_.alwaysValidSchema)(t,r)}gE.default=CH;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});const _H=Ft,wH={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,_H.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};AE.default=wH;Object.defineProperty(cE,"__esModule",{value:!0});const TH=Fo,$H=lE,BH=bo,IH=fE,PH=dE,kH=Q_,OH=pE,NH=p0,RH=hE,qH=mE,xH=DE,MH=EE,jH=yE,LH=vE,GH=gE,VH=AE;function UH(t=!1){const e=[xH.default,MH.default,jH.default,LH.default,GH.default,VH.default,OH.default,NH.default,kH.default,RH.default,qH.default];return t?e.push($H.default,IH.default):e.push(TH.default,BH.default),e.push(PH.default),e}cE.default=UH;var SE={},FE={};Object.defineProperty(FE,"__esModule",{value:!0});const er=lt,KH={message:({schemaCode:t})=>(0,er.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,er._)`{format: ${t}}`},JH={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:KH,code(t,e){const{gen:r,data:n,$data:u,schema:s,schemaCode:i,it:o}=t,{opts:a,errSchemaPath:c,schemaEnv:l,self:f}=o;if(!a.validateFormats)return;u?d():p();function d(){const h=r.scopeValue("formats",{ref:f.formats,code:a.code.formats}),v=r.const("fDef",(0,er._)`${h}[${i}]`),S=r.let("fType"),D=r.let("format");r.if((0,er._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>r.assign(S,(0,er._)`${v}.type || "string"`).assign(D,(0,er._)`${v}.validate`),()=>r.assign(S,(0,er._)`"string"`).assign(D,v)),t.fail$data((0,er.or)(g(),F()));function g(){return a.strictSchema===!1?er.nil:(0,er._)`${i} && !${D}`}function F(){const I=l.$async?(0,er._)`(${v}.async ? await ${D}(${n}) : ${D}(${n}))`:(0,er._)`${D}(${n})`,k=(0,er._)`(typeof ${D} == "function" ? ${I} : ${D}.test(${n}))`;return(0,er._)`${D} && ${D} !== true && ${S} === ${e} && !${k}`}}function p(){const h=f.formats[s];if(!h){g();return}if(h===!0)return;const[v,S,D]=F(h);v===e&&t.pass(I());function g(){if(a.strictSchema===!1){f.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function F(k){const B=k instanceof RegExp?(0,er.regexpCode)(k):a.code.formats?(0,er._)`${a.code.formats}${(0,er.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:k,code:B});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,er._)`${O}.validate`]:["string",k,O]}function I(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,er._)`await ${D}(${n})`}return typeof S=="function"?(0,er._)`${D}(${n})`:(0,er._)`${D}.test(${n})`}}}};FE.default=JH;Object.defineProperty(SE,"__esModule",{value:!0});const HH=FE,WH=[HH.default];SE.default=WH;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.contentVocabulary=io.metadataVocabulary=void 0;io.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];io.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(WD,"__esModule",{value:!0});const zH=zD,QH=YD,YH=cE,XH=SE,qb=io,ZH=[zH.default,QH.default,(0,YH.default)(),XH.default,qb.metadataVocabulary,qb.contentVocabulary];WD.default=ZH;var bE={},Z_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Z_);Object.defineProperty(bE,"__esModule",{value:!0});const Li=lt,X2=Z_,xb=Jr,eW=Ft,tW={message:({params:{discrError:t,tagName:e}})=>t===X2.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Li._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},rW={keyword:"discriminator",type:"object",schemaType:"object",error:tW,code(t){const{gen:e,data:r,schema:n,parentSchema:u,it:s}=t,{oneOf:i}=u;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const a=e.let("valid",!1),c=e.const("tag",(0,Li._)`${r}${(0,Li.getProperty)(o)}`);e.if((0,Li._)`typeof ${c} == "string"`,()=>l(),()=>t.error(!1,{discrError:X2.DiscrError.Tag,tag:c,tagName:o})),t.ok(a);function l(){const p=d();e.if(!1);for(const h in p)e.elseIf((0,Li._)`${c} === ${h}`),e.assign(a,f(p[h]));e.else(),t.error(!1,{discrError:X2.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function f(p){const h=e.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(v,Li.Name),h}function d(){var p;const h={},v=D(u);let S=!0;for(let I=0;I<i.length;I++){let k=i[I];k!=null&&k.$ref&&!(0,eW.schemaHasRulesButRef)(k,s.self.RULES)&&(k=xb.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,k==null?void 0:k.$ref),k instanceof xb.SchemaEnv&&(k=k.schema));const B=(p=k==null?void 0:k.properties)===null||p===void 0?void 0:p[o];if(typeof B!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);S=S&&(v||D(k)),g(B,I)}if(!S)throw new Error(`discriminator: "${o}" must be required`);return h;function D({required:I}){return Array.isArray(I)&&I.includes(o)}function g(I,k){if(I.const)F(I.const,k);else if(I.enum)for(const B of I.enum)F(B,k);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function F(I,k){if(typeof I!="string"||I in h)throw new Error(`discriminator: "${o}" values must be unique strings`);h[I]=k}}}};bE.default=rW;const nW="http://json-schema.org/draft-07/schema#",uW="http://json-schema.org/draft-07/schema#",sW="Core schema meta-schema",iW={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},oW=["object","boolean"],aW={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},cW={$schema:nW,$id:uW,title:sW,definitions:iW,type:oW,properties:aW,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=A_,n=WD,u=bE,s=cW,i=["/properties"],o="http://json-schema.org/draft-07/schema";class a extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(h,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var c=Nn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=lt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=Wc;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=zc;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(vU,cf);const lW="Root",fW="object",dW="Root Element",pW={base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},hW={id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},mW=["id","enums","docs","tags"],DW=!1,EW={title:lW,type:fW,description:dW,definitions:pW,properties:hW,required:mW,additionalProperties:DW},yW="version 0.1.0",vW="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",gW="Document (Structure)",AW="A document, typically corresponding to a single USFM or USX book",SW="object",FW={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},bW=["schema","metadata"],CW=!1,_W={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},wW={$comment:yW,$id:vW,title:gW,description:AW,type:SW,properties:FW,required:bW,additionalProperties:CW,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:_W,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},TW="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",$W="Sequence (Structure)",BW="A sequence contains a 'flow' of one or more blocks",IW="object",PW={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},kW=["type"],OW=!1,NW={$id:TW,title:$W,description:BW,type:IW,properties:PW,required:kW,additionalProperties:OW},RW="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",qW="Block (Structure)",xW="A block, which represents either a paragraph of text or a graft",MW="object",jW={type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},LW=["type"],GW=!1,VW={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},UW={$id:RW,title:qW,description:xW,type:MW,properties:jW,required:LW,additionalProperties:GW,if:{properties:{type:{enum:["paragraph"]}}},then:VW,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},KW="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",JW="Content Element (Structure)",HW="A content element, ie some form of (possibly nested) markup",WW="object",zW={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},QW=["type"],YW=!1,XW={$id:KW,title:JW,description:HW,type:WW,properties:zW,required:QW,additionalProperties:YW},ZW="version 0.2.0",ez="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",tz="object",rz={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},nz={$comment:ZW,$id:ez,type:tz,properties:rz},uz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",sz="object",iz={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},oz={$id:uz,type:sz,properties:iz},az="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",cz="object",lz={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},fz={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},dz={$id:az,type:cz,properties:lz,if:{properties:{type:{enum:["graft"]}}},then:fz,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},pz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",hz="object",mz=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],Dz={$id:pz,type:hz,allOf:mz},Ez="version 0.2.0",yz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",vz="object",gz={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}},Az={$comment:Ez,$id:yz,type:vz,properties:gz},Sz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",Fz="object",bz={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},Cz={$id:Sz,type:Fz,properties:bz},_z="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",wz="object",Tz={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},$z={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Bz={$id:_z,type:wz,properties:Tz,if:{properties:{type:{enum:["graft"]}}},then:$z,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Iz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",Pz="object",kz=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],Oz={$id:Iz,type:Pz,allOf:kz},Nz="version 0.1.0",Rz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",qz="Document (Structure)",xz="A document, typically corresponding to a single USFM or USX book",Mz="object",jz={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},Lz=["schema","metadata"],Gz=!1,Vz={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},Uz={$comment:Nz,$id:Rz,title:qz,description:xz,type:Mz,properties:jz,required:Lz,additionalProperties:Gz,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:Vz,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},Kz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",Jz="Sequence (Structure)",Hz="A sequence contains a 'flow' of one or more blocks",Wz="object",zz={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},Qz=["type"],Yz=!1,Xz={$id:Kz,title:Jz,description:Hz,type:Wz,properties:zz,required:Qz,additionalProperties:Yz},Zz="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",eQ="Block (Structure)",tQ="A block, which represents either a paragraph of text or a graft",rQ="object",nQ={type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},uQ=["type"],sQ=!1,iQ={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},oQ={$id:Zz,title:eQ,description:tQ,type:rQ,properties:nQ,required:uQ,additionalProperties:sQ,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:iQ,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},aQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",cQ="Content Element (Structure)",lQ="A content element, ie some form of (possibly nested) markup",fQ="object",dQ={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},pQ=["type"],hQ=!1,mQ={$id:aQ,title:cQ,description:lQ,type:fQ,properties:dQ,required:pQ,additionalProperties:hQ},DQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",EQ="Hook (Structure)",yQ="Hooks, ie typed labels that may be used to link documents",vQ="array",gQ={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},AQ={$id:DQ,title:EQ,description:yQ,type:vQ,items:gQ},SQ="version 0.3.0",FQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",bQ="object",CQ={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},_Q={$comment:SQ,$id:FQ,type:bQ,properties:CQ},wQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",TQ="object",$Q={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},BQ={$id:wQ,type:TQ,properties:$Q},IQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",PQ="object",kQ={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},OQ={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},NQ={$id:IQ,type:PQ,properties:kQ,if:{properties:{type:{enum:["graft"]}}},then:OQ,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},RQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",qQ="object",xQ=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],MQ={$id:RQ,type:qQ,allOf:xQ},jQ="version 0.3.0",LQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",GQ="object",VQ={sequence:{$ref:"./sofria_sequence_constraint.json"}},UQ={$comment:jQ,$id:LQ,type:GQ,properties:VQ},KQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",JQ="object",HQ={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},WQ={$id:KQ,type:JQ,properties:HQ},zQ="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",QQ="object",YQ={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},XQ={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},ZQ={$id:zQ,type:QQ,properties:YQ,if:{properties:{type:{enum:["graft"]}}},then:XQ,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},eY="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",tY="object",rY=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],nY={$id:eY,type:tY,allOf:rY};var Xt=cf,uY=EW,Uh=wW,Fi=NW,bi=UW,Ci=XW,sY=nz,Mb=oz,jb=dz,Lb=Dz,iY=Az,Gb=Cz,Vb=Bz,Ub=Oz,Kh=Uz,_i=Xz,wi=oQ,Ti=mQ,Yn=AQ,oY=_Q,Kb=BQ,Jb=NQ,Hb=MQ,aY=UQ,Wb=WQ,zb=ZQ,Qb=nY;let cY=class{constructor(){this.schema={structure:{},constraint:{},proskomma:{}};for(var[e,r]of[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:new Xt().compile(uY)}]}]])this.schema.proskomma[e]=r;for(var[n,u]of[["document",{"0.2.1":[{name:"Document Structure",validator:new Xt().addSchema(Ci).addSchema(bi).addSchema(Fi).compile(Uh)}],"0.3.0":[{name:"Document Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).addSchema(_i).compile(Kh)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:new Xt().addSchema(Ci).addSchema(bi).compile(Fi)}],"0.3.0":[{name:"Sequence Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).compile(_i)}]}]])this.schema.structure[n]=u;for(var[s,i]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:new Xt().addSchema(Ci).addSchema(bi).addSchema(Fi).compile(Uh)},{name:"PERF Document",validator:new Xt().addSchema(Lb).addSchema(jb).addSchema(Mb).compile(sY)}],"0.3.0":[{name:"Document Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).addSchema(_i).compile(Kh)},{name:"PERF Document",validator:new Xt().addSchema(Yn).addSchema(Hb).addSchema(Jb).addSchema(Kb).compile(oY)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Xt().addSchema(Ci).addSchema(bi).compile(Fi)},{name:"PERF Sequence",validator:new Xt().addSchema(Lb).addSchema(jb).compile(Mb)}],"0.3.0":[{name:"Sequence Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).compile(_i)},{name:"PERF Sequence",validator:new Xt().addSchema(Yn).addSchema(Hb).addSchema(Jb).compile(Kb)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:new Xt().addSchema(Ci).addSchema(bi).addSchema(Fi).compile(Uh)},{name:"SOFRIA Document",validator:new Xt().addSchema(Ub).addSchema(Vb).addSchema(Gb).compile(iY)}],"0.3.0":[{name:"Document Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).addSchema(_i).compile(Kh)},{name:"SOFRIA Document",validator:new Xt().addSchema(Yn).addSchema(Qb).addSchema(zb).addSchema(Wb).compile(aY)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Xt().addSchema(Ci).addSchema(bi).compile(Fi)},{name:"SOFRIA Sequence",validator:new Xt().addSchema(Ub).addSchema(Vb).compile(Gb)}],"0.3.0":[{name:"Sequence Structure",validator:new Xt().addSchema(Yn).addSchema(Ti).addSchema(wi).compile(_i)},{name:"SOFRIA Sequence",validator:new Xt().addSchema(Yn).addSchema(Qb).addSchema(zb).compile(Wb)}]}]])this.schema.constraint[s]=i}schemaInfo(){var e={};for(var[r,n]of Object.entries(this.schema)){e[r]={};for(var[u,s]of Object.entries(n)){e[r][u]={};for(var[i,o]of Object.entries(s))e[r][u][i]=o.map(a=>a.name)}}return e}validate(e,r,n,u){if(u===void 0)throw new Error("data argument is missing. Usage: validate(schemaType, schemaKey, schemaVersion, data)");if(u===null)throw new Error("Data argument is null");var s=Object.keys(this.schema);if(!s.includes(e))throw new Error("Schema type must be one of ".concat(s.map(l=>"'".concat(l,"'")).join(", "),", not '").concat(e,"'"));if(!this.schema[e][r])throw new Error("Unknown ".concat(e," schema key ").concat(r));if(!this.schema[e][r][n])throw new Error("Unknown version ".concat(n," for ").concat(e," schema key ").concat(r));var i=this.schema[e][r][n],o;for(var{name:a,validator:c}of i)if(o={validatorName:a,isValid:c(u),errors:c.errors},!o.isValid)break;return{requested:{schemaType:e,schemaKey:r,schemaVersion:n},lastSchema:o.validatorName,isValid:o.isValid,errors:o.errors}}};var lY=cY,fY=["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],dY=["ms","mr","s","sr","r","qa","sp","sd"],pY=["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],hY=["imt","is","imte"],mY=["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"],DY={characterTags:fY,bodyTags:pY,headingTags:dY,introHeadingTags:hY,introBodyTags:mY},Yb=EY(Bt);function EY(t){return t&&t.__esModule?t:{default:t}}var yY={startDocument:[{description:"Set up storage",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;e.verseContent=[],e.chapter=null,e.verses=null,r.cv={}}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n}=t,{element:u}=e.sequences[0];u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,n.cv[r.chapter]={},n.cv[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,n.cv[r.chapter][r.verses]={})}}],text:[{description:"Log occurrences",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n}=t,{chapter:u,verses:s}=r,{text:i}=e.sequences[0].element,o=(0,Yb.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),a=Yb.default.match(i,o,"all");for(var c of a){var l,f;(f=(l=n.cv[u][s])[c])!==null&&f!==void 0||(l[c]=0),n.cv[u][s][c]+=1}}}]},e9={verseWordsActions:yY},Xb=vY(Bt);function vY(t){return t&&t.__esModule?t:{default:t}}function Zb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function Ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zb(Object(r),!0).forEach(function(n){gY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gY(t,e,r){return e=AY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AY(t){var e=SY(t,"string");return typeof e=="symbol"?e:String(e)}function SY(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FY={startDocument:[{description:"Set up",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;return e.chapter=null,e.verses=null,e.lastWord="",e.waitingMarkup=[],e.currentOccurrences={},e.PendingStartMilestones=[],r.stripped={},r.unalignedWords={},!0}}],startMilestone:[{description:"Ignore zaln startMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n),r.PendingStartMilestones.push(n)}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:zaln"},action:t=>{var{context:e,workspace:r,output:n,config:u}=t,{chapter:s,verses:i,lastWord:o}=r,{verseWords:a}=u,c=["after",o,r.currentOccurrences[o],a[s][i][o]].join("--"),l=Ol({},e.sequences[0].element);l.subtype=l.subType,delete l.subType;var f={chapter:s,verses:i,occurrence:r.currentOccurrences[o],occurrences:a[s][i][o],position:"after",word:o,payload:l,startMilestone:r.PendingStartMilestones.shift()};return n.stripped[r.chapter][r.verses][c]?n.stripped[r.chapter][r.verses][c].push(f):n.stripped[r.chapter][r.verses][c]=[f],!1}}],startWrapper:[{description:"Ignore w startWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{var{context:e,workspace:r}=t,n=Ol({},e.sequences[0].element);n.subtype=n.subType,delete n.subType,r.waitingMarkup.push(n)}}],endWrapper:[{description:"Ignore w endWrapper events",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="usfm:w"},action:t=>{}}],text:[{description:"Log occurrences",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n,config:u}=t;try{var s=e.sequences[0];if(s.type!=="main")return!0;var i=s.element.text,o=(0,Xb.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),a=Xb.default.match(i,o,"all"),{chapter:c,verses:l}=r,{verseWords:f}=u;for(var d of a){var p,h;if((h=(p=r.currentOccurrences)[d])!==null&&h!==void 0||(p[d]=0),r.currentOccurrences[d]++,!r.PendingStartMilestones.length&&r.waitingMarkup.length){var v,S,D,g;(S=(v=n.unalignedWords)[c])!==null&&S!==void 0||(v[c]={}),(g=(D=n.unalignedWords[c])[l])!==null&&g!==void 0||(D[l]=[]),n.unalignedWords[c][l].push({word:d,occurrence:r.currentOccurrences[d],totalOccurrences:f[c][l][d]})}for(;r.waitingMarkup.length;){var F=r.waitingMarkup.shift(),I=["before",d,r.currentOccurrences[d],f[c][l][d]].join("--"),k={chapter:c,verses:l,occurrence:r.currentOccurrences[d],occurrences:f[c][l][d],position:"before",word:d,payload:Ol(Ol({},F),F.subtype==="usfm:w"&&{content:[d]})};n.stripped[r.chapter][r.verses][I]?n.stripped[r.chapter][r.verses][I].push(k):n.stripped[r.chapter][r.verses][I]=[k]}r.lastWord=d}}catch(B){throw console.error(B),B}return!0}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n}=t;try{var u=e.sequences[0].element;u.subType==="chapter"?(r.chapter=u.atts.number,r.verses=0,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter]={},n.stripped[r.chapter][r.verses]={}):u.subType==="verses"&&(r.verses=u.atts.number,r.lastWord="",r.currentOccurrences={},n.stripped[r.chapter][r.verses]={})}catch(s){throw console.error(s),s}return!0}}]},t9={stripMarkupActions:FY},Qs=bY(Bt);function bY(t){return t&&t.__esModule?t:{default:t}}var r9=[["printable","wordLike",(0,Qs.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",(0,Qs.default)("([\\p{Separator}	]{1,127})")],["printable","punctuation",(0,Qs.default)("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",(0,Qs.default)("(.)")]],CY=Qs.default.union(r9.map(t=>t[2])),_Y={type:"end_milestone",subtype:"usfm:zaln"},wY={startDocument:[{description:"setup",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;return e.chapter=null,e.verses=null,e.currentOccurrences={},r.unalignedWords={},!0}}],text:[{description:"add-to-text",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;try{let g=function(){for(;h.length;)n.outputContentStack[0].push(h.shift())};var s=r.sequences[0];if(s.type!=="main")return!0;var i=r.sequences[0].element.text,o=Qs.default.match(i,CY,"all"),{chapter:a,verses:c}=n;if(!c)return!0;var{totalOccurrences:l,strippedAlignment:f}=e,d={opened:null},p=F=>{var{subtype:I,content:k=[],atts:B={}}=F;return Object.keys(B).length>0?{type:"wrapper",subtype:I,content:k,atts:B}:{type:"wrapper",subtype:I,content:k}},h=[],v=function(I){var k,B,O,M=(k=Qs.default.match(I,r9[0][2],"all"))===null||k===void 0?void 0:k.length;if(!M)return h.push(I),"continue";(O=(B=n.currentOccurrences)[I])!==null&&O!==void 0||(B[I]=0),n.currentOccurrences[I]++;var y=te=>[te,I,n.currentOccurrences[I],l[a][c][I]].join("--"),P=f[a][c],L=!1,U=P[y("after")],Y=P[y("before")];if(Y!=null&&Y.length&&g(),U!=null&&U.length&&!d.opened&&(U.map(te=>{var{startMilestone:V}=te;return n.outputContentStack[0].push(V)}),L=!0),Y==null||Y.forEach(te=>{var{payload:V}=te;V.type!=="start_milestone"&&n.outputContentStack[0].push(V),V.type==="start_milestone"&&!L&&(n.outputContentStack[0].push(V),d.opened=!0)}),U==null||U.forEach(te=>{var{payload:V}=te;d.opened=!1,n.outputContentStack[0].push(V)}),!(Y!=null&&Y.length)){var H,se,fe,K;d.opened&&(n.outputContentStack[0].push(_Y),d.opened=!1),g(),(se=(H=u.unalignedWords)[a])!==null&&se!==void 0||(H[a]={}),(K=(fe=u.unalignedWords[a])[c])!==null&&K!==void 0||(fe[c]=[]),u.unalignedWords[n.chapter][n.verses].push({word:I,occurrence:n.currentOccurrences[I],totalOccurrences:l[a][c][I]});var z=p({subtype:"usfm:w",content:[I]});n.outputContentStack[0].push(z)}};for(var S of o)var D=v(S);return g(),!1}catch(g){throw console.error(g),g}}}],mark:[{description:"mark-chapters",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="chapter"},action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;return n.chapter=s.atts.number,n.verses=0,!0}},{description:"mark-verses",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="verses"},action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;return n.verses=s.atts.number,n.currentOccurrences={},!0}}]},n9={mergeAlignmentActions:wY},{verseWordsActions:TY}=e9,{stripMarkupActions:$Y}=t9,{mergeAlignmentActions:BY}=n9,IY={verseWordsActions:TY,stripMarkupActions:$Y,mergeAlignmentActions:BY};let PY=class{constructor(e){if(!e)throw new Error("Must provide a constructor object to constructor");this.description=e.description||function(r){throw r}(new Error("Must provide a description in constructor object")),this.test=e.test||(()=>!0),this.action=e.action||(()=>null)}};var kY=PY,e8=kY;let OY=class u9{constructor(e){if(this.constructor===u9)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var r=e.actions||{};this.debugLevel=e.debugLevel||0,this.actions={};for(var n of["startDocument","endDocument","startSequence","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","text"])r[n]?this.actions[n]=r[n].map(u=>new e8(u)):this.actions[n]=[]}addRenderActionObject(e,r){if(!this.actions[e])throw new Error("Unknown event '".concat(e));this.actions[e].push(r)}addRenderAction(e,r){this.addRenderActionObject(e,new e8(r))}describeRenderActions(e){if(!this.actions[e])throw new Error("Unknown event '".concat(e));var r=["**Actions for ".concat(e,`**
`)];for(var n of this.actions[e])r.push("IF ".concat(n.test.toString(),":")),r.push("    DO ".concat(n.description));return r.join(`
`)}renderDocument(e){var{docId:r,config:n,output:u}=e,s={},i={};return this.renderDocument1({docId:r,config:n,context:s,workspace:i,output:u}),u}renderDocument1(e){throw new Error("Define renderDocument1() in subclass")}renderEvent(e,r){var n=r.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"EVENT ").concat(e)),!this.actions[e])throw new Error("Unknown event '".concat(e));var u=!1;for(var s of this.actions[e]){var i=!1;try{i=s.test(r)}catch(c){var o="Exception from test of action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c);throw new Error(o)}if(i){u=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(n.sequences.length),"    ").concat(e," action: ").concat(s.description));var a=!1;try{a=s.action(r)}catch(c){throw new Error("Exception from action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c))}if(!a)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(e)&&this.actions[e].length===0)throw new Error("No action for ".concat(e," graft event in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: add an action or fix your data!"));!u&&this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"    No matching action"))}};var Yc=OY,NY=Yc;let RY=class extends NY{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequenceId(o,this.srcJson.main_sequence_id),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequenceId(e,r){var n=e.context,u=this.srcJson.sequences[r];if(!u)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(u,r)),this.renderEvent("startSequence",e);for(var[s,i]of u.blocks.entries())n.sequences[0].block={type:i.type,subType:i.subtype,blockN:s,wrappers:[]},i.type==="graft"?i.target&&!this.srcJson.sequences[i.target]?(n.sequences[0].block.target=i.target,this.renderEvent("unresolvedBlockGraft",e)):(n.sequences[0].block.target=i.target,n.sequences[0].block.isNew=i.new||!1,this.renderEvent("blockGraft",e)):(this.renderEvent("startParagraph",e),this.renderContent(i.content,e),this.renderEvent("endParagraph",e)),delete n.sequences[0].block;this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,r){for(var n of e)this.renderElement(n,r)}renderElement(e,r){var n=i=>{e.meta_content&&(i.metaContent=e.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),e.target&&(s.target=e.target),e.type==="graft"&&(s.isNew=e.new||!1),s.type==="text"&&(s.text=e),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft"){if(e.target&&e.target&&!this.srcJson.sequences[e.target]){this.renderEvent("unresolvedInlineGraft",r);return}this.renderEvent("inlineGraft",r),n(s)}else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(e.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var vs=RY,qY=xY(vs);function xY(t){return t&&t.__esModule?t:{default:t}}var{verseWordsActions:MY}=e9,jY=function(e){var{perf:r}=e,n=new qY.default({srcJson:r,actions:MY}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},LY={name:"verseWords",type:"Transform",description:"PERF=>JSON: Counts words occurrences",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"verseWords",type:"json"}],code:jY},GY={verseWords:LY},VY=t=>{var e={};for(var r of t)for(var n of Object.keys(r))e[n]?e[n].push(...r[n]):e[n]=r[n];return e},h0=VY,UY={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.perf={},u.perf.schema=r.document.schema,u.perf.metadata=r.document.metadata,u.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.perf.sequences[r.sequences[0].id]={type:r.sequences[0].type,blocks:[]},n.outputSequence=u.perf.sequences[r.sequences[0].id],r.sequences[0].type==="main"&&(u.perf.main_sequence_id=r.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;r.sequences.length>1&&(n.outputSequence=u.perf.sequences[r.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,r={type:e.type,subtype:e.subType};e.target&&(r.target=e.target,t.context.renderer.renderSequenceId(t,r.target)),e.isNew&&(r.new=e.isNew),t.workspace.outputSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].block,i={type:s.type,subtype:s.subType,content:[]};n.outputSequence.blocks.push(i),n.currentContent=i.content,n.outputBlock=n.outputSequence.blocks[n.outputSequence.blocks.length-1],n.outputContentStack=[n.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;n.currentContent=s.metaContent;var i=n.outputContentStack[1][n.outputContentStack[1].length-1];i.meta_content=[],n.outputContentStack.unshift(i.meta_content),r.renderer.renderContent(n.currentContent,t),n.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,r={type:e.type,subtype:e.subType};if(e.target){r.target=e.target;var n=t.workspace.outputContentStack[0];t.context.renderer.renderSequenceId(t,e.target),t.workspace.outputContentStack[0]=n}e.isNew&&(r.new=e.isNew),t.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType,content:[]};"atts"in s&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i),n.outputContentStack.unshift(i.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};n.outputContentStack[0].push(i)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;n.outputContentStack[0].push(s.text)}}]},Xc={identityActions:UY},KY=s9(vs),JY=s9(h0);function s9(t){return t&&t.__esModule?t:{default:t}}var{identityActions:HY}=Xc,{stripMarkupActions:WY}=t9,zY=function(e){var{perf:r,verseWords:n}=e,u=new KY.default({srcJson:r,actions:(0,JY.default)([WY,HY])}),s={};return u.renderDocument({docId:"",config:{verseWords:n},output:s}),{perf:s.perf,strippedAlignment:s.stripped,unalignedWords:s.unalignedWords}},QY={name:"stripAlignment",type:"Transform",description:"PERF=>PERF: Strips alignment markup",inputs:[{name:"perf",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],code:zY},YY={stripAlignment:QY},XY=i9(vs),ZY=i9(h0);function i9(t){return t&&t.__esModule?t:{default:t}}var{identityActions:eX}=Xc,{mergeAlignmentActions:tX}=n9,rX=function(e){var{perf:r,verseWords:n,strippedAlignment:u}=e,s=new XY.default({srcJson:r,actions:(0,ZY.default)([tX,eX])}),i={};return s.renderDocument({docId:"",config:{totalOccurrences:n,strippedAlignment:u},output:i}),{perf:i.perf,unalignedWords:i.unalignedWords}},nX={name:"mergeAlignment",type:"Transform",description:"PERF=>PERF adds report to verses",inputs:[{name:"perf",type:"json",source:""},{name:"strippedAlignment",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],code:rX},uX={mergeAlignment:nX},{verseWords:sX}=GY,{stripAlignment:iX}=YY,{mergeAlignment:oX}=uX,aX={verseWords:sX,stripAlignment:iX,mergeAlignment:oX},cX=IY,lX=aX,fX={transforms:lX,renderActions:cX},dX={},o9=function(e){var{usfm:r,selectors:n,proskomma:u}=e;u.importDocuments(n,"usfm",[r]);var s=u.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0],i=s.id,o=s.docSetId;u.gqlQuerySync('mutation { deleteDocument(docSetId: "'.concat(o,'", documentId: "').concat(i,'") }'));var a=JSON.parse(s.perf);return{perf:a}},pX={name:"usfmToPerf",type:"Transform",description:"USFM=>PERF: Conversion via Proskomma",inputs:[{name:"usfm",type:"text",source:""},{name:"selectors",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:o9},hX={usfmToPerf:pX,usfmToPerfCode:o9},{usfmToPerf:mX,usfmToPerfCode:DX}=hX,EX={usfmToPerf:mX,usfmToPerfCode:DX},yX=dX,vX=EX,gX={transforms:vX,renderActions:yX};function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function AX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){SX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SX(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=bX(t,"string");return typeof e=="symbol"?e:String(e)}function bX(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CX={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.sofria={},u.sofria.schema=r.document.schema,u.sofria.metadata=r.document.metadata,u.sofria.sequence={},n.currentSequence=u.sofria.sequence,n.chapter=null,n.verses=null,n.cachedChapter=null,n.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;r.currentSequence.type=e.sequences[0].type,r.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{workspace:e}=t;e.currentSequence.type==="main"&&(e.chapter=null,e.verses=null),e.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,r={type:e.type};if(e.sequence){r.sequence={};var n=t.workspace.currentSequence;t.workspace.currentSequence=r.sequence,t.context.renderer.renderSequence(t),t.workspace.currentSequence=n}t.workspace.currentSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};if(r.currentSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.currentSequence.blocks[r.currentSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content],r.currentSequence.type==="main"){for(var s of["chapter","verses"])if(r[s]){var i={type:"wrapper",subtype:s,content:[],atts:{number:r[s]}};r.outputContentStack[0].push(i),r.outputContentStack.unshift(i.content)}}}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;r.currentContent=n.metaContent;var u=r.outputContentStack[1][r.outputContentStack[1].length-1];u.meta_content=[],r.outputContentStack.unshift(u.meta_content),e.renderer.renderContent(r.currentContent,t),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,r={type:e.type,subtype:e.subType,sequence:{}},n=t.workspace.currentSequence,u=[...t.workspace.outputContentStack];t.workspace.currentSequence=r.sequence,t.context.renderer.renderSequence(t),t.workspace.outputContentStack=u,t.workspace.currentSequence=n,t.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="chapter"?(r.chapter=n.atts.number,r.cachedChapter=r.chapter):n.subType==="verses"&&(r.verses=n.atts.number,r.cachedVerses=r.verses);var u={type:n.type,subtype:n.subType,content:[]};if("atts"in n&&(u.atts=AX({},n.atts)),r.outputContentStack.length===0)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(e.document.metadata.document.bookCode," ").concat(r.cachedChapter,":").concat(r.cachedVerses));r.outputContentStack[0].push(u),r.outputContentStack.unshift(u.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="chapter"?r.chapter=null:n.subType==="verses"&&(r.verses=null),r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};r.outputContentStack[0].push(u)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;r.outputContentStack[0].push(n.text)}}]},_X={identityActions:CX},{identityActions:wX}=_X,TX={identityActions:wX},$X=function(e){var{perf:r}=e,n=new PerfRenderFromJson({srcJson:r,actions:identityAction}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},BX={name:"identity",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:$X},IX={identity:BX},{identity:PX}=IX,kX={identity:PX},OX=TX,NX=kX,RX={transforms:NX,renderActions:OX},qX={startDocument:[{description:"Set up word object",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;for(var s of r.sequences[0].element.text.split(/[\s:;,.]+/).filter(i=>i.length>0))s=s.toLowerCase(),s in n.words?n.words[s]+=1:n.words[s]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.words=[...Object.entries(n.words)].sort((s,i)=>i[1]-s[1])}}]},a9={wordCountActions:qX},r8=t=>({type:t.sequences[0].block.type,subType:t.sequences[0].block.subType,pos:t.sequences[0].block.blockN,perfChapter:null}),xX={startDocument:[{description:"Set up storage",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;e.blockRecords=[],r.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n}=t;r.blockRecords.push(r8(e))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:t=>{var{context:e,workspace:r,output:n}=t;r.blockRecords.push(r8(e))}}],mark:[{description:"Add chapter number to block record",test:t=>{var{context:e}=t;return e.sequences[0].element.subType==="chapter"},action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.blockRecords[n.blockRecords.length-1].perfChapter=r.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;for(var[n,u]of Object.entries(e.blockRecords))if(u.perfChapter){for(var s=n,i=!1;s>0&&!i;)e.blockRecords[s-1].type==="paragraph"||e.blockRecords[s-1].subType==="title"?i=!0:s--;r.report[s.toString()]=u.perfChapter}}}]},c9={calculateUsfmChapterPositionsActions:xX},Lr=t=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(t)?t+"1":t,MX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r==null&&(r={});var n="\\".concat(e,"-s |");for(var[u,s]of Object.entries(r))u==="x-morph"&&typeof s!="string"?n=n+Lr(u)+'="'+s.join(",")+'" ':n=n+Lr(u)+'="'+s+'" ';return n+"\\*"},jX=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;r==null&&(r={});var u="|";for(var[s,i]of Object.entries(r))u=u+Lr(s)+'="'+i+'" ';return u=u+"\\",n&&(u=u+"+"),u+e+"*"},LX={startDocument:[{description:"Set up environment",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;r.usfmBits=[""],r.nestedWrapper=0;for(var[n,u]of Object.entries(e.document.metadata.document).filter(s=>!["tags","properties","bookCode","cl"].includes(s[0])))r.usfmBits.push("\\".concat(Lr(n)," ").concat(u,`
`))}}],blockGraft:[{description:"Follow block grafts",test:t=>{var{context:e}=t;return["title","heading","introduction"].includes(e.sequences[0].block.subType)},action:t=>{var e=t.context.sequences[0],r=t.config.report[e.block.blockN.toString()],n=e.block.target;r&&e.type==="main"&&t.workspace.usfmBits.push(`
\\c `.concat(r,`
`)),n&&t.context.renderer.renderSequenceId(t,n)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:t=>{var e=t.context.sequences[0].element.target;e&&t.context.renderer.renderSequenceId(t,e)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref"},action:t=>{var{context:e,workspace:r,config:n}=t;r.nestedWrapper=0;var u=e.sequences[0];r.usfmBits.push("\\".concat(Lr(u.block.subType.split(":")[1])," "))}},{description:"Output footnote note_caller tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x"},action:t=>{var{context:e,workspace:r,config:n}=t;r.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:t=>{var{context:e,workspace:r,config:n}=t;r.nestedWrapper=0;var u=e.sequences[0],s=n.report[u.block.blockN.toString()];s&&u.type==="main"&&r.usfmBits.push(`
\\c `.concat(s,`
`)),r.usfmBits.push(`
\\`.concat(Lr(u.block.subType.split(":")[1]),`
`))}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"&&e.sequences[0].type==="footnote"||e.sequences[0].block.subType==="usfm:x"&&e.sequences[0].type==="xref"},action:t=>{var{context:e,workspace:r,config:n}=t,u=e.sequences[0];r.usfmBits.push("\\".concat(Lr(u.block.subType.split(":")[1]),"*"))}},{description:"Output footnote note_caller tag (footnote)",test:t=>{var{context:e}=t;return e.sequences[0].block.subType==="usfm:f"||e.sequences[0].block.subType==="usfm:x"},action:t=>{}},{description:"Output nl",test:()=>!0,action:t=>{var{workspace:e}=t;e.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u=MX(Lr(n.subType.split(":")[1]),n.atts);r.usfmBits.push(u)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;r.usfmBits.push("\\".concat(Lr(e.sequences[0].element.subType.split(":")[1]),"-e\\*"))}}],text:[{description:"Output text",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element.text;r.usfmBits.push(n)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="verses"&&r.usfmBits.push(`
\\v `.concat(n.atts.number,`
`))}}],endSequence:[{description:"Output \\cl",test:t=>{var{context:e}=t;return e.document.metadata.document.cl&&e.sequences[0].type==="title"},action:t=>{var{context:e,workspace:r}=t;r.usfmBits.push(`
\\cl `.concat(e.document.metadata.document.cl,`
`))}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:t=>{var{workspace:e,context:r}=t,n=r.sequences[0];e.nestedWrapper>0?e.usfmBits.push("\\+".concat(Lr(n.element.subType.split(":")[1])," ")):e.usfmBits.push("\\".concat(Lr(n.element.subType.split(":")[1])," ")),e.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:t=>{var{context:e}=t;return!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(e.sequences[0].element.subType.split(":")[1])},action:t=>{var{workspace:e,context:r}=t;e.nestedWrapper-=1;var n=r.sequences[0],u=n.element.subType.split(":")[1],s=e.nestedWrapper>0;if(u==="w"){var i=jX(Lr(u),n.element.atts,s);e.usfmBits.push(i)}else s?e.usfmBits.push("\\+".concat(Lr(n.element.subType.split(":")[1]),"*")):e.usfmBits.push("\\".concat(Lr(n.element.subType.split(":")[1]),"*"))}},{description:"Do NOT output end tag",test:()=>!0,action:t=>{var{workspace:e}=t;e.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:t=>{var{workspace:e,output:r}=t;r.usfm=e.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},l9={perfToUsfmActions:LX},{wordCountActions:GX}=a9,{calculateUsfmChapterPositionsActions:VX}=c9,{perfToUsfmActions:UX}=l9,KX={wordCountActions:GX,perfToUsfmActions:UX,calculateUsfmChapterPositionsActions:VX},JX=HX(vs);function HX(t){return t&&t.__esModule?t:{default:t}}var{wordCountActions:WX}=a9,zX=function(e){var{perf:r}=e,n=new JX.default({srcJson:r,actions:WX}),u={};return n.renderDocument({docId:"",config:{},output:u}),{report:u.report}},QX={name:"wordCount",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:zX},YX={wordCount:QX},XX=ZX(vs);function ZX(t){return t&&t.__esModule?t:{default:t}}var{calculateUsfmChapterPositionsActions:eZ}=c9,tZ=function(e){var{perf:r}=e,n=new XX.default({srcJson:r,actions:eZ}),u={};return n.renderDocument({docId:"",config:{maxLength:60},output:u}),{report:u.report}},rZ={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:tZ},nZ={calculateUsfmChapterPositions:rZ},uZ=sZ(vs);function sZ(t){return t&&t.__esModule?t:{default:t}}var{perfToUsfmActions:iZ}=l9,oZ=function(e){var{perf:r,report:n}=e,u=new uZ.default({srcJson:r,actions:iZ}),s={};return u.renderDocument({docId:"",config:{report:n},output:s}),{usfm:s.usfm}},aZ={name:"perfToUsfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:oZ},cZ={perfToUsfm:aZ},{wordCount:lZ}=YX,{calculateUsfmChapterPositions:fZ}=nZ,{perfToUsfm:dZ}=cZ,pZ={wordCount:lZ,perfToUsfm:dZ,calculateUsfmChapterPositions:fZ},hZ=KX,mZ=pZ,DZ={transforms:mZ,renderActions:hZ},EZ={startMilestone:[{description:"Ignore startMilestone events",test:()=>!0,action:()=>{}}],endMilestone:[{description:"Ignore endMilestone events",test:()=>!0,action:()=>{}}],startWrapper:[{description:"Ignore startWrapper events",test:()=>!0,action:()=>{}}],endWrapper:[{description:"Ignore endWrapper events",test:()=>!0,action:()=>{}}],blockGraft:[{description:"Ignore blockGraft events, except for title (\\mt)",test:t=>t.context.sequences[0].block.subType!=="title",action:t=>{}}],inlineGraft:[{description:"Ignore inlineGraft events",test:()=>!0,action:()=>{}}],mark:[{description:"Ignore mark events, except for chapter and verses",test:t=>{var{context:e}=t;return!["chapter","verses"].includes(e.sequences[0].element.subType)},action:()=>{}}]},f9={justTheBibleActions:EZ},{identityActions:yZ}=Xc,{justTheBibleActions:vZ}=f9,gZ={identityActions:yZ,justTheBibleActions:vZ},{identityActions:AZ}=Xc,SZ=function(e){var{perf:r}=e,n=new PerfRenderFromJson({srcJson:r,actions:AZ}),u={};return n.renderDocument({docId:"",config:{},output:u}),{verseWords:u.cv}},FZ={name:"identityTransform",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:SZ},bZ={identity:FZ},CZ=d9(vs),_Z=d9(h0);function d9(t){return t&&t.__esModule?t:{default:t}}var{identityActions:wZ}=Xc,{justTheBibleActions:TZ}=f9,$Z=function(e){var{perf:r}=e,n=new CZ.default({srcJson:r,actions:(0,_Z.default)([TZ,wZ])}),u={};return n.renderDocument({docId:"",config:{},output:u}),{perf:u.perf}},BZ={name:"justTheBible",type:"Transform",description:"PERF=>PERF: Strips most markup",documentation:"This transform removes milestones, wrappers and most marks. It has been used in several pipelines. It may also be stripping metaContent.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:$Z},IZ={justTheBible:BZ};const Er={},p9=t=>{let e=typeof t;return e==="number"||e==="string"||e==="boolean"||e==="undefined"||e==="bigint"||e==="symbol"||t===null},Zc=t=>{if(p9(t)||!(t instanceof Object))return"primitive";const e=t.constructor&&t.constructor.name&&t.constructor.name.toLowerCase();if(typeof e=="string"&&e.length&&Er[e])return e;let r;for(const n in Er)if(r=Er[n].type,!r||t instanceof r)return n;return"unknown"},PZ=(t,e,r)=>Array.prototype.push.call(t,r),kZ=t=>{const e=[];return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},OZ=t=>{const e=[...t];return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},NZ=(t,e,r)=>{const n=t.length;for(let u=0;u<n;u++){const s=t[u],i={key:u,value:s,type:Zc(s)};r(i)}},RZ=()=>{Object.assign(Er,{array:{type:Array,mayDeepCopy:!0,addElement:PZ,makeEmpty:kZ,makeShallow:OZ,iterate:NZ}})},qZ=()=>{Object.assign(Er,{date:{type:Date,makeShallow:t=>new Date(t.getTime())}})},xZ=()=>{Object.assign(Er,{regexp:{type:RegExp,makeShallow:t=>new RegExp(t)}})},MZ=()=>{Object.assign(Er,{function:{type:Function,makeShallow:t=>t}})},jZ=()=>{Object.assign(Er,{error:{type:Error,makeShallow:t=>{const e=new Error(t.message);return e.stack=t.stack,e}}})},LZ=t=>{let e=typeof qn<"u"&&qn[t]||typeof window<"u"&&window[t]||typeof WorkerGlobalScope<"u"&&WorkerGlobalScope[t];typeof e<"u"&&(Er[t.toLowerCase()]={type:e,makeShallow:r=>e.from(r)})},GZ=()=>{["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach(e=>LZ(e))},VZ=()=>{typeof ArrayBuffer<"u"&&Object.assign(Er,{arraybuffer:{type:ArrayBuffer,makeShallow:t=>t.slice(0)}})},UZ=()=>{typeof Map>"u"||Object.assign(Er,{map:{type:Map,mayDeepCopy:!0,addElement:(t,e,r)=>t.set(e,r),makeEmpty:()=>new Map,makeShallow:t=>new Map(t),iterate:(t,e,r)=>{t.forEach((n,u)=>{const s={key:u,value:n,type:Zc(n)};r(s)})}}})},KZ=()=>{typeof Set>"u"||Object.assign(Er,{set:{type:Set,mayDeepCopy:!0,addElement:(t,e,r)=>t.add(r),makeEmpty:()=>new Set,makeShallow:t=>new Set(t),iterate:(t,e,r)=>{t.forEach(n=>{const u={key:null,value:n,type:Zc(n)};r(u)})}}})},JZ=()=>{typeof WeakSet>"u"||Object.assign(Er,{weakset:{type:WeakSet,makeShallow:t=>t}})},HZ=()=>{typeof WeakMap>"u"||Object.assign(Er,{weakmap:{type:WeakMap,makeShallow:t=>t}})},WZ=()=>{typeof sr.Buffer>"u"||Object.assign(Er,{buffer:{type:sr.Buffer,makeShallow:t=>sr.Buffer.from(t)}})},zZ=(t,e,r,n=void 0)=>{n?Object.defineProperty(t,e,n):t[e]=r},QZ=t=>{const e={};return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},YZ=t=>{const e=Object.assign({},t);return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),e},XZ=(t,e,r)=>{const n=e?Object.getOwnPropertyNames(t):Object.keys(t),u=n.length;for(let s=0;s<u;s++){const i=n[s],o=t[i],a={key:i,value:o,type:Zc(o)};e&&!t.propertyIsEnumerable(i)&&(a.descriptor=Object.getOwnPropertyDescriptor(t,i)),r(a)}},ZZ=()=>{Object.assign(Er,{object:{type:Object,mayDeepCopy:!0,addElement:zZ,makeEmpty:QZ,makeShallow:YZ,iterate:XZ}})},eee=()=>{Object.assign(Er,{unknown:{makeShallow:t=>t},primitive:{makeShallow:t=>t}})};RZ();qZ();xZ();MZ();jZ();GZ();VZ();UZ();KZ();JZ();HZ();WZ();ZZ();eee();function tee(t){return Er[t]}var ree=[p9,Zc,tee];const[nee,uee,Z2]=ree,em={goDeep:!0,includeNonEnumerable:!1,detectCircular:!0,maxDepth:20};function see(t){Object.keys(em).forEach(e=>{t[e]===void 0&&(t[e]=em[e])})}class iee{constructor(){this._seenMap=new WeakMap}setAsCopied(e,r){e instanceof Object&&this._seenMap.set(e,r)}wasCopied(e){return e instanceof Object&&this._seenMap.has(e)}getCopy(e){return this._seenMap.get(e)}}function oee(t,e,r){const{options:n,watcher:u}=r;let s;return e.mayDeepCopy?(s=e.makeEmpty(t),n.detectCircular&&u.setAsCopied(t,s)):s=e.makeShallow(t),s}function aee(t,e){if(t>=e)throw`Error max depth of ${e} levels exceeded, possible circular reference`}const h9=(t,e,r)=>{const{destObject:n,srcType:u,watcher:s,options:i}=e,o=i.detectCircular;aee(++r,i.maxDepth);const a=Z2(u);if(!a.mayDeepCopy)return;const c=a.addElement;a.iterate(t,i.includeNonEnumerable,l=>{const f=l.value,d=l.type,p=Z2(d);let h,v=!1;o&&s.wasCopied(f)?(h=s.getCopy(f),v=!0):h=oee(f,p,{options:i,watcher:s}),c(n,l.key,h,l.descriptor),p.mayDeepCopy&&!v&&h9(f,{destObject:h,srcType:d,watcher:s,options:i},r)})};function cee(t,e=em){if(see(e),nee(t))return t;const r=uee(t),n=Z2(r);if(!e.goDeep||!n.mayDeepCopy)return n.makeShallow(t);const u=e.detectCircular?new iee:null;let s=n.makeEmpty(t);return e.detectCircular&&u.setAsCopied(t,s),h9(t,{destObject:s,srcType:r,watcher:u,options:e},0),s}var m9=cee,lee=fee(m9);function fee(t){return t&&t.__esModule?t:{default:t}}var mf=t=>{var e=[];for(var r of t)typeof r=="string"?e.length>0&&typeof e[e.length-1]=="string"?e[e.length-1]+=r:e.push(r):(r.content&&(r.content=mf(r.content)),r.metaContent&&(r.metaContent=mf(r.content)),e.push(r));return e},dee=t=>{var e=(0,lee.default)(t);for(var r of Object.values(e.sequences))for(var n of r.blocks)n.content&&(n.content=mf(n.content)),n.metaContent&&(n.metaContent=mf(n.metaContent));return e},D9=function(e){var{perf:r}=e;return{perf:dee(r)}},pee={name:"mergePerfText",type:"Transform",description:"PERF=>PERF: Merge consecutive text strings",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:D9},hee={mergePerfText:pee,mergePerfTextCode:D9},{identity:mee}=bZ,{justTheBible:Dee}=IZ,{mergePerfText:Eee,mergePerfTextCode:yee}=hee,vee={identity:mee,justTheBible:Dee,mergePerfText:Eee,mergePerfTextCode:yee},gee=gZ,Aee=vee,See={transforms:Aee,renderActions:gee},Fee=fX,bee=gX,Cee=RX,_ee=DZ,wee=See,E9={xToPerf:bee,perfToX:_ee,sofriaToSofria:Cee,alignment:Fee,perfToPerf:wee};const Tee=[{id:0,type:"Inputs",inputs:{usfm:"text",selectors:"json"}},{id:2,title:"USFM to PERF",name:"usfmToPerf",type:"Transform",inputs:[{name:"usfm",type:"text",source:"Input usfm"},{name:"selectors",type:"json",source:"Input selectors"}],outputs:[{name:"perf",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 2 perf"}]}],$ee=[{id:0,type:"Inputs",inputs:{perf:"json",strippedAlignment:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"strippedAlignment",type:"json",source:"Input strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:3,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],Bee=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:3,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"strippedAlignment",type:"json",source:"Transform 2 strippedAlignment"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}],Iee=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perfToUsfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],Pee=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}];var kee=el(Tee),Oee=el($ee),Nee=el(Bee),Ree=el(Iee),qee=el(Pee);function el(t){return t&&t.__esModule?t:{default:t}}var y9={usfmToPerfPipeline:kee.default,mergeAlignmentPipeline:Oee.default,stripAlignmentPipeline:Nee.default,perfToUsfmPipeline:Ree.default,justTheBiblePipeline:qee.default};function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function u8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){xee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xee(t,e,r){return e=Mee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mee(t){var e=jee(t,"string");return typeof e=="symbol"?e:String(e)}function jee(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s8(t,e,r,n,u,s,i){try{var o=t[s](i),a=o.value}catch(c){r(c);return}o.done?e(a):Promise.resolve(a).then(n,u)}function Lee(t){return function(){var e=this,r=arguments;return new Promise(function(n,u){var s=t.apply(e,r);function i(a){s8(s,n,u,i,o,"next",a)}function o(a){s8(s,n,u,i,o,"throw",a)}i(void 0)})}}var Gee=E9,Vee=y9;let Uee=class{constructor(e){var{pipelines:r=null,transforms:n=null,proskomma:u=null,verbose:s=!1}=e;if(u!==null){this.proskomma=u;var i="{ id }",o=u.gqlQuerySync(i)||{};if(!o||!o.data.id)throw new Error("Provided Proskomma instance does not have any ID")}if(this.pipelines=Vee,this.namespaces=Gee,this.transforms={},r!=null)for(var a of Object.keys(r))this.pipelines[a]=r[a];if(n!=null)for(var c of Object.keys(n))this.transforms[c]=n[c];this.verbose=s}getProskomma(){return this.proskomma}setProskomma(e){this.proskomma=e}listPipelinesNames(){return Object.keys(this.pipelines).join(`
`)}listTransformsNames(){return Object.keys(this.transforms).join(`
`)}listNamespacesNames(){return Object.keys(this.namespaces).join(`
`)}getPipeline(e,r){if(!this.pipelines[e])throw new Error("Unknown pipeline name '".concat(e,"'"));var n=this.pipelines[e],u=n[0].inputs;if(Object.keys(u).length!==Object.keys(r).length)throw new Error("".concat(Object.keys(u).length," input(s) expected by ").concat(e," but ").concat(Object.keys(r).length," provided (").concat(Object.keys(r).join(", "),")"));for(var[s,i]of Object.entries(u)){if(!r[s])throw new Error("Input ".concat(s," not provided as input to ").concat(e));if(typeof r[s]=="string"!=(i==="text"))throw new Error("Input ".concat(s," must be ").concat(i," but ").concat(typeof r[s]=="string"?"text":"json"," was provided"))}return n}runPipeline(e,r){var n=this;return Lee(function*(){var u=n.getPipeline(e,r);return n.loadTransforms(u,"perf"),yield n.evaluateSteps({specSteps:u,inputValues:r})})()}loadTransforms(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"perf",n=e.filter(v=>v.type==="Transform");if(n.length===0)throw new Error("No Transform steps found in report steps");var u=Object.keys(n).map(v=>n[v].name);if(r==="sofria"){var s=null;for(var[i,o]of Object.entries(this.namespaces))if(i==="sofriaToSofria"){o.transforms?s=Object.entries(o.transforms):s=Object.entries(o);for(var[a,c]of s)u.includes(a)&&(this.transforms[a]=c)}}else{var l=null;for(var[f,d]of Object.entries(this.namespaces))if(f!=="sofriaToSofria"){d.transforms?l=Object.entries(d.transforms):l=Object.entries(d);for(var[p,h]of l)u.includes(p)&&(this.transforms[p]=h)}}}evaluateSteps(e){var{specSteps:r,inputValues:n}=e;this.verbose&&console.log("** Evaluate **");var u=r.filter(y=>y.type==="Inputs")[0];if(!u)throw new Error("No Inputs step found in report steps");var s=r.filter(y=>y.type==="Outputs")[0];if(!s)throw new Error("No Outputs step found in report steps");var i=r.filter(y=>y.type==="Transform");if(i.length===0)throw new Error("No Transform steps found in report steps");var o={},a={};for(var c of Object.values(i)){o[c.id]={};for(var l of c.inputs)o[c.id][l.name]=null;a[c.id]={};for(var f of c.outputs)a[c.id][f]=null}for(var[d,p]of Object.entries(n))for(var h of i)for(var v of h.inputs)v.source==="Input ".concat(d)&&(this.verbose&&console.log("Copying Input ".concat(d," to Transform ").concat(h.id," ").concat(v.name," input")),o[h.id][v.name]=p);for(var S=!0;S;){S=!1;for(var D of i)if(Object.values(o[D.id]).filter(y=>!y).length===0&&Object.values(a[D.id]).filter(y=>!y).length>0){this.verbose&&console.log("Evaluating Transform ".concat(D.id));try{a[D.id]=this.transforms[D.name].code(u8(u8({},o[D.id]),{},{proskomma:this.getProskomma()}))}catch(y){var g="Error evaluating Transform ".concat(D.id," (name=").concat(D.name,", type=").concat(typeof D.code,"): ").concat(y);throw new Error(g)}for(var F of i)for(var I of F.inputs)for(var k of Object.keys(a[D.id]))I.source==="Transform ".concat(D.id," ").concat(k)&&(this.verbose&&console.log("Copying Transform ".concat(D.id," ").concat(k," output to Transform ").concat(F.id," ").concat(I.name," input")),o[F.id][I.name]=a[D.id][k]);S=!0}}var B={};for(var O of s.outputs){var M=O.source.split(" ")[1];this.verbose&&console.log("Copying Transform ".concat(M," ").concat(O.name," to Output ").concat(O.name)),B[O.name]=a[M][O.name]}return this.verbose&&console.log("****"),B}};var Kee=Uee;function i8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function o8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(r),!0).forEach(function(n){Jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jee(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:String(e)}function Wee(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zee=Yc,Ns=t=>{var e=[];for(var r of t.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?e.push("_".concat(r.toLowerCase())):e.push(r);return e.join("")};let Qee=class extends zee{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this;var a=this.pk.gqlQuerySync('{document(id: "'.concat(r,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),c=a.data.document.docSetId,l=a.data.document.mainSequence.id,f=a.data.document.nSequences;a.data.document.sequences.map(D=>D.id);var d={};for(var p of a.data.document.headers)d[p.key]=p.value;var h=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),v={};for(var S of h.data.docSet.selectors)v[S.key]=S.value;u.document={id:r,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:v,properties:{},tags:[]},document:o8(o8({},d),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:f},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequenceId(o,l),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:Ns(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequenceId(e,r){var n=e.context,u=this.pk.gqlQuerySync('{document(id: "'.concat(n.document.id,'") {sequence(id:"').concat(r,'") {id type nBlocks } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(s,r)),this.renderEvent("startSequence",e);for(var i=0,o=0;o<s.nBlocks;o++){var a=this.pk.gqlQuerySync(`{
               document(id: "`.concat(n.document.id,`") {
                 sequence(id:"`).concat(r,`") {
                   blocks(positions:`).concat(o,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),c=a.data.document.sequence.blocks[0];for(var l of c.bg)n.sequences[0].block={type:"graft",subType:Ns(l.subType),blockN:i},n.sequences[0].block.target=l.payload,n.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",e),i++;n.sequences[0].block={type:"paragraph",subType:"usfm:".concat(c.bs.payload.split("/")[1]),blockN:i,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],this.renderContent(c.items,e),this._tokens=[],this.renderEvent("endParagraph",e),delete n.sequences[0].block,i++}this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,r){for(var n of e)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(e,r){if(e.type==="scope"&&e.payload.startsWith("attribute")){var n=e.payload.split("/");e.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(Ns(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:Ns(e.subType),target:e.payload,isNew:!1};r.context.sequences[0].element=u,this.renderEvent("inlineGraft",r),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=e.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(e.subType==="start"){var i={type:"mark",subType:Ns(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=i,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var o={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=o,e.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")e.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if(s[0]==="milestone"&&e.subType==="start")if(s[1]==="ts"){var a={type:"mark",subType:"usfm:".concat(Ns(s[1])),atts:{}};r.context.sequences[0].element=a,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(Ns(s[1])),atts:{}}}}maybeRenderText(e){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var Yee=Qee,Xee=Yc;let Zee=class extends Xee{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson,this.cachedSequences=[]}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequence(o,this.srcJson.sequence),this.renderEvent("endDocument",o)}sequenceContext(e){return{type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequence(e,r){var n;if(r)n=r;else{if(this.cachedSequences.length===0)throw new Error("No sequence provided and no sequences cached");n=this.cachedSequences[0]}var u=e.context;u.sequences.unshift(n),this.renderEvent("startSequence",e);for(var[s,i]of n.blocks.entries())u.sequences[0].block={type:i.type,blockN:s,wrappers:[]},i.type==="graft"?(u.sequences[0].block.sequence=this.sequenceContext(i.sequence),this.cachedSequences.unshift(i.sequence),this.renderEvent("blockGraft",e),this.cachedSequences.shift()):(this.renderEvent("startParagraph",e),this.renderContent(i.content,e),this.renderEvent("endParagraph",e)),delete u.sequences[0].block;this.renderEvent("endSequence",e),this.cachedSequence=null,u.sequences.shift()}renderContent(e,r){for(var n of e)this.renderElement(n,r)}renderElement(e,r){var n=i=>{e.meta_content&&(i.metaContent=e.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),e.sequence&&(s.sequence=this.sequenceContext(e.sequence)),s.type==="text"&&(s.text=e),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft")this.cachedSequences.unshift(e.sequence),this.renderEvent("inlineGraft",r),this.cachedSequences.shift(),n(s);else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(e.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var ete=Zee;function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function c8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){tte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tte(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=nte(t,"string");return typeof e=="symbol"?e:String(e)}function nte(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ute=Yc,Qu=t=>{var e=[];for(var r of t.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?e.push("_".concat(r.toLowerCase())):e.push(r);return e.join("")};let ste=class extends ute{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null,this.currentCV={chapter:null,verses:null}}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this;var a=this.pk.gqlQuerySync(`{
          document(id: "`.concat(r,`") {
            docSetId
            mainSequence { id }
            nSequences
            sequences {
              id
              type
              nBlocks
            }
            headers {
              key
              value
            }
          } 
        }`)),c=a.data.document.docSetId,l=a.data.document.mainSequence.id,f=a.data.document.nSequences;this.sequences={};for(var d of a.data.document.sequences)this.sequences[d.id]=d;var p={};for(var h of a.data.document.headers)p[h.key]=h.value;var v=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),S={};for(var D of v.data.docSet.selectors)S[D.key]=D.value;u.document={id:r,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:S,properties:{},tags:[]},document:c8(c8({},p),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:f},n.chapters&&(u.document.metadata.document.properties.chapters=n.chapters[0]),u.sequences=[],this.renderEvent("startDocument",o),this.cachedSequenceIds.unshift(l),this.renderSequence(o,l),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:Qu(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequence(e){var r=e.context,n=this.cachedSequenceIds[0],u=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {id type nBlocks blocks { os {payload} is {payload} } } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(n,"' not found in renderSequenceId()"));r.sequences.unshift(this.sequenceContext(s,n)),this.renderEvent("startSequence",e);for(var i=0,o=0;o<s.nBlocks;o++){if(e.config.chapters&&s.type==="main"){var a=[...s.blocks[o].os.map(g=>g.payload),...s.blocks[o].is.map(g=>g.payload)].filter(g=>["chapter"].includes(g.split("/")[0])).map(g=>g.split("/")[1]);if(a.length===0||!e.config.chapters.includes(a[0]))continue}var c=this.pk.gqlQuerySync(`{
               document(id: "`.concat(r.document.id,`") {
                 sequence(id:"`).concat(n,`") {
                   blocks(positions:`).concat(o,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),l=c.data.document.sequence.blocks[0];for(var f of l.bg)r.sequences[0].block={type:"graft",subType:Qu(f.subType),blockN:i,sequence:this.sequences[f.payload]},this.cachedSequenceIds.unshift(f.payload),this.renderEvent("blockGraft",e),this.cachedSequenceIds.shift(),i++;var d=l.bs.payload.split("/"),p=d[1]?"usfm:".concat(d[1]):d[0];if(r.sequences[0].block={type:"paragraph",subType:p,blockN:i,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],s.type==="main"&&this.currentCV.chapter){var h={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=h,e.context.sequences[0].block.wrappers.unshift(h.subType),this.renderEvent("startWrapper",e)}if(s.type==="main"&&this.currentCV.verses){var v={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=v,e.context.sequences[0].block.wrappers.unshift(v.subType),this.renderEvent("startWrapper",e)}if(this.renderContent(l.items,e),this._tokens=[],s.type==="main"&&this.currentCV.verses){var S={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=S,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}if(s.type==="main"&&this.currentCV.chapter){var D={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=D,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}this.renderEvent("endParagraph",e),delete r.sequences[0].block,i++}this.renderEvent("endSequence",e),r.sequences.shift()}renderContent(e,r){for(var n of e)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(e,r){if(e.type==="scope"&&e.payload.startsWith("attribute")){var n=e.payload.split("/");e.subType==="start"?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(Qu(n[2]))},n[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(r);var u={type:"graft",subType:Qu(e.subType),sequence:this.sequences[e.payload]};r.context.sequences[0].element=u,this.cachedSequenceIds.unshift(e.payload),this.renderEvent("inlineGraft",r),this.cachedSequenceIds.shift(),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var s=e.payload.split("/");if(["chapter","verses"].includes(s[0])){var i={type:"wrapper",subType:Qu(s[0]),atts:{number:s[1]}};if(r.context.sequences[0].element=i,e.subType==="start"){this.currentCV[s[0]]=s[1],r.context.sequences[0].block.wrappers.unshift(i.subType),this.renderEvent("startWrapper",r);var o={type:"mark",subType:"".concat(s[0],"_label"),atts:{number:s[1]}};r.context.sequences[0].element=o,this.renderEvent("mark",r),r.context.sequences[0].element=i}else this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift(),delete r.context.sequences[0].element,this.currentCV[s[0]]=null}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if(e.subType==="start"){var a={type:"mark",subType:Qu(s[0]),atts:{number:s[1]}};r.context.sequences[0].element=a,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(s[0]==="span"){var c={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};r.context.sequences[0].element=c,e.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(c.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(s[0]==="spanWithAtts")e.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if(s[0]==="milestone"&&e.subType==="start")if(s[1]==="ts"){var l={type:"mark",subType:"usfm:".concat(Qu(s[1])),atts:{}};r.context.sequences[0].element=l,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(Qu(s[1])),atts:{}}}}maybeRenderText(e){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var ite=ste,ote=lY,ate=DY,cte=Kee,lte=Yc,fte=vs,dte=Yee,pte=ete,hte=ite,mte=h0,Dte=y9,Ete=E9,tl={Validator:ote,usfmHelps:ate,ProskommaRender:lte,PerfRenderFromJson:fte,SofriaRenderFromJson:pte,SofriaRenderFromProskomma:hte,PerfRenderFromProskomma:dte,mergeActions:mte,PipelineHandler:cte,pipelines:Dte,render:Ete};const dr=Bt,v9=[["chapter","chapter",dr("([\\r\\n]*\\\\c[ \\t]+(\\d+)[ \\t\\r\\n]*)")],["pubchapter","pubchapter",dr("([\\r\\n]*\\\\cp[ \\t]+([^\\r\\n]+)[ \\t\\r\\n]*)")],["verses","verses",dr("(\\\\v[ \\t]+([\\d\\-]+)[ \\t\\r\\n]*)")],["attribute","attribute",dr('([ \\t]*\\|?[ \\t]*([A-Za-z0-9\\-]+)="([^"]*)"[ \\t]?)')],["attribute","defaultAttribute",dr("([ \\t]*\\|[ \\t]*([^\\|\\\\]*))")],["milestone","emptyMilestone",dr("(\\\\([a-z1-9]+)\\\\[*])")],["milestone","startMilestoneTag",dr("(\\\\([a-z1-9]+)-([se]))")],["milestone","endMilestoneMarker",dr("(\\\\([*]))")],["tag","endTag",dr("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[*])")],["tag","startTag",dr("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[ \\t]?)")],["bad","bareSlash",dr("(\\\\)")],["printable","eol",dr("([ \\t]*[\\r\\n]+[ \\t]*)")],["break","noBreakSpace",dr("~")],["break","softLineBreak",dr("//")],["printable","wordLike",dr("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",dr("([\\p{Separator}	]{1,127})")],["printable","punctuation",dr("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",dr("(.)")]],yte=dr.union(v9.map(t=>t[2]));var rl={lexingRegexes:v9,mainRegex:yte};const vte=Bt,Jh=(t,e)=>({subclass:t,printValue:e[0]}),gte=(t,e)=>({subclass:t,numberString:e[2],number:parseInt(e[2]),printValue:`\\c ${e[2]}
`}),Ate=(t,e)=>{const r={subclass:t,numberString:e[2],printValue:`\\v ${e[2]}
`};if(r.numberString.includes("-")){const[n,u]=r.numberString.split("-").map(s=>parseInt(s));r.numbers=Array.from(Array(u-n+1).keys()).map(s=>s+n)}else r.numbers=[parseInt(r.numberString)];return r},Ste=(t,e)=>{let r;return t==="defaultAttribute"?r={subclass:t,key:"default",valueString:e[2].trim().replace(/\//g,"")}:r={subclass:t,key:e[2],valueString:e[3].trim().replace(/\//g,"")},r.values=r.valueString.split(",").map(n=>n.trim()),r.printValue=`| ${r.key}="${r.valueString}"`,r},Fte=(t,e)=>({subclass:t,numberString:e[2],printValue:`\\cp ${e[2]}
`}),bte=(t,e)=>{const r={subclass:t,sOrE:null};return t==="endMilestoneMarker"?r.printValue="\\*":(r.tagName=e[2],t==="emptyMilestone"?r.printValue=`\\${r.tagName}\\*`:(r.printValue=`\\${r.tagName}`,r.sOrE=e[3])),r},Cte=(t,e)=>{const r={subclass:t,tagName:e[2],isNested:!1};return r.tagName.startsWith("+")&&(r.isNested=!0,r.tagName=r.tagName.substring(1)),r.tagLevel=e[3]!==""?parseInt(e[3]):1,r.fullTagName=`${r.tagName}${e[3]==="1"?"":e[3]}`,r.printValue=t==="startTag"?`\\${r.fullTagName} `:`\\${r.fullTagName}*`,r},g9={printable:Jh,chapter:gte,pubchapter:Fte,verses:Ate,tag:Cte,break:Jh,milestone:bte,attribute:Ste,bad:Jh},_te=(t,e)=>{for(let r=0;r<e.length;r++){let[n,u,s]=e[r],i=vte.exec(t,s,0,"sticky");if(i)return g9[n](u,i)}throw new Error(`Could not match preToken fragment '${t}'`)};var CE={constructorForFragment:g9,preTokenObjectForFragment:_te};const wte=Bt,{lexingRegexes:Tte,mainRegex:$te}=rl,{preTokenObjectForFragment:Bte}=CE,Ite=(t,e)=>{const r=wte.match(t,$te,"all");for(let n=0;n<r.length;n++)e.parseItem(Bte(r[n],Tte))};var Pte={parseUsfm:Ite},A9={},xn={},kte={get exports(){return xn},set exports(t){xn=t}},Qi=typeof Reflect=="object"?Reflect:null,l8=Qi&&typeof Qi.apply=="function"?Qi.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},r1;Qi&&typeof Qi.ownKeys=="function"?r1=Qi.ownKeys:Object.getOwnPropertySymbols?r1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:r1=function(e){return Object.getOwnPropertyNames(e)};function Ote(t){console&&console.warn&&console.warn(t)}var S9=Number.isNaN||function(e){return e!==e};function It(){It.init.call(this)}kte.exports=It;xn.once=xte;It.EventEmitter=It;It.prototype._events=void 0;It.prototype._eventsCount=0;It.prototype._maxListeners=void 0;var f8=10;function m0(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(It,"defaultMaxListeners",{enumerable:!0,get:function(){return f8},set:function(t){if(typeof t!="number"||t<0||S9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");f8=t}});It.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};It.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||S9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function F9(t){return t._maxListeners===void 0?It.defaultMaxListeners:t._maxListeners}It.prototype.getMaxListeners=function(){return F9(this)};It.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var u=e==="error",s=this._events;if(s!==void 0)u=u&&s.error===void 0;else if(!u)return!1;if(u){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var a=s[e];if(a===void 0)return!1;if(typeof a=="function")l8(a,this,r);else for(var c=a.length,l=T9(a,c),n=0;n<c;++n)l8(l[n],this,r);return!0};function b9(t,e,r,n){var u,s,i;if(m0(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),i=s[e]),i===void 0)i=s[e]=r,++t._eventsCount;else if(typeof i=="function"?i=s[e]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),u=F9(t),u>0&&i.length>u&&!i.warned){i.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=i.length,Ote(o)}return t}It.prototype.addListener=function(e,r){return b9(this,e,r,!1)};It.prototype.on=It.prototype.addListener;It.prototype.prependListener=function(e,r){return b9(this,e,r,!0)};function Nte(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C9(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},u=Nte.bind(n);return u.listener=r,n.wrapFn=u,u}It.prototype.once=function(e,r){return m0(r),this.on(e,C9(this,e,r)),this};It.prototype.prependOnceListener=function(e,r){return m0(r),this.prependListener(e,C9(this,e,r)),this};It.prototype.removeListener=function(e,r){var n,u,s,i,o;if(m0(r),u=this._events,u===void 0)return this;if(n=u[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[e],u.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){o=n[i].listener,s=i;break}if(s<0)return this;s===0?n.shift():Rte(n,s),n.length===1&&(u[e]=n[0]),u.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};It.prototype.off=It.prototype.removeListener;It.prototype.removeAllListeners=function(e){var r,n,u;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),i;for(u=0;u<s.length;++u)i=s[u],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(e,r[u]);return this};function _9(t,e,r){var n=t._events;if(n===void 0)return[];var u=n[e];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?qte(u):T9(u,u.length)}It.prototype.listeners=function(e){return _9(this,e,!0)};It.prototype.rawListeners=function(e){return _9(this,e,!1)};It.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):w9.call(t,e)};It.prototype.listenerCount=w9;function w9(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}It.prototype.eventNames=function(){return this._eventsCount>0?r1(this._events):[]};function T9(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Rte(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function qte(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function xte(t,e){return new Promise(function(r,n){function u(i){t.removeListener(e,s),n(i)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",u),r([].slice.call(arguments))}$9(t,e,s,{once:!0}),e!=="error"&&Mte(t,u,{once:!0})})}function Mte(t,e,r){typeof t.on=="function"&&$9(t,"error",e,r)}function $9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function u(s){n.once&&t.removeEventListener(e,u),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ku={},B9={},I9=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var u=42;e[r]=u;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,r);if(i.value!==u||i.enumerable!==!0)return!1}return!0},jte=I9,D0=function(){return jte()&&!!Symbol.toStringTag},d8=typeof Symbol<"u"&&Symbol,Lte=I9,Gte=function(){return typeof d8!="function"||typeof Symbol!="function"||typeof d8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Lte()},Vte="Function.prototype.bind called on incompatible ",Hh=Array.prototype.slice,Ute=Object.prototype.toString,Kte="[object Function]",Jte=function(e){var r=this;if(typeof r!="function"||Ute.call(r)!==Kte)throw new TypeError(Vte+r);for(var n=Hh.call(arguments,1),u,s=function(){if(this instanceof u){var l=r.apply(this,n.concat(Hh.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(Hh.call(arguments)))},i=Math.max(0,r.length-n.length),o=[],a=0;a<i;a++)o.push("$"+a);if(u=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,u.prototype=new c,c.prototype=null}return u},Hte=Jte,_E=Function.prototype.bind||Hte,Wte=_E,zte=Wte.call(Function.call,Object.prototype.hasOwnProperty),mt,oo=SyntaxError,P9=Function,Yi=TypeError,Wh=function(t){try{return P9('"use strict"; return ('+t+").constructor;")()}catch{}},ti=Object.getOwnPropertyDescriptor;if(ti)try{ti({},"")}catch{ti=null}var zh=function(){throw new Yi},Qte=ti?function(){try{return arguments.callee,zh}catch{try{return ti(arguments,"callee").get}catch{return zh}}}():zh,$i=Gte(),tu=Object.getPrototypeOf||function(t){return t.__proto__},Gi={},Yte=typeof Uint8Array>"u"?mt:tu(Uint8Array),ri={"%AggregateError%":typeof AggregateError>"u"?mt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?mt:ArrayBuffer,"%ArrayIteratorPrototype%":$i?tu([][Symbol.iterator]()):mt,"%AsyncFromSyncIteratorPrototype%":mt,"%AsyncFunction%":Gi,"%AsyncGenerator%":Gi,"%AsyncGeneratorFunction%":Gi,"%AsyncIteratorPrototype%":Gi,"%Atomics%":typeof Atomics>"u"?mt:Atomics,"%BigInt%":typeof BigInt>"u"?mt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?mt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?mt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?mt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?mt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?mt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?mt:FinalizationRegistry,"%Function%":P9,"%GeneratorFunction%":Gi,"%Int8Array%":typeof Int8Array>"u"?mt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?mt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?mt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$i?tu(tu([][Symbol.iterator]())):mt,"%JSON%":typeof JSON=="object"?JSON:mt,"%Map%":typeof Map>"u"?mt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$i?mt:tu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?mt:Promise,"%Proxy%":typeof Proxy>"u"?mt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?mt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?mt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$i?mt:tu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?mt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$i?tu(""[Symbol.iterator]()):mt,"%Symbol%":$i?Symbol:mt,"%SyntaxError%":oo,"%ThrowTypeError%":Qte,"%TypedArray%":Yte,"%TypeError%":Yi,"%Uint8Array%":typeof Uint8Array>"u"?mt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?mt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?mt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?mt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?mt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?mt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?mt:WeakSet};try{null.error}catch(t){var Xte=tu(tu(t));ri["%Error.prototype%"]=Xte}var Zte=function t(e){var r;if(e==="%AsyncFunction%")r=Wh("async function () {}");else if(e==="%GeneratorFunction%")r=Wh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Wh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var u=t("%AsyncGenerator%");u&&(r=tu(u.prototype))}return ri[e]=r,r},p8={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nl=_E,Df=zte,ere=nl.call(Function.call,Array.prototype.concat),tre=nl.call(Function.apply,Array.prototype.splice),h8=nl.call(Function.call,String.prototype.replace),Ef=nl.call(Function.call,String.prototype.slice),rre=nl.call(Function.call,RegExp.prototype.exec),nre=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ure=/\\(\\)?/g,sre=function(e){var r=Ef(e,0,1),n=Ef(e,-1);if(r==="%"&&n!=="%")throw new oo("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new oo("invalid intrinsic syntax, expected opening `%`");var u=[];return h8(e,nre,function(s,i,o,a){u[u.length]=o?h8(a,ure,"$1"):i||s}),u},ire=function(e,r){var n=e,u;if(Df(p8,n)&&(u=p8[n],n="%"+u[0]+"%"),Df(ri,n)){var s=ri[n];if(s===Gi&&(s=Zte(n)),typeof s>"u"&&!r)throw new Yi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:u,name:n,value:s}}throw new oo("intrinsic "+e+" does not exist!")},wE=function(e,r){if(typeof e!="string"||e.length===0)throw new Yi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Yi('"allowMissing" argument must be a boolean');if(rre(/^%?[^%]*%?$/,e)===null)throw new oo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=sre(e),u=n.length>0?n[0]:"",s=ire("%"+u+"%",r),i=s.name,o=s.value,a=!1,c=s.alias;c&&(u=c[0],tre(n,ere([0,1],c)));for(var l=1,f=!0;l<n.length;l+=1){var d=n[l],p=Ef(d,0,1),h=Ef(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new oo("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(a=!0),u+="."+d,i="%"+u+"%",Df(ri,i))o=ri[i];else if(o!=null){if(!(d in o)){if(!r)throw new Yi("base intrinsic for "+e+" exists, but the property is not available.");return}if(ti&&l+1>=n.length){var v=ti(o,d);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?o=v.get:o=o[d]}else f=Df(o,d),o=o[d];f&&!a&&(ri[i]=o)}}return o},tm={},ore={get exports(){return tm},set exports(t){tm=t}};(function(t){var e=_E,r=wE,n=r("%Function.prototype.apply%"),u=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(u,n),i=r("%Object.getOwnPropertyDescriptor%",!0),o=r("%Object.defineProperty%",!0),a=r("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}t.exports=function(f){var d=s(e,u,arguments);if(i&&o){var p=i(d,"length");p.configurable&&o(d,"length",{value:1+a(0,f.length-(arguments.length-1))})}return d};var c=function(){return s(e,n,arguments)};o?o(t.exports,"apply",{value:c}):t.exports.apply=c})(ore);var k9=wE,O9=tm,are=O9(k9("String.prototype.indexOf")),TE=function(e,r){var n=k9(e,!!r);return typeof n=="function"&&are(e,".prototype.")>-1?O9(n):n},cre=D0(),lre=TE,rm=lre("Object.prototype.toString"),E0=function(e){return cre&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:rm(e)==="[object Arguments]"},N9=function(e){return E0(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&rm(e)!=="[object Array]"&&rm(e.callee)==="[object Function]"},fre=function(){return E0(arguments)}();E0.isLegacyArguments=N9;var dre=fre?E0:N9,pre=Object.prototype.toString,hre=Function.prototype.toString,mre=/^\s*(?:function)?\*/,R9=D0(),Qh=Object.getPrototypeOf,Dre=function(){if(!R9)return!1;try{return Function("return function*() {}")()}catch{}},Yh,Ere=function(e){if(typeof e!="function")return!1;if(mre.test(hre.call(e)))return!0;if(!R9){var r=pre.call(e);return r==="[object GeneratorFunction]"}if(!Qh)return!1;if(typeof Yh>"u"){var n=Dre();Yh=n?Qh(n):!1}return Qh(e)===Yh},q9=Function.prototype.toString,Ki=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,nm,n1;if(typeof Ki=="function"&&typeof Object.defineProperty=="function")try{nm=Object.defineProperty({},"length",{get:function(){throw n1}}),n1={},Ki(function(){throw 42},null,nm)}catch(t){t!==n1&&(Ki=null)}else Ki=null;var yre=/^\s*class\b/,um=function(e){try{var r=q9.call(e);return yre.test(r)}catch{return!1}},Xh=function(e){try{return um(e)?!1:(q9.call(e),!0)}catch{return!1}},u1=Object.prototype.toString,vre="[object Object]",gre="[object Function]",Are="[object GeneratorFunction]",Sre="[object HTMLAllCollection]",Fre="[object HTML document.all class]",bre="[object HTMLCollection]",Cre=typeof Symbol=="function"&&!!Symbol.toStringTag,_re=!(0 in[,]),sm=function(){return!1};if(typeof document=="object"){var wre=document.all;u1.call(wre)===u1.call(document.all)&&(sm=function(e){if((_re||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=u1.call(e);return(r===Sre||r===Fre||r===bre||r===vre)&&e("")==null}catch{}return!1})}var Tre=Ki?function(e){if(sm(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ki(e,null,nm)}catch(r){if(r!==n1)return!1}return!um(e)&&Xh(e)}:function(e){if(sm(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Cre)return Xh(e);if(um(e))return!1;var r=u1.call(e);return r!==gre&&r!==Are&&!/^\[object HTML/.test(r)?!1:Xh(e)},$re=Tre,Bre=Object.prototype.toString,x9=Object.prototype.hasOwnProperty,Ire=function(e,r,n){for(var u=0,s=e.length;u<s;u++)x9.call(e,u)&&(n==null?r(e[u],u,e):r.call(n,e[u],u,e))},Pre=function(e,r,n){for(var u=0,s=e.length;u<s;u++)n==null?r(e.charAt(u),u,e):r.call(n,e.charAt(u),u,e)},kre=function(e,r,n){for(var u in e)x9.call(e,u)&&(n==null?r(e[u],u,e):r.call(n,e[u],u,e))},Ore=function(e,r,n){if(!$re(r))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),Bre.call(e)==="[object Array]"?Ire(e,r,u):typeof e=="string"?Pre(e,r,u):kre(e,r,u)},M9=Ore,Zh=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Nre=typeof globalThis>"u"?qn:globalThis,j9=function(){for(var e=[],r=0;r<Zh.length;r++)typeof Nre[Zh[r]]=="function"&&(e[e.length]=Zh[r]);return e},Rre=wE,s1=Rre("%Object.getOwnPropertyDescriptor%",!0);if(s1)try{s1([],"length")}catch{s1=null}var L9=s1,G9=M9,qre=j9,$E=TE,xre=$E("Object.prototype.toString"),V9=D0(),i1=L9,Mre=typeof globalThis>"u"?qn:globalThis,U9=qre(),jre=$E("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Lre=$E("String.prototype.slice"),K9={},e2=Object.getPrototypeOf;V9&&i1&&e2&&G9(U9,function(t){var e=new Mre[t];if(Symbol.toStringTag in e){var r=e2(e),n=i1(r,Symbol.toStringTag);if(!n){var u=e2(r);n=i1(u,Symbol.toStringTag)}K9[t]=n.get}});var Gre=function(e){var r=!1;return G9(K9,function(n,u){if(!r)try{r=n.call(e)===u}catch{}}),r},J9=function(e){if(!e||typeof e!="object")return!1;if(!V9||!(Symbol.toStringTag in e)){var r=Lre(xre(e),8,-1);return jre(U9,r)>-1}return i1?Gre(e):!1},H9=M9,Vre=j9,W9=TE,t2=L9,Ure=W9("Object.prototype.toString"),z9=D0(),m8=typeof globalThis>"u"?qn:globalThis,Kre=Vre(),Jre=W9("String.prototype.slice"),Q9={},r2=Object.getPrototypeOf;z9&&t2&&r2&&H9(Kre,function(t){if(typeof m8[t]=="function"){var e=new m8[t];if(Symbol.toStringTag in e){var r=r2(e),n=t2(r,Symbol.toStringTag);if(!n){var u=r2(r);n=t2(u,Symbol.toStringTag)}Q9[t]=n.get}}});var Hre=function(e){var r=!1;return H9(Q9,function(n,u){if(!r)try{var s=n.call(e);s===u&&(r=s)}catch{}}),r},Wre=J9,zre=function(e){return Wre(e)?!z9||!(Symbol.toStringTag in e)?Jre(Ure(e),8,-1):Hre(e):!1};(function(t){var e=dre,r=Ere,n=zre,u=J9;function s(ce){return ce.call.bind(ce)}var i=typeof BigInt<"u",o=typeof Symbol<"u",a=s(Object.prototype.toString),c=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(i)var d=s(BigInt.prototype.valueOf);if(o)var p=s(Symbol.prototype.valueOf);function h(ce,me){if(typeof ce!="object")return!1;try{return me(ce),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=u;function v(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}t.isPromise=v;function S(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):u(ce)||C(ce)}t.isArrayBufferView=S;function D(ce){return n(ce)==="Uint8Array"}t.isUint8Array=D;function g(ce){return n(ce)==="Uint8ClampedArray"}t.isUint8ClampedArray=g;function F(ce){return n(ce)==="Uint16Array"}t.isUint16Array=F;function I(ce){return n(ce)==="Uint32Array"}t.isUint32Array=I;function k(ce){return n(ce)==="Int8Array"}t.isInt8Array=k;function B(ce){return n(ce)==="Int16Array"}t.isInt16Array=B;function O(ce){return n(ce)==="Int32Array"}t.isInt32Array=O;function M(ce){return n(ce)==="Float32Array"}t.isFloat32Array=M;function y(ce){return n(ce)==="Float64Array"}t.isFloat64Array=y;function P(ce){return n(ce)==="BigInt64Array"}t.isBigInt64Array=P;function L(ce){return n(ce)==="BigUint64Array"}t.isBigUint64Array=L;function U(ce){return a(ce)==="[object Map]"}U.working=typeof Map<"u"&&U(new Map);function Y(ce){return typeof Map>"u"?!1:U.working?U(ce):ce instanceof Map}t.isMap=Y;function H(ce){return a(ce)==="[object Set]"}H.working=typeof Set<"u"&&H(new Set);function se(ce){return typeof Set>"u"?!1:H.working?H(ce):ce instanceof Set}t.isSet=se;function fe(ce){return a(ce)==="[object WeakMap]"}fe.working=typeof WeakMap<"u"&&fe(new WeakMap);function K(ce){return typeof WeakMap>"u"?!1:fe.working?fe(ce):ce instanceof WeakMap}t.isWeakMap=K;function z(ce){return a(ce)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function te(ce){return z(ce)}t.isWeakSet=te;function V(ce){return a(ce)==="[object ArrayBuffer]"}V.working=typeof ArrayBuffer<"u"&&V(new ArrayBuffer);function N(ce){return typeof ArrayBuffer>"u"?!1:V.working?V(ce):ce instanceof ArrayBuffer}t.isArrayBuffer=N;function A(ce){return a(ce)==="[object DataView]"}A.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&A(new DataView(new ArrayBuffer(1),0,1));function C(ce){return typeof DataView>"u"?!1:A.working?A(ce):ce instanceof DataView}t.isDataView=C;var E=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function _(ce){return a(ce)==="[object SharedArrayBuffer]"}function R(ce){return typeof E>"u"?!1:(typeof _.working>"u"&&(_.working=_(new E)),_.working?_(ce):ce instanceof E)}t.isSharedArrayBuffer=R;function b(ce){return a(ce)==="[object AsyncFunction]"}t.isAsyncFunction=b;function T(ce){return a(ce)==="[object Map Iterator]"}t.isMapIterator=T;function j(ce){return a(ce)==="[object Set Iterator]"}t.isSetIterator=j;function q(ce){return a(ce)==="[object Generator]"}t.isGeneratorObject=q;function X(ce){return a(ce)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=X;function ie(ce){return h(ce,c)}t.isNumberObject=ie;function Ee(ce){return h(ce,l)}t.isStringObject=Ee;function Be(ce){return h(ce,f)}t.isBooleanObject=Be;function Ve(ce){return i&&h(ce,d)}t.isBigIntObject=Ve;function We(ce){return o&&h(ce,p)}t.isSymbolObject=We;function He(ce){return ie(ce)||Ee(ce)||Be(ce)||Ve(ce)||We(ce)}t.isBoxedPrimitive=He;function ke(ce){return typeof Uint8Array<"u"&&(N(ce)||R(ce))}t.isAnyArrayBuffer=ke,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(t,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})})(B9);var Qre=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},im={},D8={get exports(){return im},set exports(t){im=t}};typeof Object.create=="function"?D8.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:D8.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(C){for(var E=Object.keys(C),_={},R=0;R<E.length;R++)_[E[R]]=Object.getOwnPropertyDescriptor(C,E[R]);return _},r=/%[sdj%]/g;t.format=function(A){if(!k(A)){for(var C=[],E=0;E<arguments.length;E++)C.push(i(arguments[E]));return C.join(" ")}for(var E=1,_=arguments,R=_.length,b=String(A).replace(r,function(j){if(j==="%%")return"%";if(E>=R)return j;switch(j){case"%s":return String(_[E++]);case"%d":return Number(_[E++]);case"%j":try{return JSON.stringify(_[E++])}catch{return"[Circular]"}default:return j}}),T=_[E];E<R;T=_[++E])g(T)||!y(T)?b+=" "+T:b+=" "+i(T);return b},t.deprecate=function(A,C){if(typeof Vt<"u"&&Vt.noDeprecation===!0)return A;if(typeof Vt>"u")return function(){return t.deprecate(A,C).apply(this,arguments)};var E=!1;function _(){if(!E){if(Vt.throwDeprecation)throw new Error(C);Vt.traceDeprecation?console.trace(C):console.error(C),E=!0}return A.apply(this,arguments)}return _};var n={},u=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+s+"$","i")}t.debuglog=function(A){if(A=A.toUpperCase(),!n[A])if(u.test(A)){var C=Vt.pid;n[A]=function(){var E=t.format.apply(t,arguments);console.error("%s %d: %s",A,C,E)}}else n[A]=function(){};return n[A]};function i(A,C){var E={seen:[],stylize:a};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),D(C)?E.showHidden=C:C&&t._extend(E,C),O(E.showHidden)&&(E.showHidden=!1),O(E.depth)&&(E.depth=2),O(E.colors)&&(E.colors=!1),O(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=o),l(E,A,E.depth)}t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(A,C){var E=i.styles[C];return E?"\x1B["+i.colors[E][0]+"m"+A+"\x1B["+i.colors[E][1]+"m":A}function a(A,C){return A}function c(A){var C={};return A.forEach(function(E,_){C[E]=!0}),C}function l(A,C,E){if(A.customInspect&&C&&U(C.inspect)&&C.inspect!==t.inspect&&!(C.constructor&&C.constructor.prototype===C)){var _=C.inspect(E,A);return k(_)||(_=l(A,_,E)),_}var R=f(A,C);if(R)return R;var b=Object.keys(C),T=c(b);if(A.showHidden&&(b=Object.getOwnPropertyNames(C)),L(C)&&(b.indexOf("message")>=0||b.indexOf("description")>=0))return d(C);if(b.length===0){if(U(C)){var j=C.name?": "+C.name:"";return A.stylize("[Function"+j+"]","special")}if(M(C))return A.stylize(RegExp.prototype.toString.call(C),"regexp");if(P(C))return A.stylize(Date.prototype.toString.call(C),"date");if(L(C))return d(C)}var q="",X=!1,ie=["{","}"];if(S(C)&&(X=!0,ie=["[","]"]),U(C)){var Ee=C.name?": "+C.name:"";q=" [Function"+Ee+"]"}if(M(C)&&(q=" "+RegExp.prototype.toString.call(C)),P(C)&&(q=" "+Date.prototype.toUTCString.call(C)),L(C)&&(q=" "+d(C)),b.length===0&&(!X||C.length==0))return ie[0]+q+ie[1];if(E<0)return M(C)?A.stylize(RegExp.prototype.toString.call(C),"regexp"):A.stylize("[Object]","special");A.seen.push(C);var Be;return X?Be=p(A,C,E,T,b):Be=b.map(function(Ve){return h(A,C,E,T,Ve,X)}),A.seen.pop(),v(Be,q,ie)}function f(A,C){if(O(C))return A.stylize("undefined","undefined");if(k(C)){var E="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(E,"string")}if(I(C))return A.stylize(""+C,"number");if(D(C))return A.stylize(""+C,"boolean");if(g(C))return A.stylize("null","null")}function d(A){return"["+Error.prototype.toString.call(A)+"]"}function p(A,C,E,_,R){for(var b=[],T=0,j=C.length;T<j;++T)z(C,String(T))?b.push(h(A,C,E,_,String(T),!0)):b.push("");return R.forEach(function(q){q.match(/^\d+$/)||b.push(h(A,C,E,_,q,!0))}),b}function h(A,C,E,_,R,b){var T,j,q;if(q=Object.getOwnPropertyDescriptor(C,R)||{value:C[R]},q.get?q.set?j=A.stylize("[Getter/Setter]","special"):j=A.stylize("[Getter]","special"):q.set&&(j=A.stylize("[Setter]","special")),z(_,R)||(T="["+R+"]"),j||(A.seen.indexOf(q.value)<0?(g(E)?j=l(A,q.value,null):j=l(A,q.value,E-1),j.indexOf(`
`)>-1&&(b?j=j.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(X){return"   "+X}).join(`
`))):j=A.stylize("[Circular]","special")),O(T)){if(b&&R.match(/^\d+$/))return j;T=JSON.stringify(""+R),T.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(T=T.slice(1,-1),T=A.stylize(T,"name")):(T=T.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),T=A.stylize(T,"string"))}return T+": "+j}function v(A,C,E){var _=A.reduce(function(R,b){return b.indexOf(`
`)>=0,R+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _>60?E[0]+(C===""?"":C+`
 `)+" "+A.join(`,
  `)+" "+E[1]:E[0]+C+" "+A.join(", ")+" "+E[1]}t.types=B9;function S(A){return Array.isArray(A)}t.isArray=S;function D(A){return typeof A=="boolean"}t.isBoolean=D;function g(A){return A===null}t.isNull=g;function F(A){return A==null}t.isNullOrUndefined=F;function I(A){return typeof A=="number"}t.isNumber=I;function k(A){return typeof A=="string"}t.isString=k;function B(A){return typeof A=="symbol"}t.isSymbol=B;function O(A){return A===void 0}t.isUndefined=O;function M(A){return y(A)&&H(A)==="[object RegExp]"}t.isRegExp=M,t.types.isRegExp=M;function y(A){return typeof A=="object"&&A!==null}t.isObject=y;function P(A){return y(A)&&H(A)==="[object Date]"}t.isDate=P,t.types.isDate=P;function L(A){return y(A)&&(H(A)==="[object Error]"||A instanceof Error)}t.isError=L,t.types.isNativeError=L;function U(A){return typeof A=="function"}t.isFunction=U;function Y(A){return A===null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||typeof A=="symbol"||typeof A>"u"}t.isPrimitive=Y,t.isBuffer=Qre;function H(A){return Object.prototype.toString.call(A)}function se(A){return A<10?"0"+A.toString(10):A.toString(10)}var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var A=new Date,C=[se(A.getHours()),se(A.getMinutes()),se(A.getSeconds())].join(":");return[A.getDate(),fe[A.getMonth()],C].join(" ")}t.log=function(){console.log("%s - %s",K(),t.format.apply(t,arguments))},t.inherits=im,t._extend=function(A,C){if(!C||!y(C))return A;for(var E=Object.keys(C),_=E.length;_--;)A[E[_]]=C[E[_]];return A};function z(A,C){return Object.prototype.hasOwnProperty.call(A,C)}var te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(te&&C[te]){var E=C[te];if(typeof E!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(E,te,{value:E,enumerable:!1,writable:!1,configurable:!0}),E}function E(){for(var _,R,b=new Promise(function(q,X){_=q,R=X}),T=[],j=0;j<arguments.length;j++)T.push(arguments[j]);T.push(function(q,X){q?R(q):_(X)});try{C.apply(this,T)}catch(q){R(q)}return b}return Object.setPrototypeOf(E,Object.getPrototypeOf(C)),te&&Object.defineProperty(E,te,{value:E,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(E,e(C))},t.promisify.custom=te;function V(A,C){if(!A){var E=new Error("Promise was rejected with a falsy value");E.reason=A,A=E}return C(A)}function N(A){if(typeof A!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var E=[],_=0;_<arguments.length;_++)E.push(arguments[_]);var R=E.pop();if(typeof R!="function")throw new TypeError("The last argument must be of type Function");var b=this,T=function(){return R.apply(b,arguments)};A.apply(this,E).then(function(j){Vt.nextTick(T.bind(null,null,j))},function(j){Vt.nextTick(V.bind(null,j,T))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(A)),Object.defineProperties(C,e(A)),C}t.callbackify=N})(Ku);function pi(){this.head=null,this.tail=null,this.length=0}pi.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length};pi.prototype.unshift=function(t){var e={data:t,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length};pi.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}};pi.prototype.clear=function(){this.head=this.tail=null,this.length=0};pi.prototype.join=function(t){if(this.length===0)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r};pi.prototype.concat=function(t){if(this.length===0)return sr.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var e=sr.Buffer.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var n2={},Za={},Yre={get exports(){return Za},set exports(t){Za=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E8;function Xre(){return E8||(E8=1,function(t,e){var r=sr,n=r.Buffer;function u(i,o){for(var a in i)o[a]=i[a]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(u(r,e),e.Buffer=s);function s(i,o,a){return n(i,o,a)}s.prototype=Object.create(n.prototype),u(n,s),s.from=function(i,o,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,o,a)},s.alloc=function(i,o,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var c=n(i);return o!==void 0?typeof a=="string"?c.fill(o,a):c.fill(o):c.fill(0),c},s.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},s.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)}}(Yre,Za)),Za}var y8;function Y9(){if(y8)return n2;y8=1;var t=Xre().Buffer,e=t.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(D){if(!D)return"utf8";for(var g;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(g)return;D=(""+D).toLowerCase(),g=!0}}function n(D){var g=r(D);if(typeof g!="string"&&(t.isEncoding===e||!e(D)))throw new Error("Unknown encoding: "+D);return g||D}n2.StringDecoder=u;function u(D){this.encoding=n(D);var g;switch(this.encoding){case"utf16le":this.text=f,this.end=d,g=4;break;case"utf8":this.fillLast=a,g=4;break;case"base64":this.text=p,this.end=h,g=3;break;default:this.write=v,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(g)}u.prototype.write=function(D){if(D.length===0)return"";var g,F;if(this.lastNeed){if(g=this.fillLast(D),g===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<D.length?g?g+this.text(D,F):this.text(D,F):g||""},u.prototype.end=l,u.prototype.text=c,u.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function s(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function i(D,g,F){var I=g.length-1;if(I<F)return 0;var k=s(g[I]);return k>=0?(k>0&&(D.lastNeed=k-1),k):--I<F||k===-2?0:(k=s(g[I]),k>=0?(k>0&&(D.lastNeed=k-2),k):--I<F||k===-2?0:(k=s(g[I]),k>=0?(k>0&&(k===2?k=0:D.lastNeed=k-3),k):0))}function o(D,g,F){if((g[0]&192)!==128)return D.lastNeed=0,"";if(D.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return D.lastNeed=1,"";if(D.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return D.lastNeed=2,""}}function a(D){var g=this.lastTotal-this.lastNeed,F=o(this,D);if(F!==void 0)return F;if(this.lastNeed<=D.length)return D.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,g,0,D.length),this.lastNeed-=D.length}function c(D,g){var F=i(this,D,g);if(!this.lastNeed)return D.toString("utf8",g);this.lastTotal=F;var I=D.length-(F-this.lastNeed);return D.copy(this.lastChar,0,I),D.toString("utf8",g,I)}function l(D){var g=D&&D.length?this.write(D):"";return this.lastNeed?g+"":g}function f(D,g){if((D.length-g)%2===0){var F=D.toString("utf16le",g);if(F){var I=F.charCodeAt(F.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",g,D.length-1)}function d(D){var g=D&&D.length?this.write(D):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,F)}return g}function p(D,g){var F=(D.length-g)%3;return F===0?D.toString("base64",g):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",g,D.length-F))}function h(D){var g=D&&D.length?this.write(D):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function v(D){return D.toString(this.encoding)}function S(D){return D&&D.length?this.write(D):""}return n2}var X9=Y9();Kt.ReadableState=Z9;var wt=Ku.debuglog("stream");Ku.inherits(Kt,xn);function Zre(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function ene(t,e){return t.listeners(e).length}function Z9(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof un&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new pi,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new X9.StringDecoder(t.encoding),this.encoding=t.encoding)}function Kt(t){if(!(this instanceof Kt))return new Kt(t);this._readableState=new Z9(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),xn.call(this)}Kt.prototype.push=function(t,e){var r=this._readableState;return!r.objectMode&&typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=sr.Buffer.from(t,e),e="")),ew(this,r,t,e,!1)};Kt.prototype.unshift=function(t){var e=this._readableState;return ew(this,e,t,"",!0)};Kt.prototype.isPaused=function(){return this._readableState.flowing===!1};function ew(t,e,r,n,u){var s=nne(e,r);if(s)t.emit("error",s);else if(r===null)e.reading=!1,une(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!u){var i=new Error("stream.push() after EOF");t.emit("error",i)}else if(e.endEmitted&&u){var o=new Error("stream.unshift() after end event");t.emit("error",o)}else{var a;e.decoder&&!u&&!n&&(r=e.decoder.write(r),a=!e.objectMode&&r.length===0),u||(e.reading=!1),a||(e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,u?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&y0(t))),sne(t,e)}else u||(e.reading=!1);return tne(e)}function tne(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Kt.prototype.setEncoding=function(t){return this._readableState.decoder=new X9.StringDecoder(t),this._readableState.encoding=t,this};var v8=8388608;function rne(t){return t>=v8?t=v8:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function g8(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=rne(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Kt.prototype.read=function(t){wt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return wt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?u2(this):y0(this),null;if(t=g8(t,e),t===0&&e.ended)return e.length===0&&u2(this),null;var n=e.needReadable;wt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,wt("length less than watermark",n)),e.ended||e.reading?(n=!1,wt("reading or ended",n)):n&&(wt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=g8(r,e)));var u;return t>0?u=tw(t,e):u=null,u===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&u2(this)),u!==null&&this.emit("data",u),u};function nne(t,e){var r=null;return!sr.Buffer.isBuffer(e)&&typeof e!="string"&&e!==null&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function une(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,y0(t)}}function y0(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(wt("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Vt.nextTick(A8,t):A8(t))}function A8(t){wt("emit readable"),t.emit("readable"),BE(t)}function sne(t,e){e.readingMore||(e.readingMore=!0,Vt.nextTick(ine,t,e))}function ine(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(wt("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Kt.prototype._read=function(t){this.emit("error",new Error("not implemented"))};Kt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,wt("pipe count=%d opts=%j",n.pipesCount,e);var u=!e||e.end!==!1,s=u?o:l;n.endEmitted?Vt.nextTick(s):r.once("end",s),t.on("unpipe",i);function i(D){wt("onunpipe"),D===r&&l()}function o(){wt("onend"),t.end()}var a=one(r);t.on("drain",a);var c=!1;function l(){wt("cleanup"),t.removeListener("close",h),t.removeListener("finish",v),t.removeListener("drain",a),t.removeListener("error",p),t.removeListener("unpipe",i),r.removeListener("end",o),r.removeListener("end",l),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&a()}var f=!1;r.on("data",d);function d(D){wt("ondata"),f=!1;var g=t.write(D);g===!1&&!f&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&rw(n.pipes,t)!==-1)&&!c&&(wt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function p(D){wt("onerror",D),S(),t.removeListener("error",p),ene(t,"error")===0&&t.emit("error",D)}Zre(t,"error",p);function h(){t.removeListener("finish",v),S()}t.once("close",h);function v(){wt("onfinish"),t.removeListener("close",h),S()}t.once("finish",v);function S(){wt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(wt("pipe resume"),r.resume()),t};function one(t){return function(){var e=t._readableState;wt("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&t.listeners("data").length&&(e.flowing=!0,BE(t))}}Kt.prototype.unpipe=function(t){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var u=0;u<n;u++)r[u].emit("unpipe",this);return this}var s=rw(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)};Kt.prototype.on=function(t,e){var r=xn.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&y0(this):Vt.nextTick(ane,this))}return r};Kt.prototype.addListener=Kt.prototype.on;function ane(t){wt("readable nexttick read 0"),t.read(0)}Kt.prototype.resume=function(){var t=this._readableState;return t.flowing||(wt("resume"),t.flowing=!0,cne(this,t)),this};function cne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Vt.nextTick(lne,t,e))}function lne(t,e){e.reading||(wt("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),BE(t),e.flowing&&!e.reading&&t.read(0)}Kt.prototype.pause=function(){return wt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(wt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function BE(t){var e=t._readableState;for(wt("flow",e.flowing);e.flowing&&t.read()!==null;);}Kt.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(wt("wrapped end"),e.decoder&&!e.ended){var i=e.decoder.end();i&&i.length&&n.push(i)}n.push(null)}),t.on("data",function(i){if(wt("wrapped data"),e.decoder&&(i=e.decoder.write(i)),!(e.objectMode&&i==null)&&!(!e.objectMode&&(!i||!i.length))){var o=n.push(i);o||(r=!0,t.pause())}});for(var u in t)this[u]===void 0&&typeof t[u]=="function"&&(this[u]=function(i){return function(){return t[i].apply(t,arguments)}}(u));var s=["error","close","destroy","pause","resume"];return mne(s,function(i){t.on(i,n.emit.bind(n,i))}),n._read=function(i){wt("wrapped _read",i),r&&(r=!1,t.resume())},n};Kt._fromList=tw;function tw(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=fne(t,e.buffer,e.decoder),r}function fne(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?dne(t,e):pne(t,e),n}function dne(t,e){var r=e.head,n=1,u=r.data;for(t-=u.length;r=r.next;){var s=r.data,i=t>s.length?s.length:t;if(i===s.length?u+=s:u+=s.slice(0,t),t-=i,t===0){i===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(i));break}++n}return e.length-=n,u}function pne(t,e){var r=sr.Buffer.allocUnsafe(t),n=e.head,u=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,i=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,i),t-=i,t===0){i===s.length?(++u,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(i));break}++u}return e.length-=u,r}function u2(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Vt.nextTick(hne,e,t))}function hne(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function mne(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function rw(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}$r.WritableState=IE;Ku.inherits($r,xn.EventEmitter);function Dne(){}function Ene(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function IE(t,e){Object.defineProperty(this,"buffer",{get:Ku.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof un&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var u=t.decodeStrings===!1;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){bne(e,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new iw(this)}IE.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};function $r(t){if(!(this instanceof $r)&&!(this instanceof un))return new $r(t);this._writableState=new IE(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),xn.EventEmitter.call(this)}$r.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function yne(t,e){var r=new Error("write after end");t.emit("error",r),Vt.nextTick(e,r)}function vne(t,e,r,n){var u=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!sr.Buffer.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Vt.nextTick(n,s),u=!1),u}$r.prototype.write=function(t,e,r){var n=this._writableState,u=!1;return typeof e=="function"&&(r=e,e=null),sr.Buffer.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Dne),n.ended?yne(this,r):vne(this,n,t,r)&&(n.pendingcb++,u=Ane(this,n,t,e,r)),u};$r.prototype.cork=function(){var t=this._writableState;t.corked++};$r.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&nw(this,t))};$r.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function gne(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=sr.Buffer.from(e,r)),e}function Ane(t,e,r,n,u){r=gne(e,r,n),sr.Buffer.isBuffer(r)&&(n="buffer");var s=e.objectMode?1:r.length;e.length+=s;var i=e.length<e.highWaterMark;if(i||(e.needDrain=!0),e.writing||e.corked){var o=e.lastBufferedRequest;e.lastBufferedRequest=new Ene(r,n,u),o?o.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else om(t,e,!1,s,r,n,u);return i}function om(t,e,r,n,u,s,i){e.writelen=n,e.writecb=i,e.writing=!0,e.sync=!0,r?t._writev(u,e.onwrite):t._write(u,s,e.onwrite),e.sync=!1}function Sne(t,e,r,n,u){--e.pendingcb,r?Vt.nextTick(u,n):u(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function Fne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function bne(t,e){var r=t._writableState,n=r.sync,u=r.writecb;if(Fne(r),e)Sne(t,r,n,e,u);else{var s=uw(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&nw(t,r),n?Vt.nextTick(S8,t,r,s,u):S8(t,r,s,u)}}function S8(t,e,r,n){r||Cne(t,e),e.pendingcb--,n(),sw(t,e)}function Cne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function nw(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,u=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var i=0;r;)u[i]=r,r=r.next,i+=1;om(t,e,!0,e.length,u,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new iw(e)}else{for(;r;){var o=r.chunk,a=r.encoding,c=r.callback,l=e.objectMode?1:o.length;if(om(t,e,!1,l,o,a,c),r=r.next,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}$r.prototype._write=function(t,e,r){r(new Error("not implemented"))};$r.prototype._writev=null;$r.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&_ne(this,n,r)};function uw(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function F8(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function sw(t,e){var r=uw(e);return r&&(e.pendingcb===0?(F8(t,e),e.finished=!0,t.emit("finish")):F8(t,e)),r}function _ne(t,e,r){e.ending=!0,sw(t,e),r&&(e.finished?Vt.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function iw(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var u=n.callback;t.pendingcb--,u(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Ku.inherits(un,Kt);var b8=Object.keys($r.prototype);for(var s2=0;s2<b8.length;s2++){var i2=b8[s2];un.prototype[i2]||(un.prototype[i2]=$r.prototype[i2])}function un(t){if(!(this instanceof un))return new un(t);Kt.call(this,t),$r.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",wne)}function wne(){this.allowHalfOpen||this._writableState.ended||Vt.nextTick(Tne,this)}function Tne(t){t.end()}Ku.inherits(Mn,un);function $ne(t){this.afterTransform=function(e,r){return Bne(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Bne(t,e,r){var n=t._transformState;n.transforming=!1;var u=n.writecb;if(!u)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&t.push(r),u(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function Mn(t){if(!(this instanceof Mn))return new Mn(t);un.call(this,t),this._transformState=new $ne(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){C8(e,r)}):C8(e)})}Mn.prototype.push=function(t,e){return this._transformState.needTransform=!1,un.prototype.push.call(this,t,e)};Mn.prototype._transform=function(t,e,r){throw new Error("Not implemented")};Mn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var u=this._readableState;(n.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}};Mn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};function C8(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}Ku.inherits(ao,Mn);function ao(t){if(!(this instanceof ao))return new ao(t);Mn.call(this,t)}ao.prototype._transform=function(t,e,r){r(null,t)};Ku.inherits(jn,xn);jn.Readable=Kt;jn.Writable=$r;jn.Duplex=un;jn.Transform=Mn;jn.PassThrough=ao;jn.Stream=jn;function jn(){xn.call(this)}jn.prototype.pipe=function(t,e){var r=this;function n(l){t.writable&&t.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function u(){r.readable&&r.resume&&r.resume()}t.on("drain",u),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",i),r.on("close",o));var s=!1;function i(){s||(s=!0,t.end())}function o(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function a(l){if(c(),xn.listenerCount(this,"error")===0)throw l}r.on("error",a),t.on("error",a);function c(){r.removeListener("data",n),t.removeListener("drain",u),r.removeListener("end",i),r.removeListener("close",o),r.removeListener("error",a),t.removeListener("error",a),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};const Ine=Object.freeze(Object.defineProperty({__proto__:null,Duplex:un,PassThrough:ao,Readable:Kt,Stream:jn,Transform:Mn,Writable:$r,default:jn},Symbol.toStringTag,{value:"Module"})),Pne=Am(Ine);(function(t){(function(e){e.parser=function(b,T){return new n(b,T)},e.SAXParser=n,e.SAXStream=l,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(b,T){if(!(this instanceof n))return new n(b,T);var j=this;s(j),j.q=j.c="",j.bufferCheckPosition=e.MAX_BUFFER_LENGTH,j.opt=T||{},j.opt.lowercase=j.opt.lowercase||j.opt.lowercasetags,j.looseCase=j.opt.lowercase?"toLowerCase":"toUpperCase",j.tags=[],j.closed=j.closedRoot=j.sawRoot=!1,j.tag=j.error=null,j.strict=!!b,j.noscript=!!(b||j.opt.noscript),j.state=y.BEGIN,j.strictEntities=j.opt.strictEntities,j.ENTITIES=j.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),j.attribList=[],j.opt.xmlns&&(j.ns=Object.create(v)),j.trackPosition=j.opt.position!==!1,j.trackPosition&&(j.position=j.line=j.column=0),L(j,"onready")}Object.create||(Object.create=function(b){function T(){}T.prototype=b;var j=new T;return j}),Object.keys||(Object.keys=function(b){var T=[];for(var j in b)b.hasOwnProperty(j)&&T.push(j);return T});function u(b){for(var T=Math.max(e.MAX_BUFFER_LENGTH,10),j=0,q=0,X=r.length;q<X;q++){var ie=b[r[q]].length;if(ie>T)switch(r[q]){case"textNode":Y(b);break;case"cdata":U(b,"oncdata",b.cdata),b.cdata="";break;case"script":U(b,"onscript",b.script),b.script="";break;default:se(b,"Max buffer length exceeded: "+r[q])}j=Math.max(j,ie)}var Ee=e.MAX_BUFFER_LENGTH-j;b.bufferCheckPosition=Ee+b.position}function s(b){for(var T=0,j=r.length;T<j;T++)b[r[T]]=""}function i(b){Y(b),b.cdata!==""&&(U(b,"oncdata",b.cdata),b.cdata=""),b.script!==""&&(U(b,"onscript",b.script),b.script="")}n.prototype={end:function(){fe(this)},write:R,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){i(this)}};var o;try{o=Pne.Stream}catch{o=function(){}}var a=e.EVENTS.filter(function(b){return b!=="error"&&b!=="end"});function c(b,T){return new l(b,T)}function l(b,T){if(!(this instanceof l))return new l(b,T);o.apply(this),this._parser=new n(b,T),this.writable=!0,this.readable=!0;var j=this;this._parser.onend=function(){j.emit("end")},this._parser.onerror=function(q){j.emit("error",q),j._parser.error=null},this._decoder=null,a.forEach(function(q){Object.defineProperty(j,"on"+q,{get:function(){return j._parser["on"+q]},set:function(X){if(!X)return j.removeAllListeners(q),j._parser["on"+q]=X,X;j.on(q,X)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(o.prototype,{constructor:{value:l}}),l.prototype.write=function(b){if(typeof sr.Buffer=="function"&&typeof sr.Buffer.isBuffer=="function"&&sr.Buffer.isBuffer(b)){if(!this._decoder){var T=Y9().StringDecoder;this._decoder=new T("utf8")}b=this._decoder.write(b)}return this._parser.write(b.toString()),this.emit("data",b),!0},l.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0},l.prototype.on=function(b,T){var j=this;return!j._parser["on"+b]&&a.indexOf(b)!==-1&&(j._parser["on"+b]=function(){var q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,b),j.emit.apply(j,q)}),o.prototype.on.call(j,b,T)};var f="[CDATA[",d="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",v={xml:p,xmlns:h},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,D=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function I(b){return b===" "||b===`
`||b==="\r"||b==="	"}function k(b){return b==='"'||b==="'"}function B(b){return b===">"||I(b)}function O(b,T){return b.test(T)}function M(b,T){return!O(b,T)}var y=0;e.STATE={BEGIN:y++,BEGIN_WHITESPACE:y++,TEXT:y++,TEXT_ENTITY:y++,OPEN_WAKA:y++,SGML_DECL:y++,SGML_DECL_QUOTED:y++,DOCTYPE:y++,DOCTYPE_QUOTED:y++,DOCTYPE_DTD:y++,DOCTYPE_DTD_QUOTED:y++,COMMENT_STARTING:y++,COMMENT:y++,COMMENT_ENDING:y++,COMMENT_ENDED:y++,CDATA:y++,CDATA_ENDING:y++,CDATA_ENDING_2:y++,PROC_INST:y++,PROC_INST_BODY:y++,PROC_INST_ENDING:y++,OPEN_TAG:y++,OPEN_TAG_SLASH:y++,ATTRIB:y++,ATTRIB_NAME:y++,ATTRIB_NAME_SAW_WHITE:y++,ATTRIB_VALUE:y++,ATTRIB_VALUE_QUOTED:y++,ATTRIB_VALUE_CLOSED:y++,ATTRIB_VALUE_UNQUOTED:y++,ATTRIB_VALUE_ENTITY_Q:y++,ATTRIB_VALUE_ENTITY_U:y++,CLOSE_TAG:y++,CLOSE_TAG_SAW_WHITE:y++,SCRIPT:y++,SCRIPT_ENDING:y++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(b){var T=e.ENTITIES[b],j=typeof T=="number"?String.fromCharCode(T):T;e.ENTITIES[b]=j});for(var P in e.STATE)e.STATE[e.STATE[P]]=P;y=e.STATE;function L(b,T,j){b[T]&&b[T](j)}function U(b,T,j){b.textNode&&Y(b),L(b,T,j)}function Y(b){b.textNode=H(b.opt,b.textNode),b.textNode&&L(b,"ontext",b.textNode),b.textNode=""}function H(b,T){return b.trim&&(T=T.trim()),b.normalize&&(T=T.replace(/\s+/g," ")),T}function se(b,T){return Y(b),b.trackPosition&&(T+=`
Line: `+b.line+`
Column: `+b.column+`
Char: `+b.c),T=new Error(T),b.error=T,L(b,"onerror",T),b}function fe(b){return b.sawRoot&&!b.closedRoot&&K(b,"Unclosed root tag"),b.state!==y.BEGIN&&b.state!==y.BEGIN_WHITESPACE&&b.state!==y.TEXT&&se(b,"Unexpected end"),Y(b),b.c="",b.closed=!0,L(b,"onend"),n.call(b,b.strict,b.opt),b}function K(b,T){if(typeof b!="object"||!(b instanceof n))throw new Error("bad call to strictFail");b.strict&&se(b,T)}function z(b){b.strict||(b.tagName=b.tagName[b.looseCase]());var T=b.tags[b.tags.length-1]||b,j=b.tag={name:b.tagName,attributes:{}};b.opt.xmlns&&(j.ns=T.ns),b.attribList.length=0,U(b,"onopentagstart",j)}function te(b,T){var j=b.indexOf(":"),q=j<0?["",b]:b.split(":"),X=q[0],ie=q[1];return T&&b==="xmlns"&&(X="xmlns",ie=""),{prefix:X,local:ie}}function V(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),b.attribList.indexOf(b.attribName)!==-1||b.tag.attributes.hasOwnProperty(b.attribName)){b.attribName=b.attribValue="";return}if(b.opt.xmlns){var T=te(b.attribName,!0),j=T.prefix,q=T.local;if(j==="xmlns")if(q==="xml"&&b.attribValue!==p)K(b,"xml: prefix must be bound to "+p+`
Actual: `+b.attribValue);else if(q==="xmlns"&&b.attribValue!==h)K(b,"xmlns: prefix must be bound to "+h+`
Actual: `+b.attribValue);else{var X=b.tag,ie=b.tags[b.tags.length-1]||b;X.ns===ie.ns&&(X.ns=Object.create(ie.ns)),X.ns[q]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,U(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function N(b,T){if(b.opt.xmlns){var j=b.tag,q=te(b.tagName);j.prefix=q.prefix,j.local=q.local,j.uri=j.ns[q.prefix]||"",j.prefix&&!j.uri&&(K(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),j.uri=q.prefix);var X=b.tags[b.tags.length-1]||b;j.ns&&X.ns!==j.ns&&Object.keys(j.ns).forEach(function(De){U(b,"onopennamespace",{prefix:De,uri:j.ns[De]})});for(var ie=0,Ee=b.attribList.length;ie<Ee;ie++){var Be=b.attribList[ie],Ve=Be[0],We=Be[1],He=te(Ve,!0),ke=He.prefix,ce=He.local,me=ke===""?"":j.ns[ke]||"",Ce={name:Ve,value:We,prefix:ke,local:ce,uri:me};ke&&ke!=="xmlns"&&!me&&(K(b,"Unbound namespace prefix: "+JSON.stringify(ke)),Ce.uri=ke),b.tag.attributes[Ve]=Ce,U(b,"onattribute",Ce)}b.attribList.length=0}b.tag.isSelfClosing=!!T,b.sawRoot=!0,b.tags.push(b.tag),U(b,"onopentag",b.tag),T||(!b.noscript&&b.tagName.toLowerCase()==="script"?b.state=y.SCRIPT:b.state=y.TEXT,b.tag=null,b.tagName=""),b.attribName=b.attribValue="",b.attribList.length=0}function A(b){if(!b.tagName){K(b,"Weird empty close tag."),b.textNode+="</>",b.state=y.TEXT;return}if(b.script){if(b.tagName!=="script"){b.script+="</"+b.tagName+">",b.tagName="",b.state=y.SCRIPT;return}U(b,"onscript",b.script),b.script=""}var T=b.tags.length,j=b.tagName;b.strict||(j=j[b.looseCase]());for(var q=j;T--;){var X=b.tags[T];if(X.name!==q)K(b,"Unexpected close tag");else break}if(T<0){K(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",b.state=y.TEXT;return}b.tagName=j;for(var ie=b.tags.length;ie-- >T;){var Ee=b.tag=b.tags.pop();b.tagName=b.tag.name,U(b,"onclosetag",b.tagName);var Be={};for(var Ve in Ee.ns)Be[Ve]=Ee.ns[Ve];var We=b.tags[b.tags.length-1]||b;b.opt.xmlns&&Ee.ns!==We.ns&&Object.keys(Ee.ns).forEach(function(He){var ke=Ee.ns[He];U(b,"onclosenamespace",{prefix:He,uri:ke})})}T===0&&(b.closedRoot=!0),b.tagName=b.attribValue=b.attribName="",b.attribList.length=0,b.state=y.TEXT}function C(b){var T=b.entity,j=T.toLowerCase(),q,X="";return b.ENTITIES[T]?b.ENTITIES[T]:b.ENTITIES[j]?b.ENTITIES[j]:(T=j,T.charAt(0)==="#"&&(T.charAt(1)==="x"?(T=T.slice(2),q=parseInt(T,16),X=q.toString(16)):(T=T.slice(1),q=parseInt(T,10),X=q.toString(10))),T=T.replace(/^0+/,""),isNaN(q)||X.toLowerCase()!==T?(K(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(q))}function E(b,T){T==="<"?(b.state=y.OPEN_WAKA,b.startTagPosition=b.position):I(T)||(K(b,"Non-whitespace before first tag."),b.textNode=T,b.state=y.TEXT)}function _(b,T){var j="";return T<b.length&&(j=b.charAt(T)),j}function R(b){var T=this;if(this.error)throw this.error;if(T.closed)return se(T,"Cannot write after close. Assign an onready handler.");if(b===null)return fe(T);typeof b=="object"&&(b=b.toString());for(var j=0,q="";q=_(b,j++),T.c=q,!!q;)switch(T.trackPosition&&(T.position++,q===`
`?(T.line++,T.column=0):T.column++),T.state){case y.BEGIN:if(T.state=y.BEGIN_WHITESPACE,q==="\uFEFF")continue;E(T,q);continue;case y.BEGIN_WHITESPACE:E(T,q);continue;case y.TEXT:if(T.sawRoot&&!T.closedRoot){for(var X=j-1;q&&q!=="<"&&q!=="&";)q=_(b,j++),q&&T.trackPosition&&(T.position++,q===`
`?(T.line++,T.column=0):T.column++);T.textNode+=b.substring(X,j-1)}q==="<"&&!(T.sawRoot&&T.closedRoot&&!T.strict)?(T.state=y.OPEN_WAKA,T.startTagPosition=T.position):(!I(q)&&(!T.sawRoot||T.closedRoot)&&K(T,"Text data outside of root node."),q==="&"?T.state=y.TEXT_ENTITY:T.textNode+=q);continue;case y.SCRIPT:q==="<"?T.state=y.SCRIPT_ENDING:T.script+=q;continue;case y.SCRIPT_ENDING:q==="/"?T.state=y.CLOSE_TAG:(T.script+="<"+q,T.state=y.SCRIPT);continue;case y.OPEN_WAKA:if(q==="!")T.state=y.SGML_DECL,T.sgmlDecl="";else if(!I(q))if(O(S,q))T.state=y.OPEN_TAG,T.tagName=q;else if(q==="/")T.state=y.CLOSE_TAG,T.tagName="";else if(q==="?")T.state=y.PROC_INST,T.procInstName=T.procInstBody="";else{if(K(T,"Unencoded <"),T.startTagPosition+1<T.position){var ie=T.position-T.startTagPosition;q=new Array(ie).join(" ")+q}T.textNode+="<"+q,T.state=y.TEXT}continue;case y.SGML_DECL:(T.sgmlDecl+q).toUpperCase()===f?(U(T,"onopencdata"),T.state=y.CDATA,T.sgmlDecl="",T.cdata=""):T.sgmlDecl+q==="--"?(T.state=y.COMMENT,T.comment="",T.sgmlDecl=""):(T.sgmlDecl+q).toUpperCase()===d?(T.state=y.DOCTYPE,(T.doctype||T.sawRoot)&&K(T,"Inappropriately located doctype declaration"),T.doctype="",T.sgmlDecl=""):q===">"?(U(T,"onsgmldeclaration",T.sgmlDecl),T.sgmlDecl="",T.state=y.TEXT):(k(q)&&(T.state=y.SGML_DECL_QUOTED),T.sgmlDecl+=q);continue;case y.SGML_DECL_QUOTED:q===T.q&&(T.state=y.SGML_DECL,T.q=""),T.sgmlDecl+=q;continue;case y.DOCTYPE:q===">"?(T.state=y.TEXT,U(T,"ondoctype",T.doctype),T.doctype=!0):(T.doctype+=q,q==="["?T.state=y.DOCTYPE_DTD:k(q)&&(T.state=y.DOCTYPE_QUOTED,T.q=q));continue;case y.DOCTYPE_QUOTED:T.doctype+=q,q===T.q&&(T.q="",T.state=y.DOCTYPE);continue;case y.DOCTYPE_DTD:T.doctype+=q,q==="]"?T.state=y.DOCTYPE:k(q)&&(T.state=y.DOCTYPE_DTD_QUOTED,T.q=q);continue;case y.DOCTYPE_DTD_QUOTED:T.doctype+=q,q===T.q&&(T.state=y.DOCTYPE_DTD,T.q="");continue;case y.COMMENT:q==="-"?T.state=y.COMMENT_ENDING:T.comment+=q;continue;case y.COMMENT_ENDING:q==="-"?(T.state=y.COMMENT_ENDED,T.comment=H(T.opt,T.comment),T.comment&&U(T,"oncomment",T.comment),T.comment=""):(T.comment+="-"+q,T.state=y.COMMENT);continue;case y.COMMENT_ENDED:q!==">"?(K(T,"Malformed comment"),T.comment+="--"+q,T.state=y.COMMENT):T.state=y.TEXT;continue;case y.CDATA:q==="]"?T.state=y.CDATA_ENDING:T.cdata+=q;continue;case y.CDATA_ENDING:q==="]"?T.state=y.CDATA_ENDING_2:(T.cdata+="]"+q,T.state=y.CDATA);continue;case y.CDATA_ENDING_2:q===">"?(T.cdata&&U(T,"oncdata",T.cdata),U(T,"onclosecdata"),T.cdata="",T.state=y.TEXT):q==="]"?T.cdata+="]":(T.cdata+="]]"+q,T.state=y.CDATA);continue;case y.PROC_INST:q==="?"?T.state=y.PROC_INST_ENDING:I(q)?T.state=y.PROC_INST_BODY:T.procInstName+=q;continue;case y.PROC_INST_BODY:if(!T.procInstBody&&I(q))continue;q==="?"?T.state=y.PROC_INST_ENDING:T.procInstBody+=q;continue;case y.PROC_INST_ENDING:q===">"?(U(T,"onprocessinginstruction",{name:T.procInstName,body:T.procInstBody}),T.procInstName=T.procInstBody="",T.state=y.TEXT):(T.procInstBody+="?"+q,T.state=y.PROC_INST_BODY);continue;case y.OPEN_TAG:O(D,q)?T.tagName+=q:(z(T),q===">"?N(T):q==="/"?T.state=y.OPEN_TAG_SLASH:(I(q)||K(T,"Invalid character in tag name"),T.state=y.ATTRIB));continue;case y.OPEN_TAG_SLASH:q===">"?(N(T,!0),A(T)):(K(T,"Forward-slash in opening tag not followed by >"),T.state=y.ATTRIB);continue;case y.ATTRIB:if(I(q))continue;q===">"?N(T):q==="/"?T.state=y.OPEN_TAG_SLASH:O(S,q)?(T.attribName=q,T.attribValue="",T.state=y.ATTRIB_NAME):K(T,"Invalid attribute name");continue;case y.ATTRIB_NAME:q==="="?T.state=y.ATTRIB_VALUE:q===">"?(K(T,"Attribute without value"),T.attribValue=T.attribName,V(T),N(T)):I(q)?T.state=y.ATTRIB_NAME_SAW_WHITE:O(D,q)?T.attribName+=q:K(T,"Invalid attribute name");continue;case y.ATTRIB_NAME_SAW_WHITE:if(q==="=")T.state=y.ATTRIB_VALUE;else{if(I(q))continue;K(T,"Attribute without value"),T.tag.attributes[T.attribName]="",T.attribValue="",U(T,"onattribute",{name:T.attribName,value:""}),T.attribName="",q===">"?N(T):O(S,q)?(T.attribName=q,T.state=y.ATTRIB_NAME):(K(T,"Invalid attribute name"),T.state=y.ATTRIB)}continue;case y.ATTRIB_VALUE:if(I(q))continue;k(q)?(T.q=q,T.state=y.ATTRIB_VALUE_QUOTED):(K(T,"Unquoted attribute value"),T.state=y.ATTRIB_VALUE_UNQUOTED,T.attribValue=q);continue;case y.ATTRIB_VALUE_QUOTED:if(q!==T.q){q==="&"?T.state=y.ATTRIB_VALUE_ENTITY_Q:T.attribValue+=q;continue}V(T),T.q="",T.state=y.ATTRIB_VALUE_CLOSED;continue;case y.ATTRIB_VALUE_CLOSED:I(q)?T.state=y.ATTRIB:q===">"?N(T):q==="/"?T.state=y.OPEN_TAG_SLASH:O(S,q)?(K(T,"No whitespace between attributes"),T.attribName=q,T.attribValue="",T.state=y.ATTRIB_NAME):K(T,"Invalid attribute name");continue;case y.ATTRIB_VALUE_UNQUOTED:if(!B(q)){q==="&"?T.state=y.ATTRIB_VALUE_ENTITY_U:T.attribValue+=q;continue}V(T),q===">"?N(T):T.state=y.ATTRIB;continue;case y.CLOSE_TAG:if(T.tagName)q===">"?A(T):O(D,q)?T.tagName+=q:T.script?(T.script+="</"+T.tagName,T.tagName="",T.state=y.SCRIPT):(I(q)||K(T,"Invalid tagname in closing tag"),T.state=y.CLOSE_TAG_SAW_WHITE);else{if(I(q))continue;M(S,q)?T.script?(T.script+="</"+q,T.state=y.SCRIPT):K(T,"Invalid tagname in closing tag."):T.tagName=q}continue;case y.CLOSE_TAG_SAW_WHITE:if(I(q))continue;q===">"?A(T):K(T,"Invalid characters in closing tag");continue;case y.TEXT_ENTITY:case y.ATTRIB_VALUE_ENTITY_Q:case y.ATTRIB_VALUE_ENTITY_U:var Ee,Be;switch(T.state){case y.TEXT_ENTITY:Ee=y.TEXT,Be="textNode";break;case y.ATTRIB_VALUE_ENTITY_Q:Ee=y.ATTRIB_VALUE_QUOTED,Be="attribValue";break;case y.ATTRIB_VALUE_ENTITY_U:Ee=y.ATTRIB_VALUE_UNQUOTED,Be="attribValue";break}q===";"?(T[Be]+=C(T),T.entity="",T.state=Ee):O(T.entity.length?F:g,q)?T.entity+=q:(K(T,"Invalid character in entity name"),T[Be]+="&"+T.entity+q,T.entity="",T.state=Ee);continue;default:throw new Error(T,"Unknown state: "+T.state)}return T.position>=T.bufferCheckPosition&&u(T),T}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var b=String.fromCharCode,T=Math.floor,j=function(){var q=16384,X=[],ie,Ee,Be=-1,Ve=arguments.length;if(!Ve)return"";for(var We="";++Be<Ve;){var He=Number(arguments[Be]);if(!isFinite(He)||He<0||He>1114111||T(He)!==He)throw RangeError("Invalid code point: "+He);He<=65535?X.push(He):(He-=65536,ie=(He>>10)+55296,Ee=He%1024+56320,X.push(ie,Ee)),(Be+1===Ve||X.length>q)&&(We+=b.apply(null,X),X.length=0)}return We};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:j,configurable:!0,writable:!0}):String.fromCodePoint=j}()})(t)})(A9);const Aa=Bt,kne=A9,{lexingRegexes:One,mainRegex:Nne}=rl,{preTokenObjectForFragment:Rne,constructorForFragment:Ze}=CE;let qne=class{constructor(){this.sax=kne.parser(!0),this.sax.ontext=e=>this.handleSaxText(e),this.sax.onopentag=e=>this.handleSaxOpenTag(e),this.sax.onclosetag=e=>this.handleSaxCloseTag(e),this.lexed=[],this.elementStack=[],this.currentText="",this.openTagHandlers={usx:this.ignoreHandler,book:this.handleBookOpen,chapter:this.handleChapter,verse:this.handleVerses,para:this.handleParaOpen,table:this.ignoreHandler,row:this.handleRowOpen,cell:this.handleCellOpen,char:this.handleCharOpen,ms:this.handleMSOpen,note:this.handleNoteOpen,sidebar:this.handleSidebarOpen,periph:this.notHandledHandler,figure:this.handleFigureOpen,optbreak:this.handleOptBreakOpen,ref:this.ignoreHandler},this.closeTagHandlers={usx:this.ignoreHandler,book:this.handleBookClose,chapter:this.ignoreHandler,verse:this.ignoreHandler,para:this.handleParaClose,table:this.ignoreHandler,row:this.handleRowClose,cell:this.handleCellClose,char:this.handleCharClose,ms:this.handleMSClose,note:this.handleNoteClose,sidebar:this.handleSidebarClose,periph:this.notHandledHandler,figure:this.handleFigureClose,optbreak:this.handleOptBreakClose,ref:this.ignoreHandler}}lexAndParse(e,r){this.parser=r,this.lexed=[],this.elementStack=[],this.sax.write(e).close()}handleSaxText(e){this.currentText=this.replaceEntities(e),Aa.match(this.currentText,Nne,"all").map(r=>Rne(r,One)).forEach(r=>this.parser.parseItem(r))}replaceEntities(e){return e.replace("&lt;","<").replace("&gt;",">").replace("&apos;","'").replace("&quot;",'"').replace("&amp;","&")}handleSaxOpenTag(e){const r=e.name,n=e.attributes;if(r in this.openTagHandlers)this.openTagHandlers[r](this,"open",r,n);else throw new Error(`Unexpected open element tag '${r}' in UsxParser`)}handleSaxCloseTag(e){this.closeTagHandlers[e](this,"close",e)}notHandledHandler(e,r,n){console.error(`WARNING: ${r} element tag '${n}' is not handled by UsxParser`)}stackPush(e,r){this.elementStack.push([e,r])}stackPop(){return this.elementStack.pop()}splitTagNumber(e){const r=Aa.exec(e,Aa("([^1-9]+)(.*)")),n=r[1],u=r[2].length>0?r[2]:"1";return[n,u]}ignoreHandler(e,r,n){}handleParaOpen(e,r,n,u){e.currentText="";const[s,i]=e.splitTagNumber(u.style);["cp"].includes(s)||e.parser.parseItem(Ze.tag("startTag",[null,null,s,i])),e.stackPush(n,u)}handleParaClose(e){const r=e.stackPop()[1],[n,u]=e.splitTagNumber(r.style);["cp"].includes(n)?e.parser.parseItem(Ze.pubchapter("pubchapter",[null,null,e.currentText])):e.parser.parseItem(Ze.tag("endTag",[null,null,n,u])),e.currentText=""}handleCharOpen(e,r,n,u){const[s,i]=e.splitTagNumber(u.style);e.parser.parseItem(Ze.tag("startTag",[null,null,`+${s}`,i]));const o=["sid","eid","style","srcloc","link-href","link-title","link-id","closed"];for(const[a,c]of Object.entries(u))o.includes(a)||e.parser.parseItem(Ze.attribute("attribute",[null,null,a,c]));e.stackPush(n,u)}handleCharClose(e){const r=e.stackPop()[1],[n,u]=e.splitTagNumber(r.style);e.parser.parseItem(Ze.tag("endTag",[null,null,`+${n}`,u]))}handleRefOpen(e){e.parser.parseItem(Ze.tag("startTag",[null,null,"xt",""]))}handleRefClose(e){e.parser.parseItem(Ze.tag("endTag",[null,null,"xt",""]))}handleRowOpen(e,r,n,u){const[s,i]=e.splitTagNumber(u.style);e.parser.parseItem(Ze.tag("startTag",[null,null,s,i])),e.stackPush(n,u)}handleRowClose(e){const r=e.stackPop()[1],[n,u]=e.splitTagNumber(r.style);e.parser.parseItem(Ze.tag("endTag",[null,null,n,u]))}handleCellOpen(e,r,n,u){const[s,i]=e.splitTagNumber(u.style);e.parser.parseItem(Ze.tag("startTag",[null,null,s,i])),e.stackPush(n,u)}handleCellClose(e){const r=e.stackPop()[1],[n,u]=e.splitTagNumber(r.style);e.parser.parseItem(Ze.tag("endTag",[null,null,n,u]))}handleBookOpen(e,r,n,u){e.parser.parseItem(Ze.tag("startTag",[null,null,"id",""])),e.parser.parseItem(Ze.printable("wordLike",[u.code])),e.parser.parseItem(Ze.printable("lineSpace",[" "])),e.stackPush(n,u)}handleBookClose(e){e.stackPop(),e.parser.parseItem(Ze.tag("endTag",[null,null,"id",""]))}handleChapter(e,r,n,u){u.number&&(e.parser.parseItem(Ze.chapter("chapter",[null,null,u.number])),u.pubnumber&&e.parser.parseItem(Ze.pubchapter("pubchapter",[null,null,u.pubnumber])),u.altnumber&&(e.parser.parseItem(Ze.tag("startTag",[null,null,"+ca",""])),e.parser.parseItem(Ze.printable("wordLike",[u.altnumber])),e.parser.parseItem(Ze.tag("endTag",[null,null,"+ca",""]))))}handleVerses(e,r,n,u){u.number&&(e.parser.parseItem(Ze.verses("verses",[null,null,u.number])),u.pubnumber&&(e.parser.parseItem(Ze.tag("startTag",[null,null,"+vp",""])),e.parser.parseItem(Ze.printable("wordLike",[u.pubnumber])),e.parser.parseItem(Ze.tag("endTag",[null,null,"+vp",""]))),u.altnumber&&(e.parser.parseItem(Ze.tag("startTag",[null,null,"+va",""])),e.parser.parseItem(Ze.printable("wordLike",[u.altnumber])),e.parser.parseItem(Ze.tag("endTag",[null,null,"+va",""]))))}handleNoteOpen(e,r,n,u){e.parser.parseItem(Ze.tag("startTag",[null,null,u.style,""])),e.parser.parseItem(Ze.printable("punctuation",[u.caller])),e.stackPush(n,u)}handleNoteClose(e){const r=e.stackPop()[1];e.parser.parseItem(Ze.tag("endTag",[null,null,r.style,""]))}handleSidebarOpen(e,r,n,u){e.parser.parseItem(Ze.tag("startTag",[null,null,"esb",""])),"category"in u&&(e.parser.parseItem(Ze.tag("startTag",[null,null,"cat",""])),e.parser.parseItem(Ze.printable("wordLike",[u.category])),e.parser.parseItem(Ze.tag("endTag",[null,null,"cat",""]))),e.stackPush(n,u)}handleSidebarClose(e){e.stackPop(),e.parser.parseItem(Ze.tag("startTag",[null,null,"esbe",""]))}handleMSOpen(e,r,n,u){let s=Aa.exec(u.style,Aa("(([a-z1-9]+)-([se]))"));if(s){const i=Ze.milestone("startMilestoneTag",[null,null,s[2],s[3]]);e.parser.parseItem(i);const o=["sid","eid","style","srcloc","link-href","link-title","link-id"];for(const[a,c]of Object.entries(u))o.includes(a)||e.parser.parseItem(Ze.attribute("attribute",[null,null,a,c]));e.parser.parseItem(Ze.milestone("endMilestoneMarker"))}else{const i=Ze.milestone("emptyMilestone",[null,null,u.style,""]);e.parser.parseItem(i)}e.stackPush(n,u)}handleMSClose(e){e.stackPop()}handleFigureOpen(e,r,n,u){e.parser.parseItem(Ze.tag("startTag",[null,null,"+fig",""]));for(const[s,i]of Object.entries(u)){if(s==="style")continue;const o=s==="file"?"src":s;e.parser.parseItem(Ze.attribute("attribute",[null,null,o,i]))}e.stackPush(n,u)}handleFigureClose(e){e.stackPop()[1],e.parser.parseItem(Ze.tag("endTag",[null,null,"+fig",""]))}handleOptBreakOpen(e,r,n,u){e.parser.parseItem(Ze.printable("softLineBreak",["//"])),e.stackPush(n,u)}handleOptBreakClose(e){e.stackPop()}};var xne={UsxLexer:qne};const{UsxLexer:Mne}=xne,jne=(t,e)=>{new Mne().lexAndParse(t,e)};var Lne={parseUsx:jne};const Ju=Tt,Bi=Ju.ByteArray,{pushSuccinctGraftBytes:Gne,pushSuccinctScopeBytes:Vne,pushSuccinctTokenBytes:Une}=Ju.succinct,{addTag:Kne}=Ju.tags,{labelForScope:o2}=Ju.scopeDefs,{itemEnum:Jne}=Ju.itemDefs,{scopeEnum:Hne}=Ju.scopeDefs,{tokenCategory:Wne,tokenEnum:zne}=Ju.tokenDefs,yf=class{constructor(e){this.id=Ju.generateId(),this.type=e,this.tags=new Set([]),this.blocks=[],this.activeScopes=[]}addTag(e){Kne(this.tags,e)}plainText(){return this.blocks.map(e=>e.plainText()).join("").trim()}addItem(e){this.lastBlock().addItem(e)}addBlockGraft(e){this.newBlock("hangingGraft"),this.lastBlock().bg.push(e)}lastBlock(){return this.blocks.length===0&&this.newBlock("orphanTokens"),this.blocks[this.blocks.length-1]}newBlock(e){this.blocks.length>0&&["orphanTokens","hangingGraft"].includes(this.blocks[this.blocks.length-1].bs.payload)?this.lastBlock().bs={type:"scope",subType:"start",payload:e}:this.blocks.push(new ow(e))}trim(){this.blocks.forEach(e=>e.trim())}reorderSpanWithAtts(){this.blocks.forEach(e=>e.reorderSpanWithAtts())}makeNoteGrafts(e){this.blocks.forEach(r=>r.makeNoteGrafts(e))}close(e){for(const r of this.activeScopes.filter(()=>!0).reverse())this.closeActiveScope(e,r);this.activeScopes=[]}closeActiveScope(e,r){this.addItem({type:"scope",subType:"end",payload:r.label}),r.onEnd&&r.onEnd(e,r.label)}filterGrafts(e){return this.blocks.map(r=>r.filterGrafts(e)).reduce((r,n)=>r.concat(n),[])}filterScopes(e){this.blocks.forEach(r=>r.filterScopes(e))}text(){return this.blocks.map(e=>e.text()).join("")}addTableScopes(){let e=!1;for(const[r,n]of this.blocks.entries())!e&&n.bs.payload==="blockTag/tr"?(e=!0,this.blocks[r].items.unshift({type:"scope",subType:"start",payload:o2("table",[])})):e&&n.bs.payload!=="blockTag/tr"&&(e=!1,this.blocks[r-1].items.push({type:"scope",subType:"end",payload:o2("table",[])}));e&&this.lastBlock().items.push({type:"scope",subType:"end",payload:o2("table",[])})}graftifyIntroductionHeadings(e){let r=[...this.blocks.entries()];r.reverse();const n=["iot","is"].concat(e.customTags.introHeading);for(const[u,s]of r){const i=s.bs.payload.split("/")[1].replace(/[0-9]/g,"");if(n.includes(i)){const o=new yf("heading");e.sequences.heading.push(o),o.blocks.push(s);const a={type:"graft",subType:"heading",payload:o.id};this.blocks.length<u+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[u+1].bg.unshift(a),this.blocks.splice(u,1)}else if(i.startsWith("imt")){const o=i.startsWith("imte")?"introEndTitle":"introTitle";let a;if(e.sequences[o])a=e.sequences[o];else{const c=i.startsWith("imte")?"endTitle":"title";a=new yf(c),e.sequences[o]=a;const l={type:"graft",subType:c,payload:a.id};this.blocks.length<u+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[u+1].bg.unshift(l)}this.blocks.splice(u,1),a.blocks.unshift(s)}}}moveOrphanScopes(){this.blocks.length>1&&(this.moveOrphanStartScopes(),this.moveOrphanEndScopes())}moveOrphanStartScopes(){for(const[e,r]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const n of[...r.items].reverse()){if(n.subType!=="start"||n.payload.startsWith("altChapter"))break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanStartScopes2(){for(const[e,r]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const n of[...r.items].reverse()){if(n.subType!=="start")break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanEndScopes(){for(const[e,r]of this.blocks.entries())if(e!==0)for(const n of[...r.items]){if(n.subType!=="end")break;this.blocks[e-1].items.push(this.blocks[e].items.shift())}}removeEmptyBlocks(e){const r=["blockTag/b","blockTag/ib"].concat(e),n=[];let u=!1;for(const s of this.blocks.entries())s[1].tokens().length===0&&!r.includes(s[1].bs.payload)&&n.push(s);for(const[s,i]of n.reverse())if(s<this.blocks.length-1){for(const o of[...i.bg].reverse())this.blocks[s+1].bg.unshift(o);for(const o of i.items.reverse())this.blocks[s+1].items.unshift(o);this.blocks.splice(s,1),u=!0}else i.bg.length===0&&i.items.length===0&&(this.blocks.splice(s,1),u=!0);u&&this.removeEmptyBlocks(e)}removeGraftsToEmptySequences(e){this.blocks.forEach(r=>r.removeGraftsToEmptySequences(e))}succinctifyBlocks(e){const r=[];let n=[];const u=i=>{i.subType==="start"?n.filter(a=>a.payload===i.payload).length===0&&n.push(i):n=n.filter(o=>o.payload!==i.payload)};let s=0;for(const i of this.blocks){const o=new Bi(i.length),a=new Bi(1),c=new Bi(1),l=new Bi(1),f=new Bi(1);f.pushNByte(s);for(const h of i.bg)this.pushSuccinctGraft(a,e,h);for(const h of n)this.pushSuccinctScope(c,e,h);const d=[];for(const h of i.items)switch(h.type){case"token":this.pushSuccinctToken(o,e,h),h.subType==="wordLike"&&s++;break;case"graft":this.pushSuccinctGraft(o,e,h);break;case"scope":this.pushSuccinctScope(o,e,h),u(h),h.subType==="start"&&d.push(h);break;default:throw new Error(`Item type ${h.type} is not handled in succinctifyBlocks`)}const p=new Bi(10);this.pushSuccinctScope(p,e,i.bs);for(const h of d)this.pushSuccinctScope(l,e,h);o.trim(),a.trim(),p.trim(),c.trim(),l.trim(),r.push({c:o,bs:p,bg:a,os:c,is:l,nt:f})}return r}pushSuccinctToken(e,r,n){const u=r.enumForCategoryValue(Wne[n.subType],n.payload);Une(e,zne[n.subType],u)}pushSuccinctGraft(e,r,n){const u=r.enumForCategoryValue("graftTypes",n.subType),s=r.enumForCategoryValue("ids",n.payload);Gne(e,u,s)}pushSuccinctScope(e,r,n){const u=n.payload.split("/"),s=Hne[u[0]],i=u.slice(1).map(o=>r.enumForCategoryValue("scopeBits",o));Vne(e,Jne[`${n.subType}Scope`],s,i)}},ow=class{constructor(t){this.id=Ju.generateId(),this.items=[],this.bg=[],this.bs={type:"scope",subType:"start",payload:t},this.os=[]}addItem(t){this.items.push(t)}plainText(){return this.items.filter(t=>t.type==="token").map(t=>t.payload).join("")}trim(){this.items=this.trimEnd(this.trimStart(this.items))}reorderSpanWithAtts(){const t=[];for(const[e,r]of this.items.entries())r.subType==="start"&&r.payload.startsWith("spanWithAtts")&&t.push(e+1);for(const e of t){let r=e,n=[],u=[];for(;!(r>=this.items.length);){const s=this.items[r];if(s.type==="token")n.push(s);else if(s.subType==="start"&&s.payload.startsWith("attribute/spanWithAtts"))u.push(s);else break;r++}if(n.length!==0&&u.length!==0){let s=e;for(const i of u)this.items[s]=i,s++;for(const i of n)this.items[s]=i,s++}}}inlineToEnd(){let t=null;for(const[e,r]of this.items.entries())if(r.subType==="end"&&["inline/f","inline/fe","inline/x"].includes(r.payload)){t=r,this.items.splice(e,1);break}t&&this.addItem(t)}makeNoteGrafts(t){const e=[];for(const[r,n]of this.items.entries())n.subType==="start"&&(n.payload.startsWith("inline/f")||n.payload.startsWith("inline/x"))&&e.push(r);for(const r of e){const n=this.items[r].payload,u=this.items[r+1];if(u.type==="token"&&u.payload.length===1){const s=new yf("noteCaller");s.newBlock(n),s.addItem(u),t.sequences.noteCaller.push(s),this.items[r+1]={type:"graft",subType:"noteCaller",payload:s.id}}}}trimStart(t){if(t.length===0)return t;const e=t[0];return["lineSpace","eol"].includes(e.subType)?this.trimStart(t.slice(1)):e.type==="token"?t:[e,...this.trimStart(t.slice(1))]}trimEnd(t){if(t.length===0)return t;const e=t[t.length-1];return["lineSpace","eol"].includes(e.subType)?this.trimEnd(t.slice(0,t.length-1)):e.type==="token"?t:[...this.trimEnd(t.slice(0,t.length-1)),e]}filterGrafts(t){const e=[];let r=[];for(const[n,u]of this.grafts())this.graftPassesOptions(u,t)?e.push(u.payload):r.push(n);for(const[n,u]of Array.from(r.entries()))this.items.splice(u-n,1);r=[];for(const[n,u]of this.bg.entries())this.graftPassesOptions(u,t)?e.push(u.payload):r.push(n);for(const[n,u]of Array.from(r.entries()))this.bg.splice(u-n,1);return e}filterScopes(t){const e=[];for(const[r,n]of this.scopes())this.scopePassesOptions(n,t)||e.push(r);for(const[r,n]of Array.from(e.entries()))this.items.splice(n-r,1)}graftPassesOptions(t,e){return(!("includeGrafts"in e)||e.includeGrafts.includes(t.subType))&&(!("excludeGrafts"in e)||!e.excludeGrafts.includes(t.subType))}scopePassesOptions(t,e){return(!("includeScopes"in e)||this.scopeMatchesOptionArray(t.payload,e.includeScopes))&&(!("excludeScopes"in e)||!this.scopeMatchesOptionArray(t.payload,e.excludeScopes))}scopeMatchesOptionArray(t,e){for(const r of e)if(t.startsWith(r))return!0;return!1}removeGraftsToEmptySequences(t){const e=[];let r=[];for(const[n,u]of this.grafts())t.includes(u.payload)&&r.push(n);for(const[n,u]of Array.from(r.entries()))this.items.splice(u-n,1);r=[];for(const[n,u]of this.bg.entries())t.includes(u.payload)&&r.push(n);for(const[n,u]of Array.from(r.entries()))this.bg.splice(u-n,1);return e}grafts(){return Array.from(this.items.entries()).filter(t=>t[1].type==="graft")}scopes(){return Array.from(this.items.entries()).filter(t=>t[1].type==="scope")}tokens(){return Array.from(this.items.entries()).filter(t=>!["scope","graft"].includes(t[1].type))}text(){return this.tokens().map(t=>t[1].payload).join("")}};var PE={Sequence:yf,Block:ow};const js=Bt,{lexingRegexes:Qne}=rl,Pa={},aw=[];for(const t of Qne)["wordLike","eol","lineSpace","punctuation","unknown"].includes(t[1])&&(Pa[t[1]]=js(`^${t[2].xregexp.source}$`),aw.push(t[2]));const Yne=t=>{const e=js.union(aw),r=[];for(const n of js.match(t,e,"all")){let u;js.test(n,Pa.wordLike)?u="wordLike":js.test(n,Pa.punctuation)?u="punctuation":js.test(n,Pa.lineSpace)?u="lineSpace":js.test(n,Pa.eol)?u="eol":u="unknown",r.push([n,u])}return r};var kE={tokenizeString:Yne};const Xne=Tt,{labelForScope:Zne}=Xne.scopeDefs,{Sequence:eue}=PE,{tokenizeString:tue}=kE,rue=(t,e,r)=>{const{rows:n}=JSON.parse(t);e.headers.id=r,e.headers.bookCode=r;const u=new eue("table");for(const[s,i]of n.entries())for(const[o,a]of i.entries()){u.newBlock(Zne("tTableRow",[`${s}`]));const c=u.lastBlock();c.addItem({type:"scope",subType:"start",payload:`tTableCol/${o}`});for(const[l,f]of tue(a))c.addItem({type:"token",subType:f,payload:l});c.addItem({type:"scope",subType:"end",payload:`tTableCol/${o}`})}e.sequences.table.push(u),e.sequences.main.addBlockGraft({type:"graft",subType:"table",payload:u.id})};var nue={parseTableToDocument:rue};const uue=Tt,{labelForScope:Nl}=uue.scopeDefs,{Sequence:sue}=PE,{tokenizeString:iue}=kE;let a2=0;const OE=(t,e)=>{typeof e!="number"&&(a2=0);const r={...t,id:a2,parentId:typeof e=="number"?e:"none"};return a2++,t.children&&(r.children=t.children.map(n=>OE(n,r.id))),r},NE=t=>{const e=[{}];if(e[0].id=t.id,e[0].parentId=t.parentId,t.content&&(e[0].content=t.content),t.children){e[0].children=[];for(const r of t.children)e[0].children.push(r.id),NE(r).forEach(n=>e.push(n))}return e},oue=(t,e,r)=>{e.headers.id=r,e.headers.bookCode=r;const n=new sue("tree");for(const u of NE(OE(JSON.parse(t)))){n.newBlock(Nl("tTreeNode",[`${u.id}`]));const s=Nl("tTreeParent",[`${u.parentId}`]);if(n.lastBlock().items.push({type:"scope",subType:"start",payload:s}),u.content)for(const[i,o]of Object.entries(u.content)){const a=n.lastBlock().items.length,c=iue(o),l=Nl("tTreeContent",[i,u.id,`${a}`,`${c.length}`]);n.lastBlock().items.push({type:"scope",subType:"start",payload:l});for(const[f,d]of c)n.lastBlock().items.push({type:"token",subType:d,payload:f});n.lastBlock().items.push({type:"scope",subType:"end",payload:l})}if(u.children)for(const[i,o]of u.children.entries()){const a=Nl("tTreeChild",[i,o]);n.lastBlock().items.push({type:"scope",subType:"start",payload:a}),n.lastBlock().items.push({type:"scope",subType:"end",payload:a})}n.lastBlock().items.push({type:"scope",subType:"end",payload:s})}e.sequences.tree.push(n),e.sequences.main.addBlockGraft({type:"graft",subType:"tree",payload:n.id})};var RE={flattenNodes:NE,numberNodes:OE,parseNodes:oue};const{parseUsfm:aue}=Pte,{parseUsx:cue}=Lne,{parseTableToDocument:lue}=nue,{parseNodes:fue}=RE;var due={parseUsfm:aue,parseUsx:cue,parseTableToDocument:lue,parseNodes:fue};const ka=Tt,{labelForScope:Gt}=ka.scopeDefs,{constructorForFragment:Sa}=CE,pue=t=>{const e={};for(const r of t)for(const n of r.contexts){n[0]in e||(e[n[0]]={});const u=n[1];if(!u)e[n[0]]._noAccessor=r.parser;else{u in e[n[0]]||(e[n[0]][u]={});for(const s of n[2])e[n[0]][u][s]=r.parser}}return e},hue=t=>[{contexts:[["startTag","tagName",["id","usfm","ide","sts","h","toc","toca","cl"]]],parser:{baseSequenceType:"header",forceNewSequence:!0,newBlock:!0,useTempSequence:!0,newScopes:[{label:e=>e.fullTagName,endedBy:["baseSequenceChange"],onEnd:(e,r)=>{if(e.headers[r]=e.current.sequence.plainText(),r==="id"&&(e.headers[r].length===3||e.headers[r].length>3&&e.headers[r].substring(3,4)===" ")){const n=e.headers[r].substring(0,3);e.headers.bookCode=n}}}]}},{contexts:[["startTag","tagName",["ms","mr","s","sr","r","qa","sp","sd"].concat(t.customTags.heading)]],parser:{baseSequenceType:"heading",forceNewSequence:!0,newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mt"]]],parser:{baseSequenceType:"title",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mte"]]],parser:{baseSequenceType:"endTitle",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["imt","is","ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex","imte"].concat(t.customTags.intro)]],parser:{baseSequenceType:"introduction",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["esb"]]],parser:{baseSequenceType:"sidebar",newBlock:!0,newScopes:[],after:e=>{e.mainLike=e.current.sequence}}},{contexts:[["startTag","tagName",["esbe"]]],parser:{baseSequenceType:"main",newBlock:!0,newScopes:[],after:e=>{e.mainLike=e.sequences.main}}},{contexts:[["startTag","tagName",["cat"]]],parser:{inlineSequenceType:"esbCat",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/cat","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,r)=>{const n=ka.generateId(),u={label:()=>Gt("esbCat",[n]),endedBy:["startTag/esbe"]};e.openNewScope(r,u,!0,e.mainLike)}}},{contexts:[["startTag","tagName",["rem"]]],parser:{baseSequenceType:"remark",forceNewSequence:!0,newScopes:[]}},{contexts:[["startTag","tagName",["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"].concat(t.customTags.paragraph)]],parser:{baseSequenceType:"mainLike",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["tr"]]],parser:{newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["f","fe"]]],parser:{inlineSequenceType:"footnote",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/f","endTag/fe","endBlock"],onEnd:e=>e.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["x"]]],parser:{inlineSequenceType:"xref",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/x","endBlock"],onEnd:e=>e.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["fig"]]],parser:{inlineSequenceType:"fig",forceNewSequence:!0,newScopes:[{label:e=>Gt("spanWithAtts",[e.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:e=>e.clearAttributeContext()}],during:(e,r)=>{e.setAttributeContext(Gt("spanWithAtts",[r.tagName]))}}},{contexts:[["chapter"]],parser:{mainSequence:!0,newScopes:[{label:e=>Gt("chapter",[e.number]),endedBy:["chapter"]}]}},{contexts:[["pubchapter"]],parser:{mainSequence:!0,newScopes:[{label:e=>Gt("pubChapter",[e.numberString]),endedBy:["pubchapter","chapter"]}]}},{contexts:[["startTag","tagName",["ca"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/ca","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,r)=>{const n=ka.generateId(),u={label:()=>Gt("altChapter",[n]),endedBy:["startTag/ca","chapter"]};e.openNewScope(r,u,!0,e.sequences.main)}}},{contexts:[["verses"]],parser:{mainSequence:!0,newScopes:[{label:e=>Gt("verses",[e.numberString]),endedBy:["verses","chapter","pubchapter"]}],during:(e,r)=>{r.numbers.forEach(n=>{const u={label:()=>Gt("verse",[n]),endedBy:["verses","chapter","pubchapter"]};e.openNewScope(r,u,!0,e.sequences.main)})}}},{contexts:[["startTag","tagName",["vp"]]],parser:{inlineSequenceType:"pubNumber",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/vp","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,r)=>{const n=ka.generateId(),u={label:()=>Gt("pubVerse",[n]),endedBy:["startTag/vp","verses","chapter","pubchapter"]};e.openNewScope(r,u,!0,e.sequences.main)}}},{contexts:[["startTag","tagName",["va"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:e=>Gt("inline",[e.fullTagName]),endedBy:["endTag/va","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,r)=>{const n=ka.generateId(),u={label:()=>Gt("altVerse",[n]),endedBy:["startTag/va","verses","chapter","pubchapter"]};e.openNewScope(r,u,!0,e.sequences.main)}}},{contexts:[["startTag","tagName",["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt"].concat(t.customTags.char)]],parser:{newScopes:[{label:e=>Gt("span",[e.fullTagName]),endedBy:["endBlock","endTag/$fullTagName$","implicitEnd"]}]}},{contexts:[["startTag","tagName",["th","thr","tc","tcr"]]],parser:{newScopes:[{label:e=>Gt("cell",[e.fullTagName]),endedBy:["startTag/th","startTag/thr","startTag/tc","startTag/tcr","startTag/th2","startTag/thr2","startTag/tc2","startTag/tcr2","startTag/th3","startTag/thr3","startTag/tc3","startTag/tcr3","endBlock","endTag/$fullTagName$"]}]}},{contexts:[["emptyMilestone"]],parser:{during:(e,r)=>e.addEmptyMilestone(Gt("milestone",[r.tagName]))}},{contexts:[["startMilestoneTag","sOrE","s"]],parser:{newScopes:[{label:e=>Gt("milestone",[e.tagName]),endedBy:["endMilestone/$tagName$"]}],during:(e,r)=>{e.setAttributeContext(Gt("milestone",[r.tagName]))}}},{contexts:[["endMilestoneMarker"]],parser:{during:e=>e.clearAttributeContext()}},{contexts:[["attribute"],["defaultAttribute"]],parser:{during:(e,r)=>{const n={w:"lemma",rb:"gloss",xt:"link-href"};if(e.current.attributeContext){const u=e.current.attributeContext.split("/");r.key==="default"&&u.length===2&&(r.key=n[u[1]]||`unknownDefault_${u[1]}`,r.printValue=r.printValue.replace(/default/,r.key)),[...r.values.entries()].forEach(s=>{const i={label:o=>Gt("attribute",[e.current.attributeContext,o.key,s[0],s[1]]),endedBy:["$attributeContext$"]};e.openNewScope(r,i)})}else e.addToken(Sa.printable("unknown",[r.printValue]))}}},{contexts:[["startTag","tagName",["w","rb"].concat(t.customTags.word)]],parser:{newScopes:[{label:e=>Gt("spanWithAtts",[e.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:e=>e.clearAttributeContext()}],during:(e,r)=>{e.setAttributeContext(Gt("spanWithAtts",[r.tagName]))}}},{contexts:[["wordLike"],["lineSpace"],["punctuation"],["eol"]],parser:{during:(e,r)=>e.addToken(r)}},{contexts:[["noBreakSpace"]],parser:{during:e=>{e.addToken(Sa.printable("lineSpace",[""]))}}},{contexts:[["softLineBreak"]],parser:{during:e=>{e.addToken(Sa.printable("softLineBreak",["//"]))}}},{contexts:[["bareSlash"]],parser:{during:e=>{e.addToken(Sa.printable("bareSlash",["\\"]))}}},{contexts:[["unknown"]],parser:{during:(e,r)=>{e.addToken(Sa.printable("unknown",[r.printValue]))}}}];var mue={specs:hue,buildSpecLookup:pue};const cw=Tt,{Sequence:Rl}=PE,{specs:Due,buildSpecLookup:Eue}=mue,{labelForScope:c2}=cw.scopeDefs,_8=cw.parserConstants,yue=class{constructor(e,r,n){this.filterOptions=e,this.customTags=r,this.emptyBlocks=n,this.specs=Due(this),this.specLookup=Eue(this.specs),this.headers={},this.baseSequenceTypes=_8.usfm.baseSequenceTypes,this.inlineSequenceTypes=_8.usfm.inlineSequenceTypes,this.setSequences(),this.setCurrent()}setSequences(){this.sequences={};for(const[e,r]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(r){case"1":this.sequences[e]=new Rl(e);break;case"?":this.sequences[e]=null;break;case"*":this.sequences[e]=[];break;default:throw new Error(`Unexpected sequence arity '${r}' for '${e}'`)}this.mainLike=this.sequences.main}setCurrent(){this.current={sequence:this.sequences.main,parentSequence:null,baseSequenceType:"main",inlineSequenceType:null,attributeContext:null}}parseItem(e){let r=!1;["startTag"].includes(e.subclass)&&(this.closeActiveScopes(`startTag/${e.fullTagName}`),e.isNested||this.closeActiveScopes("implicitEnd")),["endTag"].includes(e.subclass)&&this.closeActiveScopes(`endTag/${e.fullTagName}`),["startMilestoneTag"].includes(e.subclass)&&e.sOrE==="e"&&this.closeActiveScopes(`endMilestone/${e.tagName}`),["chapter","pubchapter","verses"].includes(e.subclass)&&this.closeActiveScopes(e.subclass,this.sequences.main);const n=this.specForItem(e);n&&("before"in n.parser&&n.parser.before(this,e),r=!1,n.parser.baseSequenceType&&(r=(n.parser.baseSequenceType==="mainLike"?this.mainLike.type:n.parser.baseSequenceType)!==this.current.baseSequenceType||n.parser.forceNewSequence),r?(this.closeActiveScopes("baseSequenceChange"),this.changeBaseSequence(n.parser),"newBlock"in n.parser&&n.parser.newBlock&&(this.closeActiveScopes("endBlock"),this.current.sequence.newBlock(c2("blockTag",[e.fullTagName])))):n.parser.inlineSequenceType?(this.current.inlineSequenceType=n.parser.inlineSequenceType,this.current.parentSequence=this.current.sequence,this.current.parentSequence.type==="header"&&(this.current.parentSequence=this.sequences.main),this.current.sequence=new Rl(this.current.inlineSequenceType),this.current.sequence.newBlock(c2("inline",n.parser.inlineSequenceType)),this.sequences[this.current.inlineSequenceType].push(this.current.sequence),this.current.parentSequence.addItem({type:"graft",subType:this.current.inlineSequenceType,payload:this.current.sequence.id})):"newBlock"in n.parser&&n.parser.newBlock&&this.current.sequence.newBlock(c2("blockTag",[e.fullTagName])),"during"in n.parser&&n.parser.during(this,e),this.openNewScopes(n.parser,e),"after"in n.parser&&n.parser.after(this,e))}tidy(){for(const n of this.sequences.introduction)n.graftifyIntroductionHeadings(this);const e=this.allSequences();for(const n of e)n.trim(),n.reorderSpanWithAtts(),n.makeNoteGrafts(this),n.moveOrphanScopes(),n.removeEmptyBlocks(this.emptyBlocks);const r=this.emptySequences(e);for(const n of e)r&&n.removeGraftsToEmptySequences(r),n.addTableScopes(),n.close(this),this.substitutePubNumberScopes(n),n.moveOrphanStartScopes2(),n.type==="sidebar"&&this.substituteEsbCatScopes(n),["footnote","xref"].includes(n.type)&&n.lastBlock().inlineToEnd()}emptySequences(e){return e.filter(r=>r.blocks.length===0).map(r=>r.id)}substitutePubNumberScopes(e){const r={},n=this.sequenceById();for(const u of e.blocks){let s=0;const i=[...u.items];for(const[o,a]of i.entries())if(a.type==="graft"&&["pubNumber","altNumber"].includes(a.subType)){const c=n[a.payload].text().trim(),l=i[o+1].payload.split("/")[1];r[l]=c,u.items.splice(o-s,1),s++}}if(Object.keys(r).length>0)for(const u of e.blocks)for(const s of u.items.filter(i=>i.type==="scope")){const i=s.payload.split("/");["altChapter","pubVerse","altVerse"].includes(i[0])&&(s.payload=`${i[0]}/${r[i[1]]}`)}}substituteEsbCatScopes(e){const r={},n=this.sequenceById();for(const u of e.blocks){let s=0;const i=[...u.items];for(const[o,a]of i.entries())if(a.type==="graft"&&a.subType==="esbCat"){const c=n[a.payload].text().trim(),l=i[1].payload.split("/")[1];r[l]=c,u.items.splice(o-s,1),s++}}if(Object.keys(r).length>0)for(const u of e.blocks)for(const s of u.items.filter(i=>i.type==="scope")){const i=s.payload.split("/");i[0]==="esbCat"&&(s.payload=`${i[0]}/${r[i[1]]}`)}}allSequences(){const e=[];for(const[r,n]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(n){case"1":case"?":this.sequences[r]&&e.push(this.sequences[r]);break;case"*":this.sequences[r].forEach(u=>{e.push(u)});break;default:throw new Error(`Unexpected sequence arity '${n}' for '${r}'`)}return e}sequenceById(){const e={};return this.allSequences().forEach(r=>{e[r.id]=r}),e}filter(){const e=[],r=this.sequenceById();this.filterGrafts(this.sequences.main.id,r,e,this.filterOptions),this.removeUnusedSequences(e),this.filterScopes(Object.values(r),this.filterOptions)}filterGrafts(e,r,n,u){n.push(e);const s=r[e].filterGrafts(u);for(const i of s)r[i].type==="main"&&(console.log("MAIN is child!"),console.log(JSON.stringify(r[e],null,2)),process.exit(1)),this.filterGrafts(i,r,n,u)}removeUnusedSequences(e){for(const r of this.allSequences())if(!e.includes(r.id)){const n={...this.baseSequenceTypes,...this.inlineSequenceTypes}[r.type];switch(n){case"1":throw new Error("Attempting to remove sequence with arity of 1");case"?":this.sequences[r.type]=null;break;case"*":this.sequences[r.type]=this.sequences[r.type].filter(u=>u.id!==r.id);break;default:throw new Error(`Unexpected sequence arity '${n}' for '${r.type}'`)}}}filterScopes(e,r){e.forEach(n=>n.filterScopes(r))}specForItem(e){const r=e.subclass;if(!(r in this.specLookup))return null;for(const n of["tagName","sOrE"])if(n in e&&n in this.specLookup[r]&&e[n]in this.specLookup[r][n])return{parser:this.specLookup[r][n][e[n]]};return"_noAccessor"in this.specLookup[r]?{parser:this.specLookup[r]._noAccessor}:null}closeActiveScopes(e,r){r===void 0&&(r=this.current.sequence);const n=r.activeScopes.filter(u=>u.endedBy.includes(e)).reverse();r.activeScopes=r.activeScopes.filter(u=>!u.endedBy.includes(e)),n.forEach(u=>this.closeActiveScope(u,r))}closeActiveScope(e,r){this.addScope("end",e.label,r),e.onEnd&&e.onEnd(this,e.label)}changeBaseSequence(e){const r=e.baseSequenceType;if(r==="mainLike"){this.current.sequence=this.mainLike;return}this.current.baseSequenceType=r;const n=this.baseSequenceTypes[r];switch(n){case"1":this.current.sequence=this.sequences[r];break;case"?":this.sequences[r]||(this.sequences[r]=new Rl(r)),this.current.sequence=this.sequences[r];break;case"*":this.current.sequence=new Rl(r),e.useTempSequence||this.sequences[r].push(this.current.sequence);break;default:throw new Error(`Unexpected base sequence arity '${n}' for '${r}'`)}!e.useTempSequence&&this.current.sequence.type!=="main"&&this.mainLike.addBlockGraft({type:"graft",subType:this.current.baseSequenceType,payload:this.current.sequence.id})}returnToBaseSequence(){this.current.inlineSequenceType=null,this.current.sequence=this.current.parentSequence,this.current.parentSequence=null}openNewScopes(e,r){if(e.newScopes){let n=this.current.sequence;"mainSequence"in e&&e.mainSequence&&(n=this.sequences.main),e.newScopes.forEach(u=>this.openNewScope(r,u,!0,n))}}openNewScope(e,r,n,u){n===void 0&&(n=!0),u===void 0&&(u=this.current.sequence),n&&u.addItem({type:"scope",subType:"start",payload:r.label(e)});const s={label:r.label(e),endedBy:this.substituteEndedBys(r.endedBy,e)};"onEnd"in r&&(s.onEnd=r.onEnd),u.activeScopes.push(s)}substituteEndedBys(e,r){return e.map(n=>{let u=n.replace("$fullTagName$",r.fullTagName).replace("$tagName$",r.tagName);return this.current.attributeContext&&(u=u.replace("$attributeContext$",this.current.attributeContext.replace("milestone","endMilestone").replace("spanWithAtts","endTag"))),u})}addToken(e){this.current.sequence.addItem({type:"token",subType:e.subclass,payload:e.printValue})}addScope(e,r,n){n===void 0&&(n=this.current.sequence),n.addItem({type:"scope",subType:e,payload:r})}addEmptyMilestone(e){this.mainLike.addItem({type:"scope",subType:"start",payload:e}),this.mainLike.addItem({type:"scope",subType:"end",payload:e})}setAttributeContext(e){this.current.attributeContext=e}clearAttributeContext(){this.current.attributeContext=null}};var vue={Parser:yue};const gue=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perf2usfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],Aue=[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"PERF to PkJSON",name:"perf2PkJson",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"pkJson",type:"json"}],documentation:"",description:"PERF=>JSON: Converts PERF to current Proskomma input format"},{id:999,type:"Outputs",outputs:[{name:"pkJson",type:"json",source:"Transform 1 pkJson"}]}],Sue=gue,Fue=Aue;var lw={perf2usfmPipeline:Sue,perf2PkJsonPipeline:Fue};const{PerfRenderFromJson:bue}=tl,w8=t=>({type:t.sequences[0].block.type,subType:t.sequences[0].block.subType,pos:t.sequences[0].block.blockN,perfChapter:null}),Cue={startDocument:[{description:"Set up storage",test:()=>!0,action:({workspace:t,output:e})=>{t.blockRecords=[],e.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:({context:t,workspace:e})=>{e.blockRecords.push(w8(t))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:({context:t,workspace:e})=>{e.blockRecords.push(w8(t))}}],mark:[{description:"Add chapter number to block record",test:({context:t})=>t.sequences[0].element.subType==="chapter",action:({context:t,workspace:e})=>{e.blockRecords[e.blockRecords.length-1].perfChapter=t.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:({workspace:t,output:e})=>{for(const[r,n]of Object.entries(t.blockRecords)){if(!n.perfChapter)continue;let u=r,s=!1;for(;u>0&&!s;)t.blockRecords[u-1].type==="paragraph"||t.blockRecords[u-1].subType==="title"?s=!0:u--;e.report[u.toString()]=n.perfChapter}}}]},_ue=function({perf:t}){const e=new bue({srcJson:t,actions:Cue}),r={};return e.renderDocument({docId:"",config:{maxLength:60},output:r}),{report:r.report}},wue={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:_ue};var Tue=wue;const{PerfRenderFromJson:$ue}=tl,Gr=t=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(t)?t+"1":t,Bue=(t,e)=>{let r=`\\${e}-s |`;for(let[n,u]of Object.entries(t))n==="x-morph"?r=r+Gr(n)+'="'+u.join(",")+'" ':r=r+Gr(n)+'="'+u+'" ';return r+"\\*"},Iue=(t,e,r=!1)=>{let n="|";for(let[u,s]of Object.entries(t))n=n+Gr(u)+'="'+s+'" ';return n=n+"\\",r&&(n=n+"+"),n+e+"*"},Pue={startDocument:[{description:"Set up environment",test:()=>!0,action:({context:t,workspace:e})=>{e.usfmBits=[""],e.nestedWrapper=0;for(let[r,n]of Object.entries(t.document.metadata.document).filter(u=>!["tags","properties","bookCode","cl"].includes(u[0])))e.usfmBits.push(`\\${Gr(r)} ${n}
`)}}],blockGraft:[{description:"Follow block grafts",test:({context:t})=>["title","heading","introduction"].includes(t.sequences[0].block.subType),action:t=>{let e=t.context.sequences[0],r=t.config.report[e.block.blockN.toString()];const n=e.block.target;r&&e.type==="main"&&t.workspace.usfmBits.push(`
\\c ${r}
`),n&&t.context.renderer.renderSequenceId(t,n)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:t=>{const e=t.context.sequences[0].element.target;e&&t.context.renderer.renderSequenceId(t,e)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:t})=>t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref",action:({context:t,workspace:e})=>{e.nestedWrapper=0;let r=t.sequences[0];e.usfmBits.push(`\\${Gr(r.block.subType.split(":")[1])} `)}},{description:"Output footnote note_caller tag (footnote)",test:({context:t})=>t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x",action:({workspace:t})=>{t.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:({context:t,workspace:e,config:r})=>{e.nestedWrapper=0;let n=t.sequences[0],u=r.report[n.block.blockN.toString()];u&&n.type==="main"&&e.usfmBits.push(`
\\c ${u}
`),e.usfmBits.push(`
\\${Gr(n.block.subType.split(":")[1])}
`)}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:t})=>t.sequences[0].block.subType==="usfm:f"&&t.sequences[0].type==="footnote"||t.sequences[0].block.subType==="usfm:x"&&t.sequences[0].type==="xref",action:({context:t,workspace:e})=>{let r=t.sequences[0];e.usfmBits.push(`\\${Gr(r.block.subType.split(":")[1])}*`)}},{description:"Output footnote note_caller tag (footnote)",test:({context:t})=>t.sequences[0].block.subType==="usfm:f"||t.sequences[0].block.subType==="usfm:x",action:()=>{}},{description:"Output nl",test:()=>!0,action:({workspace:t})=>{t.usfmBits.push(`
`)}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:({context:t,workspace:e})=>{let r=t.sequences[0].element,n=Bue(r.atts,Gr(r.subType.split(":")[1]));e.usfmBits.push(n)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:({context:t,workspace:e})=>{e.usfmBits.push(`\\${Gr(t.sequences[0].element.subType.split(":")[1])}-e\\*`)}}],text:[{description:"Output text",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element.text;e.usfmBits.push(r)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element;r.subType==="verses"&&e.usfmBits.push(`
\\v ${r.atts.number}
`)}}],endSequence:[{description:"Output \\cl",test:({context:t})=>t.document.metadata.document.cl&&t.sequences[0].type==="title",action:({context:t,workspace:e})=>{e.usfmBits.push(`
\\cl ${t.document.metadata.document.cl}
`)}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:({workspace:t,context:e})=>{let r=e.sequences[0];t.nestedWrapper>0?t.usfmBits.push(`\\+${Gr(r.element.subType.split(":")[1])} `):t.usfmBits.push(`\\${Gr(r.element.subType.split(":")[1])} `),t.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:({context:t})=>!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(t.sequences[0].element.subType.split(":")[1]),action:({workspace:t,context:e})=>{t.nestedWrapper-=1;let r=e.sequences[0],n=r.element.subType.split(":")[1],u=t.nestedWrapper>0;if(n==="w"){let s=Iue(r.element.atts,Gr(n),u);t.usfmBits.push(s)}else u?t.usfmBits.push(`\\+${Gr(r.element.subType.split(":")[1])}*`):t.usfmBits.push(`\\${Gr(r.element.subType.split(":")[1])}*`)}},{description:"Do NOT output end tag",test:()=>!0,action:({workspace:t})=>{t.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:({workspace:t,output:e})=>{e.usfm=t.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,`
`)}}]},kue=function({perf:t,report:e}){const r=new $ue({srcJson:t,actions:Pue}),n={};return r.renderDocument({docId:"",config:{report:e},output:n}),{usfm:n.usfm}},Oue={name:"perf2usfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:kue};var Nue=Oue;const{PerfRenderFromJson:Rue}=tl,Fa=Bt,{lexingRegexes:v0}=rl,que=v0.filter(t=>t[1]==="wordLike")[0][2],xue=v0.filter(t=>t[1]==="lineSpace")[0][2],Mue=v0.filter(t=>t[1]==="punctuation")[0][2],jue=t=>{[...t.os].reverse().forEach(e=>{t.block.items.push({type:"scope",subType:"end",payload:e})}),t.os=[]},Lue=t=>{[...t.os.filter(e=>["span"].includes(e.split("/")[1]))].reverse().forEach(e=>{t.block.items.push({type:"scope",subType:"end",payload:e}),t.os=[...t.os.filter(r=>r!==e)]})},T8=t=>{[...t.os.filter(e=>["verse","verses"].includes(e.split("/")[0]))].reverse().forEach(e=>{t.block.items.push({type:"scope",subType:"end",payload:e}),t.os=[...t.os.filter(r=>r!==e)]})},Gue=t=>{[...t.os.filter(e=>["chapter"].includes(e.split("/")[0]))].reverse().forEach(e=>{t.block.items.push({type:"scope",subType:"end",payload:e}),t.os=[...t.os.filter(r=>r!==e)]})},Vue={startDocument:[{description:"Set up word object",test:()=>!0,action:({workspace:t,output:e})=>{e.pkJson={},t.sequenceId=null,t.block=null,t.os=[],t.waitingBlockGrafts=[]}}],startSequence:[{description:"Add sequence array to output",test:()=>!0,action:t=>{t.output.pkJson[t.context.sequences[0].id]=[],t.workspace.sequenceId=t.context.sequences[0].id}}],endSequence:[{description:"Reset sequenceId pointer",test:()=>!0,action:t=>{var e;jue(t.workspace),t.workspace.sequenceId=(e=t.context.sequences[1])==null?void 0:e.id}}],unresolvedBlockGraft:[{description:"Stash for next para",test:()=>!0,action:({context:t,workspace:e})=>{t.sequences[0].block.target&&e.waitingBlockGrafts.push({type:"graft",subType:t.sequences[0].block.subType,payload:t.sequences[0].block.target})}}],unresolvedInlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:({context:t,workspace:e})=>{t.sequences[0].element.target&&e.block.items.push({type:"graft",subType:t.sequences[0].element.subType,payload:t.sequences[0].element.target})}}],startParagraph:[{description:"Add object for paragraph block",test:()=>!0,action:({context:t,workspace:e,output:r})=>{e.block={os:[...e.os],is:[],bs:{type:"scope",subType:"start",payload:`blockTag/${t.sequences[0].block.subType.split(":")[1]}`},bg:[...e.waitingBlockGrafts],items:[]},r.pkJson[e.sequenceId].push(e.block)}}],endParagraph:[{description:"Close open scopes",test:()=>!0,action:({workspace:t})=>{Lue(t),t.waitingBlockGrafts=[]}}],mark:[{description:"ts mark as milestone",test:({context:t})=>["usfm:ts"].includes(t.sequences[0].element.subType),action:({workspace:t})=>{const e="milestone/ts";t.block.is.includes(e)||t.block.is.push(e),t.os.push(e),t.block.items.push({type:"scope",subType:"start",payload:e}),t.block.items.push({type:"scope",subType:"end",payload:e})}},{description:"Chapter",test:({context:t})=>["chapter"].includes(t.sequences[0].element.subType),action:({context:t,workspace:e})=>{T8(e),Gue(e);const n=`chapter/${t.sequences[0].element.atts.number}`;e.block.is.includes(n)||e.block.is.push(n),e.os.push(n),e.block.items.push({type:"scope",subType:"start",payload:n})}},{description:"Verses",test:({context:t})=>["verses"].includes(t.sequences[0].element.subType),action:({context:t,workspace:e})=>{T8(e);const r=t.sequences[0].element,n=r.atts.number;let u=[parseInt(n)];if(n.includes("-")){let[i,o]=n.split("-").map(a=>parseInt(a));for(u=[i];i<=o;)i++,u.push(i)}for(const i of u){const o=`verse/${i}`;e.os.push(o),e.block.is.includes(o)||e.block.is.push(o),e.block.items.push({type:"scope",subType:"start",payload:o})}const s=`verses/${r.atts.number}`;e.block.is.includes(s)||e.block.is.push(s),e.os.push(s),e.block.items.push({type:"scope",subType:"start",payload:s})}}],startMilestone:[{description:"Add scope and update state",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element,n=`milestone/${r.subType.split(":")[1]}`;e.block.is.includes(n)||e.block.is.push(n),e.os.push(n),e.block.items.push({type:"scope",subType:"start",payload:n});for(const[u,s]of Object.entries(r.atts||{})){const i=s.toString().split(",");for(const[o,a]of i.entries()){const c=`attribute/milestone/${r.subType.split(":")[1]}/${u}/${o}/${a}`;e.block.is.includes(c)||e.block.is.push(c),e.os.push(c),e.block.items.push({type:"scope",subType:"start",payload:c})}}}}],endMilestone:[{description:"Remove scope and update state",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element,n=`attribute/milestone/${r.subType.split(":")[1]}`;for(const s of[...e.os.filter(i=>i.startsWith(n))].reverse())e.os=e.os.filter(i=>i!==s),e.block.items.push({type:"scope",subType:"end",payload:s});const u=`milestone/${r.subType.split(":")[1]}`;e.os=e.os.filter(s=>s!==u),e.block.items.push({type:"scope",subType:"end",payload:u})}}],startWrapper:[{description:"Add scope and update state",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element,n=`${r.subType==="usfm:w"?"spanWithAtts":"span"}/${r.subType.split(":")[1]}`;e.block.is.includes(n)||e.block.is.push(n),e.os.push(n),e.block.items.push({type:"scope",subType:"start",payload:n});for(const[u,s]of Object.entries(r.atts||{})){const i=s.toString().split(",");for(const[o,a]of i.entries()){const c=`attribute/spanWithAtts/w/${u}/${o}/${a}`;e.block.is.includes(c)||e.block.is.push(c),e.os.push(c),e.block.items.push({type:"scope",subType:"start",payload:c})}}}}],endWrapper:[{description:"Remove scope and update state",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element;for(const[u,s]of[...Object.entries(r.atts||{})].reverse()){const i=s.toString().split(",");for(const[o,a]of[...i.entries()].reverse()){const c=`attribute/spanWithAtts/w/${u}/${o}/${a}`;e.os=e.os.filter(l=>l!==c),e.block.items.push({type:"scope",subType:"end",payload:c})}}const n=`${r.subType==="usfm:w"?"spanWithAtts":"span"}/${r.subType.split(":")[1]}`;e.os=e.os.filter(u=>u!==n),e.block.items.push({type:"scope",subType:"end",payload:n})}}],text:[{description:"Log occurrences",test:()=>!0,action:({context:t,workspace:e})=>{const r=t.sequences[0].element.text,n=Fa.union(v0.map(s=>s[2])),u=Fa.match(r,n,"all");for(const s of u){let i;Fa.test(s,que)?i="wordLike":Fa.test(s,xue)?i="lineSpace":Fa.test(s,Mue)&&(i="punctuation"),e.block.items.push({type:"token",subType:i,payload:s})}}}],endDocument:[{description:"Rework hanging end cv scopes",test:()=>!0,action:({output:t})=>{const e=Object.values(t.pkJson)[0];for(let r=1;r<e.length;r++){let n=e[r].items;const u=e[r-1].items;let s=0;for(;s<n.length;){const i=n[s];if(i.type!=="scope"||i.subType!=="end")break;s++}for(;s>0;){const i=n.shift();u.push(i),e[r].os=e[r].os.filter(o=>o!==i.payload),s--}}}}]},Uue=function({perf:t}){const e=new Rue({srcJson:t,ignoreMissingSequences:!0,actions:Vue}),r={};return e.renderDocument({docId:"",config:{},output:r}),{pkJson:r.pkJson}},Kue={name:"perf2PkJson",type:"Transform",description:"PERF=>JSON: Converts PERF to current Proskomma input format",documentation:"",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"pkJson",type:"json"}],code:Uue};var Jue=Kue;const Hue=Tue,Wue=Nue,zue=Jue;var fw={calculateUsfmChapterPositions:Hue,perf2usfm:Wue,perf2PkJson:zue};const Que=pc,g0=Tt,$8=g0.ByteArray,{itemEnum:l2}=g0.itemDefs,{tokenEnum:Yue}=g0.tokenDefs,Xue=0,Ji=2,vf=3,Zue=t=>{const e=t.sequences[t.mainId],r=t.processor.docSets[t.docSetId];r.buildPreEnums(),r.buildEnumIndexes();const n={},u={};let s="0",i="0",o="1",a=0;if(e.chapterVerses={},r.enums.wordLike.length===0)throw new Error("No wordLike content in docSet - probably a USFM issue, maybe missing \\mt?");e.tokensPresent=new Que(new Array(r.enums.wordLike.length).fill(0).map(c=>c.toString()).join(""));for(const[c,l]of e.blocks.entries()){let f=0,d=l.c,p=-1;for(;f<d.length;){p++;const[h,v,S]=g0.succinct.headerBytes(d,f);if(v===l2.startScope){let D=r.succinctScopeLabel(d,S,f);D.startsWith("chapter/")?(s=D.split("/")[1],n[s]={},u[s]={startBlock:c,startItem:p,nextToken:a}):D.startsWith("verse/")?(i=D.split("/")[1],i==="1"&&!("0"in n[s])&&u[s].nextToken<a&&(n[s][0]=[{startBlock:u[s].startBlock,startItem:u[s].startItem,endBlock:c,endItem:Math.max(p-1,0),nextToken:u[s].nextToken,verses:"0"}]),i in n[s]||(n[s][i]=[]),n[s][i].push({startBlock:c,startItem:p,nextToken:a})):D.startsWith("verses/")&&(o=D.split("/")[1])}else if(v===l2.endScope){let D=r.succinctScopeLabel(d,S,f);if(D.startsWith("chapter/")){s=D.split("/")[1];let g=u[s];g&&(g.endBlock=c,g.endItem=p)}else if(D.startsWith("verse/")&&(i=D.split("/")[1],n[s][i])){const F=n[s][i][n[s][i].length-1];F.endBlock=c,F.endItem=p,F.verses=o}}else v===l2.token&&S===Yue.wordLike&&(e.tokensPresent.set(d.nByte(f+2),1),a++);f+=h}}for(const[c,l]of Object.entries(n)){const f=new $8;e.chapterVerses[c]=f;const d=Object.keys(l).map(S=>parseInt(S)).sort((S,D)=>S-D);if(d.length===0)continue;const p=d[d.length-1],h=Array.from(Array(p+1).keys());let v=0;for(const S of h){const D=`${S}`;if(D in l){const g=l[D],F=g.length;for(const[I,k]of g.entries()){if(!k.verses){console.log(`** VerseElement without verses for ${S} in buildChapterVerseIndex`);continue}const B=r.enumForCategoryValue("scopeBits",k.verses),O=k.startBlock===k.endBlock?Ji:vf;f.pushByte(0),O===Ji?f.pushNBytes([k.startBlock,k.startItem,k.endItem,k.nextToken,B]):f.pushNBytes([k.startBlock,k.endBlock,k.startItem,k.endItem,k.nextToken,B]),f.setByte(v,f2(O,I===F-1,f.length-v)),v=f.length}}else f.pushByte(f2(Xue,!0,1)),v++}f.trim()}e.chapters={};for(const[c,l]of Object.entries(u)){if(!("startBlock"in l)||!("endBlock"in l))continue;const f=new $8;e.chapters[c]=f;const d=l.startBlock===l.endBlock?Ji:vf;f.pushByte(0),d===Ji?f.pushNBytes([l.startBlock,l.startItem,l.endItem,l.nextToken]):f.pushNBytes([l.startBlock,l.endBlock,l.startItem,l.endItem,l.nextToken]),f.setByte(0,f2(d,!0,f.length)),f.trim()}},ese=(t,e)=>{const r=t.processor.docSets[t.docSetId];r.buildEnumIndexes();const n=[],u=t.sequences[t.mainId].chapterVerses[e];if(u){let s=0,i=[];for(;s<u.length;){const[o,a,c]=dw(u,s);if(o===Ji){const l=u.nBytes(s+1,5);i.push({startBlock:l[0],endBlock:l[0],startItem:l[1],endItem:l[2],nextToken:l[3],verses:r.enums.scopeBits.countedString(r.enumIndexes.scopeBits[l[4]])})}else if(o===vf){const l=u.nBytes(s+1,6);i.push({startBlock:l[0],endBlock:l[1],startItem:l[2],endItem:l[3],nextToken:l[4],verses:r.enums.scopeBits.countedString(r.enumIndexes.scopeBits[l[5]])})}a&&(n.push(i),i=[]),s+=c}}return n},tse=(t,e)=>{const r=t.sequences[t.mainId].chapters[e];if(r){const n=dw(r,0)[0];if(n===Ji){const u=r.nBytes(1,4);return{startBlock:u[0],endBlock:u[0],startItem:u[1],endItem:u[2],nextToken:u[3]}}else if(n===vf){const u=r.nBytes(1,5);return{startBlock:u[0],endBlock:u[1],startItem:u[2],endItem:u[3],nextToken:u[4]}}}},f2=(t,e,r)=>r+(e?32:0)+t*64,dw=(t,e)=>{const r=t.byte(e);return[r>>6,(r>>5)%2===1,r%32]};var rse={buildChapterVerseIndex:Zue,chapterVerseIndex:ese,chapterIndex:tse};const nse=m9,ec=Tt,use=t=>{const e=new Set,r=t.processor.docSets[t.docSetId];r.maybeBuildEnumIndexes();const n=(s,i,o)=>{o.add(i.id);for(const a of i.blocks){for(const c of r.unsuccinctifyGrafts(a.bg))o.has(c[2])||n(s,s.sequences[c[2]],o);for(const c of r.unsuccinctifyItems(a.c,{grafts:!0},0))o.has(c[2])||n(s,s.sequences[c[2]],o)}};n(t,t.sequences[t.mainId],e);let u=!1;for(const s of Object.keys(t.sequences))e.has(s)||(delete t.sequences[s],u=!0);return u},sse=(t,e,r)=>{const n=ec.generateId();return t.sequences[n]={id:n,type:e,tags:new Set(r||[]),isBaseType:e in t.baseSequenceTypes,blocks:[]},n},ise=(t,e)=>{if(!(e in t.sequences))return!1;if(t.sequences[e].type==="main")throw new Error("Cannot delete main sequence");return t.sequences[e].type in t.baseSequenceTypes?B8(t,"block",e):B8(t,"inline",e),delete t.sequences[e],t.buildChapterVerseIndex(globalThis),t.gcSequences(),!0},B8=(t,e,r)=>{const n=t.processor.docSets[t.docSetId];for(const u of Object.values(t.sequences))for(const s of u.blocks){const i=e==="block"?s.bg:s.c;let o=0;for(;o<i.length;){const[a,c]=ec.succinct.headerBytes(i,o);c!==ec.itemDefs.itemEnum.graft?o+=a:ec.succinct.succinctGraftSeqId(n.enums,n.enumIndexes,i,o)===r?i.deleteItem(o):o+=a}}},ose=(t,e,r,n,u,s,i)=>{t.processor.docSets[t.docSetId].maybeBuildEnumIndexes(),r=r||(l=>l);const a=t.sequences[e],c=r({id:e,type:a.type,tags:a.tags,isBaseType:a.isBaseType,verseMapping:a.verseMapping});return ase(a,c,n,u,s,i),t.sequences[e]=c,c.type==="main"&&t.buildChapterVerseIndex(),c},ase=(t,e,r,n,u,s)=>{r=r||((i,o,a)=>!!a),n=n||((i,o,a,c,l,f,d)=>!!a||d),u=u||((i,o,a)=>a),s=s||((i,o,a,c,l,f,d,p,h)=>{for(let v=0;v<f;v++)c.c.pushByte(a.c.byte(h+v))}),e.blocks=[];for(const[i,o]of t.blocks.entries())if(r(t,i,o)){const a=u(t,i,nse(o));a.c.clear(),cse(t,i,o,a,n,s),e.blocks.push(a)}},cse=(t,e,r,n,u,s)=>{let i=0,o=-1;for(;i<r.c.length;){o++;const[a,c,l]=ec.succinct.headerBytes(r.c,i);u(t,e,r,o,c,l,i)&&s(t,e,r,n,o,a,c,l,i),i+=a}};var lse={newSequence:sse,gcSequences:use,deleteSequence:ise,modifySequence:ose};const Co=Tt,Ls=Co.ByteArray,{pushSuccinctGraftBytes:fse,pushSuccinctScopeBytes:pw,pushSuccinctTokenBytes:I8}=Co.succinct,{itemEnum:am}=Co.itemDefs,{scopeEnum:dse,scopeEnumLabels:pse,nComponentsForScope:hw}=Co.scopeDefs,{tokenCategory:o3e,tokenEnum:hse}=Co.tokenDefs,{headerBytes:mse}=Co.succinct,{updateBlockGrafts:Dse}=g_,Ese=(t,e,r,n)=>{if(n!==!1&&(n=!0),!(e in t.sequences))return!1;const u=t.sequences[e];return r<0||r>=u.blocks.length?!1:(u.blocks.splice(r,1),n&&t.buildChapterVerseIndex(globalThis),!0)},yse=(t,e,r,n,u,s)=>{if(s!==!1&&(s=!0),!(e in t.sequences))return!1;const i=t.sequences[e];if(r<0||r>i.blocks.length)return!1;const o=t.processor.docSets[t.docSetId];o.maybeBuildPreEnums();const a={bs:new Ls(0),bg:new Ls(0),c:new Ls(0),os:new Ls(0),is:new Ls(0),nt:new Ls(0)},c=n.split("/"),l=dse[c[0]],f=hw(c[0]);if(c.length!==f)throw new Error(`Scope ${n} has ${c.length} component(s) (expected ${f}`);const d=c.slice(1).map(p=>o.enumForCategoryValue("scopeBits",p,!0));return pw(a.bs,am.startScope,l,d),a.bs.trim(),u&&Dse(o,t.id,e,r,u),i.blocks.splice(r,0,a),s&&t.buildChapterVerseIndex(),!0},vse=(t,e)=>{for(const r of["bs","bg","c","is","os"]){const n=t[r],u=new Ls(n.length);let s=0;for(;s<n.length;){const[i,o,a]=mse(n,s);if(o===am.token)a===hse.wordLike?I8(u,a,e.wordLike[n.nByte(s+2)]):I8(u,a,e.notWordLike[n.nByte(s+2)]);else if(o===am.graft)fse(u,e.graftTypes[a],e.ids[n.nByte(s+2)]);else{let c=hw(pse[a]);const l=[];let f=2;for(;c>1;){const d=e.scopeBits[n.nByte(s+f)];l.push(d),f+=n.nByteLength(d),c--}pw(u,o,a,l)}s+=i}u.trim(),t[r]=u}};var gse={newBlock:yse,deleteBlock:Ese,rewriteBlock:vse};const qE=Tt,Ase=qE.ByteArray,{itemEnum:d2}=qE.itemDefs,Sse=(t,e)=>{if(!e||Object.keys(e).length===0)return;const r=t.processor.docSets[t.docSetId],n=(s,i,o,a,c,l,f)=>{if(c===d2.token)return!0;if(c===d2.startScope||c===d2.endScope){if(!e.includeScopes&&!e.excludeScopes)return!0;{const d=r.unsuccinctifyScope(o.c,c,l,f);return(!e.includeScopes||e.includeScopes.filter(p=>d[2].startsWith(p)).length>0)&&(!e.excludeScopes||e.excludeScopes.filter(p=>d[2].startsWith(p)).length===0)}}else{if(!e.includeGrafts&&!e.excludeGrafts)return!0;const d=r.unsuccinctifyGraft(o.c,l,f);return(!e.includeGrafts||e.includeGrafts.filter(p=>d[1].startsWith(p)).length>0)&&(!e.excludeGrafts||e.excludeGrafts.filter(p=>d[1].startsWith(p)).length===0)}},u=(s,i,o)=>{const a=new Ase(o.bg.length);let c=0;for(;c<o.bg.length;){const[l,f,d]=qE.succinct.headerBytes(o.bg,c),p=r.unsuccinctifyGraft(o.bg,d,c);if((!e.includeGrafts||e.includeGrafts.filter(h=>p[1].startsWith(h)).length>0)&&(!e.excludeGrafts||e.excludeGrafts.filter(h=>p[1].startsWith(h)).length===0))for(let h=0;h<l;h++)a.pushByte(o.bg.byte(c+h));c+=l}return a.trim(),o.bg=a,o};Object.keys(t.sequences).forEach(s=>{t.modifySequence(s,null,null,n,u,null)}),Object.values(t.sequences).forEach(s=>r.updateBlockIndexesAfterFilter(s)),t.gcSequences()};var Fse={succinctFilter:Sse};const bse=t=>{const e={sequences:{}};e.headers=t.headers,e.mainId=t.mainId,e.tags=Array.from(t.tags);for(const[r,n]of Object.entries(t.sequences))e.sequences[r]=Cse(n);return e},Cse=t=>{const e={type:t.type,blocks:t.blocks.map(r=>_se(r)),tags:Array.from(t.tags)};if(t.type==="main"){e.chapters={};for(const[r,n]of Object.entries(t.chapters||{}))n.trim(),e.chapters[r]=n.base64();e.chapterVerses={};for(const[r,n]of Object.entries(t.chapterVerses||{}))n.trim(),e.chapterVerses[r]=n.base64();"tokensPresent"in t&&(e.tokensPresent="0x"+t.tokensPresent.toString(16))}return e},_se=t=>{for(const e of["bs","bg","c","is","os","nt"])t[e].trim();return{bs:t.bs.base64(),bg:t.bg.base64(),c:t.c.base64(),is:t.is.base64(),os:t.os.base64(),nt:t.nt.base64()}};var wse={serializeSuccinct:bse};const mw=Tt,Tse=(t,e)=>{t.recordPreEnum("scopeBits","0");for(const[r,n]of e.blocks.entries())for(const[u,s]of[...n.items,n.bs,...n.bg].entries())if(s.subType==="wordLike")t.recordPreEnum("wordLike",s.payload);else if(["lineSpace","eol","punctuation","softLineBreak","bareSlash","unknown"].includes(s.subType))t.recordPreEnum("notWordLike",s.payload);else if(s.type==="graft")t.recordPreEnum("graftTypes",s.subType);else if(s.subType==="start"){const i=s.payload.split("/");if(i.length!==mw.scopeDefs.nComponentsForScope(i[0]))throw new Error(`Scope ${s.payload} has unexpected number of components`);for(const o of i.slice(1))t.recordPreEnum("scopeBits",o)}},$se=(t,e)=>{t.recordPreEnum("scopeBits","0"),t.recordPreEnum("ids",e.id);for(const r of e.blocks)for(const n of["bs","bg","c","is","os"])Bse(t,r[n])},Bse=(t,e)=>{for(const r of t.unsuccinctifyItems(e,{},0))if(r[0]==="token")r[1]==="wordLike"?t.recordPreEnum("wordLike",r[2]):t.recordPreEnum("notWordLike",r[2]);else if(r[0]==="graft")t.recordPreEnum("graftTypes",r[1]);else if(r[0]==="scope"&&r[1]==="start"){const n=r[2].split("/");if(n.length!==mw.scopeDefs.nComponentsForScope(n[0]))throw new Error(`Scope ${r[2]} has unexpected number of components`);for(const u of n.slice(1))t.recordPreEnum("scopeBits",u)}};var Ise={recordPreEnums:Tse,rerecordPreEnums:$se};const{PerfRenderFromProskomma:Pse,SofriaRenderFromProskomma:kse,render:P8,PipelineHandler:Ose}=tl,xE=Tt,{parseUsfm:Nse,parseUsx:Rse,parseTableToDocument:qse,parseNodes:xse}=due,{Parser:Mse}=vue,jse=lw,Lse=fw,{buildChapterVerseIndex:ql,chapterVerseIndex:k8,chapterIndex:O8}=rse,{modifySequence:Gse,deleteSequence:Vse,gcSequences:Use,newSequence:Kse}=lse,{deleteBlock:Jse,newBlock:Hse,rewriteBlock:Wse}=gse,{succinctFilter:zse}=Fse,{serializeSuccinct:Qse}=wse,{recordPreEnums:Yse,rerecordPreEnums:Xse}=Ise,{addTag:Zse,removeTag:eie,validateTags:tie}=xE.tags,rie=xE.parserConstants;let nie=class{constructor(e,r,n,u,s,i,o,a){if(this.processor=e,this.docSetId=r,this.baseSequenceTypes=rie.usfm.baseSequenceTypes,n)switch(this.id=xE.generateId(),this.filterOptions=s,this.customTags=i,this.emptyBlocks=o,this.tags=new Set(a||[]),tie(this.tags),this.headers={},this.mainId=null,this.sequences={},n.toLowerCase()){case"usfm":case"sfm":this.processUsfm(u);break;case"usx":this.processUsx(u);break;case"tsv":this.processTSV(u);break;case"nodes":this.processNodes(u);break;default:throw new Error(`Unknown document contentType '${n}'`)}}addTag(e){Zse(this.tags,e)}removeTag(e){eie(this.tags,e)}makeParser(){return new Mse(this.filterOptions,this.customTags,this.emptyBlocks)}processUsfm(e){const r=this.makeParser();Nse(e,r),this.postParseScripture(r)}processUsx(e){const r=this.makeParser();Rse(e,r),this.postParseScripture(r)}processTSV(e){const r=this.makeParser(),n=`T${this.processor.nextTable>9?this.processor.nextTable:"0"+this.processor.nextTable}`;this.processor.nextTable++,qse(e,r,n),this.headers=r.headers,this.succinctPass1(r),this.succinctPass2(r),ql(this);const u=Object.values(this.sequences).filter(s=>s.type==="table")[0];for(const[s,i]of JSON.parse(e).headings.entries())u.tags.add(`col${s}:${i}`)}processNodes(e){const r=this.makeParser(),n=`N${this.processor.nextNodes>9?this.processor.nextNodes:"0"+this.processor.nextNodes}`;this.processor.nextNodes++,xse(e,r,n),this.headers=r.headers,this.succinctPass1(r),this.succinctPass2(r),ql(this)}postParseScripture(e){e.tidy();const r=e.filterOptions;this.headers=e.headers,this.succinctPass1(e),this.succinctPass2(e),this.succinctFilter(r),ql(this)}succinctFilter(e){zse(this,e)}succinctPass1(e){const r=this.processor.docSets[this.docSetId];for(const n of e.allSequences())r.recordPreEnum("ids",n.id),this.recordPreEnums(r,n);r.enums.wordLike.length===0&&r.sortPreEnums(),r.buildEnums()}recordPreEnums(e,r){Yse(e,r)}rerecordPreEnums(e,r){Xse(e,r)}succinctPass2(e){const r=this.processor.docSets[this.docSetId];this.mainId=e.sequences.main.id;for(const n of e.allSequences())this.sequences[n.id]={id:n.id,type:n.type,tags:new Set(n.tags),isBaseType:n.type in e.baseSequenceTypes,blocks:n.succinctifyBlocks(r)};this.sequences[this.mainId].verseMapping={}}modifySequence(e,r,n,u,s,i){Gse(this,e,r,n,u,s,i)}buildChapterVerseIndex(){ql(this)}chapterVerseIndexes(){const e={};for(const r of Object.keys(this.sequences[this.mainId].chapterVerses))e[r]=k8(this,r);return e}chapterVerseIndex(e){return k8(this,e)}chapterIndexes(){const e={};for(const r of Object.keys(this.sequences[this.mainId].chapters))e[r]=O8(this,r);return e}chapterIndex(e){return O8(this,e)}rewriteSequenceBlocks(e,r){const n=this.sequences[e];for(const u of n.blocks)this.rewriteSequenceBlock(u,r)}rewriteSequenceBlock(e,r){Wse(e,r)}serializeSuccinct(){return Qse(this)}gcSequences(){return Use(this)}newSequence(e,r){return Kse(this,e,r)}deleteSequence(e){return Vse(this,e)}deleteBlock(e,r,n){return Jse(this,e,r,n)}newBlock(e,r,n,u,s){return Hse(this,e,r,n,u,s)}perf(e){const r=new Pse({proskomma:this.processor,actions:P8.perfToPerf.renderActions.identityActions}),n={};return r.renderDocument({docId:this.id,config:{},output:n}),e?JSON.stringify(n.perf,null,e):JSON.stringify(n.perf)}async usfm(){const e=JSON.parse(this.perf());try{return(await new Ose({pipelines:jse,transforms:Lse,proskomma:this.processor}).runPipeline("perf2usfmPipeline",{perf:e})).usfm}catch(r){console.error(`pipelineHandler Error :
`,r)}}sofria(e,r){const n=new kse({proskomma:this.processor,actions:P8.sofriaToSofria.renderActions.identityActions}),u={},s={};r&&(s.chapters=[`${r}`]);try{n.renderDocument({docId:this.id,config:s,output:u})}catch(i){throw console.log(i),i}return e?JSON.stringify(u.sofria,null,e):JSON.stringify(u.sofria)}};var uie={Document:nie};const sie=`
"""Key/Value tuple"""
type KeyValue {
    """The key"""
    key: String!
    """The value"""
    value: String!
}`,iie={key:t=>t[0],value:t=>t[1]};var oie={keyValueSchemaString:sie,keyValueResolvers:iie};const aie=`
"""A chapter-verse reference"""
type cv {
  """The chapter number"""
  chapter: Int
  """The verse number"""
  verse: Int
}
`,cie={chapter:t=>t[0],verse:t=>t[1]};var lie={cvSchemaString:aie,cvResolvers:cie};const fie=`
"""Type-dependent parts of the ID header"""
type idParts {
  """The type of the ID"""
  type: String
  """An array of parts of the ID"""
  parts: [String]
  """A part of the ID, by index"""
  part(
    """The numeric index of the part"""
    index: Int!
  ): String
}
`,die={type:t=>t[0],parts:t=>t[1],part:(t,e)=>!t[1]||e.index<0||e.index>=t[1].length?null:t[1][e.index]};var pie={idPartsSchemaString:fie,idPartsResolvers:die};const hie=`
"""Attribute Specification"""
input AttSpec {
"""The type of attribute, ie what type of thing it's connected to"""
attType: String!
"""The name of the USFM tag to which the attribute is connected"""
tagName: String!
"""The attribute key (ie the bit to the left of the equals sign in USX)"""
attKey: String!
"""The position of the value (which is 0 except for attributes with multiple values)"""
valueN: Int!
}`;var mie={inputAttSpecSchemaString:hie};const Die=`
"""Key/Regex tuple"""
input KeyMatches {
  """The key"""
  key: String!
  """The regex to match"""
  matches: String!
}
`;var Eie={keyMatchesSchemaString:Die};const yie=`
"""Input Key/Value Object"""
input InputKeyValue {
    """The key"""
    key: String!
    """The value"""
    value: String!
}
`;var vie={inputKeyValueSchemaString:yie};const gie=`
"""Input Key/Values Object"""
input KeyValues {
    """The key"""
    key: String!
    """The values"""
    values: [String!]!
}
`;var Aie={keyValuesSchemaString:gie};const Sie=`
"""Item for arguments"""
input InputItemObject {
    """The basic item type (token, scope or graft)'"""
    type: String!
    """The type-dependent subtype of the item"""
    subType: String!
    """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""
    payload: String!
}`;var Fie={inputItemObjectSchemaString:Sie};const bie=(t,e)=>{if(t.length===0)return!0;for(const r of t)if(e.startsWith(r))return!0;return!1},Cie=`
"""Item"""
type Item {
  """The basic item type (token, scope or graft)"""
  type: String!
  """The type-dependent subtype of the item"""
  subType: String!
  """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""
  payload(
    """If true, turn all whitespace into a normal space"""
    normalizeSpace: Boolean
    """A whitelist of characters to include"""
    includeChars: [String!]
    """A blacklist of characters to exclude"""
    excludeChars: [String!],
  ): String!
  """If 'includeContext' was selected, and for tokens, the index of the token from the start of the sequence"""
  position(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): Int
  """If 'includeContext' was selected, a list of scopes that are open around the item"""
  scopes(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]
}
`,_ie={type:t=>t[0],subType:t=>t[1],payload:(t,e)=>{let r=t[2];if(t[0]==="token"&&(e.normalizeSpace&&(r=t[2].replace(/[ \t\n\r]+/g," ")),e.includeChars||e.excludeChars)){let n=r.split("");n=n.filter(u=>!e.includeChars||e.includeChars.includes(u)),n=n.filter(u=>!e.excludeChars||!e.excludeChars.includes(u)),r=n.join("")}return r},position:t=>t[3],scopes:(t,e)=>t[4]?t[4].filter(r=>!e.startsWith||bie(e.startsWith,r)):[]};var wie={itemSchemaString:Cie,itemResolvers:_ie};const Dw=t=>{let e;switch(t[0]){case"token":return`|${t[2]}`;case"scope":return e=t[1]==="start"?"+":"-",`${e}${t[2]}${e}`;case"graft":return`>${t[1]}<`}},ME=t=>t.map(e=>Dw(e)).join(""),Tie=t=>{const e=["ItemGroup:"];return e.push(`   Open Scopes ${t[0].join(", ")}`),e.push(`   ${ME(t[1])}`),e.join(`
`)},$ie=t=>{const e=["Block:"];return t.bg.length>0&&t.bg.forEach(r=>e.push(`   ${r[1]} graft to ${r[2]}`)),e.push(`   Scope ${t.bs[2]}`),e.push(`   ${ME(t.c)}`),e.join(`
`)};var A0={dumpBlock:$ie,dumpItemGroup:Tie,dumpItems:ME,dumpItem:Dw};const{dumpItemGroup:Bie}=A0,Iie=(t,e)=>{if(t.length===0)return!0;for(const r of t)if(e.startsWith(r))return!0;return!1},Pie=`
"""A collection of items, with scope context"""
type ItemGroup {
  """Items for this itemGroup"""
  items: [Item!]!
  """Tokens for this itemGroup"""
  tokens(
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item!]!
  """The text of the itemGroup as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """The labels of scopes that were open at the beginning of the itemGroup"""
  scopeLabels(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]!
  """The itemGroup content as a string in a compact eyeballable format"""
  dump: String!
  """A list of scopes from the items of the itemGroup"""
  includedScopes: [String!]!
} 
`,kie={items:t=>t[1],tokens:(t,e)=>t[1].filter(r=>r[0]==="token"&&(!e.withChars||e.withChars.includes(r[2]))&&(!e.withSubTypes||e.withSubTypes.includes(r[1]))),text:(t,e)=>{const r=t[1].filter(n=>n[0]==="token").map(n=>n[2]).join("");return e.normalizeSpace?r.replace(/[ \t\n\r]+/g," "):r},scopeLabels:(t,e)=>t[0].filter(r=>!e.startsWith||Iie(e.startsWith,r)),dump:t=>Bie(t),includedScopes:t=>Array.from(new Set(t[1].filter(e=>e[0]==="scope"&&e[1]==="start").map(e=>e[2])))};var Oie={itemGroupSchemaString:Pie,itemGroupResolvers:kie};const Nie=`
"""Key/Items tuple"""
type kvEntry {
    """The key"""
    key: String!
    """The secondary keys"""
    secondaryKeys: [KeyValue!]
    """The fields as itemGroups"""
    itemGroups: [ItemGroup]!
}`,Rie={key:t=>t[0],secondaryKeys:t=>t[1],itemGroups:t=>t[2]};var qie={kvEntrySchemaString:Nie,kvEntryResolvers:Rie};const xie=`
"""Information about a regex match on an enum"""
type regexIndex {
    """The index in the enum"""
    index: String!
    """The string in the enum that matched"""
    matched: String!
}`,Mie={index:t=>t[0],matched:t=>t[1]};var jie={regexIndexSchemaString:xie,regexIndexResolvers:Mie};const Lie=`
"""Row Equals Specification"""
input rowEqualsSpec {
  """The position of the column in which to search a match"""
  colN: Int!
  """The values to match"""
  values: [String!]!
}
`;var Gie={rowEqualsSpecSchemaString:Lie};const Vie=`
"""Row Match Specification"""
input rowMatchSpec {
  """The position of the column in which to search a match"""
  colN: Int!
  """The regex to match"""
  matching: String!
}
`;var Uie={rowMatchSpecSchemaString:Vie};const Kie=`
"""Information about a verse range (which may only cover one verse)"""
type verseRange {
  """The range, as it would be printed in a Bible"""
  range: String!
  """A list of verse numbers for this range"""
  numbers: [Int!]!
}
`;var Jie={verseRangeSchemaString:Kie};const Hie=`
"""Mapped verse information"""
type orig {
  """The book code"""
  book: String
  """A list of chapter-verse references"""
  cvs: [cv!]!
}
`;var Wie={origSchemaString:Hie};const zie=Tt,Qie=`
"""Information about a verse number (which may be part of a verse range)"""
type verseNumber {
  """The verse number"""
  number: Int!
  """The verse range to which the verse number belongs"""
  range: String!
  """The reference for this verse when mapped to 'original' versification"""
  orig: orig!
}
`,Yie={orig:(t,e,r)=>{const n=r.doc.headers.bookCode,u=r.cvIndex[0],s=t.number,i=r.doc.sequences[r.doc.mainId];if(i.verseMapping&&"forward"in i.verseMapping&&`${u}`in i.verseMapping.forward){const o=zie.versification.mapVerse(i.verseMapping.forward[`${u}`],n,u,s);return{book:o[0],cvs:o[1]}}else return{book:n,cvs:[[u,s]]}}};var Xie={verseNumberSchemaString:Qie,verseNumberResolvers:Yie};const Zie=`
"""A table cell"""
type cell {
  """The row numbers"""
  rows: [Int!]!
  """The column numbers"""
  columns: [Int!]!
  """A list of items from the c (content) field of the cell"""
  items: [Item!]!
  """A list of tokens from the c (content) field of the cell"""
  tokens: [Item!]!
  """The text of the cell as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,eoe={rows:t=>t[0],columns:t=>t[1],items:t=>t[2],tokens:t=>t[2].filter(e=>e[0]==="token"),text:(t,e)=>{let r=t[2].filter(n=>n[0]==="token").map(n=>n[2]).join("").trim();return e.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r}};var toe={cellSchemaString:Zie,cellResolvers:eoe};const{dumpItems:roe}=A0,noe=`
"""A chapter index entry"""
type cIndex {
  """The chapter number"""
  chapter: Int!
  """The zero-indexed number of the block where the chapter starts"""
  startBlock: Int
  """The zero-indexed number of the block where the chapter ends"""
  endBlock: Int
  """The zero-indexed position of the item where the chapter starts"""
  startItem: Int
  """The zero-indexed position of the item where the chapter ends"""
  endItem: Int
  """The value of nextToken at the beginning of the chapter"""
  nextToken: Int
  """A list of items for this chapter"""
  items(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [Item]!
  """The items as a string in a compact eyeballable format"""
  dumpItems: String
  """A list of tokens for this chapter"""
  tokens(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item]!
  """The text of the chapter as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,uoe={chapter:t=>t[0],startBlock:t=>t[1].startBlock,endBlock:t=>t[1].endBlock,startItem:t=>t[1].startItem,endItem:t=>t[1].endItem,nextToken:t=>t[1].nextToken,items:(t,e,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t[1],e.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," "]].concat(u)),[]),dumpItems:(t,e,r)=>{const n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t[1],!1);return n.length>0?roe(n.reduce((u,s)=>u.concat([["token","lineSpace"," ",null]].concat(s)))):""},tokens:(t,e,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t[1],e.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," "]].concat(u)),[]).filter(n=>n[0]==="token"&&(!e.withChars||e.withChars.includes(n[2]))&&(!e.withSubTypes||e.withSubTypes.includes(n[1]))),text:(t,e,r)=>{let n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t[1]).reduce((u,s)=>u.concat([["token","lineSpace"," "]].concat(s)),[]).filter(u=>u[0]==="token").map(u=>u[1]==="lineSpace"?" ":u[2]).join("").trim();return e.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n}};var soe={cIndexSchemaString:noe,cIndexResolvers:uoe};const{dumpItems:ioe}=A0,ooe=`
""""""
type cvVerseElement {
  """The zero-indexed number of the block where the verse starts"""
  startBlock: Int
  """The zero-indexed number of the block where the verse ends"""
  endBlock: Int
  """The zero-indexed position of the item where the verse starts"""
  startItem: Int
  """The zero-indexed position of the item where the verse ends"""
  endItem: Int
  """The value of nextToken at the beginning of the verse"""
  nextToken: Int
  """The verse range for this verse as it would be printed in a Bible"""
  verseRange: String
  """A list of items for this verse"""
  items(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [Item]!
  """The items as a string in a compact eyeballable format"""
  dumpItems: String
  """A list of tokens for this verse"""
  tokens(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ): [Item]!
  """The text of the verse as a single string"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
}
`,aoe={startBlock:t=>t.startBlock,endBlock:t=>t.endBlock,startItem:t=>t.startItem,endItem:t=>t.endItem,nextToken:t=>t.nextToken,verseRange:t=>t.verses,items:(t,e,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t,e.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u))),dumpItems:(t,e,r)=>ioe(r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t,e.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u)))),tokens:(t,e,r)=>r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t,e.includeContext).reduce((n,u)=>n.concat([["token","lineSpace"," ",null]].concat(u))).filter(n=>n[0]==="token"&&(!e.withChars||e.withChars.includes(n[2]))&&(!e.withSubTypes||e.withSubTypes.includes(n[1]))),text:(t,e,r)=>{let n=r.docSet.itemsByIndex(r.doc.sequences[r.doc.mainId],t).reduce((u,s)=>u.concat([["token","lineSpace"," ",null]].concat(s))).filter(u=>u[0]==="token").map(u=>u[1]==="lineSpace"?" ":u[2]).join("").trim();return e.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n}};var coe={cvVerseElementSchemaString:ooe,cvVerseElementResolvers:aoe};const loe=`
"""Information about a verse in the chapter, which may be split into several pieces"""
type cvVerses {
  """The pieces of verse"""
  verse: [cvVerseElement]
}
`,foe={verse:t=>t};var doe={cvVersesSchemaString:loe,cvVersesResolvers:foe};const poe=`
"""A chapterVerse index entry"""
type cvIndex {
  """The chapter number"""
  chapter: Int!
  """Information about the verses in the chapter"""
  verses: [cvVerses]
  """A list of verse number and range information, organized by verse number"""
  verseNumbers: [verseNumber!]
  """A list of verse number and range information, organized by verse range"""
  verseRanges: [verseRange!]
}
`,hoe={chapter:t=>t[0],verses:t=>t[1],verseNumbers:(t,e,r)=>(r.cvIndex=t,[...t[1].entries()].filter(n=>n[1].length>0).map(n=>({number:n[0],range:n[1][n[1].length-1].verses}))),verseRanges:t=>{const e=[];for(const[r,n]of[...t[1].entries()].filter(u=>u[1].length>0))e.length===0||e[e.length-1].range!==n[n.length-1].verses?e.push({range:n[n.length-1].verses,numbers:[r]}):e[e.length-1].numbers.push(r);return e}};var moe={cvIndexSchemaString:poe,cvIndexResolvers:hoe};const N8=(t,e)=>{const r=parseInt(t[0]),n=parseInt(t[1]);if(t[3].length<=n||t[3][n].length===0)return null;let u=null,s=r,i=n,o=t[3],a=o[n][0].verses,c=!1;for(;!u;)if(i+=1,i>=o.length){if(c||!t[4])break;i=-1,s+=1,o=t[4],c=!0}else o[i].length>0&&(!e||c||o[i][0].verses!==a)&&(u=[s,i]);return u},R8=(t,e)=>{const r=parseInt(t[0]),n=parseInt(t[1]);if(t[3].length<=n||t[3][n].length===0)return null;let u=null,s=r,i=n,o=t[3],a=o[n][0].verses,c=!1;for(;!u;)if(i-=1,i<0){if(c||!t[2])break;i=t[2].length,s-=1,o=t[2],c=!0}else o[i].length>0&&(!e||c||o[i][0].verses!==a)&&(u=[s,i]);return u},Doe=`
"""Various answers to 'previous' and 'next' with respect to a verse"""
type cvNavigation {
  """The verse number for the next verse"""
  nextVerse: cv
  """The verse number for the previous verse"""
  previousVerse: cv
  """The verse number for the next verse range"""
  nextVerseRangeVerse: cv
  """The verse number for the previous verse range"""
  previousVerseRangeVerse: cv
  """The next chapter number (as a string)"""
  nextChapter: String
  """The previous chapter number (as a string)"""
  previousChapter: String
}
`,Eoe={nextVerse:t=>N8(t,!1),previousVerse:t=>R8(t,!1),nextVerseRangeVerse:t=>N8(t,!0),previousVerseRangeVerse:t=>R8(t,!0),nextChapter:t=>t[3].length>0&&t[4].length>0?(parseInt(t[0])+1).toString():null,previousChapter:t=>t[2].length>0&&t[3].length>0?(parseInt(t[0])-1).toString():null};var yoe={cvNavigationSchemaString:Doe,cvNavigationResolvers:Eoe};const voe=`
"""A specification to create or update a block"""
input inputBlockSpec {
  """The block scope as an item"""
  bs: InputItemObject!
  """The block grafts as items"""
  bg: [InputItemObject!]!
  """The open scopes as items"""
  os: [InputItemObject!]!
  """The included scopes as items"""
  is: [InputItemObject!]!
  """The items"""
  items: [InputItemObject!]!
}
`;var goe={inputBlockSpecSchemaString:voe};const Aoe=Tt,Soe=`
"""A tree node"""
type node {
  """The node id"""
  id: String!
  """The node parent id"""
  parentId: String
  """The keys for content"""
  keys: [String!]!
  """The content as itemGroups"""
  itemGroups(
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """The node children ids"""
  childIds: [String!]!
}
`,Foe={id:(t,e,r)=>{const[n,u,s]=Aoe.succinct.headerBytes(t.bs,0);return r.docSet.unsuccinctifyScope(t.bs,u,s,0)[2].split("/")[1]},parentId:(t,e,r)=>{const n=r.docSet.unsuccinctifyScopes(t.is).filter(u=>u[2].startsWith("tTreeParent"))[0][2].split("/")[1];return n==="none"?null:n},keys:(t,e,r)=>r.docSet.unsuccinctifyScopes(t.is).filter(n=>n[2].startsWith("tTreeContent")).map(n=>n[2].split("/")[1]),itemGroups:(t,e,r)=>r.docSet.sequenceItemsByScopes([t],["tTreeContent/"],e.includeContext||!1),childIds:(t,e,r)=>r.docSet.unsuccinctifyScopes(t.is).filter(n=>n[2].startsWith("tTreeChild")).map(n=>n[2].split("/")[2])};var boe={nodeSchemaString:Soe,nodeResolvers:Foe};const Ii=Bt,Coe=`
"""A contiguous flow of content for key-values"""
type kvSequence {
  """The id of the sequence"""
  id: String!
  """The number of entries in the key-value sequence"""
  nEntries: Int!
  """The entries in the key-value sequence"""
  entries(
    """Only return entries whose key matches the specification"""
    keyMatches: String
    """Only return entries whose key equals one of the values in the specification"""
    keyEquals: [String!]
    """Only return entries whose secondary keys match the specification"""
    secondaryMatches: [KeyMatches!]
    """Only return entries whose secondary keys equal one of the values in the specification"""
    secondaryEquals: [KeyValues!]
    """Only return entries whose content matches the specification"""
    contentMatches: [KeyMatches!]
    """Only return entries whose content equals one of the values in the specification"""
    contentEquals: [KeyValues!]
  ): [kvEntry!]
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
}
`,_oe={nEntries:t=>t.blocks.length,entries:(t,e,r)=>{let n=t.blocks.map(u=>[r.docSet.unsuccinctifyScopes(u.bs).map(s=>s[2].split("/")[1])[0],r.docSet.unsuccinctifyScopes(u.is).filter(s=>s[2].startsWith("kvSecondary/")).map(s=>[s[2].split("/")[1],s[2].split("/")[2]]),r.docSet.sequenceItemsByScopes([u],["kvField/"],!1)]);if(e.keyMatches&&(n=n.filter(u=>Ii.test(u[0],Ii(e.keyMatches)))),e.keyEquals&&(n=n.filter(u=>e.keyEquals.includes(u[0]))),e.secondaryMatches){const u={};e.secondaryMatches.forEach(s=>u[s.key]=s.matches),n=n.filter(s=>{const i={};s[1].forEach(o=>i[o[0]]=o[1]);for(const o of Object.entries(u)){const a=i[o[0]];if(!a||!Ii.test(a,Ii(o[1])))return!1}return!0})}if(e.secondaryEquals){const u={};e.secondaryEquals.forEach(s=>u[s.key]=s.values),n=n.filter(s=>{const i={};s[1].forEach(o=>i[o[0]]=o[1]);for(const o of Object.entries(u)){const a=i[o[0]];if(!a||!o[1].includes(a))return!1}return!0})}if(e.contentMatches){const u={};e.contentMatches.forEach(s=>u[s.key]=s.matches),n=n.filter(s=>{const i={};s[2].forEach(o=>i[o[0].filter(a=>a.startsWith("kvField"))[0].split("/")[1]]=o[1].filter(a=>a[0]==="token").map(a=>a[2]).join(""));for(const o of Object.entries(u)){const a=i[o[0]];if(!a||!Ii.test(a,Ii(o[1])))return!1}return!0})}if(e.contentEquals){const u={};e.contentEquals.forEach(s=>u[s.key]=s.values),n=n.filter(s=>{const i={};s[2].forEach(o=>i[o[0].filter(a=>a.startsWith("kvField"))[0].split("/")[1]]=o[1].filter(a=>a[0]==="token").map(a=>a[2]).join(""));for(const o of Object.entries(u)){const a=i[o[0]];if(!a||!a.includes(o[1]))return!1}return!0})}return n},tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName)};var woe={kvSequenceSchemaString:Coe,kvSequenceResolvers:_oe};const q8=Bt,Toe=Tt,$oe=`
"""A contiguous flow of content for a table"""
type tableSequence {
  """The id of the sequence"""
  id: String!
  """The number of cells in the table sequence"""
  nCells: Int!
  """The number of rows in the table sequence"""
  nRows: Int!
  """The number of columns in the table sequence"""
  nColumns: Int!
  """The cells in the table sequence"""
  cells: [cell!]!
  """The rows in the table sequence"""
  rows(
    """Only return rows whose zero-indexed position is in the list"""
    positions: [Int!]
    """Only return columns whose zero-indexed position is in the list"""
    columns: [Int!]
    """Only return rows whose cells match the specification"""
    matches: [rowMatchSpec!]
    """'Only return rows whose cells contain one of the values in the specification"""
    equals: [rowEqualsSpec!]
  ): [[cell!]!]!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
  """A list of column headings for this tableSequence, derived from the sequence tags"""
  headings: [String!]!
}
`,Boe={nCells:t=>t.blocks.length,nRows:(t,e,r)=>{const n=new Set([]);for(const u of t.blocks){const[s,i,o]=Toe.succinct.headerBytes(u.bs,0),a=r.docSet.unsuccinctifyScope(u.bs,i,o,0)[2];n.add(a.split("/")[1])}return n.size},nColumns:(t,e,r)=>{const n=new Set([]);for(const u of t.blocks)for(const s of r.docSet.unsuccinctifyScopes(u.is).map(i=>i[2]))s.startsWith("tTableCol")&&n.add(s.split("/")[1]);return n.size},cells:(t,e,r)=>{const n=[];for(const u of t.blocks)n.push([r.docSet.unsuccinctifyScopes(u.bs).map(s=>parseInt(s[2].split("/")[1])),Array.from(new Set(r.docSet.unsuccinctifyScopes(u.is).filter(s=>s[2].startsWith("tTableCol")).map(s=>parseInt(s[2].split("/")[1])))),r.docSet.unsuccinctifyItems(u.c,{},0)]);return n},rows:(t,e,r)=>{const n=(c,l)=>{if(c[l.colN]===void 0)return!1;const f=c[l.colN][2].filter(d=>d[0]==="token").map(d=>d[2]).join("");return q8.test(f,q8(l.matching))},u=(c,l)=>l.length===0?!0:n(c,l[0])?u(c,l.slice(1)):!1,s=(c,l)=>{if(c[l.colN]===void 0)return!1;const f=c[l.colN][2].filter(d=>d[0]==="token").map(d=>d[2]).join("");return l.values.includes(f)},i=(c,l)=>l.length===0?!0:s(c,l[0])?i(c,l.slice(1)):!1;let o=[],a=-1;for(const c of t.blocks){const l=r.docSet.unsuccinctifyScopes(c.bs).map(f=>parseInt(f[2].split("/")[1]));e.positions&&!e.positions.includes(l[0])||(l[0]!==a&&(o.push([]),a=l[0]),o[o.length-1].push([l,Array.from(new Set(r.docSet.unsuccinctifyScopes(c.is).filter(f=>f[2].startsWith("tTableCol")).map(f=>parseInt(f[2].split("/")[1])))),r.docSet.unsuccinctifyItems(c.c,{},0)]))}return e.matches&&(o=o.filter(c=>u(c,e.matches))),e.equals&&(o=o.filter(c=>i(c,e.equals))),e.columns&&(o=o.map(c=>[...c.entries()].filter(l=>e.columns.includes(l[0])).map(l=>l[1]))),o},tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName),headings:t=>Array.from(t.tags).filter(e=>e.startsWith("col")).sort((e,r)=>parseInt(e.split(":")[0].substring(3))-parseInt(r.split(":")[0].substring(3))).map(e=>e.split(":")[1])};var Ioe={tableSequenceSchemaString:$oe,tableSequenceResolvers:Boe};const Dt=Bt,Poe={equals:(t,e,r,n)=>r===n,notEqual:(t,e,r,n)=>r!==n,and:(t,e,...r)=>r.filter(n=>!n).length===0,or:(t,e,...r)=>r.filter(n=>n).length>0,not:(t,e,r)=>!r,idRef:(t,e)=>t.unsuccinctifyScopes(e.bs)[0][2].split("/")[1],parentIdRef:(t,e)=>t.unsuccinctifyScopes(e.is).filter(r=>r[2].startsWith("tTreeParent"))[0][2].split("/")[1],nChildren:(t,e)=>t.unsuccinctifyScopes(e.is).filter(r=>r[2].startsWith("tTreeChild")).length,contentRef:(t,e,r)=>{const n=t.sequenceItemsByScopes([e],["tTreeContent/"],!1).filter(u=>u[0].filter(i=>i.startsWith("tTreeContent"))[0].split("/")[1]===r);return n[0]?n[0][1].filter(u=>u[0]==="token").map(u=>u[2]).join(""):""},hasContent:(t,e,r)=>t.sequenceItemsByScopes([e],["tTreeContent/"],!1).filter(u=>u[0].filter(i=>i.startsWith("tTreeContent"))[0].split("/")[1]===r).length>0,concat:(t,e,...r)=>r.join(""),startsWith:(t,e,r,n)=>r.startsWith(n),endsWith:(t,e,r,n)=>r.endsWith(n),contains:(t,e,r,n)=>r.includes(n),matches:(t,e,r,n)=>Dt.test(r,Dt(n)),int:(t,e,r)=>parseInt(r),string:(t,e,r)=>`${r}`,left:(t,e,r,n)=>r.substring(0,n),right:(t,e,r,n)=>r.substring(r.length-n),length:(t,e,r)=>r.length,indexOf:(t,e,r,n)=>r.indexOf(n),add:(t,e,...r)=>r.reduce((n,u)=>n+u),mul:(t,e,...r)=>r.reduce((n,u)=>n*u),sub:(t,e,r,n)=>r-n,div:(t,e,r,n)=>Math.floor(r/n),mod:(t,e,r,n)=>r%n,gt:(t,e,r,n)=>r>n,lt:(t,e,r,n)=>r<n,ge:(t,e,r,n)=>r>=n,le:(t,e,r,n)=>r<=n},koe={quotedString:t=>t.substring(1,t.length-1),int:t=>parseInt(t),true:()=>!0,false:()=>!1},Ooe=t=>{const e=[[]];let r=0,n=0,u=!1;for(;t&&r<t.length;){switch(t[r]){case"\\":e[e.length-1].push(t[r]),t[r+1]==="'"&&(e[e.length-1].push(t[r+1]),r++);break;case"'":e[e.length-1].push(t[r]),u=!u;break;case"(":u?e[e.length-1].push(t[r]):(e[e.length-1].push(t[r]),n++);break;case")":u?e[e.length-1].push(t[r]):(e[e.length-1].push(t[r]),n--);break;case",":if(!u&&n===0)for(e.push([]);t[r+1]===" ";)r++;else e[e.length-1].push(t[r]);break;default:e[e.length-1].push(t[r])}r++}return e.map(s=>s.join(""))},jE={expression:{oneOf:["stringExpression","intExpression","booleanExpression"]},booleanExpression:{oneOf:["booleanPrimitive","equals","notEqual","and","or","not","contains","startsWith","endsWith","matches","gt","lt","ge","le","hasContent"]},stringExpression:{oneOf:["concat","left","right","string","idRef","parentIdRef","contentRef","stringPrimitive"]},intExpression:{oneOf:["length","indexOf","int","nChildren","intPrimitive","add","sub","mul","div","mod"]},equals:{regex:Dt("^==\\((.+)\\)$"),doc:{operator:"==",args:["expression","expression"],result:"boolean",description:"Are the arguments strictly equal?"},argStructure:[["expression",[2,2]]]},notEqual:{regex:Dt("^!=\\((.+)\\)$"),doc:{operator:"!=",args:["expression","expression"],result:"boolean",description:"Are the arguments not strictly equal?"},argStructure:[["expression",[2,2]]]},and:{regex:Dt("^and\\((.+)\\)$"),doc:{operator:"and",args:["boolean","boolean","..."],result:"boolean",description:"Are all the arguments true?"},breakOn:!1,argStructure:[["booleanExpression",[2,null]]]},or:{regex:Dt("^or\\((.+)\\)$"),doc:{operator:"or",args:["boolean","boolean"],result:"boolean",description:"Are any arguments true?"},breakOn:!0,argStructure:[["booleanExpression",[2,null]]]},concat:{regex:Dt("^concat\\((.+)\\)$"),doc:{operator:"concat",args:["string","string","..."],result:"string",description:"Concatenates string arguments"},argStructure:[["stringExpression",[2,null]]]},contentRef:{regex:Dt("^content\\((.+)\\)$"),doc:{operator:"content",args:["string"],result:"string",description:"String value of the specified content for the node"},argStructure:[["stringExpression",[1,1]]]},hasContent:{regex:Dt("^hasContent\\((.+)\\)$"),doc:{operator:"hasContent",args:["string"],result:"boolean",description:"Does the node have this content?"},argStructure:[["stringExpression",[1,1]]]},contains:{regex:Dt("^contains\\((.+)\\)$"),doc:{operator:"contains",args:["string","string"],result:"boolean",description:"Does the first string contain the second string?"},argStructure:[["stringExpression",[2,2]]]},startsWith:{regex:Dt("^startsWith\\((.+)\\)$"),doc:{operator:"startsWith",args:["string","string"],result:"boolean",description:"Does the first string start with the second string?"},argStructure:[["stringExpression",[2,2]]]},endsWith:{regex:Dt("^endsWith\\((.+)\\)$"),doc:{operator:"endsWith",args:["string","string"],result:"boolean",description:"Does the first string end with the second string?"},argStructure:[["stringExpression",[2,2]]]},matches:{regex:Dt("^matches\\((.+)\\)$"),doc:{operator:"matches",args:["string","regex"],result:"boolean",description:"Does the first string match the regex in the second string?"},argStructure:[["stringExpression",[2,2]]]},left:{regex:Dt("^left\\((.+)\\)$"),doc:{operator:"left",args:["string","integer"],result:"string",description:"The first n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},right:{regex:Dt("^right\\((.+)\\)$"),doc:{operator:"right",args:["string","integer"],result:"string",description:"The last n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},length:{regex:Dt("^length\\((.+)\\)$"),doc:{operator:"length",args:["string"],result:"integer",description:"The number of characters in the string"},argStructure:[["stringExpression",[1,1]]]},indexOf:{regex:Dt("^indexOf\\((.+)\\)$"),doc:{operator:"indexOf",args:["string","string"],result:"number",description:"The integer position at which the second string starts in the first string"},argStructure:[["stringExpression",[2,2]]]},not:{regex:Dt("^not\\((.+)\\)$"),doc:{operator:"not",args:["boolean"],result:"boolean",description:"The inverse boolean value of the argument"},argStructure:[["booleanExpression",[1,1]]]},int:{regex:Dt("^int\\((.+)\\)$"),doc:{operator:"int",args:["string"],result:"integer",description:"The integer value of the string"},argStructure:[["stringExpression",[1,1]]]},string:{regex:Dt("^string\\((.+)\\)$"),doc:{operator:"string",args:["integer"],result:"string",description:"The string value of the integer"},argStructure:[["intExpression",[1,1]]]},idRef:{regex:Dt("^id$"),doc:{operator:"id",args:[],result:"string",description:"The node ID"},argStructure:[]},parentIdRef:{regex:Dt("^parentId$"),doc:{operator:"parentId",args:[],result:"string",description:"The node's parent ID"},argStructure:[]},nChildren:{regex:Dt("^nChildren$"),doc:{operator:"nChildren",args:[],result:"int",description:"The number of children of the node"},argStructure:[]},add:{regex:Dt("^add\\((.+)\\)$"),doc:{operator:"add",args:["integer","..."],result:"integer",description:"The numeric sum of the arguments"},argStructure:[["intExpression",[2,null]]]},mul:{regex:Dt("^mul\\((.+)\\)$"),doc:{operator:"mul",args:["integer","..."],result:"integer",description:"The numeric product of the arguments"},argStructure:[["intExpression",[2,null]]]},sub:{regex:Dt("^sub\\((.+)\\)$"),doc:{operator:"sub",args:["integer","integer"],result:"integer",description:"The first integer minus the second"},argStructure:[["intExpression",[2,2]]]},div:{regex:Dt("^div\\((.+)\\)$"),doc:{operator:"div",args:["integer","integer"],result:"integer",description:"The first integer divided by the second"},argStructure:[["intExpression",[2,2]]]},mod:{regex:Dt("^mod\\((.+)\\)$"),doc:{operator:"mod",args:["integer","integer"],result:"integer",description:"The modulus of the first integer when divided by the second"},argStructure:[["intExpression",[2,2]]]},gt:{regex:Dt("^>\\((.+)\\)$"),doc:{operator:">",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than the second?"},argStructure:[["intExpression",[2,2]]]},lt:{regex:Dt("^<\\((.+)\\)$"),doc:{operator:"<",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than the second?"},argStructure:[["intExpression",[2,2]]]},ge:{regex:Dt("^>=\\((.+)\\)$"),doc:{operator:">=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},le:{regex:Dt("^<=\\((.+)\\)$"),doc:{operator:"<=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},stringPrimitive:{regex:Dt("^('([^']|\\\\')*')$"),parseFunctions:[null,"quotedString"]},intPrimitive:{regex:Dt("^(-?[0-9]+)$"),parseFunctions:[null,"int"]},booleanPrimitive:{regex:Dt("^(true)|(false)$"),parseFunctions:[null,"true","false"]}},Noe=(t,e,r,n,u)=>{const s=jE[n];if(!s)throw new Error(`Unknown expression ${n} for predicate ${r}`);const i=o=>[o.map(a=>a[1][0]).reduce((a,c)=>a+c),o.filter(a=>a[1][1]===null).length>0];if(s.parseFunctions){let o=!1;for(const[a,c]of s.parseFunctions.entries())if(!(!c||!u[a]))return o=!0,{data:koe[c](u[a])};if(!o)return{errors:`Could not parse predicate ${r}`}}else{const o=Ooe(u[1]),a=s.argStructure,c=[];if(a.length>0){const l=i(a);if(o.length<l[0])return{errors:`Expected at least ${l[0]} args for '${n}', found ${o.length}`};if(!l[1]&&o.length>l[0])return{errors:`Expected at most ${l[0]} args for '${n}', found ${o.length}`};let f=0,d=0,p=0;for(;f<o.length;){const h=o[f],v=LE(t,e,h,a[d][0]);if("breakOn"in s&&!h.errors&&v.data===s.breakOn)return v;c.push(v),f++,p++,a[d][1][1]&&p>=a[d][1][1]&&(d++,p=0)}}if(c.filter(l=>l.errors).length===0){const l=c.map(d=>d.data);return{data:Poe[n](t,e,...l)}}return{errors:`Could not parse arguments to ${n}: ${o.filter(l=>l.errors).map(l=>l.errors).join("; ")}`}}},LE=(t,e,r,n)=>{const u=jE[n];if(!u)throw new Error(`Unknown expression ${n} for predicate ${r}`);if(u.oneOf){let s=null;for(const i of u.oneOf){const o=LE(t,e,r,i);if(o.errors)(!s||o.errors.length<s.length)&&(s=o.errors);else return o}return{errors:s}}else{const s=Dt.exec(r,u.regex);return s?Noe(t,e,r,n,s):{errors:`Could not match ${r}`}}},Roe=(t,e,r)=>({data:e.data.filter(n=>{const u=LE(t,n,r,"booleanExpression");if(u.errors)throw new Error(`Predicate - ${u.errors}`);return u.data})});var qoe={expressions:jE,doPredicate:Roe};const ln=Bt,fn="(\\[(([^\\]']|'([^']|\\\\')*')+)\\])*",xoe=(t,e,r,n,u,s)=>{const i=s[1].split(",").map(o=>o.trim());return{data:Array.from(i).map(o=>e[r.get(o)])}},Moe=(t,e)=>({data:[e[0]]}),joe=(t,e)=>({data:e}),Loe=(t,e,r,n,u,s)=>{const i=s[2],o=new Set([]);for(const a of n.data){const c=t.unsuccinctifyScopes(a.is).map(l=>l[2].split("/")).filter(l=>l[0]==="tTreeChild").filter(l=>!i||l[1]===i).map(l=>l[2]);for(const l of c)o.add(l)}return{data:Array.from(o).map(a=>e[r.get(a)])}},Goe=(t,e,r,n)=>{const u=new Set([]);for(const s of n.data){const i=t.unsuccinctifyScopes(s.is).filter(o=>o[2].startsWith("tTreeParent")).map(o=>o[2].split("/")[1])[0];u.add(i)}return{data:Array.from(u).map(s=>e[r.get(s)])}},Voe=(t,e,r,n,u,s)=>{let i=parseInt(s[2]);if(i<1)return{errors:`Expected a positive integer argument for ancestor, found ${u}`};let o=n.data;for(;i>0;){const a=new Set([]);for(const c of o){const l=t.unsuccinctifyScopes(c.is).filter(f=>f[2].startsWith("tTreeParent")).map(f=>f[2].split("/")[1])[0];a.add(l)}o=Array.from(a).map(c=>e[r.get(c)]),i--}return{data:o}},Uoe=(t,e,r,n,u,s)=>{const i=new Set([]),o=(l,f)=>{const d=t.unsuccinctifyScopes(l.is).filter(p=>p[2].startsWith("tTreeChild")).map(p=>p[2].split("/")[2]);(f<=1||f===null)&&d.forEach(p=>i.add(p)),(f===null||f>1)&&d.map(p=>e[r.get(p)]).forEach(p=>o(p,f-1))};let a=null;s[3]&&(a=parseInt(s[3]));let c=-1;s[5]&&(c=parseInt(s[5]));for(const l of n.data)o(l,a);return{data:[...Array.from(i).entries()].filter(l=>c<0||l[0]===c).map(l=>l[1]).map(l=>e[r.get(l)])}},Koe=(t,e,r,n)=>{const u=new Set([]),s=i=>{const o=t.unsuccinctifyScopes(i.is).filter(a=>a[2].startsWith("tTreeChild")).map(a=>a[2].split("/")[2]);o.length===0?u.add(t.unsuccinctifyScopes(i.bs)[0][2].split("/")[1]):o.map(a=>e[r.get(a)]).forEach(a=>s(a))};for(const i of n.data)s(i);return{data:Array.from(u).map(i=>e[r.get(i)])}},Joe=(t,e,r,n)=>{const u=new Set([]);for(const o of n.data){const a=t.unsuccinctifyScopes(o.is).filter(c=>c[2].startsWith("tTreeParent")).map(c=>c[2].split("/")[1])[0];u.add(a)}const s=e.filter(o=>u.has(t.unsuccinctifyScopes(o.bs)[0][2].split("/")[1])),i=new Set([]);for(const o of s){const a=t.unsuccinctifyScopes(o.is).filter(c=>c[2].startsWith("tTreeChild")).map(c=>c[2].split("/")[2]);for(const c of a)i.add(c)}return{data:Array.from(i).map(o=>e[r.get(o)])}},S0=(t,e,r,n,u,s)=>{const i={};(u.size===0||u.has("id"))&&(i.id=t.unsuccinctifyScopes(e.bs)[0][2].split("/")[1]),(u.size===0||u.has("parentId"))&&(i.parentId=t.unsuccinctifyScopes(e.is).filter(c=>c[2].startsWith("tTreeParent")).map(c=>c[2].split("/")[1])[0]);const o={};for(const[c,l]of t.sequenceItemsByScopes([e],["tTreeContent/"],!1)){const f=c.filter(d=>d.startsWith("tTreeContent"))[0].split("/")[1];(u.size===0||u.has("content")||u.has(`@${f}`))&&(o[f]=l.filter(d=>d[0]==="token").map(d=>d[2]).join(""))}Object.keys(o).length>0&&(i.content=o);const a=[];if(u.has("children"))for(const c of t.unsuccinctifyScopes(e.is).filter(l=>l[2].startsWith("tTreeChild")).map(l=>l[2].split("/")[2]))a.push(c);return a.length>0&&(s?i.children=a.map(c=>r[n.get(c)]).map(c=>S0(t,c,r,n,u,!0)):i.children=a),i},Hoe=(t,e,r,n,u,s)=>{const i=[];let o=new Set([]);s[2]&&(o=new Set(s[2].split(",").map(a=>a.trim())));for(const a of n.data)i.push(S0(t,a,e,r,o,!0));return{data:i}},Woe=(t,e,r,n,u,s)=>{const i=[];let o=new Set([]);s[2]&&(o=new Set(s[2].split(",").map(c=>c.trim()).filter(c=>c.startsWith("@"))));for(const c of n.data)i.push(S0(t,c,e,r,o,!0));const a={};for(const c of Array.from(o).map(l=>l.substring(1)))a[c]=Array.from(new Set(i.filter(l=>l.content).map(l=>l.content).filter(l=>c in l).map(l=>l[c]).sort()));return{data:a}},zoe=(t,e,r,n,u,s)=>{const i=[];let o=new Set([]);s[2]&&(o=new Set(s[2].split(",").map(a=>a.trim())));for(const a of n.data)i.push(S0(t,a,e,r,o,!1));return{data:i}},Qoe=[{regex:ln(`^#\\{([^}]+)\\}${fn}$`),doc:{title:"Nodes by Id",syntax:"#(id, id, ...)",description:"Returns nodes whose id is listed"},predicateCapture:3,inputType:null,outputType:"nodes",function:xoe},{regex:ln(`^root${fn}$`),doc:{title:"Root Node",syntax:"root",description:"Returns the root node"},predicateCapture:2,inputType:null,outputType:"nodes",function:Moe},{regex:ln(`^nodes${fn}$`),doc:{title:"Nodes",syntax:"nodes",description:"Returns all the nodes"},predicateCapture:2,function:joe,inputType:null,outputType:"nodes"},{regex:ln(`^children(\\((\\d+)\\))?${fn}$`),doc:{title:"Children",syntax:"children; children(pos)",description:"Returns the children of the current node(s), optionally filtered by position within the parent node"},predicateCapture:4,inputType:"nodes",outputType:"nodes",function:Loe},{regex:ln(`^descendants((\\((\\d+)(,\\s*(\\d+))?\\))?)${fn}$`),doc:{title:"Descendants",syntax:"descendants; descendants(depth); descendants(depth, pos)",description:"Returns the descendants of the current node(s), optionally at the specified level, optionally filtered by position"},predicateCapture:7,inputType:"nodes",outputType:"nodes",function:Uoe},{regex:ln(`^leaves${fn}$`),doc:{title:"Leaves",syntax:"leaves",description:"Returns the leaves (ie the nodes with no children) below the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:Koe},{regex:ln(`^parent${fn}$`),doc:{title:"Parent",syntax:"parent",description:"Returns the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:Goe},{regex:ln(`^ancestor(\\((\\d+)\\))${fn}$`),doc:{title:"Ancestor",syntax:"ancestor(depth)",description:"Returns the nth ancestor of the node"},predicateCapture:5,inputType:"nodes",outputType:"nodes",function:Voe},{regex:ln(`^siblings${fn}$`),doc:{title:"Siblings",syntax:"siblings",description:"Returns the children of the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:Joe},{regex:ln(`^node(\\{([^}]+)\\})?${fn}$`),doc:{title:"Node Details",syntax:"node; node{ id, parentId, content, children, @foo }",description:"Returns an object containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:zoe},{regex:ln(`^branch(\\{([^}]+)\\})?${fn}$`),doc:{title:"Branch",syntax:"branch; branch{ id, parentId, content, children, @foo }",description:"Returns nested objects containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:Hoe},{regex:ln(`^values(\\{([^}]+)\\})?${fn}$`),doc:{title:"Values",syntax:"values{ @foo ... }",description:"Returns all values across nodes for the specified fields"},predicateCapture:4,inputType:"nodes",outputType:"values",function:Woe}];var Yoe={stepActions:Qoe};const Xoe=Bt,{expressions:Zoe,doPredicate:eae}=qoe,{stepActions:x8}=Yoe;let tae=class{constructor(){this.currentStepType=null}doStep(e,r,n,u,s){for(const i of x8){const o=Xoe.exec(s,i.regex);if(o&&i.inputType===this.currentStepType){let a=i.function(e,r,n,u,s,o);return o[i.predicateCapture]&&(a=eae(e,a,o[i.predicateCapture])),this.currentStepType=i.outputType,a}}return{errors:`Unable to match step ${s}`}}parse1(e,r,n,u,s){if(s.length>0){const i=this.doStep(e,r,n,u,s[0]);return i.errors||i.data.length===0?i:this.parse1(e,r,n,i,s.slice(1))}else return u}queryArray(e){const r=[];for(const n of e.split("/"))r.push(n);return r}indexNodes(e,r){const n=new Map;for(const[u,s]of r.entries()){const i=e.unsuccinctifyScopes(s.bs)[0][2].split("/")[1];n.set(i,u)}return n}doc(){return`** Steps **

`+x8.map(e=>e.doc).map(e=>`* ${e.title} *
${e.syntax}
${e.description}`).join(`

`)+`** Predicate Operators **

`+Object.values(Zoe).filter(e=>e.doc).map(e=>`${e.doc.operator}(${e.doc.args.map(r=>"<"+r+">").join(", ")}) => ${e.doc.result}
${e.doc.description}`).join(`

`)}parse(e,r,n){const u=this.parse1(e,r,this.indexNodes(e,r),{data:r},this.queryArray(n));if(u.data)switch(this.currentStepType){case"nodes":u.data=u.data.map(i=>({id:e.unsuccinctifyScopes(i.bs)[0][2].split("/")[1]}))}return JSON.stringify(u,null,2)}};var rae=tae;const p2=rae,nae=`
"""The nodes of a tree"""
type treeSequence {
  """The id of the sequence"""
  id: String!
  """The number of nodes in the tree sequence"""
  nNodes: Int!
  """The nodes in the tree sequence"""
  nodes: [node!]!
  """The JSON result for a Tribos query, as a string"""
  tribos(
    """The Tribos query string"""
    query: String!
  ): String!
  """The JSON results for the Tribos queries, as an array of strings"""
  triboi(
    """The Tribos query strings"""
    queries: [String!]!
  ): [String!]!
  """Tribos documentation"""
  tribosDoc: String!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The tag name"""
    tagName: String
  ): Boolean!
}
`,uae={nNodes:t=>t.blocks.length,nodes:t=>t.blocks,tribos:(t,e,r)=>new p2().parse(r.docSet,t.blocks,e.query),triboi:(t,e,r)=>e.queries.map(n=>new p2().parse(r.docSet,t.blocks,n)),tribosDoc:()=>new p2().doc(),tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName)};var sae={treeSequenceSchemaString:nae,treeSequenceResolvers:uae};const M8=Bt,iae=Tt,{dumpBlock:oae}=A0,aae=(t,e)=>{if(t.length===0)return!0;for(const r of t)if(e.startsWith(r))return!0;return!1},cae=`
"""Part of a sequence, roughly equivalent to a USFM paragraph"""
type Block {
  """The length in bytes of the succinct representation of c (block items)"""
  cBL: Int!
  """The length in bytes of the succinct representation of bg (block grafts)"""
  bgBL: Int!
  """The length in bytes of the succinct representation of os (open scopes)"""
  osBL: Int!
  """The length in bytes of the succinct representation of is (included scopes)"""
  isBL: Int!
  """The length in bytes of the succinct representation of nt (nextToken at the start of the block)"""
  ntBL: Int!
  """The number of items in the succinct representation of c (block items)"""
  cL: Int!
  """The number of items in the succinct representation of bg (block grafts)"""
  bgL: Int!
  """The number of items in the succinct representation of os (open scopes)"""
  osL: Int!
  """The number of items in the succinct representation of is (included scopes)"""
  isL: Int!
  """A list of included scopes for this block"""
  is: [Item!]!
  """A list of open scopes for this block"""
  os: [Item!]!
  """The block scope for this block"""
  bs: Item!
  """A list of block grafts for this block"""
  bg: [Item!]!
  """The value of nextToken at the start of this block"""
  nt: Int!
  """A list of items from the c (content) field of the block"""
  items(
    """Only return items that are within specific scopes"""
    withScopes: [String!]
    """If true, withScopes filtering matches items within at least one of the specified scopes"""
    anyScope: Boolean
    """Only return items that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ) : [Item!]! 
  """A list of tokens from the c (content) field of the block"""
  tokens(
    """Only return tokens that are within specific scopes"""
    withScopes: [String!]
    """If true, withScopes filtering matches tokens within at least one of the specified scopes"""
    anyScope: Boolean
    """Only return tokens that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
    """Return tokens whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return tokens whose payload matches one of the specified regexes"""
    withMatchingChars: [String!]
    """Return tokens with one of the specified subTypes"""
    withSubTypes: [String!]
  ) : [Item!]!
  """The text of the block as a single string"""
  text(
    """Only return text that is within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""
    withScriptureCV: String
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """'Block items grouped by scopes or milestones"""
  itemGroups(
    """Produce one itemGroup for every match of the list of scopes"""
    byScopes: [String!]
    """Start a new itemGroup whenever a milestone in the list is encountered"""
    byMilestones: [String!]
  ): [ItemGroup]!
  """The block content as a string in a compact eyeballable format"""
  dump: String!
  """A list of the labels for the block\\'s bs, os and is scopes"""
  scopeLabels(
    """Only include scopes that begin with this value"""
    startsWith: [String!]
  ): [String!]!
}
`,lae={cBL:t=>t.c.length,bgBL:t=>t.bg.length,osBL:t=>t.os.length,isBL:t=>t.is.length,ntBL:t=>t.nt.length,cL:(t,e,r)=>r.docSet.countItems(t.c),bgL:(t,e,r)=>r.docSet.countItems(t.bg),osL:(t,e,r)=>r.docSet.countItems(t.os),isL:(t,e,r)=>r.docSet.countItems(t.is),is:(t,e,r)=>r.docSet.unsuccinctifyScopes(t.is),os:(t,e,r)=>r.docSet.unsuccinctifyScopes(t.os),bs:(t,e,r)=>{const[n,u,s]=iae.succinct.headerBytes(t.bs,0);return r.docSet.unsuccinctifyScope(t.bs,u,s,0)},bg:(t,e,r)=>r.docSet.unsuccinctifyGrafts(t.bg),nt:t=>t.nt.nByte(0),items:(t,e,r)=>{if(e.withScopes&&e.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");return e.withScriptureCV?r.docSet.unsuccinctifyItemsWithScriptureCV(t,e.withScriptureCV,{},e.includeContext||!1):r.docSet.unsuccinctifyPrunedItems(t,{tokens:!0,scopes:!0,grafts:!0,requiredScopes:e.withScopes||[],anyScope:e.anyScope||!1})},tokens:(t,e,r)=>{if(Object.keys(e).filter(u=>u.includes("Chars")).length>1)throw new Error('Only one of "withChars", "withAnyCaseChars" and "withCharsMatchingRegex" may be specified');let n;return e.withScriptureCV?n=r.docSet.unsuccinctifyItemsWithScriptureCV(t,e.withScriptureCV,{tokens:!0},e.includeContext||!1):n=r.docSet.unsuccinctifyPrunedItems(t,{tokens:!0,scopes:!0,requiredScopes:e.withScopes||[],anyScope:e.anyScope||!1}),e.withSubTypes&&(n=n.filter(u=>e.withSubTypes.includes(u[1]))),e.withChars?n=n.filter(u=>e.withChars.includes(u[2])):e.withMatchingChars&&(n=n.filter(u=>{for(const s of e.withMatchingChars)if(M8.test(u,M8(s)))return!0;return!1})),n.filter(u=>u[0]==="token")},text:(t,e,r)=>{let u=(e.withScriptureCV?r.docSet.unsuccinctifyItemsWithScriptureCV(t,e.withScriptureCV,{tokens:!0},!1):r.docSet.unsuccinctifyItems(t.c,{tokens:!0},null)).map(s=>s[2]).join("").trim();return e.normalizeSpace&&(u=u.replace(/[ \t\n\r]+/g," ")),u},itemGroups:(t,e,r)=>{if(e.byScopes&&e.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!e.byScopes&&!e.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return e.byScopes?r.docSet.sequenceItemsByScopes([t],e.byScopes):r.docSet.sequenceItemsByMilestones([t],e.byMilestones)},dump:(t,e,r)=>oae(r.docSet.unsuccinctifyBlock(t,{},null)),scopeLabels:(t,e,r)=>[...r.docSet.unsuccinctifyBlockScopeLabelsSet(t)].filter(n=>!e.startsWith||aae(e.startsWith,n))};var fae={blockSchemaString:cae,blockResolvers:lae};const Ew=Tt,yw=(t,e,r)=>{let n=[e.map(u=>[Ew.enums.enumStringIndex(t.enums.wordLike,u)])];return r?n=n[0]:n=n.map(u=>u.reduce((s,i)=>s.concat(i))),n},vw=(t,e,r)=>{let n=[e.map(u=>Ew.enums.enumRegexIndexTuples(t.enums.wordLike,u).map(s=>s[0]))];return r?n=n[0]:n=n.map(u=>u.reduce((s,i)=>s.concat(i))),n},gw=(t,e,r)=>{if(r&&e.filter(n=>n.length===0).length>0||(e=e.filter(n=>n.length>0),e.length===0))return!1;for(const n of e){let u=!1;for(const s of n)if(s>=0&&t.tokensPresent.get(s)>0){u=!0;break}if(r&&!u)return!1;if(!r&&u)return!0}return r},dae=(t,e,r,n)=>{let u=yw(t,r,n);return gw(e,u,n)},pae=(t,e,r,n)=>{let u=vw(t,r,n);return gw(e,u,n)};var Aw={sequenceHasChars:dae,sequenceHasMatchingChars:pae,regexSearchTermIndexes:vw,exactSearchTermIndexes:yw};const{sequenceHasChars:j8,sequenceHasMatchingChars:L8,regexSearchTermIndexes:hae,exactSearchTermIndexes:mae}=Aw,Dae={tokens:!1,scopes:!0,grafts:!1,requiredScopes:[]},Eae=(t,e,r,n,u)=>{let s=new Set([]);for(const i of t.unsuccinctifyPrunedItems(e,Dae,!1)){const[o,a,c,l,f,d]=i[2].split("/");for(const[p,h]of r.entries()){for(const v of h)if(a===v.attType&&c===v.tagName&&l===v.attKey&&parseInt(f)===v.valueN&&n[p].includes(d)){if(!u)return!0;s.add(p);break}if(s.size===r.length)return!0}}return!1},yae=`
"""A contiguous flow of content"""
type Sequence {
  """The id of the sequence"""
  id: String!
  """The type of the sequence (main, heading...)"""
  type: String!
  """The number of blocks in the sequence"""
  nBlocks: Int!
  """The blocks in the sequence"""
  blocks(
    """Only return blocks where the list of scopes is open"""
    withScopes: [String!]
    """Only return blocks whose zero-indexed position is in the list"""
    positions: [Int!]
    """Only return blocks with the specified block scope (eg 'blockScope/p'"""
    withBlockScope: String
    """Only return blocks that contain items within the specified chapter, verse or chapterVerse range"""
    withScriptureCV: String
    """Ordered list of attribute specs whose values must match those in 'attValues'"""
    attSpecs: [[AttSpec!]!]
    """Ordered list of attribute values, used in conjunction with \\'attSpecs\\'"""
    attValues: [[String!]!]
    """If true, blocks where all attSpecs match will be included"""
    allAtts: Boolean
    """Return blocks containing a token whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return blocks containing a token whose payload matches the specified regexes"""
    withMatchingChars: [String!]
    """If true, blocks where all regexes match will be included"""
    allChars: Boolean
  ): [Block!]!
  """The items for each block in the sequence"""
  blocksItems: [[Item!]!]
  """The tokens for each block in the sequence"""
  blocksTokens: [[Item!]!]
  """The text for each block in the sequence"""
  blocksText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): [String!]
  """The text for the sequence"""
  text(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ) : String!
  """Sequence content grouped by scopes or milestones"""
  itemGroups(
    """Produce one itemGroup for every different match of the list of scopes"""
    byScopes: [String!]
    """Start a new itemGroup whenever a milestone in the list is encountered"""
    byMilestones: [String!]
  ) : [ItemGroup!]!
  """A list of the tags of this sequence"""
  tags: [String!]!
  """A list of the tags of this sequence as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the sequence has the specified tag"""
  hasTag(
    """The specified tag"""
    tagName: String!
  ): Boolean!
  """A list of wordLike token strings in a main sequence"""
  wordLikes(
    """Whether to coerce the strings (toLower|toUpper|none)"""
    coerceCase: String
  ) : [String!]!
  """Returns true if a main sequence contains the specified tokens"""
  hasChars(
    """Token strings to be matched exactly"""
    chars: [String!]
    """If true all tokens must match"""
    allChars: Boolean
  ): Boolean!
  """Returns true if a main sequence contains a match for specified regexes"""
  hasMatchingChars(
    """Regexes to be matched"""
    chars: [String!]
    """If true all regexes must match"""
    allChars: Boolean
  ): Boolean!
}
`,vae={nBlocks:t=>t.blocks.length,blocks:(t,e,r)=>{if(r.docSet.maybeBuildEnumIndexes(),e.withScopes&&e.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");if(e.attSpecs&&!e.attValues)throw new Error("Cannot specify attSpecs without attValues");if(!e.attSpecs&&e.attValues)throw new Error("Cannot specify attValues without attSpecs");if(e.attSpecs&&e.attValues&&e.attSpecs.length!==e.attValues.length)throw new Error("attSpecs and attValues must be same length");if(e.withChars&&e.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");let n=t.blocks;if(e.positions&&(n=Array.from(n.entries()).filter(u=>e.positions.includes(u[0])).map(u=>u[1])),e.withScopes&&(n=n.filter(u=>r.docSet.allScopesInBlock(u,e.withScopes))),e.withScriptureCV&&(n=r.docSet.blocksWithScriptureCV(n,e.withScriptureCV)),e.attSpecs&&(n=n.filter(u=>Eae(r.docSet,u,e.attSpecs,e.attValues,e.allAtts||!1))),e.withBlockScope&&(n=n.filter(u=>r.docSet.blockHasBlockScope(u,e.withBlockScope))),e.withChars){if(t.type==="main"&&!j8(r.docSet,t,e.withChars,e.allChars))return[];let u=mae(r.docSet,e.withChars,e.allChars);for(const s of u)n=n.filter(i=>r.docSet.blockHasChars(i,s))}if(e.withMatchingChars){if(t.type==="main"&&!L8(r.docSet,t,e.withMatchingChars,e.allChars))return[];let u=hae(r.docSet,e.withMatchingChars,e.allChars);for(const s of u)n=n.filter(i=>r.docSet.blockHasChars(i,s))}return n},blocksItems:(t,e,r)=>t.blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{},null)),blocksTokens:(t,e,r)=>t.blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null)),blocksText:(t,e,r)=>t.blocks.map(n=>{let u=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(s=>s[2]).join("");return e.normalizeSpace&&(u=u.replace(/[ \t\n\r]+/g," ")),u}),text:(t,e,r)=>{let n=t.blocks.map(u=>r.docSet.unsuccinctifyItems(u.c,{tokens:!0},null).map(s=>s[2]).join("")).join(`
`);return e.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n},itemGroups:(t,e,r)=>{if(e.byScopes&&e.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!e.byScopes&&!e.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return e.byScopes?r.docSet.sequenceItemsByScopes(t.blocks,e.byScopes):r.docSet.sequenceItemsByMilestones(t.blocks,e.byMilestones)},tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName),wordLikes:(t,e,r)=>{if(t.type!=="main")throw new Error(`Only available for the main sequence, not ${t.type}`);if(e.coerceCase&&!["toLower","toUpper","none"].includes(e.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${e.coerceCase}'`);r.docSet.maybeBuildEnumIndexes();let n=new Set,u=0;for(const s of t.tokensPresent){if(s){const i=r.docSet.enumIndexes.wordLike[u];let o=r.docSet.enums.wordLike.countedString(i);e.coerceCase==="toLower"&&(o=o.toLowerCase()),e.coerceCase==="toUpper"&&(o=o.toUpperCase()),n.add(o)}u++}return Array.from(n).sort()},hasChars:(t,e,r)=>{if(t.type!=="main")throw new Error(`Only available for the main sequence, not ${t.type}`);return j8(r.docSet,t,e.chars,e.allChars||!1)},hasMatchingChars:(t,e,r)=>{if(t.type!=="main")throw new Error(`Only available for the main sequence, not ${t.type}`);return L8(r.docSet,t,e.chars,e.allChars)}};var gae={sequenceSchemaString:yae,sequenceResolvers:vae};const Yu=Bt,G8=Tt,Sw=(t,e)=>{let r=t;for(const n of e)n[0]==="scope"&&(n[1]==="start"?r.filter(s=>s===n[2]).length===0&&r.push(n[2]):r=r.filter(u=>u!==n[2]));return r},Aae=(t,e,r,n,u)=>{const s=t.chapterIndex(n);if(s){const i=r.blocks[s.startBlock];return[[Sw(e.docSet.unsuccinctifyScopes(i.os).map(o=>o[2]),e.docSet.unsuccinctifyItems(i.c,{},0,[]).slice(0,s.startItem+1).filter(o=>o[0]==="scope")),e.docSet.itemsByIndex(r,s,u||!1).reduce((o,a)=>o.concat([["token","lineSpace"," "]].concat(a)))]]}else return[]},Sae=(t,e,r,n,u,s,i,o)=>{let a=e.docSet,c=t.headers.bookCode,l=u.map(v=>[parseInt(n),parseInt(v)]);if(i){const v=t.processor.docSets[o];if(v&&(a=v),"forward"in r.verseMapping&&n in r.verseMapping.forward){let D=[];for(const F of u)D.push(G8.versification.mapVerse(r.verseMapping.forward[n],t.headers.bookCode,n,F));const g=D[0];c=g[0],l=g[1]}const S=a.documentWithBook(c);if(S){const D=S.sequences[S.mainId];if(D.verseMapping&&"reversed"in D.verseMapping){const g=[];for(const[F,I]of l)`${F}`in D.verseMapping.reversed?g.push(G8.versification.mapVerse(D.verseMapping.reversed[`${F}`],c,F,I)):g.push([c,[[F,I]]]),c=g[0][0],l=g.map(k=>k[1]).reduce((k,B)=>k.concat(B))}}}const f={},d=a.documentWithBook(c);if(!d)return[];const p=d.sequences[d.mainId];for(const v of l.map(S=>S[0]))v in f||(f[v]=d.chapterVerseIndex(v));const h=[];for(const[v,S]of l)if(f[v]){let D=[],g,F;if(f[v][S]){for(const k of f[v][S])g||(g=k.startBlock,F=k.startItem),D=D.concat(a.itemsByIndex(p,k,s||null).reduce((B,O)=>B.concat([["token","lineSpace"," "]].concat(O))));const I=p.blocks[g];h.push([Sw(a.unsuccinctifyScopes(I.os).map(k=>k[2]),a.unsuccinctifyItems(I.c,{},0,[]).slice(0,F+1).filter(k=>k[0]==="scope")),D])}}return h},Fw=(t,e)=>e.length===0?!1:t.includes(`chapter/${e[0][0]}`)&&(!e[0][1]||t.filter(r=>r.startsWith("verse/")&&parseInt(r.split("/")[1])>=e[0][1]).length>0)&&(!e[0][2]||t.filter(r=>r.startsWith("verse/")&&parseInt(r.split("/")[1])<=e[0][2]).length>0)?!0:Fw(t,e.slice(1)),xl=(t,e,r,n,u,s)=>{const[i,o]=n.split(":").map(d=>parseInt(d)),[a,c]=u.split(":").map(d=>parseInt(d));if(a<i)throw new Error(`cv chapterVerses requires fromChapter <= toChapter, not ${i} to ${a}`);const l=[];let f=i;for(;f<=a;)l.push([f,f===i?o:null,f===a?c:null]),f++;return e.docSet.sequenceItemsByScopes(r.blocks,["chapter/","verse/"],s).filter(d=>Fw(d[0],l))},Fae=(t,e,r,n,u,s)=>{if(e.chapter&&!e.verses)return Aae(t,r,n,e.chapter,e.includeContext);if(e.verses)return Sae(t,r,n,e.chapter,e.verses,e.includeContext,u,s);throw new Error("Unexpected args to do_cv_separate_args")},bae=(t,e,r,n)=>{if(Yu.test(e.chapterVerses,Yu("^[0-9]+:[0-9]+-[0-9]+:[0-9]+$"))){const[u,s]=e.chapterVerses.split("-");return xl(t,r,n,u,s,e.includeContext)}else if(Yu.test(e.chapterVerses,Yu("^[0-9]+:[0-9]+-[0-9]+$"))){const[u,s]=e.chapterVerses.split(":"),[i,o]=s.split("-");return xl(t,r,n,`${u}:${i}`,`${u}:${o}`,e.includeContext)}else if(Yu.test(e.chapterVerses,Yu("^[0-9]+:[0-9]+$"))){const[u,s]=e.chapterVerses.split(":");return xl(t,r,n,`${u}:${s}`,`${u}:${s}`,e.includeContext)}else if(Yu.test(e.chapterVerses,Yu("^[0-9]+$"))){const u=e.chapterVerses,s=t.chapterVerseIndex(u);if(!s)throw new Error(`No chapter ${u} found`);const i=s.map((o,a)=>[a,o]).filter(o=>o[1].length>0).map(o=>o[0]);return xl(t,r,n,`${u}:${Math.min(i)}`,`${u}:${Math.max(i)}`,e.includeContext)}else throw new Error(`Could not parse chapterVerses string '${e.chapterVerses}'`)},Cae=(t,e,r,n,u)=>{r.docSet=t.processor.docSets[t.docSetId];const s=t.sequences[t.mainId];if(!e.chapter&&!e.chapterVerses)throw new Error("Must specify either chapter or chapterVerses for cv");if(e.chapter&&e.chapterVerses)throw new Error("Must not specify both chapter and chapterVerses for cv");if(e.chapterVerses&&e.verses)throw new Error("Must not specify both chapterVerses and verses for cv");return e.chapter?Fae(t,e,r,s,n,u):bae(t,e,r,s)};var _ae={do_cv:Cae};const Iu=Bt,{do_cv:h2}=_ae,V8=(t,e)=>e in t.headers?t.headers[e]:null,wae=`
"""A document, typically corresponding to USFM for one book"""
type Document {
  """The id of the document"""
  id: String!
  """A parsed version of the id header"""
  idParts: idParts!
  """The id of the docSet to which this document belongs"""
  docSetId: String!
  """USFM header information such as TOC"""
  headers: [KeyValue!]!
  """One USFM header"""
  header(
    """The header id, corresponding to the tag name minus any trailing '1'"""
    id: String!
  ): String
  """The main sequence"""
  mainSequence: Sequence!
  """The number of sequences"""
  nSequences: Int!
  """A list of sequences for this document"""
  sequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """types of sequences to include, if found"""
    types: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [Sequence!]!
  """A list of table sequences for this document"""
  tableSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [tableSequence!]!
  """A list of tree sequences for this document"""
  treeSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [treeSequence!]!
  """A list of key-value sequences for this document"""
  kvSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [kvSequence!]!
  """A list of text (ie non-table, non-tree, non-kv) sequences for this document"""
  textSequences(
    """ids of sequences to include, if found"""
    ids: [String!]
    """Only return sequences with all the specified tags"""
    withTags: [String!]
    """Only return sequences with none of the specified tags"""
    withoutTags: [String!]
  ): [Sequence!]!
  """The sequence with the specified id"""
  sequence(
    """id of the sequence"""
    id: String!
  ): Sequence
  """The table sequence with the specified id"""
  tableSequence(
    """id of the sequence"""
    id: String!
  ): tableSequence
  """The tree sequence with the specified id"""
  treeSequence(
    """id of the sequence"""
    id: String!
  ): treeSequence
  """The key-value sequence with the specified id"""
  kvSequence(
    """id of the sequence"""
    id: String!
  ): kvSequence
  """The blocks of the main sequence"""
  mainBlocks: [Block!]!
  """The items for each block of the main sequence"""
  mainBlocksItems: [[Item!]!]!
  """The tokens for each block of the main sequence"""
  mainBlocksTokens: [[Item!]!]!
  """The text for each block of the main sequence"""
  mainBlocksText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): [String!]!
  """The text for the main sequence"""
  mainText(
    """If true, converts each whitespace character to a single space"""
    normalizeSpace: Boolean
  ): String!
  """A list of the tags of this document"""
  tags: [String!]!
  """A list of the tags of this document as key/value tuples"""
  tagsKv: [KeyValue!]!
  """'Whether or not the document has the specified tag"""
  hasTag(
    tagName: String!
  ): Boolean!
  """Content for a Scripture reference within this document, using local versification"""
  cv(
    """The chapter number (as a string)"""
    chapter: String
    """'A list of verse numbers (as strings)"""
    verses: [String!]
    """A chapterVerse Reference (ch:v-ch:v)"""
    chapterVerses: String
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """Content for a Scripture reference within this document, using the versification of the specified docSet"""
  mappedCv(
    """The chapter number (as a string)"""
    chapter: String!
    """The id of the mapped docSet"""
    mappedDocSetId: String!
    """A list of verse numbers (as strings)"""
    verses: [String!]!
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [ItemGroup!]!
  """Content for each verse of a chapter within this document, using the versification of the specified docSet"""
  mappedCvs(
    """The chapter number (as a string)"""
    chapter: String!
    """The id of the mapped docSet"""
    mappedDocSetId: String!
    """If true, adds scope and nextToken information to each token"""
    includeContext: Boolean
  ): [[ItemGroup!]!]!
  """What's previous and next with respect to the specified verse"""
  cvNavigation(
    """The chapter number (as a string)"""
    chapter: String!
    """A verse number (as a string)"""
    verse: String!
  ): cvNavigation
  """The content of the main sequence indexed by chapterVerse"""
  cvIndexes: [cvIndex]!
  """The content of the specified chapter indexed by chapterVerse"""
  cvIndex(
    """The chapter number"""
    chapter: Int!
  ): cvIndex!
  """The content of the main sequence indexed by chapter"""
  cIndexes: [cIndex]!
  """The content of a chapter"""
  cIndex(
    """'The chapter number"""
    chapter: Int!
  ): cIndex!
  """Verses matching the arguments"""
  cvMatching(
    """Return verses containing a token whose payload is an exact match to one of the specified strings"""
    withChars: [String!]
    """Return verses containing a token whose payload matches the specified regexes"""
    withMatchingChars: [String!]
    """Only return blocks where the list of scopes is open"""
    withScopes: [String!]
    """If true, verses where all regexes match will be included"""
    allChars: Boolean
    """If true, verses where all scopes match will be included"""
    allScopes: Boolean
  ): [ItemGroup!]!
  """A string of PERF JSON for this document"""
  perf(
    """Format JSON string with this indent"""
    indent: Int
  ): String! 
  """A string of USFM for this document"""
  usfm: String! 
  """A string of SOFRIA JSON for this document"""
  sofria(
    """Format JSON string with this indent"""
    indent: Int
    """Return SOFRIA for this chapter only"""
    chapter: Int
  ): String! 
}
`,Tae={idParts:t=>{const e=V8(t,"id");if(!e)return[null,null];const r=Iu.exec(e,/^(P\d\d)\s+([A-Z0-6]{3})\s+(\S+)\s+-\s+(.*)/);if(r)return["periph",r.slice(1)];const n=Iu.exec(e,/^([A-Z0-6]{3})\s+(.*)/);return n?["book",n.slice(1)]:[null,[e]]},headers:t=>Object.entries(t.headers),header:(t,e)=>V8(t,e.id),mainSequence:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId]),nSequences:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],Object.keys(t.sequences).length),sequences:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return e.ids&&(n=n.filter(u=>e.ids.includes(u.id))),e.types&&(n=n.filter(u=>e.types.includes(u.type))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},tableSequences:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return n=n.filter(u=>u.type==="table"),e.ids&&(n=n.filter(u=>e.ids.includes(u.id))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},treeSequences:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return n=n.filter(u=>u.type==="tree"),e.ids&&(n=n.filter(u=>e.ids.includes(u.id))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},kvSequences:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return n=n.filter(u=>u.type==="kv"),e.ids&&(n=n.filter(u=>e.ids.includes(u.id))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},textSequences:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return n=n.filter(u=>u.type!=="tree"&&u.type!=="table"&&u.type!=="kv"),e.ids&&(n=n.filter(u=>e.ids.includes(u.id))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},sequence:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);return n=n.filter(u=>e.id.includes(u.id)),n[0]||null},tableSequence:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);if(n=n.filter(u=>e.id.includes(u.id)),n[0]&&n[0].type!=="table")throw new Error(`Expected sequence id ${n[0].id} to be of type 'table', not '${n[0].type}'`);return n[0]||null},treeSequence:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);if(n=n.filter(u=>e.id.includes(u.id)),n[0]&&n[0].type!=="tree")throw new Error(`Expected sequence id ${n[0].id} to be of type 'tree', not '${n[0].type}'`);return n[0]||null},kvSequence:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId];let n=Object.values(t.sequences);if(n=n.filter(u=>e.id.includes(u.id)),n[0]&&n[0].type!=="vk")throw new Error(`Expected sequence id ${n[0].id} to be of type 'kv', not '${n[0].type}'`);return n[0]||null},mainBlocks:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId].blocks),mainBlocksItems:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId].blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{},null))),mainBlocksTokens:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId].blocks.map(n=>r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null))),mainBlocksText:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId].blocks.map(n=>{let s=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(i=>i[2]).join("").trim();return e.normalizeSpace&&(s=s.replace(/[ \t\n\r]+/g," ")),s})),mainText:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],t.sequences[t.mainId].blocks.map(n=>{let s=r.docSet.unsuccinctifyItems(n.c,{tokens:!0},null).map(i=>i[2]).join("").trim();return e.normalizeSpace&&(s=s.replace(/[ \t\n\r]+/g," ")),s}).join(`
`)),tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName),cv:(t,e,r)=>h2(t,e,r,!1),mappedCv:(t,e,r)=>{if(e.verses.length!==1)throw new Error(`mappedCv expects exactly one verse, not ${e.verses.length}`);return h2(t,e,r,!0,e.mappedDocSetId)},mappedCvs:(t,e,r)=>{const u=t.chapterVerseIndex(e.chapter).filter(i=>i.length>0).map(i=>i[0].verses);let s=[];for(const i of u)s.push(h2(t,{...e,verses:[i]},r,!0,e.mappedDocSetId).map(o=>[[`fromChapter/${e.chapter}`,`fromVerse/${i}`,...o[0]],o[1]]));return s},cvNavigation:(t,e)=>[e.chapter,e.verse,t.chapterVerseIndex((parseInt(e.chapter)-1).toString()),t.chapterVerseIndex(e.chapter),t.chapterVerseIndex((parseInt(e.chapter)+1).toString())],cvIndexes:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],r.doc=t,Object.entries(t.chapterVerseIndexes())),cvIndex:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],r.doc=t,[e.chapter,t.chapterVerseIndex(e.chapter)||[]]),cIndexes:(t,e,r)=>(r.docSet=t.processor.docSets[t.docSetId],r.doc=t,Object.entries(t.chapterIndexes())),cIndex:(t,e,r)=>{r.docSet=t.processor.docSets[t.docSetId],r.doc=t;const n=t.chapterIndex(e.chapter);return[e.chapter,n||{}]},cvMatching:(t,e,r)=>{if(!e.withChars&&!e.withMatchingChars&&!e.withScopes)throw new Error("Must specify at least one of withChars or withMatchingChars or withScopes");if(e.withChars&&e.withMatchingChars)throw new Error("Must not specify both withChars and withMatchingChars");r.docSet=t.processor.docSets[t.docSetId];let n;e.withChars&&e.allChars?n=e.withChars.map(a=>Iu(`^${a}$`)):e.withChars?n=[Iu.union(e.withChars.map(a=>Iu(`^${a}$`,"i")))]:e.withMatchingChars&&e.allChars?n=e.withMatchingChars.map(a=>Iu(a,"i")):e.withMatchingChars&&(n=[Iu.union(e.withMatchingChars.map(a=>Iu(a,"i")))]);const u=a=>{for(const c of e.withScopes||[])if(!a.includes(c))return!1;return!0},s=a=>{const c=e.withScopes||[];for(const l of c)if(a.includes(l))return!0;return c.length===0},i=a=>{for(const c of n||[]){let l=!1;for(const f of a)if(Iu.test(f[2],c)){l=!0;break}if(!l)return!1}return!0};return r.docSet.sequenceItemsByScopes(t.sequences[t.mainId].blocks,["chapter/","verses/"]).filter(a=>(e.allScopes?u:s)(a[1].filter(c=>c[0]==="scope"&&c[1]==="start").map(c=>c[2]))&&i(a[1]))},perf:(t,e)=>t.perf(e.indent),usfm:t=>t.usfm(),sofria:(t,e)=>t.sofria(e.indent,e.chapter)};var $ae={documentSchemaString:wae,documentResolvers:Tae};const Ml=Tt,Bae=(t,e)=>{const r=t.headers.bookCode||"GEN",n=e.headers.bookCode||"GEN",u=Ml.canons.ptBooks[r]?Ml.canons.ptBooks[r].position:999,s=Ml.canons.ptBooks[n]?Ml.canons.ptBooks[n].position:999;return u-s},Iae=(t,e)=>{const r=t.headers.bookCode||"GEN",n=e.headers.bookCode||"GEN";return r.localeCompare(n)},Pae=(t,e)=>{const r=[1,2,3,4,5,6];let n=t.headers.bookCode||"GEN";r.includes(n[0])&&(n=n.substring(1)+n[0]);let u=e.headers.bookCode||"GEN";return r.includes(u[0])&&(u=u.substring(1)+u[0]),n.localeCompare(u)},kae={paratext:Bae,alpha:Iae,alpha2:Pae};var bw={bookCodeCompareFunctions:kae};const Rs=Tt,{bookCodeCompareFunctions:o1}=bw,{sequenceHasChars:Oae,sequenceHasMatchingChars:Nae}=Aw,Rae=`
"""A collection of documents that share the same set of selector values"""
type DocSet {
  """The id of the docSet, which is formed by concatenating the docSet's selector values"""
  id: String!
  """The selectors of the docSet"""
  selectors: [KeyValue!]!
  """A selector for this docSet"""
  selector(
    """The id of the selector"""
    id: String!
  ): String!
  """A list of the tags of this docSet"""
  tags: [String!]!
  """A list of the tags of this docSet as key/value tuples"""
  tagsKv: [KeyValue!]!
  """Whether or not the docSet has the specified tag"""
  hasTag(
    """The tag"""
    tagName: String!
  ): Boolean!
  """The documents in the docSet"""
  documents(
    """A whitelist of ids of documents to include"""
    ids: [String!]
    """A whitelist of ids of documents to include"""
    withChars: [String!]
    """Return documents whose main sequence contains a token whose payload is an exact match to one of the specified strings"""
    withMatchingChars: [String!]
    """If true, documents where all search terms match will be included"""
    allChars: Boolean
    """Only return documents where the list of scopes is used"""
    withScopes: [String!]
    """If true, documents where all scopes are found will be included"""
    allScopes: Boolean
    """Only return documents with the specified header key/values"""
    withHeaderValues: [InputKeyValue!]
    """Only return documents with all the specified tags"""
    withTags: [String!]
    """Only return documents with none of the specified tags"""
    withoutTags: [String!]
    """Sort returned documents by the designated method (currently ${Object.keys(o1).join(", ")})\`"""
    sortedBy: String
  ): [Document!]!
  """The number of documents in the docSet"""
  nDocuments: Int!
  """A document in the docSet, if present"""
  document(
    """The book code of the required document"""
    bookCode: String!
  ): Document
  """Whether the docSet has versification information loaded"""
  hasMapping: Boolean!
  """The internal index number corresponding to a string in a given docSet enum"""
  enumIndexForString(
    """The enum to be searched"""
    enumType: String!
    """The string to match"""
    searchString: String!
  ): Int!
  """Information about internal indexes matching the case-insensitive regex in a given docSet enum"""
  enumRegexIndexesForString(
    """The enum to be searched"""
    enumType: String!
    """The regex to match"""
    searchRegex: String!
  ): [regexIndex!]!
  """A list of wordLike token strings in the docSet"""
  wordLikes(
    """Whether to coerce the strings (toLower|toUpper|none)"""
    coerceCase: String
  ): [String!]!
  """A list of unique characters in the docSet"""
  uniqueChars: [String!]!
  """A string containing the unique characters in the docSet"""
  uniqueCharsString: String!
  }
`,qae={selectors:t=>Object.entries(t.selectors),selector:(t,e)=>t.selectors[e.id],tags:t=>Array.from(t.tags),tagsKv:t=>Array.from(t.tags).map(e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""]),hasTag:(t,e)=>t.tags.has(e.tagName),documents:(t,e,r)=>{const n=(s,i)=>{for(const o of i||[])if(!(o.key in s)||s[o.key]!==o.value)return!1;return!0};if(e.withChars&&e.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");r.docSet=t;let u=t.documents();if(e.ids&&(u=u.filter(s=>e.ids.includes(s.id))),e.withChars&&(u=u.filter(s=>Oae(t,s.sequences[s.mainId],e.withChars,e.allChars))),e.withMatchingChars&&(u=u.filter(s=>Nae(t,s.sequences[s.mainId],e.withMatchingChars,e.allChars))),e.withScopes){const s=i=>new Set(i.sequences[i.mainId].blocks.map(o=>r.docSet.unsuccinctifyBlockScopeLabelsSet(o)).map(o=>Array.from(o)).reduce((o,a)=>o.concat(a)));u=u.filter(i=>{const o=s(i),a=e.allScopes?e.withScopes.length:1;return e.withScopes.filter(c=>o.has(c)).length>=a})}if(e.withHeaderValues&&(u=u.filter(s=>n(s.headers,e.withHeaderValues))),e.withTags&&(u=u.filter(s=>e.withTags.filter(i=>s.tags.has(i)).length===e.withTags.length)),e.withoutTags&&(u=u.filter(s=>e.withoutTags.filter(i=>s.tags.has(i)).length===0)),e.sortedBy){if(!(e.sortedBy in o1))throw new Error(`sortedBy value must be one of [${Object.keys(o1)}], not ${e.sortedBy}`);u.sort(o1[e.sortedBy])}return u},nDocuments:(t,e,r)=>(r.docSet=t,t.documents().length),document:(t,e)=>t.documentWithBook(e.bookCode),hasMapping:t=>t.tags.has("hasMapping"),enumIndexForString:(t,e)=>Rs.enums.enumStringIndex(t.enums[e.enumType],e.searchString),enumRegexIndexesForString:(t,e)=>Rs.enums.enumRegexIndexTuples(t.enums[e.enumType],e.searchRegex),wordLikes:(t,e)=>{if(e.coerceCase&&!["toLower","toUpper","none"].includes(e.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${e.coerceCase}'`);let r=Rs.succinct.unpackEnum(t.enums.wordLike);return e.coerceCase==="toLower"&&(r=r.map(n=>n.toLowerCase())),e.coerceCase==="toUpper"&&(r=r.map(n=>n.toUpperCase())),Array.from(new Set(r))},uniqueChars:t=>{const e=new Set([]);for(const r of[...Rs.succinct.unpackEnum(t.enums.wordLike),...Rs.succinct.unpackEnum(t.enums.notWordLike)])for(const n of r.split(""))e.add(n);return Array.from(e).sort()},uniqueCharsString:t=>{const e=new Set([]);for(const r of[...Rs.succinct.unpackEnum(t.enums.wordLike),...Rs.succinct.unpackEnum(t.enums.notWordLike)])for(const n of r.split(""))e.add(n);return Array.from(e).sort().join("")}};var xae={docSetSchemaString:Rae,docSetResolvers:qae};const Mae=`# Versification  "English"
# Version=2.0
#
# modifications by Reinier de Blois 13/March/2012
# modified mappings Psalms by adding verse #0 to the mappings
# many of the subscripts that are part of verses 1,2 in the original text end up as verse #0 in English translations

# modifications by Studge 26/June/2009
# book definitions are for all books printed in any English of Spanish Bible
# this includes books for Protestant, Catholic and Protestant-Catholic-EasternOrthodox Interconfessional editions
#
# This is the versification used by most English (e.g. RSV) and Spanish Bibles (e.g. RVR)
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#--------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:40 30:16 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:15 22:23 23:29 24:22 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:24 41:34 42:17
PSA 1:6 2:12 3:8 4:8 5:12 6:10 7:17 8:9 9:20 10:18 11:7 12:8 13:6 14:7 15:5 16:11 17:15 18:50 19:14 20:9 21:13 22:31 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:12 31:24 32:11 33:22 34:22 35:28 36:12 37:40 38:22 39:13 40:17 41:13 42:11 43:5 44:26 45:17 46:11 47:9 48:14 49:20 50:23 51:19 52:9 53:6 54:7 55:23 56:13 57:11 58:11 59:17 60:12 61:8 62:12 63:11 64:10 65:13 66:20 67:7 68:35 69:36 70:5 71:24 72:20 73:28 74:23 75:10 76:12 77:20 78:72 79:13 80:19 81:16 82:8 83:18 84:12 85:13 86:17 87:7 88:18 89:52 90:17 91:16 92:15 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:28 103:22 104:35 105:45 106:48 107:43 108:13 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:13 141:10 142:7 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:16 5:20 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:13 7:13 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:30 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:16 14:9
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:17 2:10 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#-----------------------------------------------
# New Testament
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:41 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
#2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14
# Note sometimes 2CO 13 has 14 verses e.g. KJV. but 13 verses in modern translations
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
# sometimes called the Apocalypse
#---------------------------------------------------------
# Deuterocanonical books
TOB 1:22 2:14 3:17 4:21 5:21 6:17 7:18 8:21 9:6 10:13 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:13 16:25
#-----------------------
# This is the definition for "Additions to Daniel" as in the KJV [Studge]
# ESG 1:13 2:12 3:6 4:18 5:19 6:16 7:24
# more commonly UBS Bibles have ESG which is the full Esther Greek for modern Bibles e.g. RSV, CEV, GNB etc
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
#-----------------------
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:21 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:32 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:31 34:26 35:20 36:26 37:31 38:34 39:35 40:30 41:23 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
#
# In English Bibles Baruch sometimes has 5 chapters and sometimes 6 in Catholic Bibles [Studge]
BAR 1:21 2:35 3:37 4:37 5:9 6:73
#
LJE 1:73
S3Y 1:68
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
#-----------------------------------------------------
# Additional Orthodox Books in Interconfessional Bibles e.g. RSV, NRSV
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
1ES 1:58 2:30 3:24 4:63 5:73 6:34 7:15 8:96 9:55
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
MAN 1:15
PS2 1:7
#-----------------------------------------------------
# ODA and PSS are only used in LXX and SYR projects and are not needed here
# ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
# PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-----------------------------------------------------
# Obselete books used for LXX variant texts, in LXX only in PT 6, and obselete in PT 7, not used in English, Spanish or any other Bibles.  If these codes were used they were used for the wrong books and these definitions were not relevant
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#------------------------------------------------------
# Daniel Greek used in some English Catholic Bibles
DAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
# Letter to the Laodiceans which was in the John Wycliffe Bible
LAO 1:20
#
#-----------------------------------------------------
# Mapping
#-----------------------------------------------------
# English = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
# NUM 26:1a = NUM 25:19b  # no support for splits yet
# NUM 26:1b = NUM 26:1  # no support for splits yet
NUM 29:40 = NUM 30:1
NUM 30:1-16 = NUM 30:2-17
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
#
# removed see PTSIL-113
#1SA 20:42 = 1SA 20:41
#
1SA 20:42 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
1SA 23:29 = 1SA 24:1
1SA 24:1-22 = 1SA 24:2-23
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
# 1KI 18:33a = 1KI 18:33  # no support for splits yet
# 1KI 18:33b = 1KI 18:34  # no support for splits yet
# 1KI 22:43a = 1KI 22:43b  # no support for splits yet
1KI 22:43-53 = 1KI 22:44-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4b = 1CH 12:4  # no support for splits yet
1CH 12:4-40 = 1CH 12:5-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 41:1-8 = JOB 40:25-32
JOB 41:9-34 = JOB 41:1-26
PSA 3:0-8 = PSA 3:1-9
PSA 4:0-8 = PSA 4:1-9
PSA 5:0-12 = PSA 5:1-13
PSA 6:0-10 = PSA 6:1-11
PSA 7:0-17 = PSA 7:1-18
PSA 8:0-9 = PSA 8:1-10
PSA 9:0-20 = PSA 9:1-21
PSA 12:0-8 = PSA 12:1-9
PSA 13:0-5 = PSA 13:1-6
PSA 18:0-50 = PSA 18:1-51
PSA 19:0-14 = PSA 19:1-15
PSA 20:0-9 = PSA 20:1-10
PSA 21:0-13 = PSA 21:1-14
PSA 22:0-31 = PSA 22:1-32
PSA 30:0-12 = PSA 30:1-13
PSA 31:0-24 = PSA 31:1-25
PSA 34:0-22 = PSA 34:1-23
PSA 36:0-12 = PSA 36:1-13
PSA 38:0-22 = PSA 38:1-23
PSA 39:0-13 = PSA 39:1-14
PSA 40:0-17 = PSA 40:1-18
PSA 41:0-13 = PSA 41:1-14
PSA 42:0-11 = PSA 42:1-12
PSA 44:0-26 = PSA 44:1-27
PSA 45:0-17 = PSA 45:1-18
PSA 46:0-11 = PSA 46:1-12
PSA 47:0-9 = PSA 47:1-10
PSA 48:0-14 = PSA 48:1-15
PSA 49:0-20 = PSA 49:1-21
PSA 51:0 = PSA 51:1
PSA 51:0 = PSA 51:2
PSA 51:1-19 = PSA 51:3-21
PSA 52:0 = PSA 52:1
PSA 52:0 = PSA 52:2
PSA 52:1-9 = PSA 52:3-11
PSA 53:0-6 = PSA 53:1-7
PSA 54:0 = PSA 54:1
PSA 54:0 = PSA 54:2
PSA 54:1-7 = PSA 54:3-9
PSA 55:0-23 = PSA 55:1-24
PSA 56:0-13 = PSA 56:1-14
PSA 57:0-11 = PSA 57:1-12
PSA 58:0-11 = PSA 58:1-12
PSA 59:0-17 = PSA 59:1-18
PSA 60:0 = PSA 60:1
PSA 60:0 = PSA 60:2
PSA 60:1-12 = PSA 60:3-14
PSA 61:0-8 = PSA 61:1-9
PSA 62:0-12 = PSA 62:1-13
PSA 63:0-11 = PSA 63:1-12
PSA 64:0-10 = PSA 64:1-11
PSA 65:0-13 = PSA 65:1-14
PSA 67:0-7 = PSA 67:1-8
PSA 68:0-35 = PSA 68:1-36
PSA 69:0-36 = PSA 69:1-37
PSA 70:0-5 = PSA 70:1-6
PSA 75:0-10 = PSA 75:1-11
PSA 76:0-12 = PSA 76:1-13
PSA 77:0-20 = PSA 77:1-21
PSA 80:0-19 = PSA 80:1-20
PSA 81:0-16 = PSA 81:1-17
PSA 83:0-18 = PSA 83:1-19
PSA 84:0-12 = PSA 84:1-13
PSA 85:0-13 = PSA 85:1-14
PSA 88:0-18 = PSA 88:1-19
PSA 89:0-52 = PSA 89:1-53
PSA 92:0-15 = PSA 92:1-16
PSA 102:0-28 = PSA 102:1-29
PSA 108:0-13 = PSA 108:1-14
PSA 140:0-13 = PSA 140:1-14
PSA 142:0-7 = PSA 142:1-8
ECC 5:1 = ECC 4:17
ECC 5:2-20 = ECC 5:1-19
SNG 6:13 = SNG 7:1
SNG 7:1-13 = SNG 7:2-14
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-46 = EZK 21:1-2
EZK 20:47 = EZK 21:3
EZK 20:48-49 = EZK 21:4-5
EZK 21:1-32 = EZK 21:6-37
DAN 4:1-3 = DAN 3:31-33
DAN 4:4-37 = DAN 4:1-34
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
HOS 13:16 = HOS 14:1
HOS 14:1-9 = HOS 14:2-10
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
JON 1:17 = JON 2:1
JON 2:1-10 = JON 2:2-11
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
# 40 + 41 -> 40 (per Peter Kirk)
#! &ACT 19:40-41 = ACT 19:40
#
#---------------------------------
# map Baruch 6 onto Letter of Jeremiah [Studge]
BAR 6:1-73 = LJE 1:1-73
#
#------------------------------
# Susanna
DAG 13:1-63 = SUS 1:1-63
# Bel and the Dragon
DAG 14:1-42 = BEL 1:1-42
#----------------------------------
# Mapping Esther Greek onto LXX Esther Greek
#
# This maps the standard verses generated by Create Book
# to the actual verse numbers and segments found in the LXX
# ESG chapter 1
ESG 1:1 = ESG 1:1a
ESG 1:2 = ESG 1:1b
ESG 1:3 = ESG 1:1c
ESG 1:4 = ESG 1:1d
ESG 1:5 = ESG 1:1e
ESG 1:6 = ESG 1:1f
ESG 1:7 = ESG 1:1g
ESG 1:8 = ESG 1:1h
ESG 1:9 = ESG 1:1i
ESG 1:10 = ESG 1:1k
ESG 1:11 = ESG 1:1l
ESG 1:12 = ESG 1:1m
ESG 1:13 = ESG 1:1n
ESG 1:14 = ESG 1:1o
ESG 1:15 = ESG 1:1p
ESG 1:16 = ESG 1:1q
ESG 1:17 = ESG 1:1r
ESG 1:18 = ESG 1:1s
ESG 1:19-39 = ESG 1:2-22
# ESG chapter 3
ESG 3:14 = ESG 3:13a
ESG 3:15 = ESG 3:13b
ESG 3:16 = ESG 3:13c
ESG 3:17 = ESG 3:13d
ESG 3:18 = ESG 3:13e
ESG 3:19 = ESG 3:13f
ESG 3:20 = ESG 3:13g
ESG 3:21 = ESG 3:14
ESG 3:22 = ESG 3:15
# ESG chapter 4
ESG 4:18 = ESG 4:17a
ESG 4:19 = ESG 4:17b
ESG 4:20 = ESG 4:17c
ESG 4:21 = ESG 4:17c
ESG 4:22 = ESG 4:17d
ESG 4:23 = ESG 4:17d
ESG 4:24 = ESG 4:17e
ESG 4:25 = ESG 4:17f
ESG 4:26 = ESG 4:17g
ESG 4:27 = ESG 4:17h
ESG 4:28 = ESG 4:17i
ESG 4:29 = ESG 4:17k
ESG 4:30 = ESG 4:17k
ESG 4:31 = ESG 4:17k
ESG 4:32 = ESG 4:17l
ESG 4:33 = ESG 4:17m
ESG 4:34 = ESG 4:17n
ESG 4:35 = ESG 4:17n
ESG 4:36 = ESG 4:17o
ESG 4:37 = ESG 4:17o
ESG 4:38 = ESG 4:17p
ESG 4:39 = ESG 4:17q
ESG 4:40 = ESG 4:17r
ESG 4:41 = ESG 4:17s
ESG 4:42 = ESG 4:17t
ESG 4:43 = ESG 4:17u
ESG 4:44 = ESG 4:17w
ESG 4:45 = ESG 4:17x
ESG 4:46 = ESG 4:17y
ESG 4:47 = ESG 4:17z
# ESG chapter 5
ESG 5:2 = ESG 5:1a
ESG 5:3 = ESG 5:1a
ESG 5:4 = ESG 5:1a
ESG 5:5 = ESG 5:1b
ESG 5:6 = ESG 5:1c
ESG 5:7 = ESG 5:1d
ESG 5:8 = ESG 5:1e
ESG 5:9 = ESG 5:1f
ESG 5:10 = ESG 5:1f
ESG 5:11 = ESG 5:2
ESG 5:12 = ESG 5:2
ESG 5:13 = ESG 5:2a
ESG 5:14 = ESG 5:2a
ESG 5:15 = ESG 5:2b
ESG 5:16 = ESG 5:2b
ESG 5:17-28 = ESG 5:3-14
# ESG chapter 8
ESG 8:13 = ESG 8:12a
ESG 8:14 = ESG 8:12b
ESG 8:15 = ESG 8:12c
ESG 8:16 = ESG 8:12d
ESG 8:17 = ESG 8:12e
ESG 8:18 = ESG 8:12f
ESG 8:19 = ESG 8:12g
ESG 8:20 = ESG 8:12h
ESG 8:21 = ESG 8:12i
ESG 8:22 = ESG 8:12k
ESG 8:23 = ESG 8:12l
ESG 8:24 = ESG 8:12m
ESG 8:25 = ESG 8:12n
ESG 8:26 = ESG 8:12o
ESG 8:27 = ESG 8:12p
ESG 8:28 = ESG 8:12q
ESG 8:29 = ESG 8:12r
ESG 8:30 = ESG 8:12s
ESG 8:31 = ESG 8:12t
ESG 8:32 = ESG 8:12u
ESG 8:33 = ESG 8:12x
ESG 8:34 = ESG 8:12y
ESG 8:35 = ESG 8:12y
ESG 8:36 = ESG 8:12y
ESG 8:37-41 = ESG 8:13-17
# ESG chapter 10
ESG 10:4 = ESG 10:3a
ESG 10:5 = ESG 10:3b
ESG 10:6 = ESG 10:3c
ESG 10:7 = ESG 10:3d
ESG 10:8 = ESG 10:3e
ESG 10:9 = ESG 10:3f
ESG 10:10 = ESG 10:3g
ESG 10:11 = ESG 10:3h
ESG 10:12 = ESG 10:3i
ESG 10:13 = ESG 10:3k
ESG 10:14 = ESG 10:3l
# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.
# Map it back to the LXX.  This section allow's texts such as TOB (French) which do
# this to scroll correctly with the LXX.
# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.
# If a text has DAG present, this section must NOT be included in its versification file because
# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.
S3Y 1:1-29 = DAG 3:24-52
S3Y 1:30-31 = DAG 3:52-53
S3Y 1:33 = DAG 3:54
S3Y 1:32 = DAG 3:55
S3Y 1:34-35 = DAG 3:56-57
S3Y 1:37 = DAG 3:58
S3Y 1:36 = DAG 3:59
S3Y 1:38-68 = DAG 3:60-90
`;var jae=Mae,Lae=`# Versification  "Septuagint"
# Version=1.7
# 
# modifications by Studge 26/ June/ 2009
# This should include the versifications for Bibles which follow LXX versificatio mainly Orthodox Bibles. [Studge]
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
# modifications by Reinier 20/ April/ 2010
# all data that are not part of the LXX itself have been commented out with ##
#
# modifications by Michael Lothers 1/ June/ 2011
# added verse segment information in the format: *GEN 1:22,-,a,b
# which indicates GEN 1:22 has three segments, the first has no marking followed by two segments: 1a and 1b
# The lines are preceded by #! so that versions of Paratext prior to 7.3 will ignore them rather than crash.
#
# modifications by Tim Steenwyk 15/ September/ 2011
# removed mapping references to PS3 since they shouldn't be in LXX (Septuagint)
#------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:21 38:27 39:23 40:38
LEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:26 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:29 9:27 10:42 11:23 12:24 13:32 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:54 18:29 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
# 1SA called 1 Kings in the Orthodox tradition
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25
# 2SA called 2 Kings in the Orthodox tradition
1KI 1:53 2:46 3:28 4:19 5:32 6:36 7:50 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:29 21:43 22:54
# 1KI called 3 Kings in the Orthodox tradition
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
# 2KI called 4 Kings in the Orthodox tradition
1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
#
# Edited by Studge
# Added EZR which is Ezra-Nehemiah, which had been put under 2ES by mistake
# Edited chapters 13 and 20 / SS 14.6.2014
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:23 15:19 16:19 17:73 18:18 19:38 20:40 21:36 22:47 23:31
#
# most projects based on LXX will use Nehemiah so we ought to add it in.
##NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
#
# Edited by Studge
# should not have ESG here but amongst the Deuterocanonical books for PT order
# ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
#
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7
# Psalms has 151 psalms in the Septuagint tradition
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:22 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:21 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:11 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24
#
# Edited by SS 25.3.2003
# Original: JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
#
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:20 26:28 27:46 28:64 29:7 30:33 31:44 32:38 33:24 34:22 35:17 36:32 37:24 38:40 39:44 40:13 41:22 42:19 43:32 44:21 45:28 46:18 47:16 48:18 49:22 50:13 51:35 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
#
# There really should not be an entry for DAN in the LXX.vrs. All this material should be in DAG to match Ralhfs.
# However, there are no doubt many projects that incorrectly but the material in DAN so we leave this here
# for backward compatibility
# Following line commented out and DAG-DAN mapping brought up from end of file to allow DAG text to sychronize with HEB where they match
# Edited by Sarah Lind Oct 6 2015
# DAN 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
DAG 1:1-21 = DAN 1:1-21 
DAG 2:1-49 = DAN 2:1-49
DAG 3:1-23 = DAN 3:1-23
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 4:1-2 = DAN 4:4-5
DAG 5:1-30 = DAN 5:1-30
DAG 6:1-29 = DAN 6:1-29
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45
DAG 12:1-13 = DAN 12:1-13
#
HOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10
JOL 1:20 2:27 3:5 4:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20
NAM 1:14 2:14 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:24
#
#  It feels a bit odd to include NT in "Septuagint" but I think there are
#  Bibles that follow the _versification_ of OT LXX but also have a NT.
#
# ------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#--------------------------------------------------
# Deuterocanonical Books
TOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
# added ESG definition in its right PT order
ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
# note chapter 4 v17 is 17a-z
# note chapter 8 v12 is 12a-x
# note chapter 10 v3 is 3a-l
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
# Edited SUS / SS 14.6.2014
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
# 1ES Ezra (Greek)
1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55
#-----------------------------------------------------
# Edited by Studge - Had the wrong definition of 2ES
# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31
# 2ES is not a LXX book but is from the Vulgate and has 16 chapters
# edited by Studge added the correct definition of 2ES
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
#
# Edited by Studge
#MAN and PS2 were not defined which are in LXX
MAN 1:15
PS2 1:7
#-------------------------------------------------------
# ODA and PSS are in the PT 6 files but now missing from the LXX files in PT 7
ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-------------------------------------------------------
# NR: LXX variant texts now obselete, kep for backward compatability
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:45 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#--------------------------------------------------------
# Greek Daniel
# Edited chapter 5 and 6 and removed chapters 13 and 14 that are not in Rahlfs / SS 14.6.2014
DAG 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
#--------------------------------------------------------
# Syriac books for Peshitta projects SYR and SYA
#
# Syriac Psalms 152-155
##PS3 1:17 2:20 3:6 4:6
#
# Apocalypse of Baruch
##2BA 1:5 2:2 3:9 4:7 5:7 6:10 7:2 8:5 9:1 10:19 11:7 12:5 13:12 14:19 15:8 16:1 17:4 18:2 19:8 20:6 21:26 22:8 23:7 24:4 25:4 26:1 27:15 28:7 29:8 30:5 31:5 32:9 33:3 34:1 35:5 36:10 37:1 38:4 39:8 40:4 41:6 42:8 43:3 44:15 45:2 46:7 47:2 48:50 49:3 50:4 51:16 52:8 53:12 54:22 55:8 56:16 57:3 58:2 59:12 60:2 61:8 62:8 63:11 64:10 65:2 66:8 67:9 68:8 69:5 70:10 71:3 72:6 73:7 74:4 75:8 76:5 77:26
#
# Letter of Baruch
##LBA 78:7 79:3 80:7 81:4 82:9 83:23 84:11 85:15 86:3
#--------------------------------------------------------
# Books for Ethiopian Canon
# Jubilees (Ethiopian canon)
##JUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20
# Enoch (Ethiopian canon)
##ENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16
# 1 Meqabyan (Ethiopian canon)
##1MQ 1:28 2:28 3:38 4:37 5:39 6:38 7:33 8:35 9:10 10:8 11:8 12:44 13:27 14:23 15:20 16:9 17:8 18:12 19:17 20:4 21:31 22:11 23:7 4:22 25:18 26:5 27:20 28:49 29:17 30:16 31:7 32:4 33:11 34:18 35:8 36:46
# 2 Meqabyan (Ethiopian canon)
##2MQ 1:13 2:11 3:29 4:32 5:18 6:24 7:9 8:24 9:27 10:28 11:25 12:15 13:14 14:36 15:21 16:15 17:12 18:14 19:15 20:14 
# 3 Meqabyan (Ethiopian canon)
##3MQ 1:24 2:23 3:11 4:36 5:16 6:16 7:5 8:12 9:36 10:29
# Reproof (Ethiopian canon)
##REP 1:28 2:28 3:27 4:28 5:27 6:22
# 4 Baruch / Rest of the Words of Baruch (Ethiopian canon)
##4BA 1:30 2:29 3:30 4:33 5:62
#---------------------------------------------------------
# Edited by SS 14.6.2014 added deliberatelly omitted verses
-GEN 31:51
-GEN 35:21

-EXO 25:6
-EXO 28:23
-EXO 28:24
-EXO 28:25
-EXO 28:26
-EXO 28:27
-EXO 28:28
-EXO 32:9
-EXO 35:8
-EXO 35:15
-EXO 35:17
-EXO 35:18
-EXO 40:7
-EXO 40:11
-EXO 40:28
-EXO 40:30
-EXO 40:31
-EXO 40:32

-JOS 6:4
-JOS 8:13
-JOS 8:26
-JOS 10:15
-JOS 20:4
-JOS 20:5
-JOS 20:6

-1SA 13:1
-1SA 17:21
-1SA 17:22
-1SA 17:23
-1SA 17:24
-1SA 17:25
-1SA 17:26
-1SA 17:27
-1SA 17:28
-1SA 17:29
-1SA 17:30
-1SA 17:31
-1SA 17:41
-1SA 17:50
-1SA 18:1
-1SA 18:2
-1SA 18:3
-1SA 18:4
-1SA 18:5
-1SA 18:10
-1SA 18:11
-1SA 18:17
-1SA 18:18
-1SA 18:19
-1SA 23:12

-1KI 3:1
-1KI 5:5
-1KI 5:6
-1KI 5:7
-1KI 5:8
-1KI 5:31
-1KI 6:11
-1KI 6:12
-1KI 6:13
-1KI 6:14
-1KI 6:18
-1KI 8:12
-1KI 8:13
-1KI 9:15
-1KI 9:16
-1KI 9:17
-1KI 9:18
-1KI 9:19
-1KI 9:20
-1KI 9:21
-1KI 9:22
-1KI 9:23
-1KI 9:24
-1KI 9:25
-1KI 11:3
-1KI 11:23
-1KI 11:24
-1KI 11:39
-1KI 12:2
-1KI 12:17
-1KI 13:27
-1KI 14:1
-1KI 14:2
-1KI 14:3
-1KI 14:4
-1KI 14:5
-1KI 14:6
-1KI 14:7
-1KI 14:8
-1KI 14:9
-1KI 14:10
-1KI 14:11
-1KI 14:12
-1KI 14:13
-1KI 14:14
-1KI 14:15
-1KI 14:16
-1KI 14:17
-1KI 14:18
-1KI 14:19
-1KI 14:20
-1KI 15:6
-1KI 15:32
-1KI 22:47
-1KI 22:48
-1KI 22:49
-1KI 22:50

-1SA 17:12
-1SA 17:13
-1SA 17:14
-1SA 17:15
-1SA 17:16
-1SA 17:17
-1SA 17:18
-1SA 17:19
-1SA 17:20

-1CH 1:11
-1CH 1:12
-1CH 1:13
-1CH 1:14
-1CH 1:15
-1CH 1:16
-1CH 1:18
-1CH 1:19
-1CH 1:20
-1CH 1:21
-1CH 1:22
-1CH 1:23
-1CH 16:24

-2CH 27:8

-EZR 13:7
-EZR 14:18
-EZR 14:19
-EZR 14:20
-EZR 14:21
-EZR 14:22
-EZR 14:23
-EZR 19:38
-EZR 21:16
-EZR 21:20
-EZR 21:21
-EZR 21:28
-EZR 21:29
-EZR 21:32
-EZR 21:33
-EZR 21:34
-EZR 21:35
-EZR 22:4
-EZR 22:5
-EZR 22:6

-JOB 23:14

-PSA 115:5

-PRO 4:7
-PRO 8:33
-PRO 11:4
-PRO 15:31
-PRO 16:1
-PRO 16:3
-PRO 16:4
-PRO 16:6
-PRO 19:1
-PRO 19:2
-PRO 20:14
-PRO 20:15
-PRO 20:16
-PRO 20:17
-PRO 20:18
-PRO 20:19
-PRO 20:20
-PRO 20:21
-PRO 20:22
-PRO 21:5
-PRO 22:6
-PRO 23:23

-JER 2:1
-JER 7:1
-JER 8:11
-JER 8:12
-JER 10:6
-JER 10:7
-JER 10:8
-JER 10:10
-JER 11:7
-JER 17:1
-JER 17:2
-JER 17:3
-JER 17:4
-JER 26:1
-JER 26:26
-JER 28:45
-JER 28:46
-JER 28:47
-JER 28:48
-JER 30:22
-JER 32:1
-JER 32:2
-JER 32:3
-JER 32:4
-JER 32:5
-JER 32:6
-JER 32:7
-JER 32:8
-JER 32:9
-JER 32:10
-JER 32:11
-JER 32:12
-JER 32:14
-JER 34:1
-JER 34:7
-JER 34:13
-JER 34:17
-JER 34:21
-JER 36:16
-JER 36:17
-JER 36:18
-JER 36:19
-JER 36:20
-JER 37:10
-JER 37:11
-JER 37:15
-JER 37:22
-JER 46:4
-JER 46:5
-JER 46:6
-JER 46:7
-JER 46:8
-JER 46:9
-JER 46:10
-JER 46:11
-JER 46:12
-JER 46:13
-JER 52:2
-JER 52:3
-JER 52:15
-JER 52:28
-JER 52:29
-JER 52:30

-LAM 3:22
-LAM 3:23
-LAM 3:24
-LAM 3:29

-EZK 1:14
-EZK 10:14
-EZK 27:31
-EZK 32:19
-EZK 33:26
-EZK 40:30

#------------- DC books ------------

-TOB 4:8
-TOB 4:9
-TOB 4:10
-TOB 4:11
-TOB 4:12
-TOB 4:13
-TOB 4:14
-TOB 4:15
-TOB 4:16
-TOB 4:17
-TOB 4:18
-TOB 13:8
-TOB 13:9
-TOB 13:10

-ESG 4:6
-ESG 9:5
-ESG 9:30

-SIR 1:5
-SIR 1:7
-SIR 1:21
-SIR 3:19
-SIR 3:25
-SIR 6:1
-SIR 10:21
-SIR 11:15
-SIR 11:16
-SIR 13:14
-SIR 16:15
-SIR 16:16
-SIR 17:5
-SIR 17:9
-SIR 17:16
-SIR 17:18
-SIR 17:21
-SIR 18:3
-SIR 19:18
-SIR 19:19
-SIR 19:21
-SIR 22:7
-SIR 22:8
-SIR 24:18
-SIR 24:24
-SIR 25:12
-SIR 26:19
-SIR 26:20
-SIR 26:21
-SIR 26:22
-SIR 26:23
-SIR 26:24
-SIR 26:25
-SIR 26:26
-SIR 26:27

-4MA 10:4
-4MA 11:7
-4MA 11:8

#---------------------------------------------------------
# Mapping
# LXX = BHS (see org.vrs)
#
# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
# 2ES = EZR and NEH
#
EXO 20:13 = EXO 20:14
EXO 20:14 = EXO 20:15
EXO 20:15 = EXO 20:13
EXO 21:16 = EXO 21:17
EXO 21:17 = EXO 21:16
EXO 36:9 = EXO 39:2
EXO 36:10 = EXO 39:3
EXO 36:11 = EXO 39:4
EXO 36:12 = EXO 39:5
EXO 36:13 = EXO 39:6
EXO 36:14 = EXO 39:7
EXO 36:15 = EXO 39:8
EXO 36:16 = EXO 39:9
EXO 36:17 = EXO 39:10
EXO 36:20 = EXO 39:13
EXO 36:21 = EXO 39:14
EXO 36:22 = EXO 39:15
EXO 36:23 = EXO 39:16
EXO 36:25 = EXO 39:17
EXO 36:26 = EXO 39:18
EXO 36:27 = EXO 39:19
EXO 36:28 = EXO 39:20
EXO 36:29 = EXO 39:21
EXO 36:30 = EXO 39:22
EXO 36:31 = EXO 39:23
EXO 36:32 = EXO 39:24
EXO 36:33 = EXO 39:25
EXO 36:34 = EXO 39:26
EXO 36:35 = EXO 39:27
EXO 36:36 = EXO 39:28
EXO 36:37 = EXO 39:29
EXO 36:38 = EXO 39:30

DEU 5:17 = DEU 5:18
DEU 5:18 = DEU 5:17

1KI 20:1-29 = 1KI 21:1-29 
1KI 21:1-43 = 1KI 20:1-43

#
# Map The Greek versioin of Esther onto the Hebrew version of Esther
# using the Hebrew version as the reference point.
# Normally DC material would not have any entries in this part of the lxx.vrs file
# because the LXX serves as the reference point for DC material.
# Material which is placed in separate books in HEB and LXX (i.e. EST and ESG)
# is however placed here and referenced to the HEB reference points.
ESG 1:1-22 = EST 1:1-22
ESG 2:1-23 = EST 2:1-23
ESG 3:1-15 = EST 3:1-15
ESG 4:1-17 = EST 4:1-17
ESG 5:1-14 = EST 5:1-14
ESG 6:1-14 = EST 6:1-14
ESG 7:1-10 = EST 7:1-10
ESG 8:1-17 = EST 8:1-17
ESG 9:1-32 = EST 9:1-32
ESG 10:1-3 = EST 10:1-3
#
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-7 = PSA 87:0-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-17 = PSA 90:0-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-9 = PSA 116:0-9
PSA 115:0 = PSA 116:10
PSA 115:1-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0-8 = PSA 142:0-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
# PSA 151 -> PS2
PSA 151:0-7 = PS2 1:0-7
#
# Jeremiah according to Rahlfs
# Added by SS 25.3.2003
#
# JER 1-25:13 = JER 1-25:13
# JER 25:14 = part of JER 49:34
# JER 25:20 = part of JER 49:34
# JER 52 = JER 52
#
JER 25:14-19 = JER 49:34-39
JER 25:20 = JER 49:34
JER 26:1-28 = JER 46:1-28
JER 27:1-46 = JER 50:1-46
JER 28:1-64 = JER 51:1-64
JER 29:1-7 = JER 47:1-7
JER 30:1-16 = JER 49:7-22
JER 30:17-22 = JER 49:1-6
JER 30:23-28 = JER 49:28-33
JER 30:29-33 = JER 49:23-27
JER 31:1-44 = JER 48:1-44
# Verses 31:1-13 do not exist
JER 32:13 = JER 25:13
# Verse 32:14 does not exist
JER 32:15-38 = JER 25:15-38
JER 33:1-24 = JER 26:1-24
JER 34:1-22 = JER 27:1-22
JER 35:1-17 = JER 28:1-17
JER 36:1-32 = JER 29:1-32
JER 37:1-24 = JER 30:1-24
JER 38:1-40 = JER 31:1-40
JER 39:1-44 = JER 32:1-44
JER 40:1-13 = JER 33:1-13
JER 41:1-22 = JER 34:1-22
JER 42:1-19 = JER 35:1-19
JER 43:1-32 = JER 36:1-32
JER 44:1-21 = JER 37:1-21
JER 45:1-28 = JER 38:1-28
JER 46:1-3 = JER 39:1-3
# Verses 46:4-13 do not exist
JER 46:14-18 = JER 39:14-18
JER 47:1-16 = JER 40:1-16
JER 48:1-18 = JER 41:1-18
JER 49:1-22 = JER 42:1-22
JER 50:1-13 = JER 43:1-13
JER 51:1-30 = JER 44:1-30
JER 51:31-35 = JER 45:1-5
#
# Map The Greek versioin of Daniel onto the Hebrew version of Daniel
# using the Hebrew version as the reference point.
# Normally DC material would not have any entries in this part of the lxx.vrs file
# because the LXX serves as the reference point for DC material.
# Material which is placed in separate books in HEB and LXX (i.e. DAN and DAG)
# is however placed here and referenced to the HEB reference point.
#
# If you have a text in which the DAG material has been (incorrectly) placed into DAN
# you must create a versification file in which DAN appears as the first book in 
# the following section.  You cannot have both DAN = DAN and DAG = DAN entries
# in a single file.
DAG 1:1-21 = DAN 1:1-21
DAG 2:1-49 = DAN 2:1-49
DAG 3:1-23 = DAN 3:1-23
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 5:1-31 = DAN 5:1-31
DAG 6:1-28 = DAN 6:1-28
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45 
DAG 12:1-13 = DAN 12:1-13
#
# No entries present for S3Y because this book would not normally be present in a text based
# on the LXX versification. The S3Y material would instead start at DAG 3:24.
#
# When Ezra-Nehemiah is one book Ezra 11-23 maps onto Nehemiah
# LXX mapping onto BHS
EZR 11:1-11 = NEH 1:1-11
EZR 12:1-20 = NEH 2:1-20
EZR 13:1-38 = NEH 3:1-38
EZR 14:1-17 = NEH 4:1-17
EZR 15:1-19 = NEH 5:1-19
EZR 16:1-19 = NEH 6:1-19
EZR 17:1-72 = NEH 7:1-72
EZR 18:1-18 = NEH 8:1-18
EZR 19:1-37 = NEH 9:1-37
EZR 20:1-40 = NEH 10:1-40
EZR 21:1-36 = NEH 11:1-36
EZR 22:1-47 = NEH 12:1-47
EZR 23:1-31 = NEH 13:1-31
#---------------------------
# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]
2ES 3:1-36 = EZA 1:1-36
2ES 4:1-52 = EZA 2:1-52
2ES 5:1-56 = EZA 3:1-56
2ES 6:1-59 = EZA 4:1-59
2ES 7:1-35 = EZA 5:1-35
2ES 7:106-140 = EZA 5:36-70
2ES 8:1-63 = EZA 6:1-63
2ES 9:1-47 = EZA 7:1-47
2ES 10:1-60 = EZA 8:1-60
2ES 11:1-46 = EZA 9:1-46
2ES 12:1-51 = EZA 10:1-51
2ES 13:1-58 = EZA 11:1-58
2ES 14:1-48 = EZA 12:1-48
#----------------------------
# Some texts (but not LXX) contain SUS and BEL as chapters 13 and 14 of DAG.
# There should not be any entries for DAG 13 and DAG 14 in the lxx.vrs because these chapters do not 
# exist in the LXX.
# If you have a text which has DAG 13 and 14 you will need to have a .vrs file that includes the following
# two mapping.
#
# Susanna
# DAG 13:1-63 = SUS 1:1-63
# Bel and the Dragon
# DAG 14:1-42 = BEL 1:1-42
#
#----------------------------
# Verse segment information for the Septuagint.
# The verse segment information is preceded by a '#!' so that it will be ignored by versions 
# of Paratext prior to Paratext 7.3 (and thus avoid crashing it with an unexpected format). 
#! *EXO 28:29,-,a 
#! *EXO 35:12,-,a 
#! *JOS 9:2,-,a,b,c,d,e,f 
#! *JOS 15:59,-,a 
#! *JOS 19:47,-,a 
#! *JOS 19:48,-,a 
#! *JOS 21:42,-,a,b,c,d 
#! *JOS 24:31,-,a 
#! *JOS 24:33,-,a,b 
#! *1SA 30:28,-,a 
#! *2SA 5:16,-,a 
#! *1KI 2:35,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o 
#! *1KI 2:46,-,a,b,c,d,e,f,g,h,i,k,l 
#! *1KI 5:14,-,a,b 
#! *1KI 6:1,-,a,b,c,d 
#! *1KI 6:36,-,a 
#! *1KI 8:53,-,a 
#! *1KI 9:9,-,a 
#! *1KI 10:22,-,a,b,c 
#! *1KI 10:26,-,a 
#! *1KI 12:24,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x,y,z 
#! *1KI 16:28,-,a,b,c,d,e,f,g,h 
#! *2KI 1:18,-,a,b,c,d 
#! *2CH 35:19,-,a,b,c,d 
#! *2CH 36:2,-,a,b,c 
#! *2CH 36:4,-,a 
#! *2CH 36:5,-,a,b,c,d 
#! *JOB 2:9,-,a,b,c,d,e 
#! *JOB 19:4,-,a 
#! *JOB 23:15,-,a 
#! *JOB 36:28,-,a,b 
#! *JOB 42:17,-,a,b,c,d,e 
#! *PSA 144:13,-,a 
#! *PRO 3:16,-,a 
#! *PRO 3:22,-,a 
#! *PRO 4:27,-,a,b 
#! *PRO 6:8,-,a,b,c 
#! *PRO 6:11,-,a 
#! *PRO 7:1,-,a 
#! *PRO 8:21,-,a 
#! *PRO 9:10,-,a 
#! *PRO 9:12,-,a,b,c 
#! *PRO 9:18,-,a,b,c,d 
#! *PRO 10:4,-,a 
#! *PRO 12:11,-,a 
#! *PRO 12:13,-,a 
#! *PRO 13:9,-,a 
#! *PRO 13:13,-,a 
#! *PRO 15:18,-,a 
#! *PRO 15:27,-,a 
#! *PRO 15:28,-,a 
#! *PRO 15:29,-,a,b 
#! *PRO 17:6,-,a 
#! *PRO 17:16,-,a 
#! *PRO 18:22,-,a 
#! *PRO 20:9,-,a,b,c 
#! *PRO 22:8,-,a 
#! *PRO 22:9,-,a 
#! *PRO 22:14,-,a 
#! *PRO 24:22,-,a,b,c,d,e 
#! *PRO 25:10,-,a 
#! *PRO 25:20,-,a 
#! *PRO 26:11,-,a 
#! *PRO 27:20,-,a 
#! *PRO 27:21,-,a 
#! *PRO 28:17,-,a 
#! *ESG 1:1,-,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s 
#! *ESG 3:13,-,a,b,c,d,e,f,g 
#! *ESG 4:17,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,w,x,y,z 
#! *ESG 5:1,-,a,b,c,d,e,f 
#! *ESG 5:2,-,a,b 
#! *ESG 8:12,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x 
#! *ESG 10:3,-,a,b,c,d,e,f,g,h,i,k,l 
#! *SIR 1:1,-,a,b,c,d,e,f,g,h 
`,Gae=`# Versification  "Original" 
# Version=1.200
# (not a very good name but I have not heard a better suggestion)
#
# modifications by Studge 26/June/2009
#
# BHS versification for OT, UBS GNT versification for NT
# following the Masoretic order
# OT translations using Masorteic verse structures should map onto this text
# NT versifications maps onto Nestle-Aland
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#---------------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:19 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:20 5:32 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:38 4:17 5:19 6:19 7:72 8:18 9:37 10:40 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:21 10:18 11:7 12:9 13:6 14:7 15:5 16:11 17:15 18:51 19:15 20:10 21:14 22:32 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:13 31:25 32:11 33:22 34:23 35:28 36:13 37:40 38:23 39:14 40:18 41:14 42:12 43:5 44:27 45:18 46:12 47:10 48:15 49:21 50:23 51:21 52:11 53:7 54:9 55:24 56:14 57:12 58:12 59:18 60:14 61:9 62:13 63:12 64:11 65:14 66:20 67:8 68:36 69:37 70:6 71:24 72:20 73:28 74:23 75:11 76:13 77:21 78:72 79:13 80:20 81:17 82:8 83:19 84:13 85:14 86:17 87:7 88:19 89:53 90:17 91:16 92:16 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:29 103:22 104:35 105:45 106:48 107:43 108:14 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:14 141:10 142:8 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:33 4:34 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10
JOL 1:20 2:27 3:5 4:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20
NAM 1:14 2:14 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:24
#---------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#------------------------------------------------
# Deuterocanonical books from the LXX which are in the Catholic tradition
TOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
WIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22
SIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
S3Y 1:67
SUS 1:64
BEL 1:42
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
#---------------------------------------------------
# Additional Orthodox books from the LXX
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55
# This was the wrong definition for 2ES
# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31
# This is the correct definition of 2ES, the "original" book was EZA
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78
MAN 1:15
PS2 1:7
#-------------------------------------------------------
# ODA and PSS are only in the LXX and SYR projects. 
ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#-------------------------------------------------------
# the following codes are for obselete LXX variants only in LXX and not supported in PT 7
JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
SST 1:64
DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
BLT 1:42
#
# No mappings are present for this versification since it represents
# the "standard" versification to which all OT and NT texts are mapped in these files.
# (DC texts follow the LXX)
#
#-------------------------------------------------------
# Apocalypse of Ezra [Studge]
EZA 1:36 2:52 3:56 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:48
#--------------------------------------------------------
# Jubilees and Enoch have both been found in the Hebrew [Studge]
# might be needed if we add Dead Sea Scrolls
# Jubilees (Ethiopian canon)
JUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20
# Enoch (Ethiopian canon)
ENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16
#
# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.
# Map it back to the LXX.  This section allow's texts such as TOB (French) which do
# this to scroll correctly with the LXX.
# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.
# If a text has DAG present, this section must NOT be included in its versification file because
# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.
S3Y 1:1-29 = DAG 3:24-52
S3Y 1:30-31 = DAG 3:52-53
S3Y 1:33 = DAG 3:54
S3Y 1:32 = DAG 3:55
S3Y 1:34-35 = DAG 3:56-57
S3Y 1:37 = DAG 3:58
S3Y 1:36 = DAG 3:59
S3Y 1:38-68 = DAG 3:60-90
`,Vae=`# Versification  "Russian Protestant"
# Version=1.4
#
# This is the versification used by the "Canonical" (Protestant) edition of the Russian Synodal Bible
# Initial version provided by Peter_Kirk@sil.org
# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:
#   Number of vss: ISA 3; REV 12
#   Mappings: LEV 14; 1KI 22; 1CH 12; NEH 7; ISA 3; 2CO 11; REV 13
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#------------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:33 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#-------------------------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#
#------------------------------------------------------------
# Mapping
#-------------------------------------------------------------
# Russian = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 14:55b = LEV 14:56   # cant handle split verses yet
LEV 14:55 = LEV 14:55
LEV 14:55 = LEV 14:56
LEV 14:56 = LEV 14:57
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
JOS 5:16 = JOS 6:1
JOS 6:1-26 = JOS 6:2-27
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
#1KI 22:43b = 1KI 22:44   # cant handle split verses yet
1KI 22:43 = 1KI 22:43
1KI 22:43 = 1KI 22:44
1KI 22:44-53 = 1KI 22:45-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4b = 1CH 12:5   # cant handle split verses yet
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:68 = NEH 7:67b   # cant handle split verses yet
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-19 = JOB 40:6-24
JOB 40:20-27 = JOB 40:25-32
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-1 = PSA 87:0-1
PSA 86:2 = PSA 87:1
PSA 86:2-7 = PSA 87:2-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-1 = PSA 90:0
PSA 89:2-6 = PSA 90:1-5
PSA 89:6 = PSA 90:6
PSA 89:7-17 = PSA 90:7-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-9 = PSA 116:0-9
PSA 115:0 = PSA 116:10
PSA 115:1-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0 = PSA 142:0-1
PSA 141:1-7 = PSA 142:2-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
SNG 1:1-16 = SNG 1:2-17
# ISA 3:19b = ISA 3:20   # cant handle split verses yet
ISA 3:19 = ISA 3:19
ISA 3:19 = ISA 3:20
ISA 3:20-25 = ISA 3:21-26
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
ROM 14:24-26 = ROM 16:25-27
# 2CO 11:32b = 2CO 11:33   # cant handle split verses yet
2CO 11:32 = 2CO 11:32
2CO 11:32 = 2CO 11:33
# REV 13:1a = REV 12:18   # cant handle split verses yet
# REV 13:1b = REV 13:1    # cant handle split verses yet
REV 13:1 = REV 12:18
REV 13:1 = REV 13:1
`,Uae=`# Versification  "Russian Orthodox"
# Version=1.3
#
# This is the versification used by the Orthodox (or "non-canonical") edition of the Russian Synodal Bible
# Initial version provided by Peter_Kirk@sil.org
# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:
#   Number of vss: 2CH 37; PSA 114; ISA 3; REV 12; 2ES (whole book added),
#   Mappings: LEV 14; 1KI 22; 1CH 12; 2CH 37; NEH 7; PSA 114; ISA 3; 2CO 11; REV 13; 2ES 7; 10
#
# modifications by Studge 26/June/2009
# amended by HAB April 2010
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#----------------------------------------------------------
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:36
JDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23 37:12
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31
#--------------
# Notes EST is the Greek Esther which should have been under ESG
EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
#--------------
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17
PSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:8 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7
PRO 1:33 2:22 3:35 4:29 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:26 14:35 15:33 16:33 17:28 18:25 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14
ISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
DAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
HOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:15 2:23
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#----------------------------------------------------
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#---------------------------------------------
TOB 1:22 2:14 3:17 4:21 5:22 6:18 7:17 8:21 9:6 10:13 11:18 12:22 13:18 14:15
JDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25
# ESG added which ought to replace EST
ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3
WIS 1:16 2:24 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:28 13:19 14:31 15:19 16:29 17:20 18:25 19:21
SIR 1:30 2:18 3:31 4:35 5:18 6:37 7:39 8:22 9:23 10:34 11:34 12:18 13:32 14:27 15:20 16:31 17:31 18:33 19:28 20:31 21:31 22:31 23:37 24:37 25:29 26:27 27:33 28:30 29:31 30:27 31:37 32:25 33:33 34:26 35:23 36:29 37:34 38:39 39:42 40:32 41:29 42:26 43:36 44:27 45:31 46:23 47:31 48:28 49:18 50:31 51:38
BAR 1:22 2:35 3:38 4:37 5:9
LJE 1:72
1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24
2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39
3MA 1:25 2:24 3:22 4:16 5:36 6:37 7:20
1ES 1:58 2:31 3:24 4:63 5:70 6:34 7:15 8:92 9:55
# in the Russian tradition the book of 1ES is called 2 Esdras [Studge]
2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:70 8:63 9:47 10:60 11:46 12:51 13:58 14:48 15:63 16:78
# in the Russian tradition the book of 2ES is called 3 Esdras [Studge]
# added Prayer of Manasseh which is appended to 2 Chronicles in RSO
MAN 1:15
#
#----------------------------------------------
# Mapping
#----------------------------------------------
# Russian = BHS (see org.vrs)
#
# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 14:55 = LEV 14:55-56
LEV 14:55 = LEV 14:55
LEV 14:55 = LEV 14:56
LEV 14:56 = LEV 14:57
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
JOS 5:16 = JOS 6:1
JOS 6:1-26 = JOS 6:2-27
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
# 1KI 22:43 = 1KI 22:43-44
1KI 22:43 = 1KI 22:43
1KI 22:43 = 1KI 22:44
1KI 22:44-53 = 1KI 22:45-54
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 12:4 = 1CH 12:4-5
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
# All the 37th chapter maps across verse boundaries!
#-----------------------
# Prayer of Manasseh
2CH 37:1 = MAN 1:1
2CH 37:2 = MAN 1:2
2CH 37:2 = MAN 1:3
2CH 37:2 = MAN 1:4
2CH 37:2 = MAN 1:5
2CH 37:3 = MAN 1:5
2CH 37:4 = MAN 1:6
2CH 37:5 = MAN 1:7
2CH 37:6 = MAN 1:7
2CH 37:6 = MAN 1:8
2CH 37:7 = MAN 1:8
2CH 37:7 = MAN 1:9
2CH 37:8 = MAN 1:9
2CH 37:8 = MAN 1:10
2CH 37:9 = MAN 1:10
2CH 37:10 = MAN 1:10
2CH 37:10 = MAN 1:11
2CH 37:11 = MAN 1:12
2CH 37:11 = MAN 1:13
2CH 37:11 = MAN 1:14
2CH 37:11 = MAN 1:15
2CH 37:12 = MAN 1:15
#--------------------------
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:67-68 = NEH 7:67
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-19 = JOB 40:6-24
JOB 40:20-27 = JOB 40:25-32
# PSA 9 = 9+10
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
PSA 10:0-7 = PSA 11:0-7
PSA 11:0-9 = PSA 12:0-9
PSA 12:0-6 = PSA 13:0-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-5 = PSA 15:0-5
PSA 15:0-11 = PSA 16:0-11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-27 = PSA 44:0-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-14 = PSA 56:0-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-1 = PSA 87:1
PSA 86:2 = PSA 87:1
PSA 86:2-7 = PSA 87:2-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-1 = PSA 90:0-1
PSA 89:2-6 = PSA 90:1-6
PSA 89:7-17 = PSA 90:7-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:0-8 = PSA 116:0-8
PSA 114:8 = PSA 116:9
PSA 115:0-10 = PSA 116:10-19	
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0 = PSA 142:0
PSA 141:1-7 = PSA 142:2-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
PSA 145:0-10 = PSA 146:0-10
# 146 + 147 -> 147
PSA 146:0-11 = PSA 147:0-11
PSA 147:0 = PSA 147:12
PSA 147:1-9 = PSA 147:12-20
#---------------------------
# additional LXX Psalm
PSA 151:1-7 = PS2 1:1-7
#----------------------------
PRO 13:15-26 = PRO 13:14-25
PRO 18:9-25 = PRO 18:8-24
SNG 1:1-16 = SNG 1:2-17
# ISA 3:19 = ISA 3:19-20
ISA 3:19 = ISA 3:19
ISA 3:19 = ISA 3:20
ISA 3:20-25 = ISA 3:16-21
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-23 = HOS 2:3-25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
MIC 5:1 = MIC 4:14
MIC 5:2-15 = MIC 5:1-14
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
ROM 14:24-26 = ROM 16:25-27
# 2CO 11:32 = 2CO 11:32-33
2CO 11:32 = 2CO 11:32
2CO 11:32 = 2CO 11:33
# REV 13:1 = REV 12:18-13:1
REV 13:1 = REV 12:18
REV 13:1 = REV 13:1
#----------------------------
2ES 7:36-70 = 2ES 7:106-140
# 2ES 10:59-60 = 2ES 10:59
2ES 10:59 = 2ES 10:59
2ES 10:60 = 2ES 10:59
#---------------------------------------------------------
# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]
2ES 3:1-36 = EZA 1:1-36
2ES 4:1-52 = EZA 2:1-52
2ES 5:1-56 = EZA 3:1-56
2ES 6:1-59 = EZA 4:1-59
2ES 7:1-35 = EZA 5:1-35
2ES 7:106-140 = EZA 5:36-70
2ES 8:1-63 = EZA 6:1-63
2ES 9:1-47 = EZA 7:1-47
2ES 10:1-60 = EZA 8:1-60
2ES 11:1-46 = EZA 9:1-46
2ES 12:1-51 = EZA 10:1-51
2ES 13:1-58 = EZA 11:1-58
2ES 14:1-48 = EZA 12:1-48
#----------------------------------------------------
# Mapping Daniel to Hebrew Daniel and Greek additions [HAB]
DAN 3:24-90 = DAG 3:24-90
DAN 3:91-100 = DAN 3:24-33
# Susanna
DAN 13:1-64 = SUS 1:1-64
# Bel and the Dragon
DAN 14:1-42 = BEL 1:1-42
#--------------------------------------------------
# Mapping Esther Greek onto LXX Esther Greek
#
# This maps the standard verses generated by Create Book
# to the actual verse numbers and segments found in the LXX
# ESG chapter 1
ESG 1:1 = ESG 1:1a
ESG 1:2 = ESG 1:1b
ESG 1:3 = ESG 1:1c
ESG 1:4 = ESG 1:1d
ESG 1:5 = ESG 1:1e
ESG 1:6 = ESG 1:1f
ESG 1:7 = ESG 1:1g
ESG 1:8 = ESG 1:1h
ESG 1:9 = ESG 1:1i
ESG 1:10 = ESG 1:1k
ESG 1:11 = ESG 1:1l
ESG 1:12 = ESG 1:1m
ESG 1:13 = ESG 1:1n
ESG 1:14 = ESG 1:1o
ESG 1:15 = ESG 1:1p
ESG 1:16 = ESG 1:1q
ESG 1:17 = ESG 1:1r
ESG 1:18 = ESG 1:1s
ESG 1:19-39 = ESG 1:2-22
# ESG chapter 3
ESG 3:14 = ESG 3:13a
ESG 3:15 = ESG 3:13b
ESG 3:16 = ESG 3:13c
ESG 3:17 = ESG 3:13d
ESG 3:18 = ESG 3:13e
ESG 3:19 = ESG 3:13f
ESG 3:20 = ESG 3:13g
ESG 3:21 = ESG 3:14
ESG 3:22 = ESG 3:15
# ESG chapter 4
ESG 4:18 = ESG 4:17a
ESG 4:19 = ESG 4:17b
ESG 4:20 = ESG 4:17c
ESG 4:21 = ESG 4:17c
ESG 4:22 = ESG 4:17d
ESG 4:23 = ESG 4:17d
ESG 4:24 = ESG 4:17e
ESG 4:25 = ESG 4:17f
ESG 4:26 = ESG 4:17g
ESG 4:27 = ESG 4:17h
ESG 4:28 = ESG 4:17i
ESG 4:29 = ESG 4:17k
ESG 4:30 = ESG 4:17k
ESG 4:31 = ESG 4:17k
ESG 4:32 = ESG 4:17l
ESG 4:33 = ESG 4:17m
ESG 4:34 = ESG 4:17n
ESG 4:35 = ESG 4:17n
ESG 4:36 = ESG 4:17o
ESG 4:37 = ESG 4:17o
ESG 4:38 = ESG 4:17p
ESG 4:39 = ESG 4:17q
ESG 4:40 = ESG 4:17r
ESG 4:41 = ESG 4:17s
ESG 4:42 = ESG 4:17t
ESG 4:43 = ESG 4:17u
ESG 4:44 = ESG 4:17w
ESG 4:45 = ESG 4:17x
ESG 4:46 = ESG 4:17y
ESG 4:47 = ESG 4:17z
# ESG chapter 5
ESG 5:2 = ESG 5:1a
ESG 5:3 = ESG 5:1a
ESG 5:4 = ESG 5:1a
ESG 5:5 = ESG 5:1b
ESG 5:6 = ESG 5:1c
ESG 5:7 = ESG 5:1d
ESG 5:8 = ESG 5:1e
ESG 5:9 = ESG 5:1f
ESG 5:10 = ESG 5:1f
ESG 5:11 = ESG 5:2
ESG 5:12 = ESG 5:2
ESG 5:13 = ESG 5:2a
ESG 5:14 = ESG 5:2a
ESG 5:15 = ESG 5:2b
ESG 5:16 = ESG 5:2b
ESG 5:17-28 = ESG 5:3-14
# ESG chapter 8
ESG 8:13 = ESG 8:12a
ESG 8:14 = ESG 8:12b
ESG 8:15 = ESG 8:12c
ESG 8:16 = ESG 8:12d
ESG 8:17 = ESG 8:12e
ESG 8:18 = ESG 8:12f
ESG 8:19 = ESG 8:12g
ESG 8:20 = ESG 8:12h
ESG 8:21 = ESG 8:12i
ESG 8:22 = ESG 8:12k
ESG 8:23 = ESG 8:12l
ESG 8:24 = ESG 8:12m
ESG 8:25 = ESG 8:12n
ESG 8:26 = ESG 8:12o
ESG 8:27 = ESG 8:12p
ESG 8:28 = ESG 8:12q
ESG 8:29 = ESG 8:12r
ESG 8:30 = ESG 8:12s
ESG 8:31 = ESG 8:12t
ESG 8:32 = ESG 8:12u
ESG 8:33 = ESG 8:12x
ESG 8:34 = ESG 8:12y
ESG 8:35 = ESG 8:12y
ESG 8:36 = ESG 8:12y
ESG 8:37-41 = ESG 8:13-17
# ESG chapter 10
ESG 10:4 = ESG 10:3a
ESG 10:5 = ESG 10:3b
ESG 10:6 = ESG 10:3c
ESG 10:7 = ESG 10:3d
ESG 10:8 = ESG 10:3e
ESG 10:9 = ESG 10:3f
ESG 10:10 = ESG 10:3g
ESG 10:11 = ESG 10:3h
ESG 10:12 = ESG 10:3i
ESG 10:13 = ESG 10:3k
ESG 10:14 = ESG 10:3l
`,Kae=`# Versification  "Vulgate"
# Version=1.5
# 
# modifications by Studge 26/June/2009
# this is for Bibles which follow the versification of the Vulgate, mainly Catholic Bibles
# therefore this includes deuterocanonical books from Vulgate and Latin manuscripts
# Vulgate projects in Paratext are VUL83 (Stuttgart text) and NVL98 (Nova Vulgata) [Studge]
#
# mapping for XXA -> PSA has been deleted  [requested by RdB - Barb]
# XXB has been moved to LAO [Barb] Jan 2011
#
# No mapping done for TOB, JDT and SIR, since they seem to follow another 'vorlage' than LXX
# The versification of 2ES present here should become THE standard/original versification of this book! (Vulgate is 'the original' text of this book)
#
# List of books, chapters, verses
# One line per book.
# One entry for each chapter.
# Verse number is the maximum verse number for that chapter.
# See the lines containing ='s below for verse mappings.
#
#-----------------------------------------------------------
# Old Testament
GEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:32 50:25
EXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:36
LEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:45 27:34
NUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:34 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:30 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13
DEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12
JOS 1:18 2:24 3:17 4:25 5:16 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:43 22:34 23:16 24:33
JDG 1:36 2:23 3:31 4:24 5:32 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:24
RUT 1:22 2:23 3:18 4:22
1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13
2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25
1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54
2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30
1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:46 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:7 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30
2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23
EZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44
# EZR is for the Vulgate book called 1 Esdras
NEH 1:11 2:20 3:31 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:46 13:31
# NEH is for the Vulgate book called 2 Esdras
#------------------------------------
# In the Vulgate projects VUL83 Esther is the Greek Esther not Hebrew Esther, this definition is for Greek Esther. The book has been put under EST instead of ESG [Studge]
# in VUL83 the definition of EST is
#EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:13 11:12 12:6 13:18 14:19 15:19 16:24
# in NVL98 Nova Vulgata the definition of EST is
EST 1:32 2:23 3:15 4:47 5:28 6:14 7:10 8:41 9:32 10:13 
# Note that chapter 3 v 15 is 15a-i
# Note that chapter 4 v 47 is 17aa-kk
#-----------------------------------
JOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:23 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:28 41:25 42:16
PSA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6
PRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31
ECC 1:18 2:26 3:22 4:17 5:19 6:11 7:30 8:17 9:18 10:20 11:10 12:14
SNG 1:16 2:17 3:11 4:16 5:17 6:12 7:13 8:14
ISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24
JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:20 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34
LAM 1:22 2:22 3:66 4:22 5:22
EZK 1:28 2:9 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35
#-------------------
# Daniel in NVL98 has 14 chapters and is Greek LXX Daniel
# the Additions to Daniel are repeated in S3Y, SUS and BEL in NVL98
# in NVL98 and VUL83, DAN is used for Greek Daniel and it should be under DAG
DAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:65 14:41
#
#--------------------
HOS 1:11 2:24 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10
JOL 1:20 2:32 3:21
AMO 1:15 2:16 3:15 4:13 5:27 6:15 7:17 8:14 9:15
OBA 1:21
JON 1:16 2:11 3:10 4:11
MIC 1:16 2:13 3:12 4:13 5:14 6:16 7:20
NAM 1:15 2:13 3:19
HAB 1:17 2:20 3:19
ZEP 1:18 2:15 3:20
HAG 1:14 2:24
ZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21
MAL 1:14 2:17 3:18 4:6
#--------------------------------------
# New Testament books
MAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:26 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20
MRK 1:45 2:28 3:35 4:40 5:43 6:56 7:37 8:39 9:49 10:52 11:33 12:44 13:37 14:72 15:47 16:20
LUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53
JHN 1:51 2:25 3:36 4:54 5:47 6:72 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25
ACT 1:26 2:47 3:26 4:37 5:42 6:15 7:59 8:40 9:43 10:48 11:30 12:25 13:52 14:27 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31
ROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27
1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24
2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13
GAL 1:24 2:21 3:29 4:31 5:26 6:18
EPH 1:23 2:22 3:21 4:32 5:33 6:24
PHP 1:30 2:30 3:21 4:23
COL 1:29 2:23 3:25 4:18
1TH 1:10 2:20 3:13 4:18 5:28
2TH 1:12 2:17 3:18
1TI 1:20 2:15 3:16 4:16 5:25 6:21
2TI 1:18 2:26 3:17 4:22
TIT 1:16 2:15 3:15
PHM 1:25
HEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25
JAS 1:27 2:26 3:18 4:17 5:20
1PE 1:25 2:25 3:22 4:19 5:14
2PE 1:21 2:22 3:18
1JN 1:10 2:29 3:24 4:21 5:21
2JN 1:13
3JN 1:15
JUD 1:25
REV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21
#-------------------------------------------------
# Deuterocanonical books in the Catholic tradition
TOB 1:25 2:23 3:25 4:23 5:28 6:22 7:20 8:24 9:12 10:13 11:21 12:22 13:23 14:17
JDT 1:12 2:18 3:15 4:17 5:29 6:21 7:25 8:34 9:19 10:20 11:21 12:20 13:31 14:18 15:15 16:31
#---------
# ESG for Esther Greek has been put under EST in NVL98, a blank ESG was included in VUL83
# this definition for ESG is for the full Esther Greek which is in the Vulgate NVL98 [Studge]
ESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13
#---------
WIS 1:16 2:25 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:20
SIR 1:40 2:23 3:34 4:36 5:18 6:37 7:40 8:22 9:25 10:34 11:36 12:19 13:32 14:27 15:22 16:31 17:31 18:33 19:28 20:33 21:31 22:33 23:38 24:47 25:36 26:28 27:33 28:30 29:35 30:27 31:42 32:28 33:33 34:31 35:26 36:28 37:34 38:39 39:41 40:32 41:28 42:26 43:37 44:27 45:31 46:23 47:31 48:28 49:19 50:31 51:38 52:13
BAR 1:22 2:35 3:38 4:37 5:9 6:72
LJE 1:72
# NB Letter of Jeremiah is chapter 6 of Baruch in the Vulgate tradition [Studge]
# the 3 additions to Daniel are part of Daniel in the Vulgate tradition [Studge]
S3Y 1:67
SUS 1:64
BEL 1:42
1MA 1:67 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:54 13:54 14:49 15:41 16:24
2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:46 13:26 14:46 15:40
#--------------------------------------------------
# Note that 3MA and 4MA are in the LXX tradition but not in the Vulgate, and not in VUL83 Latin critical text, but maybe in Interconfessional editions [Studge]
3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23
4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24
#----------------------------------------------------
# 1ES, 2ES, MAN and PS2 are in the Vulgate Apocrypha, but not in modern Catholic Bibles, but maybe in Interconfessional editions [Studge]
1ES 1:58 2:31 3:24 4:63 5:73 6:34 7:15 8:97 9:56
# 1ES is for the Vulgate book called 3 Esdras
2ES 1:40 2:48 3:36 4:52 5:55 6:59 7:139 8:63 9:47 10:60 11:46 12:51 13:58 14:47 15:63 16:78
# 2ES is for the Vulgate book called 4 Esdras
MAN 1:15
PS2 1:7
#-----------------------------------------------------
# ODA and PSS are only in LXX and SYR and not needed in any Vulgate manuscripts or any Catholic Bibles, I am not convinced they are needed in this versification file [Studge]
#ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46
#PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12
#------------------------------------------------------
# Variant LXX books, only used in LXX, now obselete in Paratext 7, never part of Vulgate
# if these codes were used in any Vulgate versification projects they used the wrong code, and so the definitions are not relevant [Studge]
# JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33
# JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25
# TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15
# SST 1:64
# DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13
# BLT 1:42
#------------------------------------------------------
# add in versifications for 4,5 & 6 Ezra which are in Latin manuscripts [Studge]
5EZ 1:40 2:48 
EZA 1:36 2:52 3:55 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:47 
6EZ 1:63 12:78
#------------------------------------------------------
# XXA and XXB books in project VUL83, left for backward compatability
# XXA was used for a variant form of Psalms, but should be in a Latin Variant project [Studge]
# XXA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6
# XXB was used for the Letter to the Laodiceans, but should be under LAO [Studge]
# XXB 1:20
#----------------------------------------------------------
# Daniel Greek is currently under DAN [Studge]
DAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42
# Letter to the Laodiceans in the VUL83 and some mediaeval translations of the Vulgate e.g. John Wycliffe's English Bible, appeared after Revelation [Studge]
LAO 1:20
#----------------------------------------------------------
# Mapping
#----------------------------------------------------------
# Vulgate = BHS (see org.vrs)
#
# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)
#
GEN 31:55 = GEN 32:1
GEN 32:1-32 = GEN 32:2-33
# missing <- GEN 49:32
GEN 49:31 = GEN 49:31
GEN 49:31 = GEN 49:32
GEN 49:32 = GEN 49:33
# GEN 50:22 <- GEN 50:22-23
GEN 50:22 = GEN 50:22
GEN 50:22 = GEN 50:23
GEN 50:23-25 = GEN 50:24-26
EXO 8:1-4 = EXO 7:26-29
EXO 8:5-32 = EXO 8:1-28
EXO 22:1 = EXO 21:37
EXO 22:2-31 = EXO 22:1-30
# EXO 40:13 <- EXO 40:13-15
EXO 40:13 = EXO 40:13
EXO 40:13 = EXO 40:14
EXO 40:13 = EXO 40:15
EXO 40:14-36 = EXO 40:16-38
LEV 6:1-7 = LEV 5:20-26
LEV 6:8-30 = LEV 6:1-23
# LEV 26:45 <- LEV 26:45-46
LEV 26:45 = LEV 26:45
LEV 26:45 = LEV 26:46
# NUM 11:34 <- NUM 11:34-35
NUM 11:34 = NUM 11:34
NUM 11:34 = NUM 11:35
NUM 13:1 = NUM 12:16
NUM 13:2-34 = NUM 13:1-33
NUM 16:36-50 = NUM 17:1-15
NUM 17:1-13 = NUM 17:16-28
# NUM 20:28-29 -> NUM 20:28
NUM 20:28 = NUM 20:28
NUM 20:29 = NUM 20:28
NUM 20:30 = NUM 20:29
# NUM 26:1 <- NUM 25:19--26:1
NUM 26:1 = NUM 25:19
NUM 26:1 = NUM 26:1
DEU 12:32 = DEU 13:1
DEU 13:1-18 = DEU 13:2-19
DEU 22:30 = DEU 23:1
DEU 23:1-25 = DEU 23:2-26
DEU 29:1 = DEU 28:69
DEU 29:2-29 = DEU 29:1-28
# JOS 4:23-24 -> JOS 4:23
JOS 4:23 = JOS 4:23
JOS 4:24 = JOS 4:23
JOS 4:25 = JOS 4:24
# JOS 5:14-15 -> JOS 5:14
JOS 5:14 = JOS 5:14
JOS 5:15 = JOS 5:14
JOS 5:16 = JOS 5:15
# JOS 21:36 (missing) <- JOS 21:36-37
JOS 21:36 = JOS 21:36
JOS 21:36 = JOS 21:37
# JOS 21:37 <- JOS 21:38-39
JOS 21:37 = JOS 21:38
JOS 21:37 = JOS 21:39
JOS 21:38-43 = JOS 21:40-45
# JDG 5:31-32 -> JDG 5:31
JDG 5:31 = JDG 5:31
JDG 5:32 = JDG 5:31
# JDG 21:24 <- JDG 21:24-25
JDG 21:24 = JDG 21:24
JDG 21:24 = JDG 21:25
1SA 20:43 = 1SA 21:1
1SA 21:1-15 = 1SA 21:2-16
2SA 18:33 = 2SA 19:1
2SA 19:1-43 = 2SA 19:2-44
1KI 4:21-34 = 1KI 5:1-14
1KI 5:1-18 = 1KI 5:15-32
2KI 11:21 = 2KI 12:1
2KI 12:1-21 = 2KI 12:2-22
1CH 6:1-15 = 1CH 5:27-41
1CH 6:16-81 = 1CH 6:1-66
# 1CH 11:46 <- 1CH 11:46-47
1CH 11:46 = 1CH 11:46
1CH 11:46 = 1CH 11:47
# 1CH 12:4 <- 1CH 12:4-5
1CH 12:4 = 1CH 12:4
1CH 12:4 = 1CH 12:5
1CH 12:5-40 = 1CH 12:6-41
# 1CH 20:7 <- 1CH 20:7-8
1CH 20:7 = 1CH 20:7
1CH 20:7 = 1CH 20:8
2CH 2:1 = 2CH 1:18
2CH 2:2-18 = 2CH 2:1-17
2CH 14:1 = 2CH 13:23
2CH 14:2-15 = 2CH 14:1-14
# NEH 3:30 <- NEH 3:30-31
NEH 3:30 = NEH 3:30
NEH 3:30 = NEH 3:31
NEH 3:31 = NEH 3:32
NEH 4:1-6 = NEH 3:33-38
NEH 4:7-23 = NEH 4:1-17
# NEH 7:68 (missing) -> NEH 7:67b
NEH 7:67 = NEH 7:67
NEH 7:68 = NEH 7:67
NEH 7:69-73 = NEH 7:68-72
NEH 9:38 = NEH 10:1
NEH 10:1-39 = NEH 10:2-40
# NEH 12:33 <- NEH 12:33-34
NEH 12:33 = NEH 12:33
NEH 12:33 = NEH 12:34
NEH 12:34-46 = NEH 12:35-47
# mapping EST onto ESG, it should map ESG onto EST
#EST 10:4-13 = ESG 1:4-13
#EST 11:1-12 = ESG 2:1-12
#EST 12:1-6 = ESG 3:1-6
#EST 13:1-18 = ESG 4:1-18
#EST 14:1-19 = ESG 5:1-19
#EST 15:1-16 = ESG 6:1-16
#EST 16:1-24 = ESG 7:1-24
# JOB 16:4-5 -> JOB 16:4
JOB 16:4 = JOB 16:4
JOB 16:5 = JOB 16:4
JOB 16:6-23 = JOB 16:5-22
JOB 39:31-35 = JOB 40:1-5
JOB 40:1-27 = JOB 40:6-32
JOB 40:28 = JOB 41:1
JOB 41:1-25 = JOB 41:2-26
# JOB 42:16 <- JOB 42:16-17
JOB 42:16 = JOB 42:16
JOB 42:16 = JOB 42:17
# In PSA, the equivalent mappings (in chs. 1-9; 147-150) are given too, because XXA is mapped to PSA as well !!!
# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)
PSA 1:0-6 = PSA 1:0-6
PSA 2:0-11 = PSA 2:0-11
# PSA 2:12-13 -> PSA 2:12
PSA 2:12 = PSA 2:12
PSA 2:13 = PSA 2:12
PSA 3:0-9 = PSA 3:0-9
PSA 4:0-8 = PSA 4:0-8
# PSA 4:9-10 -> PSA 4:9
PSA 4:9 = PSA 4:9
PSA 4:10 = PSA 4:9
PSA 5:0-13 = PSA 5:0-13
PSA 6:0-11 = PSA 6:0-11
PSA 7:0-18 = PSA 7:0-18
PSA 8:0-10 = PSA 8:0-10
PSA 9:0-21 = PSA 9:0-21
PSA 9:22 = PSA 10:0
PSA 9:22-39 = PSA 10:1-18
# PSA 10:1-2 -> PSA 11:1
PSA 10:0-1 = PSA 11:0-1
PSA 10:2 = PSA 11:1
PSA 10:3-8 = PSA 11:2-7
PSA 11:0-9 = PSA 12:0-9
# PSA 12:1 <- PSA 13:1-2
PSA 12:0-1 = PSA 13:0-1
PSA 12:1 = PSA 13:2
# PSA 12:2-3 -> PSA 13:3
PSA 12:2 = PSA 13:3
PSA 12:3 = PSA 13:3
PSA 12:4-6 = PSA 13:4-6
PSA 13:0-7 = PSA 14:0-7
PSA 14:0-1 = PSA 15:0-1
# PSA 14:3a = PSA 15:2b
PSA 14:2 = PSA 15:2
PSA 14:3 = PSA 15:2
PSA 14:3 = PSA 15:3
PSA 14:4-5 = PSA 15:4-5
PSA 15:0-9 = PSA 16:0-9
# PSA 15:10 <- PSA 16:10-11
PSA 15:10 = PSA 16:10
PSA 15:10 = PSA 16:11
PSA 16:0-15 = PSA 17:0-15
PSA 17:0-51 = PSA 18:0-51
PSA 18:0-15 = PSA 19:0-15
PSA 19:0-10 = PSA 20:0-10
PSA 20:0-14 = PSA 21:0-14
PSA 21:0-32 = PSA 22:0-32
PSA 22:0-6 = PSA 23:0-6
PSA 23:0-10 = PSA 24:0-10
PSA 24:0-22 = PSA 25:0-22
PSA 25:0-12 = PSA 26:0-12
PSA 26:0-14 = PSA 27:0-14
PSA 27:0-9 = PSA 28:0-9
PSA 28:0-11 = PSA 29:0-11
PSA 29:0-13 = PSA 30:0-13
PSA 30:0-25 = PSA 31:0-25
PSA 31:0-11 = PSA 32:0-11
PSA 32:0-22 = PSA 33:0-22
PSA 33:0-23 = PSA 34:0-23
PSA 34:0-28 = PSA 35:0-28
PSA 35:0-13 = PSA 36:0-13
PSA 36:0-40 = PSA 37:0-40
PSA 37:0-23 = PSA 38:0-23
PSA 38:0-14 = PSA 39:0-14
PSA 39:0-18 = PSA 40:0-18
PSA 40:0-14 = PSA 41:0-14
PSA 41:0-12 = PSA 42:0-12
PSA 42:0-5 = PSA 43:0-5
PSA 43:0-21 = PSA 44:0-21
# PSA 43:22 <- PSA 44:22-23
PSA 43:22 = PSA 44:22
PSA 43:22 = PSA 44:23
PSA 43:23-26 = PSA 44:24-27
PSA 44:0-18 = PSA 45:0-18
PSA 45:0-12 = PSA 46:0-12
PSA 46:0-10 = PSA 47:0-10
PSA 47:0-15 = PSA 48:0-15
PSA 48:0-21 = PSA 49:0-21
PSA 49:0-23 = PSA 50:0-23
PSA 50:0-21 = PSA 51:0-21
PSA 51:0-11 = PSA 52:0-11
PSA 52:0-7 = PSA 53:0-7
PSA 53:0-9 = PSA 54:0-9
PSA 54:0-24 = PSA 55:0-24
PSA 55:0-10 = PSA 56:0-10
# PSA 55:11 <- PSA 56:11-12
PSA 55:11 = PSA 56:11
PSA 55:11 = PSA 56:12
PSA 55:12-13 = PSA 56:13-14
PSA 56:0-12 = PSA 57:0-12
PSA 57:0-12 = PSA 58:0-12
PSA 58:0-18 = PSA 59:0-18
PSA 59:0-14 = PSA 60:0-14
PSA 60:0-9 = PSA 61:0-9
PSA 61:0-13 = PSA 62:0-13
PSA 62:0-12 = PSA 63:0-12
PSA 63:0-11 = PSA 64:0-11
PSA 64:0-14 = PSA 65:0-14
PSA 65:0-20 = PSA 66:0-20
PSA 66:0-8 = PSA 67:0-8
PSA 67:0-36 = PSA 68:0-36
PSA 68:0-37 = PSA 69:0-37
PSA 69:0-6 = PSA 70:0-6
PSA 70:0-24 = PSA 71:0-24
PSA 71:0-20 = PSA 72:0-20
PSA 72:0-28 = PSA 73:0-28
PSA 73:0-23 = PSA 74:0-23
PSA 74:0-11 = PSA 75:0-11
PSA 75:0-13 = PSA 76:0-13
PSA 76:0-21 = PSA 77:0-21
PSA 77:0-72 = PSA 78:0-72
PSA 78:0-13 = PSA 79:0-13
PSA 79:0-20 = PSA 80:0-20
PSA 80:0-17 = PSA 81:0-17
PSA 81:0-8 = PSA 82:0-8
PSA 82:0-19 = PSA 83:0-19
PSA 83:0-13 = PSA 84:0-13
PSA 84:0-14 = PSA 85:0-14
PSA 85:0-17 = PSA 86:0-17
PSA 86:0-7 = PSA 87:0-7
PSA 87:0-19 = PSA 88:0-19
PSA 88:0-53 = PSA 89:0-53
PSA 89:0-17 = PSA 90:0-17
PSA 90:0-16 = PSA 91:0-16
PSA 91:0-16 = PSA 92:0-16
PSA 92:0-5 = PSA 93:0-5
PSA 93:0-23 = PSA 94:0-23
PSA 94:0-11 = PSA 95:0-11
PSA 95:0-13 = PSA 96:0-13
PSA 96:0-12 = PSA 97:0-12
PSA 97:0-9 = PSA 98:0-9
PSA 98:0-9 = PSA 99:0-9
PSA 99:0-5 = PSA 100:0-5
PSA 100:0-8 = PSA 101:0-8
PSA 101:0-29 = PSA 102:0-29
PSA 102:0-22 = PSA 103:0-22
PSA 103:0-35 = PSA 104:0-35
PSA 104:0-45 = PSA 105:0-45
PSA 105:0-48 = PSA 106:0-48
PSA 106:0-43 = PSA 107:0-43
PSA 107:0-14 = PSA 108:0-14
PSA 108:0-31 = PSA 109:0-31
PSA 109:0-7 = PSA 110:0-7
PSA 110:0-10 = PSA 111:0-10
PSA 111:0-10 = PSA 112:0-10
PSA 112:0-9 = PSA 113:0-9
PSA 113:0-8 = PSA 114:0-8
PSA 113:9 = PSA 115:0
PSA 113:9-26 = PSA 115:1-18
PSA 114:1-9 = PSA 116:1-9
# What does 115:1-9 map to?  this seems very wrong
PSA 115:10-19 = PSA 116:10-19
PSA 116:0-2 = PSA 117:0-2
PSA 117:0-29 = PSA 118:0-29
PSA 118:0-176 = PSA 119:0-176
PSA 119:0-7 = PSA 120:0-7
PSA 120:0-8 = PSA 121:0-8
PSA 121:0-9 = PSA 122:0-9
PSA 122:0-4 = PSA 123:0-4
PSA 123:0-8 = PSA 124:0-8
PSA 124:0-5 = PSA 125:0-5
PSA 125:0-6 = PSA 126:0-6
PSA 126:0-5 = PSA 127:0-5
PSA 127:0-6 = PSA 128:0-6
PSA 128:0-8 = PSA 129:0-8
PSA 129:0-8 = PSA 130:0-8
PSA 130:0-3 = PSA 131:0-3
PSA 131:0-18 = PSA 132:0-18
PSA 132:0-3 = PSA 133:0-3
PSA 133:0-3 = PSA 134:0-3
PSA 134:0-21 = PSA 135:0-21
PSA 135:0-26 = PSA 136:0-26
PSA 136:0-9 = PSA 137:0-9
PSA 137:0-8 = PSA 138:0-8
PSA 138:0-24 = PSA 139:0-24
PSA 139:0-14 = PSA 140:0-14
PSA 140:0-10 = PSA 141:0-10
PSA 141:0-8 = PSA 142:0-8
PSA 142:0-12 = PSA 143:0-12
PSA 143:0-15 = PSA 144:0-15
PSA 144:0-21 = PSA 145:0-21
# PSA 145:2a = PSA 146:1b
PSA 145:0-1 = PSA 146:0-1
PSA 145:2 = PSA 146:1
PSA 145:2 = PSA 146:2
PSA 145:3-10 = PSA 146:3-10
PSA 146:0-11 = PSA 147:0-11
PSA 147:12-20 = PSA 147:12-20
PSA 148:0-14 = PSA 148:0-14
PSA 149:0-9 = PSA 149:0-9
PSA 150:0-6 = PSA 150:0-6
ECC 7:1 = ECC 6:12
ECC 7:2-30 = ECC 7:1-29
SNG 1:1 = SNG 1:1
SNG 1:1-16 = SNG 1:2-17
SNG 5:17 = SNG 6:1
SNG 6:1-11 = SNG 6:2-12
# SNG 6:12 -> SNG 7:1a
# SNG 7:1 <- SNG 7:1b-2
# or:  SNG 6:12--7:1 = SNG 7:1-2
SNG 6:12 = SNG 7:1
SNG 7:1 = SNG 7:1
SNG 7:1 = SNG 7:2
SNG 7:2-13 = SNG 7:3-14
# ISA 8:22d = ISA 8:23a
ISA 8:22 = ISA 8:22
ISA 8:22 = ISA 8:23
ISA 9:1 = ISA 8:23
ISA 9:2-21 = ISA 9:1-20
# ISA 9:20d = ISA 9:20ab
ISA 9:20 = ISA 9:19
ISA 9:20 = ISA 9:20
ISA 9:21 = ISA 9:20
# ISA 64:1 -> ISA 63:19cd
ISA 63:19 = ISA 63:19
ISA 64:1 = ISA 63:19
ISA 64:2-12 = ISA 64:1-11
JER 9:1 = JER 8:23
JER 9:2-26 = JER 9:1-25
# JER 37:4 <- JER 37:4-5
JER 37:4 = JER 37:4
JER 37:4 = JER 37:5
JER 37:5-20 = JER 37:6-21
# EZK 2:9 <- EZK 2:9-10
EZK 2:9 = EZK 2:9
EZK 2:9 = EZK 2:10
EZK 20:45-49 = EZK 21:1-5
EZK 21:1-32 = EZK 21:6-37
DAN 3:24-90 = S3Y 1:1-67
DAN 3:91-100 = DAN 3:24-33
DAN 5:31 = DAN 6:1
DAN 6:1-28 = DAN 6:2-29
DAN 13:1-64 = SUS 1:1-64
DAN 13:65 = BEL 1:1
DAN 14:1 = BEL 1:1
DAN 14:2-41 = BEL 1:2-41
HOS 1:10-11 = HOS 2:1-2
HOS 2:1-22 = HOS 2:3-24
# HOS 2:23-24 -> HOS 2:25
HOS 2:23 = HOS 2:25
HOS 2:24 = HOS 2:25
HOS 11:12 = HOS 12:1
HOS 12:1-14 = HOS 12:2-15
JOL 2:28-32 = JOL 3:1-5
JOL 3:1-21 = JOL 4:1-21
# AMO 6:10-11 -> AMO 6:10
AMO 6:10 = AMO 6:10
AMO 6:11 = AMO 6:10
AMO 6:12-15 = AMO 6:11-14
MIC 5:1 = MIC 4:14
MIC 5:2-10 = MIC 5:1-9
# MIC 5:11 <- MIC 5:10-11
MIC 5:11 = MIC 5:10
MIC 5:11 = MIC 5:11
# MIC 5:12-14 = MIC 5:12-14
JON 1:17 = JON 2:1
JON 2:1-10 = JON 2:2-11
NAM 1:15 = NAM 2:1
NAM 2:1-13 = NAM 2:2-14
HAG 2:1 = HAG 1:15
HAG 2:2-24 = HAG 2:1-23
ZEC 1:18-21 = ZEC 2:1-4
ZEC 2:1-13 = ZEC 2:5-17
MAL 4:1-6 = MAL 3:19-24
#
#
# Mapping
# Vulgate = UBS GNT
#
#
# MAT 17:14 <- MAT 17:14-15
MAT 17:15-26 = MAT 17:16-27
# MRK 4:40 <- MRK 4:40-41
MRK 4:40 = MRK 4:40
MRK 4:40 = MRK 4:41
MRK 8:39 = MRK 9:1
MRK 9:1-49 = MRK 9:2-50
# JHN 6:51-52 -> JHN 6:51
JHN 6:51 = JHN 6:51
JHN 6:52 = JHN 6:51
JHN 6:53-72 = JHN 6:52-71
# ACT 7:55 <- ACT 7:55-56
ACT 7:55 = ACT 7:55
ACT 7:55 = ACT 7:56
ACT 7:56-59 = ACT 7:57-60
# ACT 14:6 <- ACT 14:6-7
ACT 14:6 = ACT 14:6
ACT 14:6 = ACT 14:7
ACT 14:7-27 = ACT 14:8-28
#
#
#
# Mapping
# Vulgate = +/-LXX
#
#
# WIS 2:24-25 -> WIS 2:24
WIS 2:24 = WIS 2:24
WIS 2:25 = WIS 2:24
# WIS 5:13-14 -> WIS 5:13
WIS 5:13 = WIS 5:13
WIS 5:14 = WIS 5:13
WIS 5:15-24 = WIS 5:14-23
# WIS 6:1 -> missing
WIS 6:2-21 = WIS 6:1-20
WIS 6:22 = WIS 6:21
WIS 6:23 = WIS 6:21
# WIS 6:23 -> missing
WIS 6:24-27 = WIS 6:22-25
# WIS 9:18-19 -> WIS 9:18
WIS 9:18 = WIS 9:18
WIS 9:19 = WIS 9:18
# WIS 11:5-6 -> WIS 11:5
WIS 11:5 = WIS 11:5
WIS 11:6 = WIS 11:5
WIS 11:7-27 = WIS 11:6-26
# WIS 19:12 <- WIS 19:12-13
WIS 19:12 = WIS 19:12
WIS 19:12 = WIS 19:13
WIS 19:13-19 = WIS 19:14-20
# WIS 19:20 <- WIS 19:21-22
WIS 19:20 = WIS 19:21
WIS 19:20 = WIS 19:22
BAR 6:1-72 = LJE 1:1-72
# 1MA 1:4-5 -> 1MA 1:4
1MA 1:4 = 1MA 1:4
1MA 1:5 = 1MA 1:4
1MA 1:6-31 = 1MA 1:5-30
# 1MA 1:31-32 -> 1MA 1:30
1MA 1:31 = 1MA 1:30
1MA 1:32 = 1MA 1:30
1MA 1:33-35 = 1MA 1:31-33
# 1MA 1:36ab <- 1MA 1:34
# 1MA 1:36bc = 1MA 1:35a
# 1MA 1:37 -> 1MA 1:35b
1MA 1:36 = 1MA 1:34
1MA 1:36 = 1MA 1:35
1MA 1:37 = 1MA 1:35
1MA 1:38-46 = 1MA 1:36-44
# 1MA 1:47-48 -> 1MA 1:45
1MA 1:47 = 1MA 1:45
1MA 1:48 = 1MA 1:45
1MA 1:49-67 = 1MA 1:46-64
# 1MA 12:53-54 -> 1MA 12:53
1MA 12:53 = 1MA 12:53
1MA 12:54 = 1MA 12:53
# 1MA 13:52-53 -> 1MA 13:52
1MA 13:52 = 1MA 13:52
1MA 13:53 = 1MA 13:52
1MA 13:54 = 1MA 13:53
# 2MA 2:18-19 -> 2MA 2:18
2MA 2:18 = 2MA 2:18
2MA 2:19 = 2MA 2:18
2MA 2:20-33 = 2MA 2:19-32
# 2MA 12:45-46 -> 2MA 12:45
2MA 12:45 = 2MA 12:45
2MA 12:46 = 2MA 12:45
# 2MA 15:36-37 -> 2MA 15:36
2MA 15:36 = 2MA 15:36
2MA 15:37 = 2MA 15:36
2MA 15:38-40 = 2MA 15:37-39
#
#
# For 1ES the mapping info is taken from the Bible Works program
# mapping Vulgate onto LXX
#
1ES 1:4 = 1ES 1:3
1ES 1:4 = 1ES 1:4
1ES 1:5 = 1ES 1:4
1ES 1:5 = 1ES 1:5
1ES 1:10 = 1ES 1:10
1ES 1:10 = 1ES 1:11
1ES 1:11 = 1ES 1:12
1ES 1:12 = 1ES 1:13
1ES 1:13 = 1ES 1:13
1ES 1:13 = 1ES 1:14
1ES 1:14 = 1ES 1:14
1ES 1:15 = 1ES 1:15
1ES 1:16 = 1ES 1:15
1ES 1:17 = 1ES 1:16
1ES 1:18 = 1ES 1:16
1ES 1:19-50 = 1ES 1:17-48
1ES 1:51 = 1ES 1:49
1ES 1:52 = 1ES 1:49
1ES 1:53-58 = 1ES 1:50-55
1ES 2:1 = 1ES 2:1
1ES 2:2 = 1ES 2:1
1ES 2:3 = 1ES 2:2
1ES 2:4 = 1ES 2:2
1ES 2:5 = 1ES 2:3
1ES 2:6 = 1ES 2:4
1ES 2:7 = 1ES 2:4
1ES 2:8 = 1ES 2:5
1ES 2:9 = 1ES 2:6
1ES 2:10 = 1ES 2:7
1ES 2:11 = 1ES 2:8
1ES 2:12 = 1ES 2:8
1ES 2:13 = 1ES 2:9
1ES 2:13 = 1ES 2:10
1ES 2:14 = 1ES 2:11
1ES 2:15 = 1ES 2:11
1ES 2:16-19 = 1ES 2:12-15
1ES 2:20 = 1ES 2:16
1ES 2:21 = 1ES 2:16
1ES 2:22 = 1ES 2:17
1ES 2:23 = 1ES 2:17
1ES 2:24 = 1ES 2:18
1ES 2:25 = 1ES 2:19
1ES 2:26 = 1ES 2:20
1ES 2:26 = 1ES 2:21
1ES 2:27 = 1ES 2:21
1ES 2:27 = 1ES 2:22
1ES 2:28 = 1ES 2:23
1ES 2:29 = 1ES 2:24
1ES 2:30 = 1ES 2:25
1ES 2:30 = 1ES 2:26
1ES 3:14 = 1ES 3:14
1ES 3:15 = 1ES 3:14
1ES 3:16 = 1ES 3:15
1ES 3:17 = 1ES 3:16
1ES 3:17 = 1ES 3:17
1ES 4:10 = 1ES 4:10
1ES 4:10 = 1ES 4:11
1ES 4:11 = 1ES 4:11
1ES 4:33 = 1ES 4:33
1ES 4:33 = 1ES 4:34
1ES 4:39 = 1ES 4:39
1ES 4:40 = 1ES 4:39
1ES 4:40 = 1ES 4:40
1ES 5:41 = 1ES 5:41
1ES 5:42 = 1ES 5:41
1ES 5:43-53 = 1ES 5:42-52
1ES 5:54 = 1ES 5:53
1ES 5:55 = 1ES 5:53
1ES 5:56 = 1ES 5:54
1ES 5:57 = 1ES 5:55
1ES 5:58 = 1ES 5:56
1ES 5:58 = 1ES 5:57
1ES 5:59 = 1ES 5:57
1ES 5:60 = 1ES 5:57
1ES 5:61-72 = 1ES 5:58-69
1ES 5:73 = 1ES 5:70
1ES 5:73 = 1ES 5:71
1ES 6:8 = 1ES 6:8
1ES 6:9 = 1ES 6:8
1ES 6:10-34 = 1ES 6:9-33
1ES 8:5 = 1ES 8:5
1ES 8:6 = 1ES 8:5
1ES 8:6 = 1ES 8:6
1ES 8:13 = 1ES 8:13
1ES 8:14 = 1ES 8:13
1ES 8:14 = 1ES 8:14
1ES 8:19 = 1ES 8:19
1ES 8:20 = 1ES 8:19
1ES 8:20 = 1ES 8:20
1ES 8:43 = 1ES 8:43
1ES 8:44 = 1ES 8:43
1ES 8:45-49 = 1ES 8:44-48
1ES 8:50 = 1ES 8:49
1ES 8:50 = 1ES 8:50
1ES 8:56 = 1ES 8:56
1ES 8:57 = 1ES 8:56
1ES 8:58-62 = 1ES 8:57-61
1ES 8:63 = 1ES 8:62
1ES 8:64 = 1ES 8:62
1ES 8:65 = 1ES 8:63
1ES 8:66 = 1ES 8:63
1ES 8:67-85 = 1ES 8:64-82
1ES 8:86 = 1ES 8:83
1ES 8:86 = 1ES 8:84
1ES 8:87 = 1ES 8:84
1ES 8:88-92 = 1ES 8:85-89
1ES 8:93 = 1ES 8:90
1ES 8:94 = 1ES 8:90
1ES 8:95 = 1ES 8:91
1ES 8:96 = 1ES 8:92
#
#--------------------------------------------------------------------------
# mapping XXA onto PSA, XXA should be in a variant Vulgate project [Studge]
# Both PSA and XXA are synchronized to PSA in the original versification.
# Is this allowed???
# by request of RdB, XXA mapping to PSA has been deleted - [Barb] 20110127
# XXA has been moved to PSA and the old PSA is now the Resource VULGP83 [Barb]
# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)
#
#
#-------------------------------------------------------
# Removing the following lines (FB 52696)
#2ES 3:1-36 = EZA 1:1-36
#2ES 4:1-52 = EZA 2:1-52
#2ES 5:1-56 = EZA 3:1-56
#2ES 6:1-59 = EZA 4:1-59
#2ES 7:1-35 = EZA 5:1-35
#2ES 7:106-140 = EZA 5:36-70
#2ES 8:1-63 = EZA 6:1-63
#2ES 9:1-47 = EZA 7:1-47
#2ES 10:1-60 = EZA 8:1-60
#2ES 11:1-46 = EZA 9:1-46
#2ES 12:1-51 = EZA 10:1-51
#2ES 13:1-58 = EZA 11:1-58
#2ES 14:1-48 = EZA 12:1-48
#-----------------------------------------------------
# map Letter to the Laodiceans [Studge]
# XXB 1:1-7 = LAO 1:1-7
#-----------------------------------------------------
# map Esther Greek onto Hebrew Esther [Studge]
# to be added in
#-----------------------------------------------------
# Mapping Additions to Daniel onto Hebrew Daniel [Studge]
DAG 1:1-21 = DAN 1:1-21
DAG 2:1-49 = DAN 2:1-49
DAG 3:24-52 = S3Y 1:1-29
DAG 3:52-23 = S3Y 1:30-31
DAG 3:54 = S3Y 1:33
DAG 3:55 = S3Y 1:32
DAG 3:56-57 = S3Y 1:34-35
DAG 3:58 = S3Y 1:37
DAG 3:59 = S3Y 1:36
DAG 3:60-90 = S3Y 1:38-68
DAG 3:91-97 = DAN 3:24-30
DAG 4:1-3 = DAN 3:31-33
DAG 4:4-37 = DAN 4:1-34
DAG 5:1-31 = DAN 5:1-31
DAG 6:1-28 = DAN 6:1-28
DAG 7:1-28 = DAN 7:1-28
DAG 8:1-27 = DAN 8:1-27
DAG 9:1-27 = DAN 9:1-27
DAG 10:1-21 = DAN 10:1-21
DAG 11:1-45 = DAN 11:1-45 
DAG 12:1-13 = DAN 12:1-13
# Susanna
DAG 13:1-63 = SUS 1:63
# Bel and the Dragon
DAG 14:1-42 = BEL 1:42
#-------------------------------------------------------
`;const Jae=jae,Hae=Lae,Wae=Gae,zae=Vae,Qae=Uae,Yae=Kae,Cw={eng:{raw:Jae},lxx:{raw:Hae},org:{raw:Wae},rsc:{raw:zae},rso:{raw:Qae},vul:{raw:Yae}},Xae=/^([A-Z0-9]{3}) (([0-9]+:[0-9]+) ?)*$/;for(const[t,e]of Object.entries(Cw)){e.cv={};const r=e.raw.split(`
`).filter(n=>n.match(Xae));if(r)for(const n of r){const u=n.slice(0,3);e.cv[u]={};for(const s of n.substr(4).split(" ")){const[i,o]=s.split(":");e.cv[u][i]=o}}}var Zae=Cw;const{bookCodeCompareFunctions:a1}=bw,U8=Zae,ece=`
"""The top level of Proskomma queries"""
type Query {
  """The id of the processor, which is different for each Proskomma instance"""
  id: String!
  """A string describing the processor class"""
  processor: String!
  """The NPM package version"""
  packageVersion: String!
  """The selectors used to define docSets"""
  selectors: [selectorSpec!]!
  """The number of docSets"""
  nDocSets: Int!
  """The docSets in the processor"""
  docSets(
    """A whitelist of ids of docSets to include"""
    ids: [String!]
    """Only return docSets that match the list of selector values"""
    withSelectors: [InputKeyValue!]
    """Only return docSets containing a document with the specified bookCode"""
    withBook: String
    """Only return docSets with all the specified tags"""
    withTags: [String!]
    """Only return docSets with none of the specified tags"""
    withoutTags: [String!]
  ): [DocSet!]!
  """The docSet with the specified id"""
  docSet(
    """The id of the docSet"""
    id: String!
  ): DocSet
  """The number of documents in the processor"""
  nDocuments: Int!
  """The documents in the processor"""
  documents(
    """A whitelist of ids of documents to include"""
    ids: [String!]
    """Only return documents with the specified bookCode"""
    withBook: String
    """Only return documents with the specified header key/values"""
    withHeaderValues: [InputKeyValue!]
    """Only return documents with all the specified tags"""
    withTags: [String!]
    """Only return documents with none of the specified tags"""
    withoutTags: [String!]
    """Sort returned documents by the designated method (currently ${Object.keys(a1).join(", ")})"""
    sortedBy: String
  ): [Document!]!
  """The document with the specified id, or the specified docSet and withBook"""
  document(
    """The id of the document"""
    id: String
    """The docSet of the document (use with withBook)"""
    docSetId: String
    """The book of the document (use with docSetId)"""
    withBook: String
  ) : Document
  """Reference information about standard versifications"""
  versifications: [versification!]!
  """Reference information about a named, standard versification"""
  versification(
    """The id of the versification"""
    id: String!
  ) : versification!
}
`,tce={id:t=>t.processorId,selectors:t=>t.selectors,docSets:(t,e)=>{const r=(u,s)=>{for(const i of s)if(u.selectors[i.key].toString()!==i.value)return!1;return!0};let n=("withBook"in e?t.docSetsWithBook(e.withBook):Object.values(t.docSets)).filter(u=>!e.ids||e.ids.includes(u.id));return e.withSelectors&&(n=n.filter(u=>r(u,e.withSelectors))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),n},docSet:(t,e)=>t.docSetById(e.id),documents:(t,e)=>{const r=(u,s)=>{for(const i of s||[])if(!(i.key in u)||u[i.key]!==i.value)return!1;return!0};let n=e.withBook?t.documentsWithBook(e.withBook):t.documentList();if(n=n.filter(u=>!e.ids||e.ids.includes(u.id)),e.withHeaderValues&&(n=n.filter(u=>r(u.headers,e.withHeaderValues))),e.withTags&&(n=n.filter(u=>e.withTags.filter(s=>u.tags.has(s)).length===e.withTags.length)),e.withoutTags&&(n=n.filter(u=>e.withoutTags.filter(s=>u.tags.has(s)).length===0)),e.sortedBy){if(!(e.sortedBy in a1))throw new Error(`sortedBy value must be one of [${Object.keys(a1).join(", ")}], not ${e.sortedBy}`);n.sort(a1[e.sortedBy])}return n},document:(t,e)=>{if(e.id&&!e.docSetId&&!e.withBook)return t.documentById(e.id);if(!e.id&&e.docSetId&&e.withBook)return t.documentsWithBook(e.withBook).filter(r=>r.docSetId===e.docSetId)[0];throw new Error("document requires either id or both docSetId and withBook (but not all three)")},versifications:()=>Object.entries(U8),versification:(t,e)=>Object.entries(U8).filter(r=>r[0]===e.id)[0]};var rce={querySchemaString:ece,queryResolvers:tce};const nce=`
"""Specification of a selector"""
type selectorSpec {
  """Name (ie the key)"""
  name: String!
  """Data type (string or integer)"""
  type: String!
  """Regex for validating string selector"""
  regex: String
  """Inclusive minimum value for integer selector"""
  min: String
  """Inclusive maximum value for integer selector"""
  max: String
  """Enum of permitted string values"""
  enum: [String!]
}
`,uce={regex:t=>t.regex||null,min:t=>t.min||null,max:t=>t.max||null,enum:t=>t.enum||null};var sce={selectorSpecSchemaString:nce,selectorSpecResolvers:uce};const ice=`
"""Input specification of a selector"""
input inputSelectorSpec {
  """Name (ie the key)"""
  name: String!
  """Data type (string or integer)"""
  type: String!
  """Regex for validating string selector"""
  regex: String
  """Inclusive minimum value for integer selector"""
  min: String
  """Inclusive maximum value for integer selector"""
  max: String
  """Enum of permitted string values"""
  enum: [String!]
}
`;var oce={inputSelectorSpecSchemaString:ice};const ace=(t,e,r,n)=>{const u=r.blocks.length;for(let s=0;s<u;s++)e.deleteBlock(r.id,0,!1);for(let s=0;s<n.length;s++){const i=n[s];if(e.newBlock(r.id,s,i.bs.payload,null,!1),!t.updateBlockGrafts(e.id,r.id,s,i.bg)||!t.updateOpenScopes(e.id,r.id,s,i.os)||!t.updateIncludedScopes(e.id,r.id,s,i.is)||!t.updateItems(e.id,r.id,s,i.items))return!1}};var _w={remakeBlocks:ace};const cce=Tt,{remakeBlocks:lce}=_w,fce=`
  """Adds a document which will be assigned to an existing or new docSet on the basis of the specified selectors"""
  addDocument(
    """The selectors for this document, the keys of which must match those of the Proskomma instance"""
    selectors: [InputKeyValue!]!
    """The format of the content (probably usfm or usx)"""
    contentType: String!
    """The document content as a string"""
    content: String!
    """A list of tags to be added"""
    tags: [String!]
  ): Boolean!
  """Creates a new, empty sequence"""
  newSequence(
    """The id of the document to which the sequence will be added"""
    documentId: String!
    """The type of the new sequence (main, heading...)"""
    type: String!
    """The JSON describing blocks, if any, for the new sequence"""
    blocksSpec: [inputBlockSpec!]
    """If true, graft to the first block of the main sequence"""
    graftToMain: Boolean
    """'A list of tags to be added"""
    tags: [String!]
  ): String!
  """Adds a new block to a sequence"""
  newBlock(
    """The id of the document containing the sequence to which the block will be added"""
    documentId: String!
    """The id of the sequence to which the block will be added"""
    sequenceId: String!
    """The zero-indexed position at which to add the block"""
    blockN: Int!
    """The scope to be applied to the block, eg blockScope/p"""
    blockScope: String!
  ): Boolean!
`,dce={addDocument:(t,e)=>{const r={};return e.selectors.forEach(n=>{r[n.key]=n.value}),!!t.importDocument(r,e.contentType,e.content,null,null,null,e.tags||[])},newSequence:(t,e)=>{const r=t.documents[e.documentId],n=r.processor.docSets[r.docSetId];if(!r)throw new Error(`Document '${e.documentId}' not found`);const u=r.newSequence(e.type,e.tags);if(e.blocksSpec&&(lce(n,r,r.sequences[u],e.blocksSpec),r.buildChapterVerseIndex()),e.graftToMain){n.maybeBuildPreEnums();const s=r.sequences[r.mainId].blocks[0].bg,i=n.enumForCategoryValue("graftTypes",e.type,!0),o=n.enumForCategoryValue("ids",u,!0);cce.succinct.pushSuccinctGraftBytes(s,i,o)}return u},newBlock:(t,e)=>{const r=t.documents[e.documentId];if(!r)throw new Error(`Document '${e.documentId}' not found`);return r.newBlock(e.sequenceId,e.blockN,e.blockScope)}};var pce={addMutationsSchemaString:fce,addMutationsResolvers:dce};const hce=`
  """Deletes a docSet"""
  deleteDocSet(
    """The id of the docSet containing the document to be deleted"""
    docSetId: String!
  ): Boolean
  """Deletes a document"""
  deleteDocument(
    """The id of the docSet containing the document to be deleted"""
    docSetId: String!
    """The id of the document to be deleted"""
    documentId: String!
  ): Boolean
  """Deletes a sequence from a document"""
  deleteSequence(
    """The id of the document containing the sequence to be deleted"""
    documentId: String!
    """The id of the sequence to be deleted"""
    sequenceId: String!
  ): Boolean
  """Deletes a block from a sequence"""
  deleteBlock(
    """The id of the document containing the sequence from which the block will be deleted"""
    documentId: String!
    """The id of the sequence from which the block will be deleted"""
    sequenceId: String!
    """The zero-indexed number of the block to be deleted"""
    blockN: Int!
  ): Boolean
`,mce={deleteDocSet:(t,e)=>t.deleteDocSet(e.docSetId),deleteDocument:(t,e)=>t.deleteDocument(e.docSetId,e.documentId),deleteSequence:(t,e)=>{const r=t.documents[e.documentId];if(!r)throw new Error(`Document '${e.documentId}' not found`);return r.deleteSequence(e.sequenceId)},deleteBlock:(t,e)=>{const r=t.documents[e.documentId];if(!r)throw new Error(`Document '${e.documentId}' not found`);return r.deleteBlock(e.sequenceId,e.blockN)}};var Dce={deleteMutationsSchemaString:hce,deleteMutationsResolvers:mce};const Ece=`
  """Explicitly rebuild the text lookup tables for a docSet. (You probably don't need to do this)"""
  rehashDocSet(
    """The id of the docSet"""
    docSetId: String!
  ): Boolean!
`,yce={rehashDocSet:(t,e)=>t.rehashDocSet(e.docSetId)};var vce={rehashMutationsSchemaString:Ece,rehashMutationsResolvers:yce};const K8=Tt,gce=`
  """Add one or more tags to a docSet, if they are not already present"""
  addDocSetTags(
    """The id of the docSet to which the tags will be added"""
    docSetId: String!
    """A list of tags to be added"""
    tags: [String]!
  ): [String!]!
  """Add one or more tags to a document, if they are not already present"""
  addDocumentTags(
    """The id of the docSet containing the document to which the tags will be added"""
    docSetId: String!
    """The id of the document to which the tags will be added"""
    documentId: String!
    """A list of tags to be added"""
    tags: [String]!
  ): [String!]
  """Add one or more tags to a sequence, if they are not already present"""
  addSequenceTags(
    """The id of the docSet containing the document containing the sequence to which the tags will be added"""
    docSetId: String!
    """The id of the document containing the sequence to which the tags will be added"""
    documentId: String!
    """The id of the sequence to which the tags will be added"""
    sequenceId: String!
    """A list of tags to be added"""
    tags: [String]!
  ) : [String!]
  """Remove one or more tags from a docSet, if they are present"""
  removeDocSetTags(
    """The id of the docSet from which the tags will be removed"""
    docSetId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ): [String!]
  """Remove one or more tags from a document, if they are present"""
  removeDocumentTags(
    """The id of the docSet containing the document from which the tags will be removed"""
    docSetId: String!
    """The id of the document from which the tags will be removed"""
    documentId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ): [String!]
  """Remove one or more tags from a sequence, if they are present"""
  removeSequenceTags(
    """The id of the docSet containing the document containing the sequence from which the tags will be removed"""
    docSetId: String!
    """The id of the document containing the sequence from which the tags will be removed"""
    documentId: String!
    """The id of the sequence from which the tags will be removed"""
    sequenceId: String!
    """A list of tags to be removed"""
    tags: [String]!
  ) : [String!]
`,Ace={addDocSetTags:(t,e)=>{const r=t.docSets[e.docSetId];for(const n of e.tags)r.addTag(n);return Array.from(r.tags)},addDocumentTags:(t,e)=>{const n=t.docSets[e.docSetId].processor.documents[e.documentId];for(const u of e.tags)n.addTag(u);return Array.from(n.tags)},addSequenceTags:(t,e)=>{const u=t.docSets[e.docSetId].processor.documents[e.documentId].sequences[e.sequenceId];for(const s of e.tags)K8.tags.addTag(u.tags,s);return Array.from(u.tags)},removeDocSetTags:(t,e)=>{const r=t.docSets[e.docSetId];for(const n of e.tags)r.removeTag(n);return Array.from(r.tags)},removeDocumentTags:(t,e)=>{const n=t.docSets[e.docSetId].processor.documents[e.documentId];for(const u of e.tags)n.removeTag(u);return Array.from(n.tags)},removeSequenceTags:(t,e)=>{const u=t.docSets[e.docSetId].processor.documents[e.documentId].sequences[e.sequenceId];for(const s of e.tags)K8.tags.removeTag(u.tags,s);return Array.from(u.tags)}};var Sce={tagMutationsSchemaString:gce,tagMutationsResolvers:Ace};const{PipelineHandler:Fce}=tl,{remakeBlocks:J8}=_w,bce=lw,Cce=fw,_ce=`
  """Replaces the items of a block with a new set of items"""
  updateItems(
    """The id of the docSet containing the document containing the sequence containing the block for which the items will be updated"""
    docSetId: String!
    """The id of the document containing the sequence containing the block for which the items will be updated"""
    documentId: String!
    """The id of the sequence containing the block for which the items will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The zero-indexed number of the block for which the items will be updated"""
    blockPosition: Int!
    """The new content for the block as item objects"""
    items: [InputItemObject!]
    """BlockGrafts for the block as item objects"""
    blockGrafts: [InputItemObject!]
    """Optional blockScope for the block as an item object"""
    blockScope: InputItemObject
  ): Boolean!
  """Replaces all the blocks of a sequence with a new set of blocks"""
  updateAllBlocks(
    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""
    docSetId: String!
    """The id of the document containing the sequence for which the blocks will be updated"""
    documentId: String!
    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The JSON describing blocks"""
    blocksSpec: [inputBlockSpec!]!
  ): Boolean!
  """Replaces all the blocks of a sequence with a new set of blocks derived from PERF"""
  updateSequenceFromPerf(
    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""
    docSetId: String!
    """The id of the document containing the sequence for which the blocks will be updated"""
    documentId: String!
    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""
    sequenceId: String
    """The JSON describing blocks"""
    perf: String!
  ): Boolean!
  """Garbage collects unused sequences within a document. (You probably don\\'t need to do this.)"""
  gcSequences(
    """The id of the docSet containing the document to be garbage collected"""
    docSetId: String!
    """The id of the document to be garbage collected"""
    documentId: String!
  ) : Boolean!
 
`,wce={updateItems:(t,e)=>{const r=t.docSets[e.docSetId];if(!r)throw new Error(`DocSet '${e.docSetId}' not found`);if(!e.items)throw new Error("Must provide items");return!(!r.updateItems(e.documentId,e.sequenceId,e.blockPosition,e.items)||e.blockGrafts&&!r.updateBlockGrafts(e.documentId,e.sequenceId,e.blockPosition,e.blockGrafts)||e.blockScope&&!r.updateBlockScope(e.documentId,e.sequenceId,e.blockPosition,e.blockScope))},updateAllBlocks:(t,e)=>{const r=t.docSets[e.docSetId];if(!r)throw new Error(`DocSet '${e.docSetId}' not found`);const n=t.documents[e.documentId];if(!n)throw new Error(`Document '${e.documentId}' not found`);const u=n.sequences[e.sequenceId||n.mainId];if(!u)throw new Error(`Sequence '${e.sequenceId||n.mainId}' not found`);return J8(r,n,u,e.blocksSpec),n.buildChapterVerseIndex(),!0},updateSequenceFromPerf:async(t,e)=>{const r=t.docSets[e.docSetId];if(!r)throw new Error(`DocSet '${e.docSetId}' not found`);const n=t.documents[e.documentId];if(!n)throw new Error(`Document '${e.documentId}' not found`);const u=n.sequences[e.sequenceId||n.mainId];if(!u)throw new Error(`Sequence '${e.sequenceId||n.mainId}' not found`);const s=JSON.parse(e.perf),i={schema:{structure:"flat",structure_version:"0.3.0",constraints:[{name:"perf",version:"0.3.0"}]},metadata:{translation:{},document:{}},sequences:{},main_sequence_id:e.sequenceId};i.sequences[e.sequenceId]=s;let o={};try{const c=await new Fce({pipelines:bce,transforms:Cce,proskomma:t}).runPipeline("perf2PkJsonPipeline",{perf:i});o=Object.values(c.pkJson)[0]}catch(a){return console.error(`pipelineHandler Error :
`,a),!1}return J8(r,n,u,o),n.buildChapterVerseIndex(),!0},gcSequences:(t,e)=>{const r=t.docSets[e.docSetId];if(!r)throw new Error(`DocSet '${e.docSetId}' not found`);const n=t.documents[e.documentId];if(!n)throw new Error(`Document '${e.documentId}' not found`);return n.gcSequences()?(r.rehash(),!0):!1}};var Tce={updateMutationsSchemaString:_ce,updateMutationsResolvers:wce};const jl=Tt,$ce=`
  """Adds verse mapping tables to the documents in a docSet, where the verse mapping may be provided in legacy .vrs or JSON format"""
  setVerseMapping(
    """the id of the docSet to which the verse mapping will be added"""
    docSetId: String!
    """The verse mapping, in legacy .vrs format (as a string)"""
    vrsSource: String
    """The verse mapping, in JSON format (as a string)"""
    jsonSource: String
  ): Boolean!
  """Removes verse mapping tables from the documents in a docSet"""
  unsetVerseMapping(
    """The id of the docSet from which verse mapping will be removed"""
    docSetId: String!
  ): Boolean!
`,Bce={setVerseMapping:(t,e)=>{if(e.vrsSource&&e.jsonSource)throw new Error("Cannot specify both vrsSource and jsonSource");if(!e.vrsSource&&!e.jsonSource)throw new Error("Must specify either vrsSource or jsonSource");const r=t.docSets[e.docSetId];if(!r)return!1;let n;e.vrsSource?n=jl.versification.vrs2json(e.vrsSource):n=e.jsonSource;const u=jl.versification.succinctifyVerseMappings(n.mappedVerses),s=jl.versification.reverseVersification(n),i=jl.versification.succinctifyVerseMappings(s.reverseMappedVerses);for(const o of r.documents().filter(a=>"bookCode"in a.headers)){const a=o.headers.bookCode,c=r.documentWithBook(a);if(!c)continue;const l=c.sequences[c.mainId];l.verseMapping={},a in u&&(l.verseMapping.forward=u[a]),a in i&&(l.verseMapping.reversed=i[a])}return r.tags.add("hasMapping"),!0},unsetVerseMapping:(t,e)=>{const r=t.docSets[e.docSetId];if(!r)return!1;for(const n of r.documents().filter(u=>"bookCode"in u.headers)){const u=n.headers.bookCode,s=r.documentWithBook(u);if(s){const i=s.sequences[s.mainId];i.verseMapping={}}}return r.tags.delete("hasMapping"),!0}};var Ice={versificationMutationsSchemaString:$ce,versificationMutationsResolvers:Bce};const{addMutationsSchemaString:Pce,addMutationsResolvers:kce}=pce,{deleteMutationsSchemaString:Oce,deleteMutationsResolvers:Nce}=Dce,{rehashMutationsSchemaString:Rce,rehashMutationsResolvers:qce}=vce,{tagMutationsSchemaString:xce,tagMutationsResolvers:Mce}=Sce,{updateMutationsSchemaString:jce,updateMutationsResolvers:Lce}=Tce,{versificationMutationsSchemaString:Gce,versificationMutationsResolvers:Vce}=Ice,Uce=`
type Mutation {
${Pce}
${Oce}
${Rce}
${xce}
${jce}
${Gce}
}`,Kce={...kce,...Nce,...qce,...Mce,...Lce,...Vce};var Jce={mutationsSchemaString:Uce,mutationsResolvers:Kce};const Hce=`
"""Information about a standard versification scheme"""
type versification {
  """id, derived from the Paratext vrs filename"""
  id: String!
  """A string of the original vrs file"""
  vrs: String!
  """Chapter/verse information for each book"""
  cvBooks: [cvBook!]!
  """Chapter/verse information for one book"""
  cvBook(
    """The bookCode"""
    bookCode: String!
  ): cvBook!
}
`,Wce={id:t=>t[0],vrs:t=>t[1].raw,cvBooks:t=>Object.entries(t[1].cv),cvBook:(t,e)=>Object.entries(t[1].cv).filter(r=>r[0]===e.bookCode)[0]};var zce={versificationSchemaString:Hce,versificationResolvers:Wce};const Qce=`
"""Chapter/verse information for a book"""
type cvBook {
  """The bookCode"""
  bookCode: String!
  """The chapter records"""
  chapters: [cvChapter!]!
}
`,Yce={bookCode:t=>t[0],chapters:t=>Object.entries(t[1])};var Xce={cvBookSchemaString:Qce,cvBookResolvers:Yce};const Zce=`
"""Information for a chapter"""
type cvChapter {
  """The chapter"""
  chapter: Int!
  """The maximum verse number"""
  maxVerse: Int!
}
`,ele={chapter:t=>parseInt(t[0]),maxVerse:t=>parseInt(t[1])};var tle={cvChapterSchemaString:Zce,cvChapterResolvers:ele};const{keyValueSchemaString:rle,keyValueResolvers:nle}=oie,{cvSchemaString:ule,cvResolvers:sle}=lie,{idPartsSchemaString:ile,idPartsResolvers:ole}=pie,{inputAttSpecSchemaString:ale}=mie,{keyMatchesSchemaString:cle}=Eie,{inputKeyValueSchemaString:lle}=vie,{keyValuesSchemaString:fle}=Aie,{inputItemObjectSchemaString:dle}=Fie,{itemSchemaString:ple,itemResolvers:hle}=wie,{itemGroupSchemaString:mle,itemGroupResolvers:Dle}=Oie,{kvEntrySchemaString:Ele,kvEntryResolvers:yle}=qie,{regexIndexSchemaString:vle,regexIndexResolvers:gle}=jie,{rowEqualsSpecSchemaString:Ale}=Gie,{rowMatchSpecSchemaString:Sle}=Uie,{verseRangeSchemaString:Fle}=Jie,{origSchemaString:ble}=Wie,{verseNumberSchemaString:Cle,verseNumberResolvers:_le}=Xie,{cellSchemaString:wle,cellResolvers:Tle}=toe,{cIndexSchemaString:$le,cIndexResolvers:Ble}=soe,{cvVerseElementSchemaString:Ile,cvVerseElementResolvers:Ple}=coe,{cvVersesSchemaString:kle,cvVersesResolvers:Ole}=doe,{cvIndexSchemaString:Nle,cvIndexResolvers:Rle}=moe,{cvNavigationSchemaString:qle,cvNavigationResolvers:xle}=yoe,{inputBlockSpecSchemaString:Mle}=goe,{nodeSchemaString:jle,nodeResolvers:Lle}=boe,{kvSequenceSchemaString:Gle,kvSequenceResolvers:Vle}=woe,{tableSequenceSchemaString:Ule,tableSequenceResolvers:Kle}=Ioe,{treeSequenceSchemaString:Jle,treeSequenceResolvers:Hle}=sae,{blockSchemaString:Wle,blockResolvers:zle}=fae,{sequenceSchemaString:Qle,sequenceResolvers:Yle}=gae,{documentSchemaString:Xle,documentResolvers:Zle}=$ae,{docSetSchemaString:e1e,docSetResolvers:t1e}=xae,{querySchemaString:r1e,queryResolvers:n1e}=rce,{selectorSpecSchemaString:u1e,selectorSpecResolvers:s1e}=sce,{inputSelectorSpecSchemaString:i1e}=oce,{mutationsSchemaString:o1e,mutationsResolvers:a1e}=Jce,{versificationSchemaString:c1e,versificationResolvers:l1e}=zce,{cvBookSchemaString:f1e,cvBookResolvers:d1e}=Xce,{cvChapterSchemaString:p1e,cvChapterResolvers:h1e}=tle,m1e=`
      ${r1e}
      ${o1e}
      ${rle}
      ${ule}
      ${ile}
      ${ale}
      ${cle}
      ${lle}
      ${fle}
      ${dle}
      ${ple}
      ${mle}
      ${Ele}
      ${vle}
      ${Ale}
      ${Sle}
      ${Fle}
      ${ble}
      ${Cle}
      ${wle}
      ${$le}
      ${Ile}
      ${kle}
      ${Nle}
      ${qle}
      ${Mle}
      ${jle}
      ${Gle}
      ${Ule}
      ${Jle}
      ${Wle}
      ${Qle}
      ${Xle}
      ${e1e}
      ${u1e}
      ${i1e}
      ${c1e}
      ${f1e}
      ${p1e}
  `,D1e={Mutation:a1e,Query:n1e,KeyValue:nle,cv:sle,idParts:ole,Item:hle,ItemGroup:Dle,kvEntry:yle,regexIndex:gle,verseNumber:_le,cell:Tle,cIndex:Ble,cvVerseElement:Ple,cvVerses:Ole,cvIndex:Rle,cvNavigation:xle,node:Lle,kvSequence:Vle,tableSequence:Kle,treeSequence:Hle,Block:zle,Sequence:Yle,Document:Zle,DocSet:t1e,selectorSpec:s1e,versification:l1e,cvBook:d1e,cvChapter:h1e};var E1e={typeDefs:m1e,resolvers:D1e};const y1e=Tt,{labelForScope:Oa}=y1e.scopeDefs,{tokenizeString:GE}=kE,{flattenNodes:v1e,numberNodes:g1e}=RE,A1e=(t,e)=>{const r=[],n=t.split(/[\n\r]+/);for(const[u,s]of n.entries()){if(e&&u===0)continue;const i=s.split("	");for(const[o,a]of i.entries()){const c={os:[],bg:[],bs:{type:"scope",subType:"start",payload:Oa("tTableRow",[`${u}`])},is:[],items:[]},l=`tTableCol/${o}`;c.is.push({type:"scope",subType:"start",payload:l}),c.items.push({type:"scope",subType:"start",payload:l});for(const[f,d]of GE(a))c.items.push({type:"token",subType:d,payload:f});c.items.push({type:"scope",subType:"end",payload:l}),r.push(c)}}return r},S1e=t=>t.split(/[\n\r]+/)[0].split("	").map((r,n)=>`col${n}:${r.trim()}`),F1e=t=>{const e=[];for(const r of v1e(g1e(t))){const n={os:[],bg:[],bs:{type:"scope",subType:"start",payload:Oa("tTreeNode",[`${r.id}`])},is:[],items:[]},u=Oa("tTreeParent",[`${r.parentId}`]);if(n.items.push({type:"scope",subType:"start",payload:u}),n.is.push({type:"scope",subType:"start",payload:u}),r.content)for(const[s,i]of Object.entries(r.content)){const o=n.items.length,a=GE(i),c=Oa("tTreeContent",[s,r.id,`${o}`,`${a.length}`]);n.items.push({type:"scope",subType:"start",payload:c}),n.is.push({type:"scope",subType:"start",payload:c});for(const[l,f]of a)n.items.push({type:"token",subType:f,payload:l});n.items.push({type:"scope",subType:"end",payload:c})}if(r.children)for(const[s,i]of r.children.entries()){const o=Oa("tTreeChild",[s,i]);n.items.push({type:"scope",subType:"start",payload:o}),n.is.push({type:"scope",subType:"start",payload:o}),n.items.push({type:"scope",subType:"end",payload:o})}n.items.push({type:"scope",subType:"end",payload:u}),e.push(n)}return e},ww=t=>t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),Na=t=>"["+t.map(e=>`
    {
      type: "${e.type}" 
      subType: "${e.subType}" 
      payload: "${ww(e.payload)}"
    }`).join(",")+"]",Tw=t=>`{
      type: "${t.type}" 
      subType: "${t.subType}" 
      payload: "${ww(t.payload)}"}`,b1e=t=>`[
`+t.map(e=>`  {
    bs: ${Tw(e.bs)}, 
    bg: ${Na(e.bg)}, 
    os: ${Na(e.os)}, 
    is: ${Na(e.is)}, 
    items: ${Na(e.items)}}
`)+"]";var $w={tokenizeString:GE,tsvToInputBlock:A1e,tsvHeadingTags:S1e,treeToInputBlock:F1e,blocksSpec2Query:b1e,object2Query:Na,oneObject2Query:Tw};const m2=Bt,{makeExecutableSchema:C1e}=L5,{Mutex:_1e}=Z7,w1e=r_,{graphql:T1e,graphqlSync:$1e}=Le,B1e=pc,I1e=EL,Ra=Tt,{DocSet:H8}=yU,{Document:W8}=uie,{typeDefs:Bw,resolvers:Iw}=E1e,{lexingRegexes:P1e}=rl,k1e=$w,{flattenNodes:O1e,numberNodes:N1e}=RE,R1e=t=>O1e(N1e(t)),z8=C1e({typeDefs:Bw,resolvers:Iw});let q1e=class{constructor(e){this.processorId=Ra.generateId(),this.documents={},this.docSetsBySelector={},this.docSets={},this.filters={},this.customTags={heading:[],paragraph:[],char:[],word:[],intro:[],introHeading:[]},this.emptyBlocks=[],this.selectors=e||[{name:"lang",type:"string",regex:"[a-z]{3}"},{name:"abbr",type:"string"}],this.validateSelectorSpec(this.selectors),this.mutex=new _1e,this.nextPeriph=0,this.nextTable=0,this.nextNodes=0}validateSelectors(){if(this.selectors.length===0)throw new Error("No selectors found");for(const[e,r]of this.selectors.entries()){if(!("name"in r))throw new Error(`Selector ${e} has no name`);if(!("type"in r))throw new Error(`Selector ${e} has no type`);if(!["string","integer"].includes(r.type))throw new Error(`Type for selector ${e} must be string or number, not ${r.type}`);if(r.type==="string"){if("min"in r)throw new Error("String selector should not include 'min'");if("max"in r)throw new Error("String selector should not include 'max'");if("regex"in r)try{m2(r.regex)}catch(n){throw new Error(`Regex '${r.regex}' is not valid: ${n}`)}if("enum"in r){for(const n of r.enum)if(typeof n!="string")throw new Error(`Enum values for selector ${r.name} should be strings, not '${n}'`)}}else{if("regex"in r)throw new Error("Integer selector should not include 'regex'");if("min"in r&&typeof r.min!="number")throw new Error(`'min' must be a number, not '${r.min}'`);if("max"in r&&typeof r.max!="number")throw new Error(`'max' must be a number, not '${r.max}'`);if("min"in r&&"max"in r&&r.min>r.max)throw new Error(`'min' cannot be greater than 'max' (${r.min} > ${r.max})`);if("enum"in r){for(const n of r.enum)if(typeof n!="number")throw new Error(`Enum values for selector ${r.name} should be numbers, not '${n}'`)}}for(const n of Object.keys(r))if(!["name","type","regex","min","max","enum"].includes(n))throw new Error(`Unexpected key '${n}' in selector ${e}`)}}validateSelectorSpec(e){for(const r of e){if(!r.name)throw new Error(`name not found in selector spec element '${JSON.stringify(r)}'`);if(!r.type)throw new Error(`type not found in selector spec element '${JSON.stringify(r)}'`);if(!["string","integer"].includes(r.type))throw new Error(`Type for spec element must be string or number, not ${r.type}`);for(const n of Object.keys(r))if(!["name","type","regex","min","max","enum"].includes(n))throw new Error(`Unexpected key '${n}' in selectorSpec`)}}selectorString(e){return this.selectors.map(r=>r.name).map(r=>`${e[r]}`).join("_")}processor(){return"Proskomma JS"}packageVersion(){return I1e.version}docSetList(){return Object.values(this.docSets)}docSetsById(e){return Object.values(this.docSets).filter(r=>e.includes(r.id))}docSetById(e){return this.docSets[e]}docSetsWithBook(e){const r=Object.values(this.documents).filter(u=>"bookCode"in u.headers&&u.headers.bookCode===e).map(u=>u.id),n=u=>{for(const s of r)if(u.docIds.includes(s))return!0;return!1};return Object.values(this.docSets).filter(u=>n(u))}nDocSets(){return this.docSetList().length}nDocuments(){return this.documentList().length}documentList(){return Object.values(this.documents)}documentById(e){return this.documents[e]}documentsById(e){return Object.values(this.documents).filter(r=>e.includes(r.id))}documentsWithBook(e){return Object.values(this.documents).filter(r=>"bookCode"in r.headers&&r.headers.bookCode===e)}importDocument(e,r,n,u,s,i,o){return this.importDocuments(e,r,[n],u,s,i,o)[0]}importDocuments(e,r,n,u,s,i,o){u||(u=this.filters),s||(s=this.customTags),i||(i=this.emptyBlocks),o||(o=[]);const a=this.findOrMakeDocSet(e),c=this.docSets[a];c.buildPreEnums();const l=[];for(const f of n){let d=new W8(this,a,r,f,u,s,i,o);const p=d.headers.bookCode;if(Object.values(this.documents).filter(v=>c.docIds.includes(v.id)).map(v=>v.headers.bookCode).includes(p))throw new Error(`Attempt to import document with bookCode '${p}' which already exists in docSet ${a}`);this.addDocument(d,a),l.push(d)}return c.preEnums={},l}importUsfmPeriph(e,r,n,u,s,i){const o=r.toString().split(/[\n\r]+/),a=o[0].substring(4,7);if(!["FRT","BAK","INT"].includes(a))throw new Error(`importUsfmInt() expected bookCode of FRT, BAK or INT, not '${a}'`);let c=[];for(const l of o)if(l.substring(0,7)==="\\periph"){let f=m2.exec(l,m2('^\\\\periph (.*)\\|\\s*id\\s*=\\s*"([^"]+)"\\s*$'));if(!f)throw new Error(`Unable to parse periph line '${l}'`);const d=f[1],p=f[2],h=`\\id P${this.nextPeriph>9?this.nextPeriph:"0"+this.nextPeriph}`;c.push([`${h} INT ${p} - ${d}`]),this.nextPeriph++}else c.length>0&&l.substring(0,3)!=="\\id"&&c[c.length-1].push(l);this.importDocuments(e,"usfm",c.map(l=>l.join(`
`)),n,u,s,i)}cleanUsfm(e,r){r=r||{};const n=e.toString().split(/[\n\r]+/),u=[];let s=!0;const i=["\\id","\\ide","\\usfm","\\sts","\\rem","\\h","\\toc"];for(const o of n){const a=o.split(" ")[0].replace(/[0-9]+/g,"");if("remove"in r&&r.remove.includes(a))continue;const c=i.includes(a);s&&!c&&a!=="\\mt"&&u.push("\\mt1 USFM"),u.push(o),c||(s=!1)}return u.join(`
`)}deleteDocSet(e){if(!(e in this.docSets))return!1;for(const i of Object.entries(this.documents).filter(o=>o[1].docSetId===e).map(o=>o[0]))this.deleteDocument(e,i,!1,!1);let r=this.docSetsBySelector;const n=this.selectors.slice(0,this.selectors.length-1);for(const i of n)r=r[this.docSets[e].selectors[i.name]];const u=this.selectors[this.selectors.length-1].name,s=this.docSets[e].selectors[u];if(!r[s])throw new Error(`Could not find docSetId '${e}' in docSetsBySelector in deleteDocSet`);return delete r[s],delete this.docSets[e],!0}deleteDocument(e,r,n,u){return n=n===void 0?!0:n,u=u===void 0?!0:u,!(e in this.docSets)||!(r in this.documents)?!1:(delete this.documents[r],this.docSets[e].docIds.length>1?(this.docSets[e].docIds=this.docSets[e].docIds.filter(s=>s!==r),u&&this.rehashDocSet(e)):n&&this.deleteDocSet(e),!0)}rehashDocSet(e){return e in this.docSets?this.docSets[e].rehash():!1}addDocument(e,r){this.documents[e.id]=e,this.docSets[r].docIds.push(e.id),this.docSets[r].buildEnumIndexes()}loadSuccinctDocSet(e){const r=e.id;if(r in this.docSets)throw new Error(`Attempting to succinct load docSet ${r} which is already loaded`);const n=new H8(this,null,null,e),u=n.id;this.docSets[u]=n;let s=this.docSetsBySelector;const i=e.metadata.selectors;for(const a of this.selectors)a.name===this.selectors[this.selectors.length-1].name?i[a.name]in s||(s[i[a.name]]=n,this.docSets[n.id]=n):(i[a.name]in s||(s[i[a.name]]={}),s=s[i[a.name]]);n.buildPreEnums();const o=[];for(const a of Object.keys(e.docs)){let c=this.newDocumentFromSuccinct(a,e);o.push(c)}return n.preEnums={},o}newDocumentFromSuccinct(e,r){const n=new W8(this,r.id);n.id=e;const u=r.docs[e];n.filterOptions={},n.customTags=[],n.emptyBlocks=[],n.tags=new Set(u.tags),n.headers=u.headers,n.mainId=u.mainId,n.sequences={};for(const[s,i]of Object.entries(u.sequences)){if(n.sequences[s]={id:s,type:i.type,tags:new Set(i.tags),blocks:[]},i.type==="main"){if(n.sequences[s].chapters={},!("chapters"in i))throw new Error("chapters not found in main sequence");for(const[o,a]of Object.entries(i.chapters)){const c=new Ra.ByteArray;c.fromBase64(a),n.sequences[s].chapters[o]=c}if(n.sequences[s].chapterVerses={},!("chapterVerses"in i))throw new Error("chapterVerses not found in main sequence");for(const[o,a]of Object.entries(i.chapterVerses)){const c=new Ra.ByteArray;c.fromBase64(a),n.sequences[s].chapterVerses[o]=c}if(!("tokensPresent"in i))throw new Error("tokensPresent not found in main sequence");n.sequences[s].tokensPresent=new B1e(i.tokensPresent)}for(const o of i.blocks){const a={};for(const[c,l]of Object.entries(o)){const f=new Ra.ByteArray(256);f.fromBase64(l),a[c]=f}n.sequences[s].blocks.push(a)}}return this.addDocument(n,r.id),n}findOrMakeDocSet(e){let r=this.docSetsBySelector,n;for(const u of this.selectors)u.name===this.selectors[this.selectors.length-1].name?e[u.name]in r?n=r[e[u.name]]:(n=new H8(this,e),r[e[u.name]]=n,this.docSets[n.id]=n):(e[u.name]in r||(r[e[u.name]]={}),r=r[e[u.name]]);return n.id}async gqlQuery(e,r){const n=await this.mutex.acquire();try{const u=await T1e({schema:z8,source:e,rootValue:this,contextValue:{}});return r&&r(u),u}finally{n()}}gqlQuerySync(e,r){const n=$1e({schema:z8,source:e,rootValue:this,contextValue:{}});return r&&r(n),n}serializeSuccinct(e){return this.docSets[e].serializeSuccinct()}checksum(){const e=Object.values(this.docSets).map(r=>r.checksum()).sort().join(" ");return w1e(e)}};var x1e={Proskomma:q1e,typeDefs:Bw,resolvers:Iw,lexingRegexes:P1e,blocksSpecUtils:k1e,tree2nodes:R1e,utils:Ra};const{Proskomma:M1e,lexingRegexes:j1e}=x1e,L1e=$w;var G1e={Proskomma:M1e,lexingRegexes:j1e,blocksSpecUtils:L1e};const V1e=G1e.Proskomma;var gf={},U1e={get exports(){return gf},set exports(t){gf=t}},Pw={},Rn={},co={},ul={},ft={},Ec={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(g){if(super(),!t.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((F,I)=>`${F}${I}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((F,I)=>(I instanceof r&&(F[I.str]=(F[I.str]||0)+1),F),{})}}t._Code=n,t.nil=new n("");function u(D,...g){const F=[D[0]];let I=0;for(;I<g.length;)o(F,g[I]),F.push(D[++I]);return new n(F)}t._=u;const s=new n("+");function i(D,...g){const F=[p(D[0])];let I=0;for(;I<g.length;)F.push(s),o(F,g[I]),F.push(s,p(D[++I]));return a(F),new n(F)}t.str=i;function o(D,g){g instanceof n?D.push(...g._items):g instanceof r?D.push(g):D.push(f(g))}t.addCodeArg=o;function a(D){let g=1;for(;g<D.length-1;){if(D[g]===s){const F=c(D[g-1],D[g+1]);if(F!==void 0){D.splice(g-1,3,F);continue}D[g++]="+"}g++}}function c(D,g){if(g==='""')return D;if(D==='""')return g;if(typeof D=="string")return g instanceof r||D[D.length-1]!=='"'?void 0:typeof g!="string"?`${D.slice(0,-1)}${g}"`:g[0]==='"'?D.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(D instanceof r))return`"${D}${g.slice(1)}`}function l(D,g){return g.emptyStr()?D:D.emptyStr()?g:i`${D}${g}`}t.strConcat=l;function f(D){return typeof D=="number"||typeof D=="boolean"||D===null?D:p(Array.isArray(D)?D.join(","):D)}function d(D){return new n(p(D))}t.stringify=d;function p(D){return JSON.stringify(D).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function h(D){return typeof D=="string"&&t.IDENTIFIER.test(D)?new n(`.${D}`):u`[${D}]`}t.getProperty=h;function v(D){if(typeof D=="string"&&t.IDENTIFIER.test(D))return new n(`${D}`);throw new Error(`CodeGen: invalid export name: ${D}, use explicit $id name mapping`)}t.getEsmExportName=v;function S(D){return new n(D.toString())}t.regexpCode=S})(Ec);var cm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Ec;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class u{constructor({prefixes:c,parent:l}={}){this._names={},this._prefixes=c,this._parent=l}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const l=this._names[c]||this._nameGroup(c);return`${c}${l.index++}`}_nameGroup(c){var l,f;if(!((f=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=u;class s extends e.Name{constructor(c,l){super(l),this.prefix=c}setValue(c,{property:l,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(l)}[${f}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends u{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,l){var f;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:p}=d,h=(f=l.key)!==null&&f!==void 0?f:l.ref;let v=this._values[p];if(v){const g=v.get(h);if(g)return g}else v=this._values[p]=new Map;v.set(h,d);const S=this._scope[p]||(this._scope[p]=[]),D=S.length;return S[D]=l.ref,d.setValue(l,{property:p,itemIndex:D}),d}getValue(c,l){const f=this._values[c];if(f)return f.get(l)}scopeRefs(c,l=this._values){return this._reduceValues(l,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,l,f){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},l,f)}_reduceValues(c,l,f={},d){let p=e.nil;for(const h in c){const v=c[h];if(!v)continue;const S=f[h]=f[h]||new Map;v.forEach(D=>{if(S.has(D))return;S.set(D,n.Started);let g=l(D);if(g){const F=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${F} ${D} = ${g};${this.opts._n}`}else if(g=d==null?void 0:d(D))p=(0,e._)`${p}${g}${this.opts._n}`;else throw new r(D);S.set(D,n.Completed)})}return p}}t.ValueScope=o})(cm);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Ec,r=cm;var n=Ec;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var u=cm;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return u.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return u.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return u.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return u.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(E,_){return this}}class i extends s{constructor(E,_,R){super(),this.varKind=E,this.name=_,this.rhs=R}render({es5:E,_n:_}){const R=E?r.varKinds.var:this.varKind,b=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${b};`+_}optimizeNames(E,_){if(E[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,E,_)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(E,_,R){super(),this.lhs=E,this.rhs=_,this.sideEffects=R}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,_){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,E,_),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Y(E,this.rhs)}}class a extends o{constructor(E,_,R,b){super(E,R,b),this.op=_}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class c extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class l extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class f extends s{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class d extends s{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,_){return this.code=H(this.code,E,_),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends s{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((_,R)=>_+R.render(E),"")}optimizeNodes(){const{nodes:E}=this;let _=E.length;for(;_--;){const R=E[_].optimizeNodes();Array.isArray(R)?E.splice(_,1,...R):R?E[_]=R:E.splice(_,1)}return E.length>0?this:void 0}optimizeNames(E,_){const{nodes:R}=this;let b=R.length;for(;b--;){const T=R[b];T.optimizeNames(E,_)||(se(E,T.names),R.splice(b,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((E,_)=>U(E,_.names),{})}}class h extends p{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class v extends p{}class S extends h{}S.kind="else";class D extends h{constructor(E,_){super(_),this.condition=E}render(E){let _=`if(${this.condition})`+super.render(E);return this.else&&(_+="else "+this.else.render(E)),_}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let _=this.else;if(_){const R=_.optimizeNodes();_=this.else=Array.isArray(R)?new S(R):R}if(_)return E===!1?_ instanceof D?_:_.nodes:this.nodes.length?this:new D(fe(E),_ instanceof D?[_]:_.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,_){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(E,_),!!(super.optimizeNames(E,_)||this.else))return this.condition=H(this.condition,E,_),this}get names(){const E=super.names;return Y(E,this.condition),this.else&&U(E,this.else.names),E}}D.kind="if";class g extends h{}g.kind="for";class F extends g{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iteration=H(this.iteration,E,_),this}get names(){return U(super.names,this.iteration.names)}}class I extends g{constructor(E,_,R,b){super(),this.varKind=E,this.name=_,this.from=R,this.to=b}render(E){const _=E.es5?r.varKinds.var:this.varKind,{name:R,from:b,to:T}=this;return`for(${_} ${R}=${b}; ${R}<${T}; ${R}++)`+super.render(E)}get names(){const E=Y(super.names,this.from);return Y(E,this.to)}}class k extends g{constructor(E,_,R,b){super(),this.loop=E,this.varKind=_,this.name=R,this.iterable=b}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iterable=H(this.iterable,E,_),this}get names(){return U(super.names,this.iterable.names)}}class B extends h{constructor(E,_,R){super(),this.name=E,this.args=_,this.async=R}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}B.kind="func";class O extends p{render(E){return"return "+super.render(E)}}O.kind="return";class M extends h{render(E){let _="try"+super.render(E);return this.catch&&(_+=this.catch.render(E)),this.finally&&(_+=this.finally.render(E)),_}optimizeNodes(){var E,_;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(_=this.finally)===null||_===void 0||_.optimizeNodes(),this}optimizeNames(E,_){var R,b;return super.optimizeNames(E,_),(R=this.catch)===null||R===void 0||R.optimizeNames(E,_),(b=this.finally)===null||b===void 0||b.optimizeNames(E,_),this}get names(){const E=super.names;return this.catch&&U(E,this.catch.names),this.finally&&U(E,this.finally.names),E}}class y extends h{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}y.kind="catch";class P extends h{render(E){return"finally"+super.render(E)}}P.kind="finally";class L{constructor(E,_={}){this._values={},this._blockStarts=[],this._constants={},this.opts={..._,_n:_.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,_){const R=this._extScope.value(E,_);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(E,_){return this._extScope.getValue(E,_)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,_,R,b){const T=this._scope.toName(_);return R!==void 0&&b&&(this._constants[T.str]=R),this._leafNode(new i(E,T,R)),T}const(E,_,R){return this._def(r.varKinds.const,E,_,R)}let(E,_,R){return this._def(r.varKinds.let,E,_,R)}var(E,_,R){return this._def(r.varKinds.var,E,_,R)}assign(E,_,R){return this._leafNode(new o(E,_,R))}add(E,_){return this._leafNode(new a(E,t.operators.ADD,_))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new d(E)),this}object(...E){const _=["{"];for(const[R,b]of E)_.length>1&&_.push(","),_.push(R),(R!==b||this.opts.es5)&&(_.push(":"),(0,e.addCodeArg)(_,b));return _.push("}"),new e._Code(_)}if(E,_,R){if(this._blockNode(new D(E)),_&&R)this.code(_).else().code(R).endIf();else if(_)this.code(_).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new D(E))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(D,S)}_for(E,_){return this._blockNode(E),_&&this.code(_).endFor(),this}for(E,_){return this._for(new F(E),_)}forRange(E,_,R,b,T=this.opts.es5?r.varKinds.var:r.varKinds.let){const j=this._scope.toName(E);return this._for(new I(T,j,_,R),()=>b(j))}forOf(E,_,R,b=r.varKinds.const){const T=this._scope.toName(E);if(this.opts.es5){const j=_ instanceof e.Name?_:this.var("_arr",_);return this.forRange("_i",0,(0,e._)`${j}.length`,q=>{this.var(T,(0,e._)`${j}[${q}]`),R(T)})}return this._for(new k("of",b,T,_),()=>R(T))}forIn(E,_,R,b=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${_})`,R);const T=this._scope.toName(E);return this._for(new k("in",b,T,_),()=>R(T))}endFor(){return this._endBlockNode(g)}label(E){return this._leafNode(new c(E))}break(E){return this._leafNode(new l(E))}return(E){const _=new O;if(this._blockNode(_),this.code(E),_.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(E,_,R){if(!_&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const b=new M;if(this._blockNode(b),this.code(E),_){const T=this.name("e");this._currNode=b.catch=new y(T),_(T)}return R&&(this._currNode=b.finally=new P,this.code(R)),this._endBlockNode(y,P)}throw(E){return this._leafNode(new f(E))}block(E,_){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(_),this}endBlock(E){const _=this._blockStarts.pop();if(_===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-_;if(R<0||E!==void 0&&R!==E)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${E} expected`);return this._nodes.length=_,this}func(E,_=e.nil,R,b){return this._blockNode(new B(E,_,R)),b&&this.code(b).endFunc(),this}endFunc(){return this._endBlockNode(B)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,_){const R=this._currNode;if(R instanceof E||_&&R instanceof _)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${_?`${E.kind}/${_.kind}`:E.kind}"`)}_elseNode(E){const _=this._currNode;if(!(_ instanceof D))throw new Error('CodeGen: "else" without "if"');return this._currNode=_.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const _=this._nodes;_[_.length-1]=E}}t.CodeGen=L;function U(C,E){for(const _ in E)C[_]=(C[_]||0)+(E[_]||0);return C}function Y(C,E){return E instanceof e._CodeOrName?U(C,E.names):C}function H(C,E,_){if(C instanceof e.Name)return R(C);if(!b(C))return C;return new e._Code(C._items.reduce((T,j)=>(j instanceof e.Name&&(j=R(j)),j instanceof e._Code?T.push(...j._items):T.push(j),T),[]));function R(T){const j=_[T.str];return j===void 0||E[T.str]!==1?T:(delete E[T.str],j)}function b(T){return T instanceof e._Code&&T._items.some(j=>j instanceof e.Name&&E[j.str]===1&&_[j.str]!==void 0)}}function se(C,E){for(const _ in E)C[_]=(C[_]||0)-(E[_]||0)}function fe(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,e._)`!${A(C)}`}t.not=fe;const K=N(t.operators.AND);function z(...C){return C.reduce(K)}t.and=z;const te=N(t.operators.OR);function V(...C){return C.reduce(te)}t.or=V;function N(C){return(E,_)=>E===e.nil?_:_===e.nil?E:(0,e._)`${A(E)} ${C} ${A(_)}`}function A(C){return C instanceof e.Name?C:(0,e._)`(${C})`}})(ft);var bt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=ft,r=Ec;function n(B){const O={};for(const M of B)O[M]=!0;return O}t.toHash=n;function u(B,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(s(B,O),!i(O,B.self.RULES.all))}t.alwaysValidSchema=u;function s(B,O=B.schema){const{opts:M,self:y}=B;if(!M.strictSchema||typeof O=="boolean")return;const P=y.RULES.keywords;for(const L in O)P[L]||k(B,`unknown keyword: "${L}"`)}t.checkUnknownRules=s;function i(B,O){if(typeof B=="boolean")return!B;for(const M in B)if(O[M])return!0;return!1}t.schemaHasRules=i;function o(B,O){if(typeof B=="boolean")return!B;for(const M in B)if(M!=="$ref"&&O.all[M])return!0;return!1}t.schemaHasRulesButRef=o;function a({topSchemaRef:B,schemaPath:O},M,y,P){if(!P){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,e._)`${M}`}return(0,e._)`${B}${O}${(0,e.getProperty)(y)}`}t.schemaRefOrVal=a;function c(B){return d(decodeURIComponent(B))}t.unescapeFragment=c;function l(B){return encodeURIComponent(f(B))}t.escapeFragment=l;function f(B){return typeof B=="number"?`${B}`:B.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function d(B){return B.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=d;function p(B,O){if(Array.isArray(B))for(const M of B)O(M);else O(B)}t.eachItem=p;function h({mergeNames:B,mergeToName:O,mergeValues:M,resultToName:y}){return(P,L,U,Y)=>{const H=U===void 0?L:U instanceof e.Name?(L instanceof e.Name?B(P,L,U):O(P,L,U),U):L instanceof e.Name?(O(P,U,L),L):M(L,U);return Y===e.Name&&!(H instanceof e.Name)?y(P,H):H}}t.mergeEvaluated={props:h({mergeNames:(B,O,M)=>B.if((0,e._)`${M} !== true && ${O} !== undefined`,()=>{B.if((0,e._)`${O} === true`,()=>B.assign(M,!0),()=>B.assign(M,(0,e._)`${M} || {}`).code((0,e._)`Object.assign(${M}, ${O})`))}),mergeToName:(B,O,M)=>B.if((0,e._)`${M} !== true`,()=>{O===!0?B.assign(M,!0):(B.assign(M,(0,e._)`${M} || {}`),S(B,M,O))}),mergeValues:(B,O)=>B===!0?!0:{...B,...O},resultToName:v}),items:h({mergeNames:(B,O,M)=>B.if((0,e._)`${M} !== true && ${O} !== undefined`,()=>B.assign(M,(0,e._)`${O} === true ? true : ${M} > ${O} ? ${M} : ${O}`)),mergeToName:(B,O,M)=>B.if((0,e._)`${M} !== true`,()=>B.assign(M,O===!0?!0:(0,e._)`${M} > ${O} ? ${M} : ${O}`)),mergeValues:(B,O)=>B===!0?!0:Math.max(B,O),resultToName:(B,O)=>B.var("items",O)})};function v(B,O){if(O===!0)return B.var("props",!0);const M=B.var("props",(0,e._)`{}`);return O!==void 0&&S(B,M,O),M}t.evaluatedPropsToName=v;function S(B,O,M){Object.keys(M).forEach(y=>B.assign((0,e._)`${O}${(0,e.getProperty)(y)}`,!0))}t.setEvaluated=S;const D={};function g(B,O){return B.scopeValue("func",{ref:O,code:D[O.code]||(D[O.code]=new r._Code(O.code))})}t.useFunc=g;var F;(function(B){B[B.Num=0]="Num",B[B.Str=1]="Str"})(F=t.Type||(t.Type={}));function I(B,O,M){if(B instanceof e.Name){const y=O===F.Num;return M?y?(0,e._)`"[" + ${B} + "]"`:(0,e._)`"['" + ${B} + "']"`:y?(0,e._)`"/" + ${B}`:(0,e._)`"/" + ${B}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,e.getProperty)(B).toString():"/"+f(B)}t.getErrorPath=I;function k(B,O,M=B.opts.strictSchema){if(M){if(O=`strict mode: ${O}`,M===!0)throw new Error(O);B.self.logger.warn(O)}}t.checkStrictMode=k})(bt);var bu={};Object.defineProperty(bu,"__esModule",{value:!0});const Pr=ft,K1e={data:new Pr.Name("data"),valCxt:new Pr.Name("valCxt"),instancePath:new Pr.Name("instancePath"),parentData:new Pr.Name("parentData"),parentDataProperty:new Pr.Name("parentDataProperty"),rootData:new Pr.Name("rootData"),dynamicAnchors:new Pr.Name("dynamicAnchors"),vErrors:new Pr.Name("vErrors"),errors:new Pr.Name("errors"),this:new Pr.Name("this"),self:new Pr.Name("self"),scope:new Pr.Name("scope"),json:new Pr.Name("json"),jsonPos:new Pr.Name("jsonPos"),jsonLen:new Pr.Name("jsonLen"),jsonPart:new Pr.Name("jsonPart")};bu.default=K1e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ft,r=bt,n=bu;t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:D})=>D?(0,e.str)`"${S}" keyword must be ${D} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function u(S,D=t.keywordError,g,F){const{it:I}=S,{gen:k,compositeRule:B,allErrors:O}=I,M=f(S,D,g);F??(B||O)?a(k,M):c(I,(0,e._)`[${M}]`)}t.reportError=u;function s(S,D=t.keywordError,g){const{it:F}=S,{gen:I,compositeRule:k,allErrors:B}=F,O=f(S,D,g);a(I,O),k||B||c(F,n.default.vErrors)}t.reportExtraError=s;function i(S,D){S.assign(n.default.errors,D),S.if((0,e._)`${n.default.vErrors} !== null`,()=>S.if(D,()=>S.assign((0,e._)`${n.default.vErrors}.length`,D),()=>S.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:S,keyword:D,schemaValue:g,data:F,errsCount:I,it:k}){if(I===void 0)throw new Error("ajv implementation error");const B=S.name("err");S.forRange("i",I,n.default.errors,O=>{S.const(B,(0,e._)`${n.default.vErrors}[${O}]`),S.if((0,e._)`${B}.instancePath === undefined`,()=>S.assign((0,e._)`${B}.instancePath`,(0,e.strConcat)(n.default.instancePath,k.errorPath))),S.assign((0,e._)`${B}.schemaPath`,(0,e.str)`${k.errSchemaPath}/${D}`),k.opts.verbose&&(S.assign((0,e._)`${B}.schema`,g),S.assign((0,e._)`${B}.data`,F))})}t.extendErrors=o;function a(S,D){const g=S.const("err",D);S.if((0,e._)`${n.default.vErrors} === null`,()=>S.assign(n.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${n.default.vErrors}.push(${g})`),S.code((0,e._)`${n.default.errors}++`)}function c(S,D){const{gen:g,validateName:F,schemaEnv:I}=S;I.$async?g.throw((0,e._)`new ${S.ValidationError}(${D})`):(g.assign((0,e._)`${F}.errors`,D),g.return(!1))}const l={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(S,D,g){const{createErrors:F}=S.it;return F===!1?(0,e._)`{}`:d(S,D,g)}function d(S,D,g={}){const{gen:F,it:I}=S,k=[p(I,g),h(S,g)];return v(S,D,k),F.object(...k)}function p({errorPath:S},{instancePath:D}){const g=D?(0,e.str)`${S}${(0,r.getErrorPath)(D,r.Type.Str)}`:S;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,g)]}function h({keyword:S,it:{errSchemaPath:D}},{schemaPath:g,parentSchema:F}){let I=F?D:(0,e.str)`${D}/${S}`;return g&&(I=(0,e.str)`${I}${(0,r.getErrorPath)(g,r.Type.Str)}`),[l.schemaPath,I]}function v(S,{params:D,message:g},F){const{keyword:I,data:k,schemaValue:B,it:O}=S,{opts:M,propertyName:y,topSchemaRef:P,schemaPath:L}=O;F.push([l.keyword,I],[l.params,typeof D=="function"?D(S):D||(0,e._)`{}`]),M.messages&&F.push([l.message,typeof g=="function"?g(S):g]),M.verbose&&F.push([l.schema,B],[l.parentSchema,(0,e._)`${P}${L}`],[n.default.data,k]),y&&F.push([l.propertyName,y])}})(ul);Object.defineProperty(co,"__esModule",{value:!0});co.boolOrEmptySchema=co.topBoolOrEmptySchema=void 0;const J1e=ul,H1e=ft,W1e=bu,z1e={message:"boolean schema is false"};function Q1e(t){const{gen:e,schema:r,validateName:n}=t;r===!1?kw(t,!1):typeof r=="object"&&r.$async===!0?e.return(W1e.default.data):(e.assign((0,H1e._)`${n}.errors`,null),e.return(!0))}co.topBoolOrEmptySchema=Q1e;function Y1e(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),kw(t)):r.var(e,!0)}co.boolOrEmptySchema=Y1e;function kw(t,e){const{gen:r,data:n}=t,u={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,J1e.reportError)(u,z1e,void 0,e)}var sl={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.getRules=oi.isJSONType=void 0;const X1e=["string","number","integer","boolean","null","object","array"],Z1e=new Set(X1e);function efe(t){return typeof t=="string"&&Z1e.has(t)}oi.isJSONType=efe;function tfe(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}oi.getRules=tfe;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.shouldUseRule=Ru.shouldUseGroup=Ru.schemaHasRulesForType=void 0;function rfe({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&Ow(t,n)}Ru.schemaHasRulesForType=rfe;function Ow(t,e){return e.rules.some(r=>Nw(t,r))}Ru.shouldUseGroup=Ow;function Nw(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ru.shouldUseRule=Nw;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=oi,r=Ru,n=ul,u=ft,s=bt;var i;(function(F){F[F.Correct=0]="Correct",F[F.Wrong=1]="Wrong"})(i=t.DataType||(t.DataType={}));function o(F){const I=a(F.type);if(I.includes("null")){if(F.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&F.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');F.nullable===!0&&I.push("null")}return I}t.getSchemaTypes=o;function a(F){const I=Array.isArray(F)?F:F?[F]:[];if(I.every(e.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}t.getJSONTypes=a;function c(F,I){const{gen:k,data:B,opts:O}=F,M=f(I,O.coerceTypes),y=I.length>0&&!(M.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(F,I[0]));if(y){const P=v(I,B,O.strictNumbers,i.Wrong);k.if(P,()=>{M.length?d(F,I,M):D(F)})}return y}t.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function f(F,I){return I?F.filter(k=>l.has(k)||I==="array"&&k==="array"):[]}function d(F,I,k){const{gen:B,data:O,opts:M}=F,y=B.let("dataType",(0,u._)`typeof ${O}`),P=B.let("coerced",(0,u._)`undefined`);M.coerceTypes==="array"&&B.if((0,u._)`${y} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>B.assign(O,(0,u._)`${O}[0]`).assign(y,(0,u._)`typeof ${O}`).if(v(I,O,M.strictNumbers),()=>B.assign(P,O))),B.if((0,u._)`${P} !== undefined`);for(const U of k)(l.has(U)||U==="array"&&M.coerceTypes==="array")&&L(U);B.else(),D(F),B.endIf(),B.if((0,u._)`${P} !== undefined`,()=>{B.assign(O,P),p(F,P)});function L(U){switch(U){case"string":B.elseIf((0,u._)`${y} == "number" || ${y} == "boolean"`).assign(P,(0,u._)`"" + ${O}`).elseIf((0,u._)`${O} === null`).assign(P,(0,u._)`""`);return;case"number":B.elseIf((0,u._)`${y} == "boolean" || ${O} === null
              || (${y} == "string" && ${O} && ${O} == +${O})`).assign(P,(0,u._)`+${O}`);return;case"integer":B.elseIf((0,u._)`${y} === "boolean" || ${O} === null
              || (${y} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(P,(0,u._)`+${O}`);return;case"boolean":B.elseIf((0,u._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(P,!1).elseIf((0,u._)`${O} === "true" || ${O} === 1`).assign(P,!0);return;case"null":B.elseIf((0,u._)`${O} === "" || ${O} === 0 || ${O} === false`),B.assign(P,null);return;case"array":B.elseIf((0,u._)`${y} === "string" || ${y} === "number"
              || ${y} === "boolean" || ${O} === null`).assign(P,(0,u._)`[${O}]`)}}}function p({gen:F,parentData:I,parentDataProperty:k},B){F.if((0,u._)`${I} !== undefined`,()=>F.assign((0,u._)`${I}[${k}]`,B))}function h(F,I,k,B=i.Correct){const O=B===i.Correct?u.operators.EQ:u.operators.NEQ;let M;switch(F){case"null":return(0,u._)`${I} ${O} null`;case"array":M=(0,u._)`Array.isArray(${I})`;break;case"object":M=(0,u._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":M=y((0,u._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":M=y();break;default:return(0,u._)`typeof ${I} ${O} ${F}`}return B===i.Correct?M:(0,u.not)(M);function y(P=u.nil){return(0,u.and)((0,u._)`typeof ${I} == "number"`,P,k?(0,u._)`isFinite(${I})`:u.nil)}}t.checkDataType=h;function v(F,I,k,B){if(F.length===1)return h(F[0],I,k,B);let O;const M=(0,s.toHash)(F);if(M.array&&M.object){const y=(0,u._)`typeof ${I} != "object"`;O=M.null?y:(0,u._)`!${I} || ${y}`,delete M.null,delete M.array,delete M.object}else O=u.nil;M.number&&delete M.integer;for(const y in M)O=(0,u.and)(O,h(y,I,k,B));return O}t.checkDataTypes=v;const S={message:({schema:F})=>`must be ${F}`,params:({schema:F,schemaValue:I})=>typeof F=="string"?(0,u._)`{type: ${F}}`:(0,u._)`{type: ${I}}`};function D(F){const I=g(F);(0,n.reportError)(I,S)}t.reportTypeError=D;function g(F){const{gen:I,data:k,schema:B}=F,O=(0,s.schemaRefOrVal)(F,B,"type");return{gen:I,keyword:"type",data:k,schema:B.type,schemaCode:O,schemaValue:O,parentSchema:B,params:{},it:F}}})(sl);var F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.assignDefaults=void 0;const Pi=ft,nfe=bt;function ufe(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const u in r)Q8(t,u,r[u].default);else e==="array"&&Array.isArray(n)&&n.forEach((u,s)=>Q8(t,s,u.default))}F0.assignDefaults=ufe;function Q8(t,e,r){const{gen:n,compositeRule:u,data:s,opts:i}=t;if(r===void 0)return;const o=(0,Pi._)`${s}${(0,Pi.getProperty)(e)}`;if(u){(0,nfe.checkStrictMode)(t,`default is ignored for: ${o}`);return}let a=(0,Pi._)`${o} === undefined`;i.useDefaults==="empty"&&(a=(0,Pi._)`${a} || ${o} === null || ${o} === ""`),n.if(a,(0,Pi._)`${o} = ${(0,Pi.stringify)(r)}`)}var ou={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.validateUnion=at.validateArray=at.usePattern=at.callValidateCode=at.schemaProperties=at.allSchemaProperties=at.noPropertyInData=at.propertyInData=at.isOwnProperty=at.hasPropFunc=at.reportMissingProp=at.checkMissingProp=at.checkReportMissingProp=void 0;const Nt=ft,VE=bt,Xu=bu,sfe=bt;function ife(t,e){const{gen:r,data:n,it:u}=t;r.if(KE(r,n,e,u.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Nt._)`${e}`},!0),t.error()})}at.checkReportMissingProp=ife;function ofe({gen:t,data:e,it:{opts:r}},n,u){return(0,Nt.or)(...n.map(s=>(0,Nt.and)(KE(t,e,s,r.ownProperties),(0,Nt._)`${u} = ${s}`)))}at.checkMissingProp=ofe;function afe(t,e){t.setParams({missingProperty:e},!0),t.error()}at.reportMissingProp=afe;function Rw(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Nt._)`Object.prototype.hasOwnProperty`})}at.hasPropFunc=Rw;function UE(t,e,r){return(0,Nt._)`${Rw(t)}.call(${e}, ${r})`}at.isOwnProperty=UE;function cfe(t,e,r,n){const u=(0,Nt._)`${e}${(0,Nt.getProperty)(r)} !== undefined`;return n?(0,Nt._)`${u} && ${UE(t,e,r)}`:u}at.propertyInData=cfe;function KE(t,e,r,n){const u=(0,Nt._)`${e}${(0,Nt.getProperty)(r)} === undefined`;return n?(0,Nt.or)(u,(0,Nt.not)(UE(t,e,r))):u}at.noPropertyInData=KE;function qw(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}at.allSchemaProperties=qw;function lfe(t,e){return qw(e).filter(r=>!(0,VE.alwaysValidSchema)(t,e[r]))}at.schemaProperties=lfe;function ffe({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:u,errorPath:s},it:i},o,a,c){const l=c?(0,Nt._)`${t}, ${e}, ${n}${u}`:e,f=[[Xu.default.instancePath,(0,Nt.strConcat)(Xu.default.instancePath,s)],[Xu.default.parentData,i.parentData],[Xu.default.parentDataProperty,i.parentDataProperty],[Xu.default.rootData,Xu.default.rootData]];i.opts.dynamicRef&&f.push([Xu.default.dynamicAnchors,Xu.default.dynamicAnchors]);const d=(0,Nt._)`${l}, ${r.object(...f)}`;return a!==Nt.nil?(0,Nt._)`${o}.call(${a}, ${d})`:(0,Nt._)`${o}(${d})`}at.callValidateCode=ffe;const dfe=(0,Nt._)`new RegExp`;function pfe({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:u}=e.code,s=u(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Nt._)`${u.code==="new RegExp"?dfe:(0,sfe.useFunc)(t,u)}(${r}, ${n})`})}at.usePattern=pfe;function hfe(t){const{gen:e,data:r,keyword:n,it:u}=t,s=e.name("valid");if(u.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const a=e.const("len",(0,Nt._)`${r}.length`);e.forRange("i",0,a,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:VE.Type.Num},s),e.if((0,Nt.not)(s),o)})}}at.validateArray=hfe;function mfe(t){const{gen:e,schema:r,keyword:n,it:u}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(a=>(0,VE.alwaysValidSchema)(u,a))&&!u.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((a,c)=>{const l=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(i,(0,Nt._)`${i} || ${o}`),t.mergeValidEvaluated(l,o)||e.if((0,Nt.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}at.validateUnion=mfe;Object.defineProperty(ou,"__esModule",{value:!0});ou.validateKeywordUsage=ou.validSchemaType=ou.funcKeywordCode=ou.macroKeywordCode=void 0;const qr=ft,Ks=bu,Dfe=at,Efe=ul;function yfe(t,e){const{gen:r,keyword:n,schema:u,parentSchema:s,it:i}=t,o=e.macro.call(i.self,u,s,i),a=xw(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:qr.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:a,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}ou.macroKeywordCode=yfe;function vfe(t,e){var r;const{gen:n,keyword:u,schema:s,parentSchema:i,$data:o,it:a}=t;Afe(a,e);const c=!o&&e.compile?e.compile.call(a.self,s,i,a):e.validate,l=xw(n,u,c),f=n.let("valid");t.block$data(f,d),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function d(){if(e.errors===!1)v(),e.modifying&&Y8(t),S(()=>t.error());else{const D=e.async?p():h();e.modifying&&Y8(t),S(()=>gfe(t,D))}}function p(){const D=n.let("ruleErrs",null);return n.try(()=>v((0,qr._)`await `),g=>n.assign(f,!1).if((0,qr._)`${g} instanceof ${a.ValidationError}`,()=>n.assign(D,(0,qr._)`${g}.errors`),()=>n.throw(g))),D}function h(){const D=(0,qr._)`${l}.errors`;return n.assign(D,null),v(qr.nil),D}function v(D=e.async?(0,qr._)`await `:qr.nil){const g=a.opts.passContext?Ks.default.this:Ks.default.self,F=!("compile"in e&&!o||e.schema===!1);n.assign(f,(0,qr._)`${D}${(0,Dfe.callValidateCode)(t,l,g,F)}`,e.modifying)}function S(D){var g;n.if((0,qr.not)((g=e.valid)!==null&&g!==void 0?g:f),D)}}ou.funcKeywordCode=vfe;function Y8(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,qr._)`${n.parentData}[${n.parentDataProperty}]`))}function gfe(t,e){const{gen:r}=t;r.if((0,qr._)`Array.isArray(${e})`,()=>{r.assign(Ks.default.vErrors,(0,qr._)`${Ks.default.vErrors} === null ? ${e} : ${Ks.default.vErrors}.concat(${e})`).assign(Ks.default.errors,(0,qr._)`${Ks.default.vErrors}.length`),(0,Efe.extendErrors)(t)},()=>t.error())}function Afe({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function xw(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,qr.stringify)(r)})}function Sfe(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}ou.validSchemaType=Sfe;function Ffe({schema:t,opts:e,self:r,errSchemaPath:n},u,s){if(Array.isArray(u.keyword)?!u.keyword.includes(s):u.keyword!==s)throw new Error("ajv implementation error");const i=u.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(u.validateSchema&&!u.validateSchema(t[s])){const a=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(u.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(a);else throw new Error(a)}}ou.validateKeywordUsage=Ffe;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.extendSubschemaMode=cs.extendSubschemaData=cs.getSubschema=void 0;const uu=ft,Mw=bt;function bfe(t,{keyword:e,schemaProp:r,schema:n,schemaPath:u,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,uu._)`${t.schemaPath}${(0,uu.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,uu._)`${t.schemaPath}${(0,uu.getProperty)(e)}${(0,uu.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Mw.escapeFragment)(r)}`}}if(n!==void 0){if(u===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:u,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}cs.getSubschema=bfe;function Cfe(t,e,{dataProp:r,dataPropType:n,data:u,dataTypes:s,propertyName:i}){if(u!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:l,opts:f}=e,d=o.let("data",(0,uu._)`${e.data}${(0,uu.getProperty)(r)}`,!0);a(d),t.errorPath=(0,uu.str)`${c}${(0,Mw.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,uu._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(u!==void 0){const c=u instanceof uu.Name?u:o.let("data",u,!0);a(c),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function a(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}cs.extendSubschemaData=Cfe;function _fe(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:u,allErrors:s}){n!==void 0&&(t.compositeRule=n),u!==void 0&&(t.createErrors=u),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}cs.extendSubschemaMode=_fe;var _r={},lm={},wfe={get exports(){return lm},set exports(t){lm=t}},ss=wfe.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},u=r.post||function(){};c1(e,n,u,t,"",t)};ss.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ss.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ss.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ss.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function c1(t,e,r,n,u,s,i,o,a,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,u,s,i,o,a,c);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in ss.arrayKeywords)for(var d=0;d<f.length;d++)c1(t,e,r,f[d],u+"/"+l+"/"+d,s,u,l,n,d)}else if(l in ss.propsKeywords){if(f&&typeof f=="object")for(var p in f)c1(t,e,r,f[p],u+"/"+l+"/"+Tfe(p),s,u,l,n,p)}else(l in ss.keywords||t.allKeys&&!(l in ss.skipKeywords))&&c1(t,e,r,f,u+"/"+l,s,u,l,n)}r(n,u,s,i,o,a,c)}}function Tfe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(_r,"__esModule",{value:!0});_r.getSchemaRefs=_r.resolveUrl=_r.normalizeId=_r._getFullPath=_r.getFullPath=_r.inlineRef=void 0;const $fe=bt,Bfe=l0,Ife=lm,Pfe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function kfe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!fm(t):e?jw(t)<=e:!1}_r.inlineRef=kfe;const Ofe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function fm(t){for(const e in t){if(Ofe.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(fm)||typeof r=="object"&&fm(r))return!0}return!1}function jw(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Pfe.has(r)&&(typeof t[r]=="object"&&(0,$fe.eachItem)(t[r],n=>e+=jw(n)),e===1/0))return 1/0}return e}function Lw(t,e="",r){r!==!1&&(e=Xi(e));const n=t.parse(e);return Gw(t,n)}_r.getFullPath=Lw;function Gw(t,e){return t.serialize(e).split("#")[0]+"#"}_r._getFullPath=Gw;const Nfe=/#\/?$/;function Xi(t){return t?t.replace(Nfe,""):""}_r.normalizeId=Xi;function Rfe(t,e,r){return r=Xi(r),t.resolve(e,r)}_r.resolveUrl=Rfe;const qfe=/^[a-z_][-a-z0-9._]*$/i;function xfe(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,u=Xi(t[r]||e),s={"":u},i=Lw(n,u,!1),o={},a=new Set;return Ife(t,{allKeys:!0},(f,d,p,h)=>{if(h===void 0)return;const v=i+d;let S=s[h];typeof f[r]=="string"&&(S=D.call(this,f[r])),g.call(this,f.$anchor),g.call(this,f.$dynamicAnchor),s[d]=S;function D(F){const I=this.opts.uriResolver.resolve;if(F=Xi(S?I(S,F):F),a.has(F))throw l(F);a.add(F);let k=this.refs[F];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?c(f,k.schema,F):F!==Xi(v)&&(F[0]==="#"?(c(f,o[F],F),o[F]=f):this.refs[F]=v),F}function g(F){if(typeof F=="string"){if(!qfe.test(F))throw new Error(`invalid anchor "${F}"`);D.call(this,`#${F}`)}}}),o;function c(f,d,p){if(d!==void 0&&!Bfe(f,d))throw l(p)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}_r.getSchemaRefs=xfe;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getData=Rn.KeywordCxt=Rn.validateFunctionCode=void 0;const Vw=co,X8=sl,JE=Ru,Af=sl,Mfe=F0,tc=ou,D2=cs,Re=ft,Qe=bu,jfe=_r,qu=bt,ba=ul;function Lfe(t){if(Jw(t)&&(Hw(t),Kw(t))){Ufe(t);return}Uw(t,()=>(0,Vw.topBoolOrEmptySchema)(t))}Rn.validateFunctionCode=Lfe;function Uw({gen:t,validateName:e,schema:r,schemaEnv:n,opts:u},s){u.code.es5?t.func(e,(0,Re._)`${Qe.default.data}, ${Qe.default.valCxt}`,n.$async,()=>{t.code((0,Re._)`"use strict"; ${Z8(r,u)}`),Vfe(t,u),t.code(s)}):t.func(e,(0,Re._)`${Qe.default.data}, ${Gfe(u)}`,n.$async,()=>t.code(Z8(r,u)).code(s))}function Gfe(t){return(0,Re._)`{${Qe.default.instancePath}="", ${Qe.default.parentData}, ${Qe.default.parentDataProperty}, ${Qe.default.rootData}=${Qe.default.data}${t.dynamicRef?(0,Re._)`, ${Qe.default.dynamicAnchors}={}`:Re.nil}}={}`}function Vfe(t,e){t.if(Qe.default.valCxt,()=>{t.var(Qe.default.instancePath,(0,Re._)`${Qe.default.valCxt}.${Qe.default.instancePath}`),t.var(Qe.default.parentData,(0,Re._)`${Qe.default.valCxt}.${Qe.default.parentData}`),t.var(Qe.default.parentDataProperty,(0,Re._)`${Qe.default.valCxt}.${Qe.default.parentDataProperty}`),t.var(Qe.default.rootData,(0,Re._)`${Qe.default.valCxt}.${Qe.default.rootData}`),e.dynamicRef&&t.var(Qe.default.dynamicAnchors,(0,Re._)`${Qe.default.valCxt}.${Qe.default.dynamicAnchors}`)},()=>{t.var(Qe.default.instancePath,(0,Re._)`""`),t.var(Qe.default.parentData,(0,Re._)`undefined`),t.var(Qe.default.parentDataProperty,(0,Re._)`undefined`),t.var(Qe.default.rootData,Qe.default.data),e.dynamicRef&&t.var(Qe.default.dynamicAnchors,(0,Re._)`{}`)})}function Ufe(t){const{schema:e,opts:r,gen:n}=t;Uw(t,()=>{r.$comment&&e.$comment&&zw(t),zfe(t),n.let(Qe.default.vErrors,null),n.let(Qe.default.errors,0),r.unevaluated&&Kfe(t),Ww(t),Xfe(t)})}function Kfe(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Re._)`${r}.evaluated`),e.if((0,Re._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Re._)`${t.evaluated}.props`,(0,Re._)`undefined`)),e.if((0,Re._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Re._)`${t.evaluated}.items`,(0,Re._)`undefined`))}function Z8(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Re._)`/*# sourceURL=${r} */`:Re.nil}function Jfe(t,e){if(Jw(t)&&(Hw(t),Kw(t))){Hfe(t,e);return}(0,Vw.boolOrEmptySchema)(t,e)}function Kw({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Jw(t){return typeof t.schema!="boolean"}function Hfe(t,e){const{schema:r,gen:n,opts:u}=t;u.$comment&&r.$comment&&zw(t),Qfe(t),Yfe(t);const s=n.const("_errs",Qe.default.errors);Ww(t,s),n.var(e,(0,Re._)`${s} === ${Qe.default.errors}`)}function Hw(t){(0,qu.checkUnknownRules)(t),Wfe(t)}function Ww(t,e){if(t.opts.jtd)return eC(t,[],!1,e);const r=(0,X8.getSchemaTypes)(t.schema),n=(0,X8.coerceAndCheckDataType)(t,r);eC(t,r,!n,e)}function Wfe(t){const{schema:e,errSchemaPath:r,opts:n,self:u}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,qu.schemaHasRulesButRef)(e,u.RULES)&&u.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function zfe(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,qu.checkStrictMode)(t,"default is ignored in the schema root")}function Qfe(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,jfe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Yfe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function zw({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:u}){const s=r.$comment;if(u.$comment===!0)t.code((0,Re._)`${Qe.default.self}.logger.log(${s})`);else if(typeof u.$comment=="function"){const i=(0,Re.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Re._)`${Qe.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function Xfe(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:u,opts:s}=t;r.$async?e.if((0,Re._)`${Qe.default.errors} === 0`,()=>e.return(Qe.default.data),()=>e.throw((0,Re._)`new ${u}(${Qe.default.vErrors})`)):(e.assign((0,Re._)`${n}.errors`,Qe.default.vErrors),s.unevaluated&&Zfe(t),e.return((0,Re._)`${Qe.default.errors} === 0`))}function Zfe({gen:t,evaluated:e,props:r,items:n}){r instanceof Re.Name&&t.assign((0,Re._)`${e}.props`,r),n instanceof Re.Name&&t.assign((0,Re._)`${e}.items`,n)}function eC(t,e,r,n){const{gen:u,schema:s,data:i,allErrors:o,opts:a,self:c}=t,{RULES:l}=c;if(s.$ref&&(a.ignoreKeywordsWithRef||!(0,qu.schemaHasRulesButRef)(s,l))){u.block(()=>Xw(t,"$ref",l.all.$ref.definition));return}a.jtd||e0e(t,e),u.block(()=>{for(const d of l.rules)f(d);f(l.post)});function f(d){(0,JE.shouldUseGroup)(s,d)&&(d.type?(u.if((0,Af.checkDataType)(d.type,i,a.strictNumbers)),tC(t,d),e.length===1&&e[0]===d.type&&r&&(u.else(),(0,Af.reportTypeError)(t)),u.endIf()):tC(t,d),o||u.if((0,Re._)`${Qe.default.errors} === ${n||0}`))}}function tC(t,e){const{gen:r,schema:n,opts:{useDefaults:u}}=t;u&&(0,Mfe.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,JE.shouldUseRule)(n,s)&&Xw(t,s.keyword,s.definition,e.type)})}function e0e(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(t0e(t,e),t.opts.allowUnionTypes||r0e(t,e),n0e(t,t.dataTypes))}function t0e(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Qw(t.dataTypes,r)||HE(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),s0e(t,e)}}function r0e(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&HE(t,"use allowUnionTypes to allow union type keyword")}function n0e(t,e){const r=t.self.RULES.all;for(const n in r){const u=r[n];if(typeof u=="object"&&(0,JE.shouldUseRule)(t.schema,u)){const{type:s}=u.definition;s.length&&!s.some(i=>u0e(e,i))&&HE(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function u0e(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Qw(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function s0e(t,e){const r=[];for(const n of t.dataTypes)Qw(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function HE(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,qu.checkStrictMode)(t,e,t.opts.strictTypes)}class Yw{constructor(e,r,n){if((0,tc.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,qu.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Zw(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,tc.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Qe.default.errors))}result(e,r,n){this.failResult((0,Re.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Re.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Re._)`${r} !== undefined && (${(0,Re.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?ba.reportExtraError:ba.reportError)(this,this.def.error,r)}$dataError(){(0,ba.reportError)(this,this.def.$dataError||ba.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ba.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Re.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Re.nil,r=Re.nil){if(!this.$data)return;const{gen:n,schemaCode:u,schemaType:s,def:i}=this;n.if((0,Re.or)((0,Re._)`${u} === undefined`,r)),e!==Re.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Re.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:u,it:s}=this;return(0,Re.or)(i(),o());function i(){if(n.length){if(!(r instanceof Re.Name))throw new Error("ajv implementation error");const a=Array.isArray(n)?n:[n];return(0,Re._)`${(0,Af.checkDataTypes)(a,r,s.opts.strictNumbers,Af.DataType.Wrong)}`}return Re.nil}function o(){if(u.validateSchema){const a=e.scopeValue("validate$data",{ref:u.validateSchema});return(0,Re._)`!${a}(${r})`}return Re.nil}}subschema(e,r){const n=(0,D2.getSubschema)(this.it,e);(0,D2.extendSubschemaData)(n,this.it,e),(0,D2.extendSubschemaMode)(n,e);const u={...this.it,...n,items:void 0,props:void 0};return Jfe(u,r),u}mergeEvaluated(e,r){const{it:n,gen:u}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=qu.mergeEvaluated.props(u,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=qu.mergeEvaluated.items(u,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:u}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return u.if(r,()=>this.mergeEvaluated(e,Re.Name)),!0}}Rn.KeywordCxt=Yw;function Xw(t,e,r,n){const u=new Yw(t,r,e);"code"in r?r.code(u,n):u.$data&&r.validate?(0,tc.funcKeywordCode)(u,r):"macro"in r?(0,tc.macroKeywordCode)(u,r):(r.compile||r.validate)&&(0,tc.funcKeywordCode)(u,r)}const i0e=/^\/(?:[^~]|~0|~1)*$/,o0e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Zw(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let u,s;if(t==="")return Qe.default.rootData;if(t[0]==="/"){if(!i0e.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);u=t,s=Qe.default.rootData}else{const c=o0e.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const l=+c[1];if(u=c[2],u==="#"){if(l>=e)throw new Error(a("property/index",l));return n[e-l]}if(l>e)throw new Error(a("data",l));if(s=r[e-l],!u)return s}let i=s;const o=u.split("/");for(const c of o)c&&(s=(0,Re._)`${s}${(0,Re.getProperty)((0,qu.unescapeJsonPointer)(c))}`,i=(0,Re._)`${i} && ${s}`);return i;function a(c,l){return`Cannot access ${c} ${l} levels up, current level is ${e}`}}Rn.getData=Zw;var il={};Object.defineProperty(il,"__esModule",{value:!0});class a0e extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}il.default=a0e;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});const E2=_r;class c0e extends Error{constructor(e,r,n,u){super(u||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,E2.resolveUrl)(e,r,n),this.missingSchema=(0,E2.normalizeId)((0,E2.getFullPath)(e,this.missingRef))}}ol.default=c0e;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.resolveSchema=Hr.getCompilingSchema=Hr.resolveRef=Hr.compileSchema=Hr.SchemaEnv=void 0;const _n=ft,l0e=il,qs=bu,Pn=_r,rC=bt,f0e=Rn;class b0{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Pn.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Hr.SchemaEnv=b0;function WE(t){const e=eT.call(this,t);if(e)return e;const r=(0,Pn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:u}=this.opts.code,{ownProperties:s}=this.opts,i=new _n.CodeGen(this.scope,{es5:n,lines:u,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:l0e.default,code:(0,_n._)`require("ajv/dist/runtime/validation_error").default`}));const a=i.scopeName("validate");t.validateName=a;const c={gen:i,allErrors:this.opts.allErrors,data:qs.default.data,parentData:qs.default.parentData,parentDataProperty:qs.default.parentDataProperty,dataNames:[qs.default.data],dataPathArr:[_n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,_n.stringify)(t.schema)}:{ref:t.schema}),validateName:a,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:_n.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_n._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(t),(0,f0e.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const f=i.toString();l=`${i.scopeRefs(qs.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,t));const p=new Function(`${qs.default.self}`,`${qs.default.scope}`,l)(this,this.scope.get());if(this.scope.value(a,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:a,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:h,items:v}=c;p.evaluated={props:h instanceof _n.Name?void 0:h,items:v instanceof _n.Name?void 0:v,dynamicProps:h instanceof _n.Name,dynamicItems:v instanceof _n.Name},p.source&&(p.source.evaluated=(0,_n.stringify)(p.evaluated))}return t.validate=p,t}catch(f){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(t)}}Hr.compileSchema=WE;function d0e(t,e,r){var n;r=(0,Pn.resolveUrl)(this.opts.uriResolver,e,r);const u=t.refs[r];if(u)return u;let s=m0e.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new b0({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=p0e.call(this,s)}Hr.resolveRef=d0e;function p0e(t){return(0,Pn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:WE.call(this,t)}function eT(t){for(const e of this._compilations)if(h0e(e,t))return e}Hr.getCompilingSchema=eT;function h0e(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function m0e(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||C0.call(this,t,e)}function C0(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Pn._getFullPath)(this.opts.uriResolver,r);let u=(0,Pn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===u)return y2.call(this,r,t);const s=(0,Pn.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=C0.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:y2.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||WE.call(this,i),s===(0,Pn.normalizeId)(e)){const{schema:o}=i,{schemaId:a}=this.opts,c=o[a];return c&&(u=(0,Pn.resolveUrl)(this.opts.uriResolver,u,c)),new b0({schema:o,schemaId:a,root:t,baseId:u})}return y2.call(this,r,i)}}Hr.resolveSchema=C0;const D0e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y2(t,{baseId:e,schema:r,root:n}){var u;if(((u=t.fragment)===null||u===void 0?void 0:u[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const a=r[(0,rC.unescapeFragment)(o)];if(a===void 0)return;r=a;const c=typeof r=="object"&&r[this.opts.schemaId];!D0e.has(o)&&c&&(e=(0,Pn.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,rC.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Pn.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=C0.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new b0({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const E0e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",y0e="Meta-schema for $data reference (JSON AnySchema extension proposal)",v0e="object",g0e=["$data"],A0e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},S0e=!1,F0e={$id:E0e,description:y0e,type:v0e,required:g0e,properties:A0e,additionalProperties:S0e};var zE={};Object.defineProperty(zE,"__esModule",{value:!0});const tT=Dc;tT.code='require("ajv/dist/runtime/uri").default';zE.default=tT;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Rn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=ft;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=il,u=ol,s=oi,i=Hr,o=ft,a=_r,c=sl,l=bt,f=F0e,d=zE,p=(V,N)=>new RegExp(V,N);p.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},D={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function F(V){var N,A,C,E,_,R,b,T,j,q,X,ie,Ee,Be,Ve,We,He,ke,ce,me,Ce,De,xe,Z,le;const ye=V.strict,x=(N=V.code)===null||N===void 0?void 0:N.optimize,w=x===!0||x===void 0?1:x||0,$=(C=(A=V.code)===null||A===void 0?void 0:A.regExp)!==null&&C!==void 0?C:p,G=(E=V.uriResolver)!==null&&E!==void 0?E:d.default;return{strictSchema:(R=(_=V.strictSchema)!==null&&_!==void 0?_:ye)!==null&&R!==void 0?R:!0,strictNumbers:(T=(b=V.strictNumbers)!==null&&b!==void 0?b:ye)!==null&&T!==void 0?T:!0,strictTypes:(q=(j=V.strictTypes)!==null&&j!==void 0?j:ye)!==null&&q!==void 0?q:"log",strictTuples:(ie=(X=V.strictTuples)!==null&&X!==void 0?X:ye)!==null&&ie!==void 0?ie:"log",strictRequired:(Be=(Ee=V.strictRequired)!==null&&Ee!==void 0?Ee:ye)!==null&&Be!==void 0?Be:!1,code:V.code?{...V.code,optimize:w,regExp:$}:{optimize:w,regExp:$},loopRequired:(Ve=V.loopRequired)!==null&&Ve!==void 0?Ve:g,loopEnum:(We=V.loopEnum)!==null&&We!==void 0?We:g,meta:(He=V.meta)!==null&&He!==void 0?He:!0,messages:(ke=V.messages)!==null&&ke!==void 0?ke:!0,inlineRefs:(ce=V.inlineRefs)!==null&&ce!==void 0?ce:!0,schemaId:(me=V.schemaId)!==null&&me!==void 0?me:"$id",addUsedSchema:(Ce=V.addUsedSchema)!==null&&Ce!==void 0?Ce:!0,validateSchema:(De=V.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:(xe=V.validateFormats)!==null&&xe!==void 0?xe:!0,unicodeRegExp:(Z=V.unicodeRegExp)!==null&&Z!==void 0?Z:!0,int32range:(le=V.int32range)!==null&&le!==void 0?le:!0,uriResolver:G}}class I{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...F(N)};const{es5:A,lines:C}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:v,es5:A,lines:C}),this.logger=U(N.logger);const E=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),k.call(this,S,N,"NOT SUPPORTED"),k.call(this,D,N,"DEPRECATED","warn"),this._metaOpts=P.call(this),N.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&y.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),O.call(this),N.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:A,schemaId:C}=this.opts;let E=f;C==="id"&&(E={...f},E.id=E.$id,delete E.$id),A&&N&&this.addMetaSchema(E,E[C],!1)}defaultMeta(){const{meta:N,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[A]||N:void 0}validate(N,A){let C;if(typeof N=="string"){if(C=this.getSchema(N),!C)throw new Error(`no schema with key or ref "${N}"`)}else C=this.compile(N);const E=C(A);return"$async"in C||(this.errors=C.errors),E}compile(N,A){const C=this._addSchema(N,A);return C.validate||this._compileSchemaEnv(C)}compileAsync(N,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return E.call(this,N,A);async function E(q,X){await _.call(this,q.$schema);const ie=this._addSchema(q,X);return ie.validate||R.call(this,ie)}async function _(q){q&&!this.getSchema(q)&&await E.call(this,{$ref:q},!0)}async function R(q){try{return this._compileSchemaEnv(q)}catch(X){if(!(X instanceof u.default))throw X;return b.call(this,X),await T.call(this,X.missingSchema),R.call(this,q)}}function b({missingSchema:q,missingRef:X}){if(this.refs[q])throw new Error(`AnySchema ${q} is loaded but ${X} cannot be resolved`)}async function T(q){const X=await j.call(this,q);this.refs[q]||await _.call(this,X.$schema),this.refs[q]||this.addSchema(X,q,A)}async function j(q){const X=this._loading[q];if(X)return X;try{return await(this._loading[q]=C(q))}finally{delete this._loading[q]}}}addSchema(N,A,C,E=this.opts.validateSchema){if(Array.isArray(N)){for(const R of N)this.addSchema(R,void 0,C,E);return this}let _;if(typeof N=="object"){const{schemaId:R}=this.opts;if(_=N[R],_!==void 0&&typeof _!="string")throw new Error(`schema ${R} must be string`)}return A=(0,a.normalizeId)(A||_),this._checkUnique(A),this.schemas[A]=this._addSchema(N,C,A,E,!0),this}addMetaSchema(N,A,C=this.opts.validateSchema){return this.addSchema(N,A,!0,C),this}validateSchema(N,A){if(typeof N=="boolean")return!0;let C;if(C=N.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(C,N);if(!E&&A){const _="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(_);else throw new Error(_)}return E}getSchema(N){let A;for(;typeof(A=B.call(this,N))=="string";)N=A;if(A===void 0){const{schemaId:C}=this.opts,E=new i.SchemaEnv({schema:{},schemaId:C});if(A=i.resolveSchema.call(this,E,N),!A)return;this.refs[N]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=B.call(this,N);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const A=N;this._cache.delete(A);let C=N[this.opts.schemaId];return C&&(C=(0,a.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const A of N)this.addKeyword(A);return this}addKeyword(N,A){let C;if(typeof N=="string")C=N,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=C);else if(typeof N=="object"&&A===void 0){if(A=N,C=A.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,C,A),!A)return(0,l.eachItem)(C,_=>se.call(this,_)),this;K.call(this,A);const E={...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)};return(0,l.eachItem)(C,E.type.length===0?_=>se.call(this,_,E):_=>E.type.forEach(R=>se.call(this,_,E,R))),this}getKeyword(N){const A=this.RULES.all[N];return typeof A=="object"?A.definition:!!A}removeKeyword(N){const{RULES:A}=this;delete A.keywords[N],delete A.all[N];for(const C of A.rules){const E=C.rules.findIndex(_=>_.keyword===N);E>=0&&C.rules.splice(E,1)}return this}addFormat(N,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[N]=A,this}errorsText(N=this.errors,{separator:A=", ",dataVar:C="data"}={}){return!N||N.length===0?"No errors":N.map(E=>`${C}${E.instancePath} ${E.message}`).reduce((E,_)=>E+A+_)}$dataMetaSchema(N,A){const C=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const E of A){const _=E.split("/").slice(1);let R=N;for(const b of _)R=R[b];for(const b in C){const T=C[b];if(typeof T!="object")continue;const{$data:j}=T.definition,q=R[b];j&&q&&(R[b]=te(q))}}return N}_removeAllSchemas(N,A){for(const C in N){const E=N[C];(!A||A.test(C))&&(typeof E=="string"?delete N[C]:E&&!E.meta&&(this._cache.delete(E.schema),delete N[C]))}}_addSchema(N,A,C,E=this.opts.validateSchema,_=this.opts.addUsedSchema){let R;const{schemaId:b}=this.opts;if(typeof N=="object")R=N[b];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let T=this._cache.get(N);if(T!==void 0)return T;C=(0,a.normalizeId)(R||C);const j=a.getSchemaRefs.call(this,N,C);return T=new i.SchemaEnv({schema:N,schemaId:b,meta:A,baseId:C,localRefs:j}),this._cache.set(T.schema,T),_&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=T),E&&this.validateSchema(N,!0),T}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):i.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const A=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,N)}finally{this.opts=A}}}t.default=I,I.ValidationError=n.default,I.MissingRefError=u.default;function k(V,N,A,C="error"){for(const E in V){const _=E;_ in N&&this.logger[C](`${A}: option ${E}. ${V[_]}`)}}function B(V){return V=(0,a.normalizeId)(V),this.schemas[V]||this.refs[V]}function O(){const V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(const N in V)this.addSchema(V[N],N)}function M(){for(const V in this.opts.formats){const N=this.opts.formats[V];N&&this.addFormat(V,N)}}function y(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in V){const A=V[N];A.keyword||(A.keyword=N),this.addKeyword(A)}}function P(){const V={...this.opts};for(const N of h)delete V[N];return V}const L={log(){},warn(){},error(){}};function U(V){if(V===!1)return L;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function H(V,N){const{RULES:A}=this;if((0,l.eachItem)(V,C=>{if(A.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!Y.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function se(V,N,A){var C;const E=N==null?void 0:N.post;if(A&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_}=this;let R=E?_.post:_.rules.find(({type:T})=>T===A);if(R||(R={type:A,rules:[]},_.rules.push(R)),_.keywords[V]=!0,!N)return;const b={keyword:V,definition:{...N,type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)}};N.before?fe.call(this,R,b,N.before):R.rules.push(b),_.all[V]=b,(C=N.implements)===null||C===void 0||C.forEach(T=>this.addKeyword(T))}function fe(V,N,A){const C=V.rules.findIndex(E=>E.keyword===A);C>=0?V.rules.splice(C,0,N):(V.rules.push(N),this.logger.warn(`rule ${A} is not defined`))}function K(V){let{metaSchema:N}=V;N!==void 0&&(V.$data&&this.opts.$data&&(N=te(N)),V.validateSchema=this.compile(N,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function te(V){return{anyOf:[V,z]}}})(Pw);var QE={},YE={},XE={};Object.defineProperty(XE,"__esModule",{value:!0});const b0e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};XE.default=b0e;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.callRef=ai.getValidate=void 0;const C0e=ol,nC=at,Ur=ft,ki=bu,uC=Hr,Ll=bt,_0e={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:u,schemaEnv:s,validateName:i,opts:o,self:a}=n,{root:c}=s;if((r==="#"||r==="#/")&&u===c.baseId)return f();const l=uC.resolveRef.call(a,c,u,r);if(l===void 0)throw new C0e.default(n.opts.uriResolver,u,r);if(l instanceof uC.SchemaEnv)return d(l);return p(l);function f(){if(s===c)return l1(t,i,s,s.$async);const h=e.scopeValue("root",{ref:c});return l1(t,(0,Ur._)`${h}.validate`,c,c.$async)}function d(h){const v=rT(t,h);l1(t,v,h,h.$async)}function p(h){const v=e.scopeValue("schema",o.code.source===!0?{ref:h,code:(0,Ur.stringify)(h)}:{ref:h}),S=e.name("valid"),D=t.subschema({schema:h,dataTypes:[],schemaPath:Ur.nil,topSchemaRef:v,errSchemaPath:r},S);t.mergeEvaluated(D),t.ok(S)}}};function rT(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Ur._)`${r.scopeValue("wrapper",{ref:e})}.validate`}ai.getValidate=rT;function l1(t,e,r,n){const{gen:u,it:s}=t,{allErrors:i,schemaEnv:o,opts:a}=s,c=a.passContext?ki.default.this:Ur.nil;n?l():f();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");const h=u.let("valid");u.try(()=>{u.code((0,Ur._)`await ${(0,nC.callValidateCode)(t,e,c)}`),p(e),i||u.assign(h,!0)},v=>{u.if((0,Ur._)`!(${v} instanceof ${s.ValidationError})`,()=>u.throw(v)),d(v),i||u.assign(h,!1)}),t.ok(h)}function f(){t.result((0,nC.callValidateCode)(t,e,c),()=>p(e),()=>d(e))}function d(h){const v=(0,Ur._)`${h}.errors`;u.assign(ki.default.vErrors,(0,Ur._)`${ki.default.vErrors} === null ? ${v} : ${ki.default.vErrors}.concat(${v})`),u.assign(ki.default.errors,(0,Ur._)`${ki.default.vErrors}.length`)}function p(h){var v;if(!s.opts.unevaluated)return;const S=(v=r==null?void 0:r.validate)===null||v===void 0?void 0:v.evaluated;if(s.props!==!0)if(S&&!S.dynamicProps)S.props!==void 0&&(s.props=Ll.mergeEvaluated.props(u,S.props,s.props));else{const D=u.var("props",(0,Ur._)`${h}.evaluated.props`);s.props=Ll.mergeEvaluated.props(u,D,s.props,Ur.Name)}if(s.items!==!0)if(S&&!S.dynamicItems)S.items!==void 0&&(s.items=Ll.mergeEvaluated.items(u,S.items,s.items));else{const D=u.var("items",(0,Ur._)`${h}.evaluated.items`);s.items=Ll.mergeEvaluated.items(u,D,s.items,Ur.Name)}}}ai.callRef=l1;ai.default=_0e;Object.defineProperty(YE,"__esModule",{value:!0});const w0e=XE,T0e=ai,$0e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",w0e.default,T0e.default];YE.default=$0e;var ZE={},e3={};Object.defineProperty(e3,"__esModule",{value:!0});const Sf=ft,Zu=Sf.operators,Ff={maximum:{okStr:"<=",ok:Zu.LTE,fail:Zu.GT},minimum:{okStr:">=",ok:Zu.GTE,fail:Zu.LT},exclusiveMaximum:{okStr:"<",ok:Zu.LT,fail:Zu.GTE},exclusiveMinimum:{okStr:">",ok:Zu.GT,fail:Zu.LTE}},B0e={message:({keyword:t,schemaCode:e})=>(0,Sf.str)`must be ${Ff[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Sf._)`{comparison: ${Ff[t].okStr}, limit: ${e}}`},I0e={keyword:Object.keys(Ff),type:"number",schemaType:"number",$data:!0,error:B0e,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Sf._)`${r} ${Ff[e].fail} ${n} || isNaN(${r})`)}};e3.default=I0e;var t3={};Object.defineProperty(t3,"__esModule",{value:!0});const rc=ft,P0e={message:({schemaCode:t})=>(0,rc.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,rc._)`{multipleOf: ${t}}`},k0e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:P0e,code(t){const{gen:e,data:r,schemaCode:n,it:u}=t,s=u.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,rc._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,rc._)`${i} !== parseInt(${i})`;t.fail$data((0,rc._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};t3.default=k0e;var r3={},n3={};Object.defineProperty(n3,"__esModule",{value:!0});function nT(t){const e=t.length;let r=0,n=0,u;for(;n<e;)r++,u=t.charCodeAt(n++),u>=55296&&u<=56319&&n<e&&(u=t.charCodeAt(n),(u&64512)===56320&&n++);return r}n3.default=nT;nT.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(r3,"__esModule",{value:!0});const Js=ft,O0e=bt,N0e=n3,R0e={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Js.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Js._)`{limit: ${t}}`},q0e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:R0e,code(t){const{keyword:e,data:r,schemaCode:n,it:u}=t,s=e==="maxLength"?Js.operators.GT:Js.operators.LT,i=u.opts.unicode===!1?(0,Js._)`${r}.length`:(0,Js._)`${(0,O0e.useFunc)(t.gen,N0e.default)}(${r})`;t.fail$data((0,Js._)`${i} ${s} ${n}`)}};r3.default=q0e;var u3={};Object.defineProperty(u3,"__esModule",{value:!0});const x0e=at,bf=ft,M0e={message:({schemaCode:t})=>(0,bf.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,bf._)`{pattern: ${t}}`},j0e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:M0e,code(t){const{data:e,$data:r,schema:n,schemaCode:u,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,bf._)`(new RegExp(${u}, ${i}))`:(0,x0e.usePattern)(t,n);t.fail$data((0,bf._)`!${o}.test(${e})`)}};u3.default=j0e;var s3={};Object.defineProperty(s3,"__esModule",{value:!0});const nc=ft,L0e={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,nc.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,nc._)`{limit: ${t}}`},G0e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:L0e,code(t){const{keyword:e,data:r,schemaCode:n}=t,u=e==="maxProperties"?nc.operators.GT:nc.operators.LT;t.fail$data((0,nc._)`Object.keys(${r}).length ${u} ${n}`)}};s3.default=G0e;var i3={};Object.defineProperty(i3,"__esModule",{value:!0});const Ca=at,uc=ft,V0e=bt,U0e={message:({params:{missingProperty:t}})=>(0,uc.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,uc._)`{missingProperty: ${t}}`},K0e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:U0e,code(t){const{gen:e,schema:r,schemaCode:n,data:u,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const a=r.length>=o.loopRequired;if(i.allErrors?c():l(),o.strictRequired){const p=t.parentSchema.properties,{definedProperties:h}=t.it;for(const v of r)if((p==null?void 0:p[v])===void 0&&!h.has(v)){const S=i.schemaEnv.baseId+i.errSchemaPath,D=`required property "${v}" is not defined at "${S}" (strictRequired)`;(0,V0e.checkStrictMode)(i,D,i.opts.strictRequired)}}function c(){if(a||s)t.block$data(uc.nil,f);else for(const p of r)(0,Ca.checkReportMissingProp)(t,p)}function l(){const p=e.let("missing");if(a||s){const h=e.let("valid",!0);t.block$data(h,()=>d(p,h)),t.ok(h)}else e.if((0,Ca.checkMissingProp)(t,r,p)),(0,Ca.reportMissingProp)(t,p),e.else()}function f(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Ca.noPropertyInData)(e,u,p,o.ownProperties),()=>t.error())})}function d(p,h){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(h,(0,Ca.propertyInData)(e,u,p,o.ownProperties)),e.if((0,uc.not)(h),()=>{t.error(),e.break()})},uc.nil)}}};i3.default=K0e;var o3={};Object.defineProperty(o3,"__esModule",{value:!0});const sc=ft,J0e={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,sc.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,sc._)`{limit: ${t}}`},H0e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:J0e,code(t){const{keyword:e,data:r,schemaCode:n}=t,u=e==="maxItems"?sc.operators.GT:sc.operators.LT;t.fail$data((0,sc._)`${r}.length ${u} ${n}`)}};o3.default=H0e;var a3={},al={};Object.defineProperty(al,"__esModule",{value:!0});const uT=l0;uT.code='require("ajv/dist/runtime/equal").default';al.default=uT;Object.defineProperty(a3,"__esModule",{value:!0});const v2=sl,Fr=ft,W0e=bt,z0e=al,Q0e={message:({params:{i:t,j:e}})=>(0,Fr.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Fr._)`{i: ${t}, j: ${e}}`},Y0e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Q0e,code(t){const{gen:e,data:r,$data:n,schema:u,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!u)return;const a=e.let("valid"),c=s.items?(0,v2.getSchemaTypes)(s.items):[];t.block$data(a,l,(0,Fr._)`${i} === false`),t.ok(a);function l(){const h=e.let("i",(0,Fr._)`${r}.length`),v=e.let("j");t.setParams({i:h,j:v}),e.assign(a,!0),e.if((0,Fr._)`${h} > 1`,()=>(f()?d:p)(h,v))}function f(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function d(h,v){const S=e.name("item"),D=(0,v2.checkDataTypes)(c,S,o.opts.strictNumbers,v2.DataType.Wrong),g=e.const("indices",(0,Fr._)`{}`);e.for((0,Fr._)`;${h}--;`,()=>{e.let(S,(0,Fr._)`${r}[${h}]`),e.if(D,(0,Fr._)`continue`),c.length>1&&e.if((0,Fr._)`typeof ${S} == "string"`,(0,Fr._)`${S} += "_"`),e.if((0,Fr._)`typeof ${g}[${S}] == "number"`,()=>{e.assign(v,(0,Fr._)`${g}[${S}]`),t.error(),e.assign(a,!1).break()}).code((0,Fr._)`${g}[${S}] = ${h}`)})}function p(h,v){const S=(0,W0e.useFunc)(e,z0e.default),D=e.name("outer");e.label(D).for((0,Fr._)`;${h}--;`,()=>e.for((0,Fr._)`${v} = ${h}; ${v}--;`,()=>e.if((0,Fr._)`${S}(${r}[${h}], ${r}[${v}])`,()=>{t.error(),e.assign(a,!1).break(D)})))}}};a3.default=Y0e;var c3={};Object.defineProperty(c3,"__esModule",{value:!0});const dm=ft,X0e=bt,Z0e=al,ede={message:"must be equal to constant",params:({schemaCode:t})=>(0,dm._)`{allowedValue: ${t}}`},tde={keyword:"const",$data:!0,error:ede,code(t){const{gen:e,data:r,$data:n,schemaCode:u,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,dm._)`!${(0,X0e.useFunc)(e,Z0e.default)}(${r}, ${u})`):t.fail((0,dm._)`${s} !== ${r}`)}};c3.default=tde;var l3={};Object.defineProperty(l3,"__esModule",{value:!0});const qa=ft,rde=bt,nde=al,ude={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,qa._)`{allowedValues: ${t}}`},sde={keyword:"enum",schemaType:"array",$data:!0,error:ude,code(t){const{gen:e,data:r,$data:n,schema:u,schemaCode:s,it:i}=t;if(!n&&u.length===0)throw new Error("enum must have non-empty array");const o=u.length>=i.opts.loopEnum;let a;const c=()=>a??(a=(0,rde.useFunc)(e,nde.default));let l;if(o||n)l=e.let("valid"),t.block$data(l,f);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const p=e.const("vSchema",s);l=(0,qa.or)(...u.map((h,v)=>d(p,v)))}t.pass(l);function f(){e.assign(l,!1),e.forOf("v",s,p=>e.if((0,qa._)`${c()}(${r}, ${p})`,()=>e.assign(l,!0).break()))}function d(p,h){const v=u[h];return typeof v=="object"&&v!==null?(0,qa._)`${c()}(${r}, ${p}[${h}])`:(0,qa._)`${r} === ${v}`}}};l3.default=sde;Object.defineProperty(ZE,"__esModule",{value:!0});const ide=e3,ode=t3,ade=r3,cde=u3,lde=s3,fde=i3,dde=o3,pde=a3,hde=c3,mde=l3,Dde=[ide.default,ode.default,ade.default,cde.default,lde.default,fde.default,dde.default,pde.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},hde.default,mde.default];ZE.default=Dde;var f3={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.validateAdditionalItems=void 0;const Hs=ft,pm=bt,Ede={message:({params:{len:t}})=>(0,Hs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Hs._)`{limit: ${t}}`},yde={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ede,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,pm.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}sT(t,n)}};function sT(t,e){const{gen:r,schema:n,data:u,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,Hs._)`${u}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Hs._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,pm.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,Hs._)`${o} <= ${e.length}`);r.if((0,Hs.not)(c),()=>a(c)),t.ok(c)}function a(c){r.forRange("i",e.length,o,l=>{t.subschema({keyword:s,dataProp:l,dataPropType:pm.Type.Num},c),i.allErrors||r.if((0,Hs.not)(c),()=>r.break())})}}_o.validateAdditionalItems=sT;_o.default=yde;var d3={},wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.validateTuple=void 0;const sC=ft,f1=bt,vde=at,gde={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return iT(t,"additionalItems",e);r.items=!0,!(0,f1.alwaysValidSchema)(r,e)&&t.ok((0,vde.validateArray)(t))}};function iT(t,e,r=t.schema){const{gen:n,parentSchema:u,data:s,keyword:i,it:o}=t;l(u),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=f1.mergeEvaluated.items(n,r.length,o.items));const a=n.name("valid"),c=n.const("len",(0,sC._)`${s}.length`);r.forEach((f,d)=>{(0,f1.alwaysValidSchema)(o,f)||(n.if((0,sC._)`${c} > ${d}`,()=>t.subschema({keyword:i,schemaProp:d,dataProp:d},a)),t.ok(a))});function l(f){const{opts:d,errSchemaPath:p}=o,h=r.length,v=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(d.strictTuples&&!v){const S=`"${i}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,f1.checkStrictMode)(o,S,d.strictTuples)}}}wo.validateTuple=iT;wo.default=gde;Object.defineProperty(d3,"__esModule",{value:!0});const Ade=wo,Sde={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Ade.validateTuple)(t,"items")};d3.default=Sde;var p3={};Object.defineProperty(p3,"__esModule",{value:!0});const iC=ft,Fde=bt,bde=at,Cde=_o,_de={message:({params:{len:t}})=>(0,iC.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,iC._)`{limit: ${t}}`},wde={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:_de,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:u}=r;n.items=!0,!(0,Fde.alwaysValidSchema)(n,e)&&(u?(0,Cde.validateAdditionalItems)(t,u):t.ok((0,bde.validateArray)(t)))}};p3.default=wde;var h3={};Object.defineProperty(h3,"__esModule",{value:!0});const hn=ft,Gl=bt,Tde={message:({params:{min:t,max:e}})=>e===void 0?(0,hn.str)`must contain at least ${t} valid item(s)`:(0,hn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,hn._)`{minContains: ${t}}`:(0,hn._)`{minContains: ${t}, maxContains: ${e}}`},$de={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Tde,code(t){const{gen:e,schema:r,parentSchema:n,data:u,it:s}=t;let i,o;const{minContains:a,maxContains:c}=n;s.opts.next?(i=a===void 0?1:a,o=c):i=1;const l=e.const("len",(0,hn._)`${u}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,Gl.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Gl.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Gl.alwaysValidSchema)(s,r)){let v=(0,hn._)`${l} >= ${i}`;o!==void 0&&(v=(0,hn._)`${v} && ${l} <= ${o}`),t.pass(v);return}s.items=!0;const f=e.name("valid");o===void 0&&i===1?p(f,()=>e.if(f,()=>e.break())):i===0?(e.let(f,!0),o!==void 0&&e.if((0,hn._)`${u}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const v=e.name("_valid"),S=e.let("count",0);p(v,()=>e.if(v,()=>h(S)))}function p(v,S){e.forRange("i",0,l,D=>{t.subschema({keyword:"contains",dataProp:D,dataPropType:Gl.Type.Num,compositeRule:!0},v),S()})}function h(v){e.code((0,hn._)`${v}++`),o===void 0?e.if((0,hn._)`${v} >= ${i}`,()=>e.assign(f,!0).break()):(e.if((0,hn._)`${v} > ${o}`,()=>e.assign(f,!1).break()),i===1?e.assign(f,!0):e.if((0,hn._)`${v} >= ${i}`,()=>e.assign(f,!0)))}}};h3.default=$de;var oT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ft,r=bt,n=at;t.error={message:({params:{property:a,depsCount:c,deps:l}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${l} when property ${a} is present`},params:({params:{property:a,depsCount:c,deps:l,missingProperty:f}})=>(0,e._)`{property: ${a},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${l}}`};const u={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(a){const[c,l]=s(a);i(a,c),o(a,l)}};function s({schema:a}){const c={},l={};for(const f in a){if(f==="__proto__")continue;const d=Array.isArray(a[f])?c:l;d[f]=a[f]}return[c,l]}function i(a,c=a.schema){const{gen:l,data:f,it:d}=a;if(Object.keys(c).length===0)return;const p=l.let("missing");for(const h in c){const v=c[h];if(v.length===0)continue;const S=(0,n.propertyInData)(l,f,h,d.opts.ownProperties);a.setParams({property:h,depsCount:v.length,deps:v.join(", ")}),d.allErrors?l.if(S,()=>{for(const D of v)(0,n.checkReportMissingProp)(a,D)}):(l.if((0,e._)`${S} && (${(0,n.checkMissingProp)(a,v,p)})`),(0,n.reportMissingProp)(a,p),l.else())}}t.validatePropertyDeps=i;function o(a,c=a.schema){const{gen:l,data:f,keyword:d,it:p}=a,h=l.name("valid");for(const v in c)(0,r.alwaysValidSchema)(p,c[v])||(l.if((0,n.propertyInData)(l,f,v,p.opts.ownProperties),()=>{const S=a.subschema({keyword:d,schemaProp:v},h);a.mergeValidEvaluated(S,h)},()=>l.var(h,!0)),a.ok(h))}t.validateSchemaDeps=o,t.default=u})(oT);var m3={};Object.defineProperty(m3,"__esModule",{value:!0});const aT=ft,Bde=bt,Ide={message:"property name must be valid",params:({params:t})=>(0,aT._)`{propertyName: ${t.propertyName}}`},Pde={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ide,code(t){const{gen:e,schema:r,data:n,it:u}=t;if((0,Bde.alwaysValidSchema)(u,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,aT.not)(s),()=>{t.error(!0),u.allErrors||e.break()})}),t.ok(s)}};m3.default=Pde;var _0={};Object.defineProperty(_0,"__esModule",{value:!0});const Vl=at,$n=ft,kde=bu,Ul=bt,Ode={message:"must NOT have additional properties",params:({params:t})=>(0,$n._)`{additionalProperty: ${t.additionalProperty}}`},Nde={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ode,code(t){const{gen:e,schema:r,parentSchema:n,data:u,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:a}=i;if(i.props=!0,a.removeAdditional!=="all"&&(0,Ul.alwaysValidSchema)(i,r))return;const c=(0,Vl.allSchemaProperties)(n.properties),l=(0,Vl.allSchemaProperties)(n.patternProperties);f(),t.ok((0,$n._)`${s} === ${kde.default.errors}`);function f(){e.forIn("key",u,S=>{!c.length&&!l.length?h(S):e.if(d(S),()=>h(S))})}function d(S){let D;if(c.length>8){const g=(0,Ul.schemaRefOrVal)(i,n.properties,"properties");D=(0,Vl.isOwnProperty)(e,g,S)}else c.length?D=(0,$n.or)(...c.map(g=>(0,$n._)`${S} === ${g}`)):D=$n.nil;return l.length&&(D=(0,$n.or)(D,...l.map(g=>(0,$n._)`${(0,Vl.usePattern)(t,g)}.test(${S})`))),(0,$n.not)(D)}function p(S){e.code((0,$n._)`delete ${u}[${S}]`)}function h(S){if(a.removeAdditional==="all"||a.removeAdditional&&r===!1){p(S);return}if(r===!1){t.setParams({additionalProperty:S}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,Ul.alwaysValidSchema)(i,r)){const D=e.name("valid");a.removeAdditional==="failing"?(v(S,D,!1),e.if((0,$n.not)(D),()=>{t.reset(),p(S)})):(v(S,D),o||e.if((0,$n.not)(D),()=>e.break()))}}function v(S,D,g){const F={keyword:"additionalProperties",dataProp:S,dataPropType:Ul.Type.Str};g===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(F,D)}}};_0.default=Nde;var D3={};Object.defineProperty(D3,"__esModule",{value:!0});const Rde=Rn,oC=at,g2=bt,aC=_0,qde={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:u,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&aC.default.code(new Rde.KeywordCxt(s,aC.default,"additionalProperties"));const i=(0,oC.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=g2.mergeEvaluated.props(e,(0,g2.toHash)(i),s.props));const o=i.filter(f=>!(0,g2.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const a=e.name("valid");for(const f of o)c(f)?l(f):(e.if((0,oC.propertyInData)(e,u,f,s.opts.ownProperties)),l(f),s.allErrors||e.else().var(a,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(a);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function l(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},a)}}};D3.default=qde;var E3={};Object.defineProperty(E3,"__esModule",{value:!0});const cC=at,Kl=ft,lC=bt,fC=bt,xde={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:u,it:s}=t,{opts:i}=s,o=(0,cC.allSchemaProperties)(r),a=o.filter(v=>(0,lC.alwaysValidSchema)(s,r[v]));if(o.length===0||a.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&u.properties,l=e.name("valid");s.props!==!0&&!(s.props instanceof Kl.Name)&&(s.props=(0,fC.evaluatedPropsToName)(e,s.props));const{props:f}=s;d();function d(){for(const v of o)c&&p(v),s.allErrors?h(v):(e.var(l,!0),h(v),e.if(l))}function p(v){for(const S in c)new RegExp(v).test(S)&&(0,lC.checkStrictMode)(s,`property ${S} matches pattern ${v} (use allowMatchingProperties)`)}function h(v){e.forIn("key",n,S=>{e.if((0,Kl._)`${(0,cC.usePattern)(t,v)}.test(${S})`,()=>{const D=a.includes(v);D||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:S,dataPropType:fC.Type.Str},l),s.opts.unevaluated&&f!==!0?e.assign((0,Kl._)`${f}[${S}]`,!0):!D&&!s.allErrors&&e.if((0,Kl.not)(l),()=>e.break())})})}}};E3.default=xde;var y3={};Object.defineProperty(y3,"__esModule",{value:!0});const Mde=bt,jde={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Mde.alwaysValidSchema)(n,r)){t.fail();return}const u=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),t.failResult(u,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};y3.default=jde;var v3={};Object.defineProperty(v3,"__esModule",{value:!0});const Lde=at,Gde={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Lde.validateUnion,error:{message:"must match a schema in anyOf"}};v3.default=Gde;var g3={};Object.defineProperty(g3,"__esModule",{value:!0});const d1=ft,Vde=bt,Ude={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,d1._)`{passingSchemas: ${t.passing}}`},Kde={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ude,code(t){const{gen:e,schema:r,parentSchema:n,it:u}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(u.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),a=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((l,f)=>{let d;(0,Vde.alwaysValidSchema)(u,l)?e.var(a,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},a),f>0&&e.if((0,d1._)`${a} && ${i}`).assign(i,!1).assign(o,(0,d1._)`[${o}, ${f}]`).else(),e.if(a,()=>{e.assign(i,!0),e.assign(o,f),d&&t.mergeEvaluated(d,d1.Name)})})}}};g3.default=Kde;var A3={};Object.defineProperty(A3,"__esModule",{value:!0});const Jde=bt,Hde={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const u=e.name("valid");r.forEach((s,i)=>{if((0,Jde.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},u);t.ok(u),t.mergeEvaluated(o)})}};A3.default=Hde;var S3={};Object.defineProperty(S3,"__esModule",{value:!0});const Cf=ft,cT=bt,Wde={message:({params:t})=>(0,Cf.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Cf._)`{failingKeyword: ${t.ifClause}}`},zde={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Wde,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,cT.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const u=dC(n,"then"),s=dC(n,"else");if(!u&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(a(),t.reset(),u&&s){const l=e.let("ifClause");t.setParams({ifClause:l}),e.if(o,c("then",l),c("else",l))}else u?e.if(o,c("then")):e.if((0,Cf.not)(o),c("else"));t.pass(i,()=>t.error(!0));function a(){const l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(l)}function c(l,f){return()=>{const d=t.subschema({keyword:l},o);e.assign(i,o),t.mergeValidEvaluated(d,i),f?e.assign(f,(0,Cf._)`${l}`):t.setParams({ifClause:l})}}}};function dC(t,e){const r=t.schema[e];return r!==void 0&&!(0,cT.alwaysValidSchema)(t,r)}S3.default=zde;var F3={};Object.defineProperty(F3,"__esModule",{value:!0});const Qde=bt,Yde={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Qde.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};F3.default=Yde;Object.defineProperty(f3,"__esModule",{value:!0});const Xde=_o,Zde=d3,epe=wo,tpe=p3,rpe=h3,npe=oT,upe=m3,spe=_0,ipe=D3,ope=E3,ape=y3,cpe=v3,lpe=g3,fpe=A3,dpe=S3,ppe=F3;function hpe(t=!1){const e=[ape.default,cpe.default,lpe.default,fpe.default,dpe.default,ppe.default,upe.default,spe.default,npe.default,ipe.default,ope.default];return t?e.push(Zde.default,tpe.default):e.push(Xde.default,epe.default),e.push(rpe.default),e}f3.default=hpe;var b3={},C3={};Object.defineProperty(C3,"__esModule",{value:!0});const tr=ft,mpe={message:({schemaCode:t})=>(0,tr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,tr._)`{format: ${t}}`},Dpe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:mpe,code(t,e){const{gen:r,data:n,$data:u,schema:s,schemaCode:i,it:o}=t,{opts:a,errSchemaPath:c,schemaEnv:l,self:f}=o;if(!a.validateFormats)return;u?d():p();function d(){const h=r.scopeValue("formats",{ref:f.formats,code:a.code.formats}),v=r.const("fDef",(0,tr._)`${h}[${i}]`),S=r.let("fType"),D=r.let("format");r.if((0,tr._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>r.assign(S,(0,tr._)`${v}.type || "string"`).assign(D,(0,tr._)`${v}.validate`),()=>r.assign(S,(0,tr._)`"string"`).assign(D,v)),t.fail$data((0,tr.or)(g(),F()));function g(){return a.strictSchema===!1?tr.nil:(0,tr._)`${i} && !${D}`}function F(){const I=l.$async?(0,tr._)`(${v}.async ? await ${D}(${n}) : ${D}(${n}))`:(0,tr._)`${D}(${n})`,k=(0,tr._)`(typeof ${D} == "function" ? ${I} : ${D}.test(${n}))`;return(0,tr._)`${D} && ${D} !== true && ${S} === ${e} && !${k}`}}function p(){const h=f.formats[s];if(!h){g();return}if(h===!0)return;const[v,S,D]=F(h);v===e&&t.pass(I());function g(){if(a.strictSchema===!1){f.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function F(k){const B=k instanceof RegExp?(0,tr.regexpCode)(k):a.code.formats?(0,tr._)`${a.code.formats}${(0,tr.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:k,code:B});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,tr._)`${O}.validate`]:["string",k,O]}function I(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,tr._)`await ${D}(${n})`}return typeof S=="function"?(0,tr._)`${D}(${n})`:(0,tr._)`${D}.test(${n})`}}}};C3.default=Dpe;Object.defineProperty(b3,"__esModule",{value:!0});const Epe=C3,ype=[Epe.default];b3.default=ype;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.contentVocabulary=lo.metadataVocabulary=void 0;lo.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];lo.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(QE,"__esModule",{value:!0});const vpe=YE,gpe=ZE,Ape=f3,Spe=b3,pC=lo,Fpe=[vpe.default,gpe.default,(0,Ape.default)(),Spe.default,pC.metadataVocabulary,pC.contentVocabulary];QE.default=Fpe;var _3={},lT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(lT);Object.defineProperty(_3,"__esModule",{value:!0});const Vi=ft,hm=lT,hC=Hr,bpe=bt,Cpe={message:({params:{discrError:t,tagName:e}})=>t===hm.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Vi._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},_pe={keyword:"discriminator",type:"object",schemaType:"object",error:Cpe,code(t){const{gen:e,data:r,schema:n,parentSchema:u,it:s}=t,{oneOf:i}=u;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const a=e.let("valid",!1),c=e.const("tag",(0,Vi._)`${r}${(0,Vi.getProperty)(o)}`);e.if((0,Vi._)`typeof ${c} == "string"`,()=>l(),()=>t.error(!1,{discrError:hm.DiscrError.Tag,tag:c,tagName:o})),t.ok(a);function l(){const p=d();e.if(!1);for(const h in p)e.elseIf((0,Vi._)`${c} === ${h}`),e.assign(a,f(p[h]));e.else(),t.error(!1,{discrError:hm.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function f(p){const h=e.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(v,Vi.Name),h}function d(){var p;const h={},v=D(u);let S=!0;for(let I=0;I<i.length;I++){let k=i[I];k!=null&&k.$ref&&!(0,bpe.schemaHasRulesButRef)(k,s.self.RULES)&&(k=hC.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,k==null?void 0:k.$ref),k instanceof hC.SchemaEnv&&(k=k.schema));const B=(p=k==null?void 0:k.properties)===null||p===void 0?void 0:p[o];if(typeof B!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);S=S&&(v||D(k)),g(B,I)}if(!S)throw new Error(`discriminator: "${o}" must be required`);return h;function D({required:I}){return Array.isArray(I)&&I.includes(o)}function g(I,k){if(I.const)F(I.const,k);else if(I.enum)for(const B of I.enum)F(B,k);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function F(I,k){if(typeof I!="string"||I in h)throw new Error(`discriminator: "${o}" values must be unique strings`);h[I]=k}}}};_3.default=_pe;const wpe="http://json-schema.org/draft-07/schema#",Tpe="http://json-schema.org/draft-07/schema#",$pe="Core schema meta-schema",Bpe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ipe=["object","boolean"],Ppe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},kpe={$schema:wpe,$id:Tpe,title:$pe,definitions:Bpe,type:Ipe,properties:Ppe,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=Pw,n=QE,u=_3,s=kpe,i=["/properties"],o="http://json-schema.org/draft-07/schema";class a extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(h,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var c=Rn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var l=ft;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=il;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=ol;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(U1e,gf);const Ope="Root",Npe="object",Rpe="Root Element",qpe={base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},xpe={id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},Mpe=["id","enums","docs","tags"],jpe=!1,Lpe={title:Ope,type:Npe,description:Rpe,definitions:qpe,properties:xpe,required:Mpe,additionalProperties:jpe},Gpe="version 0.1.0",Vpe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",Upe="Document (Structure)",Kpe="A document, typically corresponding to a single USFM or USX book",Jpe="object",Hpe={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},Wpe=["schema","metadata"],zpe=!1,Qpe={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},Ype={$comment:Gpe,$id:Vpe,title:Upe,description:Kpe,type:Jpe,properties:Hpe,required:Wpe,additionalProperties:zpe,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:Qpe,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},Xpe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",Zpe="Sequence (Structure)",ehe="A sequence contains a 'flow' of one or more blocks",the="object",rhe={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},nhe=["type"],uhe=!1,she={$id:Xpe,title:Zpe,description:ehe,type:the,properties:rhe,required:nhe,additionalProperties:uhe},ihe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",ohe="Block (Structure)",ahe="A block, which represents either a paragraph of text or a graft",che="object",lhe={type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},fhe=["type"],dhe=!1,phe={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},hhe={$id:ihe,title:ohe,description:ahe,type:che,properties:lhe,required:fhe,additionalProperties:dhe,if:{properties:{type:{enum:["paragraph"]}}},then:phe,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},mhe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",Dhe="Content Element (Structure)",Ehe="A content element, ie some form of (possibly nested) markup",yhe="object",vhe={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},ghe=["type"],Ahe=!1,She={$id:mhe,title:Dhe,description:Ehe,type:yhe,properties:vhe,required:ghe,additionalProperties:Ahe},Fhe="version 0.2.0",bhe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",Che="object",_he={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},whe={$comment:Fhe,$id:bhe,type:Che,properties:_he},The="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",$he="object",Bhe={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},Ihe={$id:The,type:$he,properties:Bhe},Phe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",khe="object",Ohe={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},Nhe={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Rhe={$id:Phe,type:khe,properties:Ohe,if:{properties:{type:{enum:["graft"]}}},then:Nhe,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},qhe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",xhe="object",Mhe=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],jhe={$id:qhe,type:xhe,allOf:Mhe},Lhe="version 0.2.0",Ghe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",Vhe="object",Uhe={sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}},Khe={$comment:Lhe,$id:Ghe,type:Vhe,properties:Uhe},Jhe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",Hhe="object",Whe={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},zhe={$id:Jhe,type:Hhe,properties:Whe},Qhe="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",Yhe="object",Xhe={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},Zhe={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},e2e={$id:Qhe,type:Yhe,properties:Xhe,if:{properties:{type:{enum:["graft"]}}},then:Zhe,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},t2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",r2e="object",n2e=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],u2e={$id:t2e,type:r2e,allOf:n2e},s2e="version 0.1.0",i2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",o2e="Document (Structure)",a2e="A document, typically corresponding to a single USFM or USX book",c2e="object",l2e={schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},f2e=["schema","metadata"],d2e=!1,p2e={required:["sequences","main_sequence_id"],not:{required:["sequence"]}},h2e={$comment:s2e,$id:i2e,title:o2e,description:a2e,type:c2e,properties:l2e,required:f2e,additionalProperties:d2e,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:p2e,else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},m2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",D2e="Sequence (Structure)",E2e="A sequence contains a 'flow' of one or more blocks",y2e="object",v2e={type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},g2e=["type"],A2e=!1,S2e={$id:m2e,title:D2e,description:E2e,type:y2e,properties:v2e,required:g2e,additionalProperties:A2e},F2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",b2e="Block (Structure)",C2e="A block, which represents either a paragraph of text or a graft",_2e="object",w2e={type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},T2e=["type"],$2e=!1,B2e={required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},I2e={$id:F2e,title:b2e,description:C2e,type:_2e,properties:w2e,required:T2e,additionalProperties:$2e,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:B2e,else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},P2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",k2e="Content Element (Structure)",O2e="A content element, ie some form of (possibly nested) markup",N2e="object",R2e={type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},q2e=["type"],x2e=!1,M2e={$id:P2e,title:k2e,description:O2e,type:N2e,properties:R2e,required:q2e,additionalProperties:x2e},j2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",L2e="Hook (Structure)",G2e="Hooks, ie typed labels that may be used to link documents",V2e="array",U2e={type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2},K2e={$id:j2e,title:L2e,description:G2e,type:V2e,items:U2e},J2e="version 0.3.0",H2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",W2e="object",z2e={hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}},Q2e={$comment:J2e,$id:H2e,type:W2e,properties:z2e},Y2e="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",X2e="object",Z2e={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}},eme={$id:Y2e,type:X2e,properties:Z2e},tme="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",rme="object",nme={type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},ume={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},sme={$id:tme,type:rme,properties:nme,if:{properties:{type:{enum:["graft"]}}},then:ume,else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},ime="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",ome="object",ame=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],cme={$id:ime,type:ome,allOf:ame},lme="version 0.3.0",fme="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",dme="object",pme={sequence:{$ref:"./sofria_sequence_constraint.json"}},hme={$comment:lme,$id:fme,type:dme,properties:pme},mme="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",Dme="object",Eme={type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}},yme={$id:mme,type:Dme,properties:Eme},vme="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",gme="object",Ame={type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},Sme={properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},Fme={$id:vme,type:gme,properties:Ame,if:{properties:{type:{enum:["graft"]}}},then:Sme,else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},bme="https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",Cme="object",_me=[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}],wme={$id:bme,type:Cme,allOf:_me};var Zt=gf,Tme=Lpe,A2=Ype,Oi=she,Ni=hhe,Ri=She,$me=whe,mC=Ihe,DC=Rhe,EC=jhe,Bme=Khe,yC=zhe,vC=e2e,gC=u2e,S2=h2e,qi=S2e,xi=I2e,Mi=M2e,Xn=K2e,Ime=Q2e,AC=eme,SC=sme,FC=cme,Pme=hme,bC=yme,CC=Fme,_C=wme;let kme=class{constructor(){this.schema={structure:{},constraint:{},proskomma:{}};for(var[e,r]of[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:new Zt().compile(Tme)}]}]])this.schema.proskomma[e]=r;for(var[n,u]of[["document",{"0.2.1":[{name:"Document Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).addSchema(Oi).compile(A2)}],"0.3.0":[{name:"Document Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).addSchema(qi).compile(S2)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).compile(Oi)}],"0.3.0":[{name:"Sequence Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).compile(qi)}]}]])this.schema.structure[n]=u;for(var[s,i]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).addSchema(Oi).compile(A2)},{name:"PERF Document",validator:new Zt().addSchema(EC).addSchema(DC).addSchema(mC).compile($me)}],"0.3.0":[{name:"Document Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).addSchema(qi).compile(S2)},{name:"PERF Document",validator:new Zt().addSchema(Xn).addSchema(FC).addSchema(SC).addSchema(AC).compile(Ime)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).compile(Oi)},{name:"PERF Sequence",validator:new Zt().addSchema(EC).addSchema(DC).compile(mC)}],"0.3.0":[{name:"Sequence Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).compile(qi)},{name:"PERF Sequence",validator:new Zt().addSchema(Xn).addSchema(FC).addSchema(SC).compile(AC)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).addSchema(Oi).compile(A2)},{name:"SOFRIA Document",validator:new Zt().addSchema(gC).addSchema(vC).addSchema(yC).compile(Bme)}],"0.3.0":[{name:"Document Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).addSchema(qi).compile(S2)},{name:"SOFRIA Document",validator:new Zt().addSchema(Xn).addSchema(_C).addSchema(CC).addSchema(bC).compile(Pme)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:new Zt().addSchema(Ri).addSchema(Ni).compile(Oi)},{name:"SOFRIA Sequence",validator:new Zt().addSchema(gC).addSchema(vC).compile(yC)}],"0.3.0":[{name:"Sequence Structure",validator:new Zt().addSchema(Xn).addSchema(Mi).addSchema(xi).compile(qi)},{name:"SOFRIA Sequence",validator:new Zt().addSchema(Xn).addSchema(_C).addSchema(CC).compile(bC)}]}]])this.schema.constraint[s]=i}schemaInfo(){var e={};for(var[r,n]of Object.entries(this.schema)){e[r]={};for(var[u,s]of Object.entries(n)){e[r][u]={};for(var[i,o]of Object.entries(s))e[r][u][i]=o.map(a=>a.name)}}return e}validate(e,r,n,u){if(!u)throw new Error("Usage: validate(schemaType, schemaKey, schemaVersion, data)");var s=Object.keys(this.schema);if(!s.includes(e))throw new Error("Schema type must be one of ".concat(s.map(l=>"'".concat(l,"'")).join(", "),", not '").concat(e,"'"));if(!this.schema[e][r])throw new Error("Unknown ".concat(e," schema key ").concat(r));if(!this.schema[e][r][n])throw new Error("Unknown version ".concat(n," for ").concat(e," schema key ").concat(r));var i=this.schema[e][r][n],o;for(var{name:a,validator:c}of i)if(o={validatorName:a,isValid:c(u),errors:c.errors},!o.isValid)break;return{requested:{schemaType:e,schemaKey:r,schemaVersion:n},lastSchema:o.validatorName,isValid:o.isValid,errors:o.errors}}};var Ome=kme,Nme=["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],Rme=["ms","mr","s","sr","r","qa","sp","sd"],qme=["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],xme=["imt","is","imte"],Mme=["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"],fT={characterTags:Nme,bodyTags:qme,headingTags:Rme,introHeadingTags:xme,introBodyTags:Mme};let jme=class{constructor(e){if(!e)throw new Error("Must provide a constructor object to constructor");this.description=e.description||function(r){throw r}(new Error("Must provide a description in constructor object")),this.test=e.test||(()=>!0),this.action=e.action||(()=>null)}};var Lme=jme,wC=Lme;let Gme=class dT{constructor(e){if(this.constructor===dT)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var r=e.actions||{};this.debugLevel=e.debugLevel||0,this.actions={};for(var n of["startDocument","endDocument","startSequence","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","text"])r[n]?this.actions[n]=r[n].map(u=>new wC(u)):this.actions[n]=[]}addRenderActionObject(e,r){if(!this.actions[e])throw new Error("Unknown event '".concat(e));this.actions[e].push(r)}addRenderAction(e,r){this.addRenderActionObject(e,new wC(r))}describeRenderActions(e){if(!this.actions[e])throw new Error("Unknown event '".concat(e));var r=["**Actions for ".concat(e,`**
`)];for(var n of this.actions[e])r.push("IF ".concat(n.test.toString(),":")),r.push("    DO ".concat(n.description));return r.join(`
`)}renderDocument(e){var{docId:r,config:n,output:u}=e,s={},i={};return this.renderDocument1({docId:r,config:n,context:s,workspace:i,output:u}),u}renderDocument1(e){throw new Error("Define renderDocument1() in subclass")}renderEvent(e,r){var n=r.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"EVENT ").concat(e)),!this.actions[e])throw new Error("Unknown event '".concat(e));var u=!1;for(var s of this.actions[e]){var i=!1;try{i=s.test(r)}catch(c){var o="Exception from test of action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c);throw new Error(o)}if(i){u=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(n.sequences.length),"    ").concat(e," action: ").concat(s.description));var a=!1;try{a=s.action(r)}catch(c){throw new Error("Exception from action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(c))}if(!a)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(e)&&this.actions[e].length===0)throw new Error("No action for ".concat(e," graft event in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: add an action or fix your data!"));!u&&this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"    No matching action"))}};var cl=Gme,Vme=cl;let Ume=class extends Vme{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequenceId(o,this.srcJson.main_sequence_id),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequenceId(e,r){var n=e.context,u=this.srcJson.sequences[r];if(!u)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(u,r)),this.renderEvent("startSequence",e);for(var[s,i]of u.blocks.entries())n.sequences[0].block={type:i.type,subType:i.subtype,blockN:s,wrappers:[]},i.type==="graft"?i.target&&!this.srcJson.sequences[i.target]?(n.sequences[0].block.target=i.target,this.renderEvent("unresolvedBlockGraft",e)):(n.sequences[0].block.target=i.target,n.sequences[0].block.isNew=i.new||!1,this.renderEvent("blockGraft",e)):(this.renderEvent("startParagraph",e),this.renderContent(i.content,e),this.renderEvent("endParagraph",e)),delete n.sequences[0].block;this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,r){for(var n of e)this.renderElement(n,r)}renderElement(e,r){var n=i=>{e.meta_content&&(i.metaContent=e.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),e.target&&(s.target=e.target),e.type==="graft"&&(s.isNew=e.new||!1),s.type==="text"&&(s.text=e),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft"){if(e.target&&e.target&&!this.srcJson.sequences[e.target]){this.renderEvent("unresolvedInlineGraft",r);return}this.renderEvent("inlineGraft",r),n(s)}else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(e.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var Kme=Ume;function TC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function $C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(r),!0).forEach(function(n){Jme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hme=cl,xs=t=>{var e=[];for(var r of t.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?e.push("_".concat(r.toLowerCase())):e.push(r);return e.join("")};let Wme=class extends Hme{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this;var a=this.pk.gqlQuerySync('{document(id: "'.concat(r,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),c=a.data.document.docSetId,l=a.data.document.mainSequence.id,f=a.data.document.nSequences;a.data.document.sequences.map(D=>D.id);var d={};for(var p of a.data.document.headers)d[p.key]=p.value;var h=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),v={};for(var S of h.data.docSet.selectors)v[S.key]=S.value;u.document={id:r,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:v,properties:{},tags:[]},document:$C($C({},d),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:f},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequenceId(o,l),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:xs(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequenceId(e,r){var n=e.context,u=this.pk.gqlQuerySync('{document(id: "'.concat(n.document.id,'") {sequence(id:"').concat(r,'") {id type nBlocks } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(r,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(s,r)),this.renderEvent("startSequence",e);for(var i=0,o=0;o<s.nBlocks;o++){var a=this.pk.gqlQuerySync(`{
               document(id: "`.concat(n.document.id,`") {
                 sequence(id:"`).concat(r,`") {
                   blocks(positions:`).concat(o,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),c=a.data.document.sequence.blocks[0];for(var l of c.bg)n.sequences[0].block={type:"graft",subType:xs(l.subType),blockN:i},n.sequences[0].block.target=l.payload,n.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",e),i++;n.sequences[0].block={type:"paragraph",subType:"usfm:".concat(c.bs.payload.split("/")[1]),blockN:i,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],this.renderContent(c.items,e),this._tokens=[],this.renderEvent("endParagraph",e),delete n.sequences[0].block,i++}this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,r){for(var n of e)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(e,r){if(e.type==="scope"&&e.payload.startsWith("attribute"))if(e.subType==="start"){if(!this._container)throw new Error("Start attribute when no container set");var n=e.payload.split("/");n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]}else{var u=e.payload.split("/");this._container||(this._container={direction:"end",subType:"usfm:".concat(xs(u[2]))},u[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(r);var s={type:"graft",subType:xs(e.subType),target:e.payload,isNew:!1};r.context.sequences[0].element=s,this.renderEvent("inlineGraft",r),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var i=e.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(i[0])){if(e.subType==="start"){var o={type:"mark",subType:xs(i[0]),atts:{number:i[1]}};r.context.sequences[0].element=o,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(i[0]==="span"){var a={type:"wrapper",subType:"usfm:".concat(i[1]),atts:{}};r.context.sequences[0].element=a,e.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(a.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(i[0]==="spanWithAtts")e.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(i[1]),atts:{}});else if(i[0]==="milestone"&&e.subType==="start")if(i[1]==="ts"){var c={type:"mark",subType:"usfm:".concat(xs(i[1])),atts:{}};r.context.sequences[0].element=c,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(xs(i[1])),atts:{}}}}maybeRenderText(e){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var zme=Wme,Qme=cl;let Yme=class extends Qme{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson,this.cachedSequences=[]}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this,u.document={id:r,schema:this.srcJson.schema,metadata:this.srcJson.metadata},u.sequences=[],this.renderEvent("startDocument",o),this.renderSequence(o,this.srcJson.sequence),this.renderEvent("endDocument",o)}sequenceContext(e){return{type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequence(e,r){var n;if(r)n=r;else{if(this.cachedSequences.length===0)throw new Error("No sequence provided and no sequences cached");n=this.cachedSequences[0]}var u=e.context;u.sequences.unshift(n),this.renderEvent("startSequence",e);for(var[s,i]of n.blocks.entries())u.sequences[0].block={type:i.type,blockN:s,wrappers:[]},i.type==="graft"?(u.sequences[0].block.sequence=this.sequenceContext(i.sequence),this.cachedSequences.unshift(i.sequence),this.renderEvent("blockGraft",e),this.cachedSequences.shift()):(this.renderEvent("startParagraph",e),this.renderContent(i.content,e),this.renderEvent("endParagraph",e)),delete u.sequences[0].block;this.renderEvent("endSequence",e),this.cachedSequence=null,u.sequences.shift()}renderContent(e,r){for(var n of e)this.renderElement(n,r)}renderElement(e,r){var n=i=>{e.meta_content&&(i.metaContent=e.meta_content,this.renderEvent("metaContent",r))},u=r.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:s.type!=="end_milestone"&&s.type!=="meta_content"&&(s.atts={}),e.sequence&&(s.sequence=this.sequenceContext(e.sequence)),s.type==="text"&&(s.text=e),u.sequences[0].element=s,s.type==="text")this.renderEvent("text",r),n(s);else if(s.type==="mark")this.renderEvent("mark",r),n(s);else if(s.type==="start_milestone")this.renderEvent("startMilestone",r),n(s);else if(s.type==="end_milestone")this.renderEvent("endMilestone",r),n(s);else if(s.type==="graft")this.cachedSequences.unshift(e.sequence),this.renderEvent("inlineGraft",r),this.cachedSequences.shift(),n(s);else if(s.type==="wrapper")u.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",r),this.renderContent(e.content,r),u.sequences[0].element=s,n(s),this.renderEvent("endWrapper",r),u.sequences[0].block.wrappers.shift();else throw new Error("Unexpected element type '".concat(s.type));delete u.sequences[0].element}};var Xme=Yme;function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function IC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){Zme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var eDe=cl,es=t=>{var e=[];for(var r of t.split(""))r.toUpperCase()===r&&r.toLowerCase()!==r?e.push("_".concat(r.toLowerCase())):e.push(r);return e.join("")};let tDe=class extends eDe{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null}renderDocument1(e){var{docId:r,config:n,context:u,workspace:s,output:i}=e,o={config:n,context:u,workspace:s,output:i};u.renderer=this;var a=this.pk.gqlQuerySync(`{
          document(id: "`.concat(r,`") {
            docSetId
            mainSequence { id }
            nSequences
            sequences {
              id
              type
              nBlocks
            }
            headers {
              key
              value
            }
          } 
        }`)),c=a.data.document.docSetId,l=a.data.document.mainSequence.id,f=a.data.document.nSequences;this.sequences={};for(var d of a.data.document.sequences)this.sequences[d.id]=d;var p={};for(var h of a.data.document.headers)p[h.key]=h.value;var v=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),S={};for(var D of v.data.docSet.selectors)S[D.key]=D.value;u.document={id:r,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:S,properties:{},tags:[]},document:IC(IC({},p),{},{properties:{},tags:[]})},mainSequenceId:l,nSequences:f},n.chapters&&(u.document.metadata.document.properties.chapters=n.chapters[0]),u.sequences=[],this.renderEvent("startDocument",o),this.cachedSequenceIds.unshift(l),this.renderSequence(o,l),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",o)}sequenceContext(e,r){return{id:r,type:es(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequence(e){var r=e.context,n=this.cachedSequenceIds[0],u=this.pk.gqlQuerySync('{document(id: "'.concat(r.document.id,'") {sequence(id:"').concat(n,'") {id type nBlocks blocks { os {payload} is {payload} } } } }')),s=u.data.document.sequence;if(!s)throw new Error("Sequence '".concat(n,"' not found in renderSequenceId()"));r.sequences.unshift(this.sequenceContext(s,n)),this.renderEvent("startSequence",e);for(var i=0,o=0;o<s.nBlocks;o++){if(e.config.chapters&&s.type==="main"){var a=[...s.blocks[o].os.map(h=>h.payload),...s.blocks[o].is.map(h=>h.payload)].filter(h=>["chapter"].includes(h.split("/")[0])).map(h=>h.split("/")[1]);if(a.length===0||!e.config.chapters.includes(a[0]))continue}var c=this.pk.gqlQuerySync(`{
               document(id: "`.concat(r.document.id,`") {
                 sequence(id:"`).concat(n,`") {
                   blocks(positions:`).concat(o,`) {
                     bg {subType payload}
                     bs {payload}
                     items {type subType payload}
                   }
                 }
               }
             }`)),l=c.data.document.sequence.blocks[0];for(var f of l.bg)r.sequences[0].block={type:"graft",subType:es(f.subType),blockN:i,sequence:this.sequences[f.payload]},this.cachedSequenceIds.unshift(f.payload),this.renderEvent("blockGraft",e),this.cachedSequenceIds.shift(),i++;var d=l.bs.payload.split("/"),p=d[1]?"usfm:".concat(d[1]):d[0];r.sequences[0].block={type:"paragraph",subType:p,blockN:i,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],this.renderContent(l.items,e),this._tokens=[],this.renderEvent("endParagraph",e),delete r.sequences[0].block,i++}this.renderEvent("endSequence",e),r.sequences.shift()}renderContent(e,r){for(var n of e)this.renderItem(n,r);this.maybeRenderText(r)}renderItem(e,r){if(e.type==="scope"&&e.payload.startsWith("attribute"))if(e.subType==="start"){if(!this._container)throw new Error("Start attribute when no container set");var n=e.payload.split("/");n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]}else{var u=e.payload.split("/");this._container||(this._container={direction:"end",subType:"usfm:".concat(es(u[2]))},u[1]==="milestone"?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(r),this.renderContainer(r)),e.type==="token")this._tokens.push(e.payload.replace(/\s+/g," "));else if(e.type==="graft"){this.maybeRenderText(r);var s={type:"graft",subType:es(e.subType),sequence:this.sequences[e.payload]};r.context.sequences[0].element=s,this.cachedSequenceIds.unshift(e.payload),this.renderEvent("inlineGraft",r),this.cachedSequenceIds.shift(),delete r.context.sequences[0].element}else{this.maybeRenderText(r);var i=e.payload.split("/");if(["chapter","verses"].includes(i[0])){var o={type:"wrapper",subType:es(i[0]),atts:{number:i[1]}};if(r.context.sequences[0].element=o,e.subType==="start"){r.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("startWrapper",r);var a={type:"mark",subType:"".concat(i[0],"_label"),atts:{number:i[1]}};r.context.sequences[0].element=a,this.renderEvent("mark",r),r.context.sequences[0].element=o}else this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift(),delete r.context.sequences[0].element}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(i[0])){if(e.subType==="start"){var c={type:"mark",subType:es(i[0]),atts:{number:i[1]}};r.context.sequences[0].element=c,this.renderEvent("mark",r),delete r.context.sequences[0].element}}else if(i[0]==="span"){var l={type:"wrapper",subType:"usfm:".concat(i[1]),atts:{}};r.context.sequences[0].element=l,e.subType==="start"?(r.context.sequences[0].block.wrappers.unshift(l.subType),this.renderEvent("startWrapper",r)):(this.renderEvent("endWrapper",r),r.context.sequences[0].block.wrappers.shift()),delete r.context.sequences[0].element}else if(i[0]==="spanWithAtts")e.subType==="start"&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(i[1]),atts:{}});else if(i[0]==="milestone"&&e.subType==="start")if(i[1]==="ts"){var f={type:"mark",subType:"usfm:".concat(es(i[1])),atts:{}};r.context.sequences[0].element=f,this.renderEvent("mark",r),delete r.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(es(i[1])),atts:{}}}}maybeRenderText(e){if(this._tokens.length!==0){var r={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=r,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if(this._container.type==="wrapper"){var r=this._container.direction;delete this._container.direction,r==="start"?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else this._container.type==="start_milestone"?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):this._container.type==="end_milestone"&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}};var rDe=tDe,nDe=t=>{var e={};for(var r of t)for(var n of Object.keys(r))e[n]?e[n].push(...r[n]):e[n]=r[n];return e},uDe=nDe,pT={},w0={},sDe={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.perf={},u.perf.schema=r.document.schema,u.perf.metadata=r.document.metadata,u.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.perf.sequences[r.sequences[0].id]={type:r.sequences[0].type,blocks:[]},n.outputSequence=u.perf.sequences[r.sequences[0].id],r.sequences[0].type==="main"&&(u.perf.main_sequence_id=r.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;r.sequences.length>1&&(n.outputSequence=u.perf.sequences[r.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,r={type:e.type,subtype:e.subType};e.target&&(r.target=e.target,t.context.renderer.renderSequenceId(t,r.target)),e.isNew&&(r.new=e.isNew),t.workspace.outputSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].block,i={type:s.type,subtype:s.subType,content:[]};n.outputSequence.blocks.push(i),n.currentContent=i.content,n.outputBlock=n.outputSequence.blocks[n.outputSequence.blocks.length-1],n.outputContentStack=[n.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;n.currentContent=s.metaContent;var i=n.outputContentStack[1][n.outputContentStack[1].length-1];i.meta_content=[],n.outputContentStack.unshift(i.meta_content),r.renderer.renderContent(n.currentContent,t),n.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,r={type:e.type,subtype:e.subType};if(e.target){r.target=e.target;var n=t.workspace.outputContentStack[0];t.context.renderer.renderSequenceId(t,e.target),t.workspace.outputContentStack[0]=n}e.isNew&&(r.new=e.isNew),t.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType,content:[]};"atts"in s&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i),n.outputContentStack.unshift(i.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};s.atts&&typeof s.atts=="object"&&Object.keys(s.atts).length!==0&&(i.atts=s.atts),n.outputContentStack[0].push(i)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element,i={type:s.type,subtype:s.subType};n.outputContentStack[0].push(i)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;n.outputContentStack[0].push(s.text)}}]},iDe=sDe;Object.defineProperty(w0,"__esModule",{value:!0});w0.default=void 0;var oDe=aDe(iDe);function aDe(t){return t&&t.__esModule?t:{default:t}}var cDe={identityActions:oDe.default};w0.default=cDe;var T0={},$0={};Object.defineProperty($0,"__esModule",{value:!0});$0.default=void 0;function PC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,n)}return r}function lDe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(r),!0).forEach(function(n){fDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fDe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dDe={startDocument:[{description:"identity",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.sofria={},u.sofria.schema=r.document.schema,u.sofria.metadata=r.document.metadata,u.sofria.sequence={},n.currentSequence=u.sofria.sequence,n.chapter=null,n.verses=null,n.cachedChapter=null,n.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:t=>{}}],startSequence:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;r.currentSequence.type=e.sequences[0].type,r.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:t=>{var{workspace:e}=t;e.currentSequence.type==="main"&&(e.chapter=null,e.verses=null),e.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].block,r={type:e.type};if(e.sequence){r.sequence={};var n=t.workspace.currentSequence;t.workspace.currentSequence=r.sequence,t.context.renderer.renderSequence(t),t.workspace.currentSequence=n}t.workspace.currentSequence.blocks.push(r)}}],startParagraph:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].block,u={type:n.type,subtype:n.subType,content:[]};if(r.currentSequence.blocks.push(u),r.currentContent=u.content,r.outputBlock=r.currentSequence.blocks[r.currentSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content],r.currentSequence.type==="main"){for(var s of["chapter","verses"])if(r[s]){var i={type:"wrapper",subtype:s,content:[],atts:{number:r[s]}};r.outputContentStack[0].push(i),r.outputContentStack.unshift(i.content)}}}}],endParagraph:[{description:"identity",test:()=>!0,action:t=>{}}],metaContent:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;r.currentContent=n.metaContent;var u=r.outputContentStack[1][r.outputContentStack[1].length-1];u.meta_content=[],r.outputContentStack.unshift(u.meta_content),e.renderer.renderContent(r.currentContent,t),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],inlineGraft:[{description:"identity",test:()=>!0,action:t=>{var e=t.context.sequences[0].element,r={type:e.type,subtype:e.subType,sequence:{}},n=t.workspace.currentSequence,u=[...t.workspace.outputContentStack];t.workspace.currentSequence=r.sequence,t.context.renderer.renderSequence(t),t.workspace.outputContentStack=u,t.workspace.currentSequence=n,t.workspace.outputContentStack[0].push(r)}}],startWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="chapter"?(r.chapter=n.atts.number,r.cachedChapter=r.chapter):n.subType==="verses"&&(r.verses=n.atts.number,r.cachedVerses=r.verses);var u={type:n.type,subtype:n.subType,content:[]};if("atts"in n&&(u.atts=lDe({},n.atts)),r.outputContentStack.length===0)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(e.document.metadata.document.bookCode," ").concat(r.cachedChapter,":").concat(r.cachedVerses));r.outputContentStack[0].push(u),r.outputContentStack.unshift(u.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="chapter"?r.chapter=null:n.subType==="verses"&&(r.verses=null),r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};n.atts&&(u.atts=n.atts),r.outputContentStack[0].push(u)}}],endMilestone:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element,u={type:n.type,subtype:n.subType};r.outputContentStack[0].push(u)}}],text:[{description:"identity",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;r.outputContentStack[0].push(n.text)}}]},pDe=dDe;$0.default=pDe;Object.defineProperty(T0,"__esModule",{value:!0});T0.default=void 0;var hDe=mDe($0);function mDe(t){return t&&t.__esModule?t:{default:t}}var DDe={identityActions:hDe.default};T0.default=DDe;var B0={},EDe={startDocument:[{description:"Set up state variable",test:()=>!0,action:t=>{var{workspace:e}=t;return e.verseWordCount=0,!0}}],inlineGraft:[{description:"Do not follow grafts",test:()=>!0,action:()=>null}],blockGraft:[{description:"Do not follow grafts",test:()=>!0,action:()=>null}],mark:[{description:"Check verse length",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;if(n.subType==="verses"){if(r.verseWordCount>=30){var u={type:"wrapper",subtype:"meta_content",meta_content:["<== Long verse (".concat(r.verseWordCount," words)")]};r.outputContentStack[0].push(u)}r.verseWordCount=0}return!0}}],text:[{description:"Increment verse word count",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element.text;return r.verseWordCount+=n.split(/\s+/).filter(u=>u.length>0).length,!0}}]},yDe=EDe,kC=vDe(fT);function vDe(t){return t&&t.__esModule?t:{default:t}}var hT=(t,e)=>{t.nestInx=e,t.usfmBits[e]=[]},gDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;r&&e.usfmBits[n].push(r)},Xr=(t,e)=>gDe(t,e,t.nestInx),ADe=(t,e)=>{t.savedEl.push(e),hT(t,t.nestInx+1)},_a=(t,e,r)=>{var n=["ts","c",...kC.default.bodyTags];n.includes(e)?kC.default.bodyTags.includes(e)?t.strictTagOrderStore.usfmBits.push(r):t.strictTagOrderStore[e]=r:(Xr(t,t.strictTagOrderStore.ts),Xr(t,t.strictTagOrderStore.c),Xr(t,t.strictTagOrderStore.usfmBits.join()),Xr(t,r),t.strictTagOrderStore={usfmBits:[]})},SDe=t=>t.savedEl.pop(),mT=t=>{var e=t.usfmBits[t.nestInx];return t.usfmBits[t.nestInx]=[],e},FDe=t=>{var e=mT(t);t.nestInx>0&&t.nestInx--,t.usfmBits[t.nestInx].push(...e)},OC=t=>["toc","toca","mt"].includes(t)?t+"1":t,bDe={startDocument:[{description:"Set up environment",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;r.usfmBits=[],r.savedEl=[],r.strictTagOrderStore={usfmBits:[]},hT(r,0);for(var[n,u]of Object.entries(e.document.metadata.document).filter(s=>!["tags","properties","bookCode"].includes(s[0])))_a(r,n,"\\".concat(OC(n)," ").concat(u,`
`))}}],blockGraft:[{description:"Follow block grafts",test:t=>{var{context:e}=t;return["title","heading","introduction"].includes(e.sequences[0].block.subType)},action:t=>{var e=t.context.sequences[0].block.target;e&&t.context.renderer.renderSequenceId(t,e)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!1,action:t=>{var e=t.context.sequences[0].element.target;e&&t.context.renderer.renderSequenceId(t,e)}}],startParagraph:[{description:"Output paragraph tag",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].block.subType.split(":")[1];_a(r,n,`
\\`.concat(OC(n),`
`))}}],endParagraph:[{description:"Output nl",test:()=>!0,action:t=>{var{workspace:e}=t;Xr(e,`
`)}}],text:[{description:"Output text",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element.text;Xr(r,n)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;n.subType==="chapter"?_a(r,"c",`
\\c `.concat(n.atts.number,`
`)):n.subType==="verses"&&_a(r,"v","\\v ".concat(n.atts.number,`
`))}}],endDocument:[{description:"Build output",test:()=>!0,action:t=>{var{workspace:e,output:r}=t,n=e.usfmBits[0];r.usfm=n.join("")}}],startMilestone:[{description:"Output start of milestone",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=e.sequences[0].element;if(n&&n.atts)if(Object.keys(n.atts).length>0){Xr(r,"\\zaln-s |");var u="";Object.keys(n.atts).forEach(s=>{Xr(r,"".concat(u).concat(s,'="').concat(n.atts[s],'"')),u=" "}),Xr(r,"\\*")}else n.subType==="usfm:ts"&&_a(r,"ts",`

\\ts\\* `)}}],endMilestone:[{description:"Output end of milestone",test:()=>!0,action:t=>{var{workspace:e}=t;Xr(e,"\\zaln-e\\*")}}],startWrapper:[{description:"Handle start of wrapper",test:()=>!0,action:t=>{var{context:e,workspace:r}=t;ADe(r,e.sequences[0].element)}}],endWrapper:[{description:"Output start and end of wrapper, incl. wrapped text",test:()=>!0,action:t=>{var{context:e,workspace:r}=t,n=SDe(r),u=mT(r);if(FDe(r),n&&n.atts&&Object.keys(n.atts).length>0){Xr(r,"\\w ".concat(u.join(""),"|"));var s="";Object.keys(n.atts).forEach(i=>{Xr(r,"".concat(s).concat(i,'="').concat(n.atts[i],'"')),s=" "})}Xr(r,"\\w*")}}]},CDe=bDe,_De={startDocument:[{description:"Set up word object",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;for(var s of r.sequences[0].element.text.split(/[\s:;,.]+/).filter(i=>i.length>0))s=s.toLowerCase(),s in n.words?n.words[s]+=1:n.words[s]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.words=[...Object.entries(n.words)].sort((s,i)=>i[1]-s[1])}}]},wDe=_De,TDe={startDocument:[{description:"Set up state variables and output",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;n.chapter=null,n.verses=null,n.matches=new Set([])}}],mark:[{description:"Update CV state",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element;s.subType==="chapter"?n.chapter=s.atts.number:s.subType==="verses"&&(n.verses=s.atts.number)}}],text:[{description:"Add matching verses to set",test:t=>{var{context:e,workspace:r}=t;return r.chapter&&r.verses},action:t=>{var{config:e,context:r,workspace:n,output:u}=t,s=r.sequences[0].element.text;s.toLowerCase().includes(e.toSearch.toLowerCase())&&n.matches.add("".concat(n.chapter,":").concat(n.verses))}}],endDocument:[{description:"Sort matches",test:()=>!0,action:t=>{var{config:e,context:r,workspace:n,output:u}=t;u.matches=Array.from(n.matches).map(s=>s.split(":").map(i=>parseInt(i))).sort((s,i)=>s[0]*1e3+s[1]-(i[0]*1e3+i[1])).map(s=>s.join(":"))}}]},$De=TDe;Object.defineProperty(B0,"__esModule",{value:!0});B0.default=void 0;var BDe=I0(yDe),IDe=I0(CDe),PDe=I0(wDe),kDe=I0($De);function I0(t){return t&&t.__esModule?t:{default:t}}var ODe={longVerseCheckActions:BDe.default,toUsfmActions:IDe.default,wordCountActions:PDe.default,wordSearchActions:kDe.default};B0.default=ODe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"perf2perf",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"perf2x",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"sofria2sofria",{enumerable:!0,get:function(){return r.default}});var e=u(w0),r=u(T0),n=u(B0);function u(s){return s&&s.__esModule?s:{default:s}}})(pT);var NDe=Ome,RDe=fT,qDe=cl,xDe=Kme,MDe=zme,jDe=Xme,LDe=rDe,GDe=uDe,VDe=pT,UDe={Validator:NDe,usfmHelps:RDe,ProskommaRender:qDe,PerfRenderFromJson:xDe,SofriaRenderFromJson:jDe,SofriaRenderFromProskomma:LDe,PerfRenderFromProskomma:MDe,mergeActions:GDe,transforms:VDe},en=Uint8Array,Ys=Uint16Array,DT=Uint32Array,ET=new en([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yT=new en([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KDe=new en([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vT=function(t,e){for(var r=new Ys(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var u=new DT(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)u[s]=s-r[n]<<5|n;return[r,u]},gT=vT(ET,2),AT=gT[0],JDe=gT[1];AT[28]=258,JDe[258]=28;var HDe=vT(yT,0),WDe=HDe[0],mm=new Ys(32768);for(var Rt=0;Rt<32768;++Rt){var ts=(Rt&43690)>>>1|(Rt&21845)<<1;ts=(ts&52428)>>>2|(ts&13107)<<2,ts=(ts&61680)>>>4|(ts&3855)<<4,mm[Rt]=((ts&65280)>>>8|(ts&255)<<8)>>>1}var ic=function(t,e,r){for(var n=t.length,u=0,s=new Ys(e);u<n;++u)t[u]&&++s[t[u]-1];var i=new Ys(e);for(u=0;u<e;++u)i[u]=i[u-1]+s[u-1]<<1;var o;if(r){o=new Ys(1<<e);var a=15-e;for(u=0;u<n;++u)if(t[u])for(var c=u<<4|t[u],l=e-t[u],f=i[t[u]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)o[mm[f]>>>a]=c}else for(o=new Ys(n),u=0;u<n;++u)t[u]&&(o[u]=mm[i[t[u]-1]++]>>>15-t[u]);return o},ll=new en(288);for(var Rt=0;Rt<144;++Rt)ll[Rt]=8;for(var Rt=144;Rt<256;++Rt)ll[Rt]=9;for(var Rt=256;Rt<280;++Rt)ll[Rt]=7;for(var Rt=280;Rt<288;++Rt)ll[Rt]=8;var ST=new en(32);for(var Rt=0;Rt<32;++Rt)ST[Rt]=5;var zDe=ic(ll,9,1),QDe=ic(ST,5,1),F2=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},wn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},b2=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},YDe=function(t){return(t+7)/8|0},FT=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t.BYTES_PER_ELEMENT==2?Ys:t.BYTES_PER_ELEMENT==4?DT:en)(r-e);return n.set(t.subarray(e,r)),n},XDe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mn=function(t,e,r){var n=new Error(e||XDe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,mn),!r)throw n;return n},w3=function(t,e,r){var n=t.length;if(!n||r&&r.f&&!r.l)return e||new en(0);var u=!e||r,s=!r||r.i;r||(r={}),e||(e=new en(n*3));var i=function(R){var b=e.length;if(R>b){var T=new en(Math.max(b*2,R));T.set(e),e=T}},o=r.f||0,a=r.p||0,c=r.b||0,l=r.l,f=r.d,d=r.m,p=r.n,h=n*8;do{if(!l){o=wn(t,a,1);var v=wn(t,a+1,3);if(a+=3,v)if(v==1)l=zDe,f=QDe,d=9,p=5;else if(v==2){var F=wn(t,a,31)+257,I=wn(t,a+10,15)+4,k=F+wn(t,a+5,31)+1;a+=14;for(var B=new en(k),O=new en(19),M=0;M<I;++M)O[KDe[M]]=wn(t,a+M*3,7);a+=I*3;for(var y=F2(O),P=(1<<y)-1,L=ic(O,y,1),M=0;M<k;){var U=L[wn(t,a,P)];a+=U&15;var S=U>>>4;if(S<16)B[M++]=S;else{var Y=0,H=0;for(S==16?(H=3+wn(t,a,3),a+=2,Y=B[M-1]):S==17?(H=3+wn(t,a,7),a+=3):S==18&&(H=11+wn(t,a,127),a+=7);H--;)B[M++]=Y}}var se=B.subarray(0,F),fe=B.subarray(F);d=F2(se),p=F2(fe),l=ic(se,d,1),f=ic(fe,p,1)}else mn(1);else{var S=YDe(a)+4,D=t[S-4]|t[S-3]<<8,g=S+D;if(g>n){s&&mn(0);break}u&&i(c+D),e.set(t.subarray(S,g),c),r.b=c+=D,r.p=a=g*8,r.f=o;continue}if(a>h){s&&mn(0);break}}u&&i(c+131072);for(var K=(1<<d)-1,z=(1<<p)-1,te=a;;te=a){var Y=l[b2(t,a)&K],V=Y>>>4;if(a+=Y&15,a>h){s&&mn(0);break}if(Y||mn(2),V<256)e[c++]=V;else if(V==256){te=a,l=null;break}else{var N=V-254;if(V>264){var M=V-257,A=ET[M];N=wn(t,a,(1<<A)-1)+AT[M],a+=A}var C=f[b2(t,a)&z],E=C>>>4;C||mn(3),a+=C&15;var fe=WDe[E];if(E>3){var A=yT[E];fe+=b2(t,a)&(1<<A)-1,a+=A}if(a>h){s&&mn(0);break}u&&i(c+131072);for(var _=c+N;c<_;c+=4)e[c]=e[c-fe],e[c+1]=e[c+1-fe],e[c+2]=e[c+2-fe],e[c+3]=e[c+3-fe];c=_}}r.l=l,r.p=te,r.b=c,r.f=o,l&&(o=1,r.m=d,r.d=f,r.n=p)}while(!o);return c==e.length?e:FT(e,0,c)},ZDe=new en(0),eEe=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&mn(6,"invalid gzip data");var e=t[3],r=10;e&4&&(r+=t[10]|(t[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[r++]);return r+(e&2)},tEe=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},rEe=function(t){((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)&&mn(6,"invalid zlib data"),t[1]&32&&mn(6,"invalid zlib data: preset dictionaries not supported")};function nEe(t,e){return w3(t,e)}function uEe(t,e){return w3(t.subarray(eEe(t),-8),e||new en(tEe(t)))}function sEe(t,e){return w3((rEe(t),t.subarray(2,-4)),e)}function iEe(t,e){return t[0]==31&&t[1]==139&&t[2]==8?uEe(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?nEe(t,e):sEe(t,e)}var Dm=typeof TextDecoder<"u"&&new TextDecoder,oEe=0;try{Dm.decode(ZDe,{stream:!0}),oEe=1}catch{}var aEe=function(t){for(var e="",r=0;;){var n=t[r++],u=(n>127)+(n>223)+(n>239);if(r+u>t.length)return[e,FT(t,r-1)];u?u==3?(n=((n&15)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):u&1?e+=String.fromCharCode((n&31)<<6|t[r++]&63):e+=String.fromCharCode((n&15)<<12|(t[r++]&63)<<6|t[r++]&63):e+=String.fromCharCode(n)}};function cEe(t,e){if(e){for(var r="",n=0;n<t.length;n+=16384)r+=String.fromCharCode.apply(null,t.subarray(n,n+16384));return r}else{if(Dm)return Dm.decode(t);var u=aEe(t),s=u[0],i=u[1];return i.length&&mn(8),s}}const lEe=(t,e,r=null,n=null)=>{r=r||function(o){return o},n=n||function(o){return o};const u=iEe(e),s=cEe(u),i=JSON.parse(s);return i.metadata.selectors=r(i.metadata.selectors),i.id=n(i.id),t.loadSuccinctDocSet(i)};function fEe(t){let e=t.target;for(;!NC(e)&&!hEe(e)&&!mEe(e);)e=e.parentNode;if(NC(e)){const r=bT(e.id);if(e.classList.contains("selected"))is.removeVerse(r);else{const n=cr.mainFeatures["annotation-max-select"];if(is.length()<n){const s=DEe(r);is.addVerse(r,s)}}}}function dEe(){const t=Array.from(document.getElementsByClassName("selected"));let e="";for(let r=0;r<t.length;r++){const n=bT(t[r].id);n!==e&&(e=n,is.getVerseByVerseNumber(n).verse===""&&RC(n,"selected",!1))}for(let r=0;r<is.length();r++){const n=is.getVerseByIndex(r).verse;RC(n,"selected",!0)}}function pEe(){const t=document.getElementsByTagName("div");for(let e=0;e<t.length;e++)t[e].id!=""&&t[e].classList.remove("selected");is.reset()}function bT(t){t.indexOf("+")>0&&(t=t.substring(0,t.indexOf("+")));const e=t.match(/[0-9]+(-[0-9]+)?/)[0];return e&&(t=t.substring(0,t.indexOf(e)+e.length)),t}function NC(t){return t.classList.contains("seltxt")}function hEe(t){return t.tagName==="A"}function mEe(t){return t.tagName==="MAIN"}function RC(t,e,r){let n=qC(t,e,r);for(let u=97;u<=122;u++){const s=String.fromCharCode(u);if(n=qC(t+s,e,r),!n)break}}function qC(t,e,r){let n=!1,u=0,s=document.getElementById(t);for(;s;)r?s.classList.contains(e)||s.classList.add(e):s.classList.remove(e),u++,s=document.getElementById(t+"+"+u),n=!0;return n}function DEe(t){let[e,r]=xC(t),n=r;for(let u=97;u<=122;u++){const s=String.fromCharCode(u);if([e,r]=xC(t+s),!e)break;n=n.concat(r)}return n}function xC(t){let e=!1,r="",n=0,u=document.getElementById(t);for(;u;)r=r.concat(u.textContent),n++,u=document.getElementById(t+"+"+n),e=!0;return[e,r]}function MC(t){let e,r;return e=new QB({}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function EEe(t){let e,r,n,u,s=t[2]&&MC();return{c(){e=we("article"),s&&s.c(),r=nt(),n=we("div"),this.h()},l(i){e=Te(i,"ARTICLE",{class:!0});var o=re(e);s&&s.l(o),r=ut(o),n=Te(o,"DIV",{}),re(n).forEach(J),o.forEach(J),this.h()},h(){xu(n,"hidden",t[2]),hr(n,"font-size",t[4]),hr(n,"line-height",t[3]),m(e,"class","container")},m(i,o){be(i,e,o),s&&s.m(e,null),ue(e,r),ue(e,n),t[16](n),t[17](e),u=!0},p(i,o){i[2]?s?o[0]&4&&$e(s,1):(s=MC(),s.c(),$e(s,1),s.m(e,r)):s&&(au(),Ie(s,1,1,()=>{s=null}),cu()),(!u||o[0]&4)&&xu(n,"hidden",i[2]),o[0]&16&&hr(n,"font-size",i[4]),o[0]&8&&hr(n,"line-height",i[3])},i(i){u||($e(s),u=!0)},o(i){Ie(s),u=!1},d(i){i&&J(e),s&&s.d(),t[16](null),t[17](null)}}}const C2=/(\.|\?|!|:|;|,|')/g;let jC="default";function yEe(t,e,r){if(e===!0){var n=document.createElement("span");n.classList.add("v"),n.innerText=t.atts.number;var u=document.createElement("span");u.classList.add("vsp"),u.innerText="";var s=r.phraseDiv.cloneNode(!0);s.appendChild(n.cloneNode(!0)),s.appendChild(u.cloneNode(!0)),r.phraseDiv=s.cloneNode(!0)}}function vEe(t,e,r){let n,u,s,i,o,a,c,l,f;ct(t,pu,b=>r(11,i=b)),ct(t,OT,b=>r(12,o=b)),ct(t,_2,b=>r(13,a=b)),ct(t,v1,b=>r(21,c=b)),ct(t,is,b=>r(14,l=b)),ct(t,NT,b=>r(15,f=b));let{bodyFontSize:d}=e,{bodyLineHeight:p}=e,{viewShowVerses:h}=e,{redLetters:v}=e;const S=new V1e;let D;const g={};let F,I;const k=x3.subscribe((b,T)=>{r(9,F=b),I=T},jC),B=b=>{var T;I!==g&&((T=D==null?void 0:D.querySelector(`div[data-verse="${b.split("-")[0]}"][data-phrase="${b.split("-")[1]}"]`))==null||T.scrollIntoView())},O=b=>b.trim().length===0;let M="",y=!1;const P=(()=>{let b;return T=>{clearTimeout(b),b=setTimeout(()=>{const j=Array.from(D==null?void 0:D.getElementsByClassName("scroll-item")).filter((q,X)=>{const ie=q.getBoundingClientRect(),Ee=D.getBoundingClientRect();return ie.top-Ee.top>=f.top&&ie.bottom-Ee.top<=f.height+f.top}).map(q=>`${q.getAttribute("data-verse")}-${q.getAttribute("data-phrase")}`);x3.set(j[0],jC,g),M=j.pop()},500)}})(),L=(b,T)=>{var ie;const j=b.split(",");let q=(ie=D==null?void 0:D.getElementsByClassName("highlighting"))==null?void 0:ie.item(0),X=q==null?void 0:q.getAttributeNode("style");q==null||q.removeAttributeNode(X),q==null||q.classList.remove("highlighting"),!(!c||j[0]!==i.docSet||j[1]!==i.book||j[2]!==i.chapter)&&(q=D==null?void 0:D.querySelector(`div[data-verse="${j[3]}"][data-phrase="${j[4]}"]`),q==null&&j[4]=="none"&&(q=D==null?void 0:D.querySelector(`div[data-verse="${j[3]}"][data-phrase="a"]`)),q==null||q.setAttribute("style","background-color: "+T+";"),q==null||q.classList.add("highlighting"),`${q==null?void 0:q.getAttribute("data-verse")}-${q==null?void 0:q.getAttribute("data-phrase")}`===M&&(q==null||q.scrollIntoView()))},U=(b,T)=>{let j=0;for(let q in b)b[q]===T&&j++;return j},Y=b=>{let T=b.split(C2);for(let j=1;j<T.length;j+=2)T[j-1]+=T[j];if(T=T.filter(j=>j.length>0&&(j.length>1||!j.match(C2))),T.length>1)for(let j=0;j<T.length-1;j++){const q=T[j+1].split("");let X=q.shift();for(;X&&X.match(/[^_a-z]/i);)T[j]+=X,X=q.shift();X?(q.unshift(X),T[j+1]=q.join("")):(T.splice(j+1,1),j--)}return T},H=b=>b.match(C2)!=null,se=b=>b.textType[b.textType.length-1],fe=(b,T="advance")=>{const j="abcdefghijklmnopqrstuvwxyz";b.phraseDiv!=null&&b.paragraphDiv.appendChild(b.phraseDiv.cloneNode(!0));const q=document.createElement("div");if(b.introductionGraft)q.id="+"+parseInt(b.introductionIndex),q.classList.add("txs"),b.introductionIndex++;else{switch(T){case"reset":b.currentPhraseIndex=0;break;case"advance":b.currentPhraseIndex++;break}const X=j.charAt(b.currentPhraseIndex);q.id=b.currentVerse+X,q.setAttribute("data-verse",b.currentVerse),q.setAttribute("data-phrase",X),q.classList.add("txs","seltxt","scroll-item")}return q.cloneNode(!0)},K=(b,T)=>{if(!O(T)){let j=[];!b.introductionGraft&&i.hasAudio?j=Y(T):j[0]=T;for(let q=0;q<j.length;q++){let X=b.phraseDiv.cloneNode(!0);const ie=j[q],Ee=z(b.usfmWrapperType,b.showWordsOfJesus);X=te(X,ie,b.usfmWrapperType,Ee),q<j.length-1?(b.phraseDiv=X.cloneNode(!0),b.phraseDiv=fe(b)):b.phraseDiv=X}b.lastPhraseTerminated=j.length>0?H(j[j.length-1]):!1}},z=(b,T)=>{let j=!1;return b==="wj"?T&&(j=!0):b&&(j=!0),j},te=(b,T,j,q)=>{const X=document.createTextNode(T);if(q){var ie=document.createElement("span");ie.classList.add(j),ie.appendChild(X),b.appendChild(ie)}else b.appendChild(X);return b},V=(b,T,j)=>{let q=!1;return(b==T||j&&T)&&(q=!0),q};let N=document.createElement("div"),A=!0;const C={},E=async(b,T,j,q,X)=>{const ie=await S.gqlQuery("{docSets { id } }");let Ee=!1;for(const ce of ie.data.docSets)if(ce.id===b){Ee=!0;break}if(!Ee){const ce=await fetch(`${vm}/collections/${b}.pkf`).then(me=>me.arrayBuffer());if(ce.byteLength){const me=new Uint8Array(ce);lEe(S,me)}}const Be="abcdefghijklmnopqrstuvwxyz",Ve=new UDe.SofriaRenderFromProskomma({proskomma:S,actions:{startDocument:[{description:"Set up; Book heading",test:()=>!0,action:({context:ce,workspace:me})=>{N.replaceChildren(),me.root=N,me.footnoteIndex=0,me.introductionIndex=0,me.firstVerse=!0,me.currentVerse="none",me.currentPhraseIndex=0,me.introductionGraft=!1,me.titleGraft=!1,me.paragraphDiv=document.createElement("div"),me.titleBlockDiv=document.createElement("div"),me.phraseDiv=null,me.subheaders=[],me.textType=[],me.titleText=[],me.headerText=[],me.usfmWrapperType="",me.showWordsOfJesus=X,me.lastPhraseTerminated=!1,pEe()}}],startParagraph:[{description:"Start HTML para with appropriate class",test:()=>!0,action:({context:ce,workspace:me})=>{const Ce=ce.sequences[0].type;if(V(me.introductionGraft,y,me.titleGraft)){var De=ce.sequences[0].block.subType.split(":")[1]||ce.sequences[0].block.subType;Ce==="main"&&!y?(me.lastPhraseTerminated=!1,me.firstVerse==!0&&(De="m",me.firstVerse=!1),me.currentVerse!="none"&&(me.phraseDiv=fe(me)),me.paragraphDiv=document.createElement("div"),me.paragraphDiv.classList.add(De)):Ce=="introduction"&&(me.paragraphDiv=document.createElement("div"),me.paragraphDiv.classList.add(De),me.introductionIndex==1&&(me.phraseDiv=fe(me,"keep")))}}}],endParagraph:[{description:"End HTML para",test:()=>!0,action:({context:ce,workspace:me})=>{const Ce=ce.sequences[0].type;if(V(me.introductionGraft,y,me.titleGraft))if(Ce=="main")me.root.appendChild(me.paragraphDiv);else if(Ce=="title"){const Z=document.createElement("div");var De=ce.sequences[0].block.subType.split(":")[1]||ce.sequences[0].block.subType;Z.classList.add(De);const le=document.createElement("span");le.classList.add(De),le.innerText=me.titleText,Z.appendChild(le),me.titleBlockDiv.appendChild(Z),me.titleText=""}else if(Ce=="heading"){const Z=document.createElement("div");var xe=ce.sequences[0].block.subType.split(":")[1]||ce.sequences[0].block.subType;Z.classList.add(xe);const le=xe.replaceAll(/[0-9]/g,"");me.subheaders.push(le);const ye=U(me.subheaders,le),x=document.createElement("div");x.id=le+ye,x.innerText=me.headerText,Z.appendChild(x),me.root.appendChild(Z),me.headerText=""}else Ce=="introduction"&&me.root.appendChild(me.paragraphDiv)}}],text:[{description:"Output text",test:()=>!0,action:({context:ce,workspace:me})=>{if(V(me.introductionGraft,y,me.titleGraft)){const Ce=ce.sequences[0].element.text;switch(se(me)){case"title":{me.titleText+=Ce;break}case"heading":{me.headerText+=Ce;break}default:{const De=ce.sequences[0].block.subType;De.includes("usfm:x")||De.includes("usfm:f")||(De.includes("usfm:ip"),K(me,Ce));break}}}}}],mark:[{description:"Output text",test:()=>!0,action:({context:ce,workspace:me})=>{const Ce=ce.sequences[0].element;if(V(me.introductionGraft,y,me.titleGraft))if(Ce.subType==="chapter_label"){const De=document.createElement("div");De.classList.add("c-drop"),De.innerText=Ce.atts.number,me.paragraphDiv.appendChild(De)}else Ce.subType==="verses_label"&&yEe(Ce,q,me)}}],endDocument:[{description:"Set up",test:()=>!0,action:({context:ce,workspace:me,output:Ce})=>{for(var De=document.getElementsByTagName("div"),xe=0;xe<De.length;xe++)De[xe].classList.contains("seltxt")&&De[xe].id!=""&&De[xe].addEventListener("click",fEe,!1)}}],startSequence:[{description:"Start Sequence",test:()=>!0,action:({context:ce,workspace:me})=>{const Ce=ce.sequences[0].type;if(V(me.introductionGraft,y,me.titleGraft))switch(Ce){case"title":{me.textType.push("title");const De=document.createElement("div");De.setAttribute("data-verse","title"),De.setAttribute("data-phrase","none"),De.classList.add("scroll-item"),me.titleBlockDiv=De;break}case"heading":{me.textType.push("heading");break}case"main":{me.textType.push("main");break}case"introduction":{me.textType.push("introduction");break}}}}],endSequence:[{description:"End Sequence",test:()=>!0,action:({context:ce,workspace:me})=>{const Ce=ce.sequences[0].type;if(V(me.introductionGraft,y,me.titleGraft))switch(Ce){case"title":{me.textType.pop();const De=me.titleBlockDiv;De.innerHTML+='<div class="b"></div><div class="b"></div>',me.root.append(De);break}case"heading":{me.textType.pop();break}case"main":{me.textType.pop();break}case"introduction":me.textType.pop();break}}}],blockGraft:[{description:"Block Graft",test:()=>!0,action:ce=>{const me=ce.context.sequences[0].block,Ce={type:me.type,sequence:{}};if(me.subType==="introduction"?(ce.workspace.introductionGraft=!0,ce.workspace.introductionIndex=1):me.subType==="title"&&(ce.workspace.titleGraft=!0),me.sequence){Ce.sequence={};const De=ce.workspace.currentSequence;ce.workspace.currentSequence=Ce.sequence,ce.context.renderer.renderSequence(ce),ce.workspace.currentSequence=De}me.subType==="introduction"?ce.workspace.introductionGraft=!1:me.subType==="title"&&(ce.workspace.titleGraft=!1)}}],inlineGraft:[{description:"Inline graft",test:()=>!0,action:ce=>{const me=ce.context.sequences[0].element,Ce=ce.workspace,De={type:me.type,subtype:me.subType,sequence:{}};if(me.subType==="xref"||me.subType==="footnote"){Ce.textType.push("footnote");const Z=Ce.phraseDiv.cloneNode(!0),le=document.createElement("span");le.setAttribute("data-graft",`X-${Ce.footnoteIndex+1}`),le.classList.add("footnote");const ye=document.createElement("a"),x=document.createElement("sup");x.innerHTML=Be.charAt(Ce.footnoteIndex),ye.appendChild(x),le.appendChild(ye),Z.appendChild(le),Ce.phraseDiv=Z.cloneNode(!0),Ce.footnoteIndex++,Ce.lastPhraseTerminated===!0&&(Ce.phraseDiv=fe(Ce))}const xe=Ce.currentSequence;Ce.currentSequence=De.sequence,ce.context.renderer.renderSequence(ce),Ce.currentSequence=xe,(me.subType==="xref"||me.subType==="footnote")&&Ce.textType.pop()}}],startWrapper:[{description:"Start Wrapper",test:()=>!0,action:({context:ce,workspace:me})=>{let Ce=ce.sequences[0].element,De=Ce.subType;switch(Ce.subType.startsWith("usfm:")&&(De="usfm"),De){case"verses":{me.lastPhraseTerminated=!1,me.textType.push("verses"),me.currentVerse=Ce.atts.number,me.phraseDiv=fe(me,"reset");break}case"usfm":{let xe=Ce.subType.split(":")[1];me.textType.push("usfm"),me.textType.includes("footnote")||me.lastPhraseTerminated===!0&&(me.phraseDiv=fe(me)),me.usfmWrapperType=xe;break}}}}],endWrapper:[{description:"End Wrapper",test:()=>!0,action:({context:ce,workspace:me})=>{let Ce=ce.sequences[0].element,De=Ce.subType;switch(Ce.subType.startsWith("usfm:")&&(De="usfm"),De){case"verses":{me.textType.pop(),me.phraseDiv!=null&&me.phraseDiv.innerText!==""&&me.paragraphDiv.appendChild(me.phraseDiv.cloneNode(!0)),me.phraseDiv=null,me.currentVerse="none";break}case"usfm":{me.textType.pop(),me.usfmWrapperType="";break}}}}],startMilestone:[{description:"Start Milestone",test:()=>!0,action:({context:ce})=>{}}],endMilestone:[{description:"End Milestone",test:()=>!0,action:({context:ce})=>{}}]},debugLevel:0}),We=S.gqlQuerySync('{documents { docSetId id bookCode: header(id: "bookCode")} }'),He={};for(const ce of We.data.documents)ce.docSetId===b&&(He[ce.bookCode]=ce.id);const ke=He[T];Ve.renderDocument({docId:ke,config:{chapters:[j]},output:C}),r(2,A=!1)};BT(k);function _(b){Xs[b?"unshift":"push"](()=>{N=b,r(1,N)})}function R(b){Xs[b?"unshift":"push"](()=>{D=b,r(0,D)})}return t.$$set=b=>{"bodyFontSize"in b&&r(5,d=b.bodyFontSize),"bodyLineHeight"in b&&r(6,p=b.bodyLineHeight),"viewShowVerses"in b&&r(7,h=b.viewShowVerses),"redLetters"in b&&r(8,v=b.redLetters)},t.$$.update=()=>{t.$$.dirty[0]&512&&B(F),t.$$.dirty[0]&34816&&P([f,i]),t.$$.dirty[0]&16384&&dEe(),t.$$.dirty[0]&4096&&r(10,s=o.TextHighlightColor),t.$$.dirty[0]&9216&&L(a,s),t.$$.dirty[0]&32&&r(4,n=d+"px"),t.$$.dirty[0]&64&&r(3,u=p+"%"),t.$$.dirty[0]&2432&&(()=>{let b=i.chapter;b=="i"?(b="1",y=!0):y=!1;const T=i.book,j=b,q=i.docSet;E(q,T,j,h,v)})()},[D,N,A,u,n,d,p,h,v,F,s,i,o,a,l,f,_,R]}class gEe extends Ue{constructor(e){super(),Ke(this,e,vEe,EEe,Je,{bodyFontSize:5,bodyLineHeight:6,viewShowVerses:7,redLetters:8},null,[-1,-1])}}const AEe=300,SEe=60,CT="none";function wa(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}function FEe(t,e){return e.filter(r=>t.pointerId!==r.pointerId)}function Jl(t,e,r,n,u){t.dispatchEvent(new CustomEvent(`${e}${u}`,{detail:{event:r,pointersCount:n.length}}))}function bEe(t,e,r,n,u,s=CT){e.style.touchAction=s;let i=[];function o(c){i.push(c),Jl(e,t,c,i,"down"),n==null||n(i,c);const l=c.pointerId;function f(D){l===D.pointerId&&(i=FEe(D,i),i.length||d(),Jl(e,t,D,i,"up"),u==null||u(i,D))}function d(){p(),h(),v(),S()}const p=wa(e,"pointermove",D=>{i=i.map(g=>D.pointerId===g.pointerId?D:g),Jl(e,t,D,i,"move"),r==null||r(i,D)}),h=wa(e,"lostpointercapture",D=>{f(D)}),v=wa(e,"pointerup",D=>{f(D)}),S=wa(e,"pointerleave",D=>{i=[],d(),Jl(e,t,D,i,"up"),u==null||u(i,D)})}const a=wa(e,"pointerdown",o);return{destroy:()=>{a()}}}function CEe(t,e={timeframe:AEe,minSwipeDistance:SEe,touchAction:CT}){const r="swipe";let n,u,s,i;function o(c,l){u=l.clientX,s=l.clientY,n=Date.now(),c.length===1&&(i=l.target)}function a(c,l){if(l.type==="pointerup"&&c.length===0&&Date.now()-n<e.timeframe){const f=l.clientX-u,d=l.clientY-s,p=Math.abs(f),h=Math.abs(d);let v=null;p>=2*h&&p>e.minSwipeDistance?v=f>0?"right":"left":h>=2*p&&h>e.minSwipeDistance&&(v=d>0?"bottom":"top"),v&&t.dispatchEvent(new CustomEvent(r,{detail:{direction:v,target:i}}))}}return bEe(r,t,null,o,a,e.touchAction)}function _Ee(t){let e,r,n,u,s;return r=new PI({}),u=new LI({}),{c(){e=we("div"),Et(r.$$.fragment),n=nt(),Et(u.$$.fragment),this.h()},l(i){e=Te(i,"DIV",{slot:!0});var o=re(e);St(r.$$.fragment,o),n=ut(o),St(u.$$.fragment,o),o.forEach(J),this.h()},h(){m(e,"slot","left-buttons")},m(i,o){be(i,e,o),yt(r,e,null),ue(e,n),yt(u,e,null),s=!0},p:_e,i(i){s||($e(r.$$.fragment,i),$e(u.$$.fragment,i),s=!0)},o(i){Ie(r.$$.fragment,i),Ie(u.$$.fragment,i),s=!1},d(i){i&&J(e),vt(r),vt(u)}}}function LC(t){let e,r,n,u,s,i;const o=[TEe,wEe],a=[];function c(l,f){return l[3]?0:1}return r=c(t),n=a[r]=o[r](t),{c(){e=we("button"),n.c(),this.h()},l(l){e=Te(l,"BUTTON",{class:!0});var f=re(e);n.l(f),f.forEach(J),this.h()},h(){m(e,"class","dy-btn dy-btn-ghost dy-btn-circle")},m(l,f){be(l,e,f),a[r].m(e,null),u=!0,s||(i=Ct(e,"click",t[13]),s=!0)},p(l,f){let d=r;r=c(l),r!==d&&(au(),Ie(a[d],1,1,()=>{a[d]=null}),cu(),n=a[r],n||(n=a[r]=o[r](l),n.c()),$e(n,1),n.m(e,null))},i(l){u||($e(n),u=!0)},o(l){Ie(n),u=!1},d(l){l&&J(e),a[r].d(),s=!1,i()}}}function wEe(t){let e,r;return e=new xr.Mute({props:{color:"white"}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function TEe(t){let e,r;return e=new xr.Volume({props:{color:"white"}}),{c(){Et(e.$$.fragment)},l(n){St(e.$$.fragment,n)},m(n,u){yt(e,n,u),r=!0},i(n){r||($e(e.$$.fragment,n),r=!0)},o(n){Ie(e.$$.fragment,n),r=!1},d(n){vt(e,n)}}}function $Ee(t){let e,r,n;return r=new qT({props:{color:"white"}}),{c(){e=we("a"),Et(r.$$.fragment),this.h()},l(u){e=Te(u,"A",{href:!0,class:!0});var s=re(e);St(r.$$.fragment,s),s.forEach(J),this.h()},h(){m(e,"href",vm+"/search"),m(e,"class","dy-btn dy-btn-ghost dy-btn-circle")},m(u,s){be(u,e,s),yt(r,e,null),n=!0},p:_e,i(u){n||($e(r.$$.fragment,u),n=!0)},o(u){Ie(r.$$.fragment,u),n=!1},d(u){u&&J(e),vt(r)}}}function BEe(t){let e,r,n,u,s,i=t[2].hasAudio&&t[9]&&LC(t),o=t[8]&&$Ee();return u=new YI({}),{c(){e=we("div"),i&&i.c(),r=nt(),o&&o.c(),n=nt(),Et(u.$$.fragment),this.h()},l(a){e=Te(a,"DIV",{slot:!0});var c=re(e);i&&i.l(c),r=ut(c),o&&o.l(c),n=ut(c),St(u.$$.fragment,c),c.forEach(J),this.h()},h(){m(e,"slot","right-buttons")},m(a,c){be(a,e,c),i&&i.m(e,null),ue(e,r),o&&o.m(e,null),ue(e,n),yt(u,e,null),s=!0},p(a,c){a[2].hasAudio&&a[9]?i?(i.p(a,c),c&4&&$e(i,1)):(i=LC(a),i.c(),$e(i,1),i.m(e,r)):i&&(au(),Ie(i,1,1,()=>{i=null}),cu()),a[8]&&o.p(a,c)},i(a){s||($e(i),$e(o),$e(u.$$.fragment,a),s=!0)},o(a){Ie(i),Ie(o),Ie(u.$$.fragment,a),s=!1},d(a){a&&J(e),i&&i.d(),o&&o.d(),vt(u)}}}function IEe(t){let e,r,n,u,s,i;const o=[t[5]];let a={};for(let c=0;c<o.length;c+=1)a=VC(a,o[c]);return r=new gEe({props:a}),{c(){e=we("div"),Et(r.$$.fragment),this.h()},l(c){e=Te(c,"DIV",{style:!0,slot:!0});var l=re(e);St(r.$$.fragment,l),l.forEach(J),this.h()},h(){m(e,"style",n="height:calc(100vh - "+t[4]+"rem);height:calc(100dvh - "+t[4]+"rem);"),m(e,"slot","scrolled-content")},m(c,l){be(c,e,l),yt(r,e,null),u=!0,s||(i=[IT(CEe.call(null,e,{timeframe:300,minSwipeDistance:60,touchAction:"pan-y"})),Ct(e,"swipe",t[7])],s=!0)},p(c,l){const f=l&32?UC(o,[KC(c[5])]):{};r.$set(f),(!u||l&16&&n!==(n="height:calc(100vh - "+c[4]+"rem);height:calc(100dvh - "+c[4]+"rem);"))&&m(e,"style",n)},i(c){u||($e(r.$$.fragment,c),u=!0)},o(c){Ie(r.$$.fragment,c),u=!1},d(c){c&&J(e),vt(r),s=!1,fs(i)}}}function GC(t){var s;let e,r,n,u;return n=new mI({props:{audio:(s=t[2].hasAudio)==null?void 0:s.audio}}),{c(){e=we("div"),r=we("div"),Et(n.$$.fragment),this.h()},l(i){e=Te(i,"DIV",{class:!0});var o=re(e);r=Te(o,"DIV",{});var a=re(r);St(n.$$.fragment,a),a.forEach(J),o.forEach(J),this.h()},h(){var i;hr(r,"height",(i=t[2].hasAudio)!=null&&i.timingFile?"4rem":"5rem"),m(e,"class","audio-bar p-0 left-0 right-0 bottom-0 absolute svelte-1s9r6o0"),xu(e,"audio-bar-desktop",t[6])},m(i,o){be(i,e,o),ue(e,r),yt(n,r,null),u=!0},p(i,o){var c,l;const a={};o&4&&(a.audio=(c=i[2].hasAudio)==null?void 0:c.audio),n.$set(a),o&4&&hr(r,"height",(l=i[2].hasAudio)!=null&&l.timingFile?"4rem":"5rem"),(!u||o&64)&&xu(e,"audio-bar-desktop",i[6])},i(i){u||($e(n.$$.fragment,i),u=!0)},o(i){Ie(n.$$.fragment,i),u=!1},d(i){i&&J(e),vt(n)}}}function PEe(t){let e,r,n,u,s,i,o,a,c;r=new MT({props:{$$slots:{"right-buttons":[BEe],"left-buttons":[_Ee]},$$scope:{ctx:t}}}),s=new xT({props:{$$slots:{"scrolled-content":[IEe]},$$scope:{ctx:t}}});let l=t[2].hasAudio&&t[3]&&GC(t);return{c(){e=we("div"),Et(r.$$.fragment),n=nt(),u=we("div"),Et(s.$$.fragment),o=nt(),l&&l.c(),a=Wt(),this.h()},l(f){e=Te(f,"DIV",{class:!0});var d=re(e);St(r.$$.fragment,d),d.forEach(J),n=ut(f),u=Te(f,"DIV",{style:!0,class:!0});var p=re(u);St(s.$$.fragment,p),p.forEach(J),o=ut(f),l&&l.l(f),a=Wt(),this.h()},h(){m(e,"class","navbar h-16"),m(u,"style",i="height:calc(100vh - "+t[1]+"rem);height:calc(100dvh - "+t[1]+"rem)"),m(u,"class","svelte-1s9r6o0"),xu(u,"borderimg",t[0])},m(f,d){be(f,e,d),yt(r,e,null),be(f,n,d),be(f,u,d),yt(s,u,null),be(f,o,d),l&&l.m(f,d),be(f,a,d),c=!0},p(f,[d]){const p={};d&32780&&(p.$$scope={dirty:d,ctx:f}),r.$set(p);const h={};d&32816&&(h.$$scope={dirty:d,ctx:f}),s.$set(h),(!c||d&2&&i!==(i="height:calc(100vh - "+f[1]+"rem);height:calc(100dvh - "+f[1]+"rem)"))&&m(u,"style",i),(!c||d&1)&&xu(u,"borderimg",f[0]),f[2].hasAudio&&f[3]?l?(l.p(f,d),d&12&&$e(l,1)):(l=GC(f),l.c(),$e(l,1),l.m(a.parentNode,a)):l&&(au(),Ie(l,1,1,()=>{l=null}),cu())},i(f){c||($e(r.$$.fragment,f),$e(s.$$.fragment,f),$e(l),c=!0)},o(f){Ie(r.$$.fragment,f),Ie(s.$$.fragment,f),Ie(l),c=!1},d(f){f&&J(e),vt(r),f&&J(n),f&&J(u),vt(s),f&&J(o),l&&l.d(f),f&&J(a)}}}function kEe(t,e,r){let n,u,s,i,o,a,c,l,f,d;ct(t,pu,D=>r(2,o=D)),ct(t,v1,D=>r(3,a=D)),ct(t,ym,D=>r(10,c=D)),ct(t,T2,D=>r(11,l=D)),ct(t,w2,D=>r(12,f=D)),ct(t,RT,D=>r(6,d=D));function p(D){pu.skip(D.detail.direction==="right"?-1:1)}const h=cr.mainFeatures.search,v=cr.mainFeatures["audio-allow-turn-on-off"],S=()=>lu(v1,a=!a,a);return t.$$.update=()=>{t.$$.dirty&1024&&r(0,n=c["show-border"]),t.$$.dirty&7168&&r(5,u={bodyFontSize:f,bodyLineHeight:l,viewShowVerses:c["verse-numbers"],redLetters:c["red-letters"]}),t.$$.dirty&12&&r(1,s=4+(o.hasAudio&&a?o.hasAudio.timingFile?4:5:0)),t.$$.dirty&3&&r(4,i=1+s+(n?3.5:0))},[n,s,o,a,i,u,d,p,h,v,c,l,f,S]}class E3e extends Ue{constructor(e){super(),Ke(this,e,kEe,PEe,Je,{})}}export{E3e as default};
